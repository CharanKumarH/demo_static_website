(()=>{var i={46:function(e,t,s){var i;i=function(){return i=[function(e,t){var i,l={};(e.exports=l)._baseDelta=1e3/60,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(e,t){for(var i,a="boolean"==typeof t?(i=2,t):(i=1,!0),n=i;n<arguments.length;n++){var s=arguments[n];if(s)for(var r in s)!a||!s[r]||s[r].constructor!==Object||e[r]&&e[r].constructor!==Object?e[r]=s[r]:(e[r]=e[r]||{},l.extend(e[r],a,s[r]))}return e},l.clone=function(e,t){return l.extend({},t,e)},l.keys=function(e){if(Object.keys)return Object.keys(e);var t,i=[];for(t in e)i.push(t);return i},l.values=function(e){var t=[];if(Object.keys)for(var i=Object.keys(e),a=0;a<i.length;a++)t.push(e[i[a]]);else for(var n in e)t.push(e[n]);return t},l.get=function(e,t,i,a){t=t.split(".").slice(i,a);for(var n=0;n<t.length;n+=1)e=e[t[n]];return e},l.set=function(e,t,i,a,n){a=t.split(".").slice(a,n);return l.get(e,t,0,-1)[a[a.length-1]]=i},l.shuffle=function(e){for(var t=e.length-1;0<t;t--){var i=Math.floor(l.random()*(t+1)),a=e[t];e[t]=e[i],e[i]=a}return e},l.choose=function(e){return e[Math.floor(l.random()*e.length)]},l.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},l.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.isFunction=function(e){return"function"==typeof e},l.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},l.isString=function(e){return"[object String]"===toString.call(e)},l.clamp=function(e,t,i){return e<t?t:i<e?i:e},l.sign=function(e){return e<0?-1:1},l.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+i()*(t-e)},i=function(){return l._seed=(9301*l._seed+49297)%233280,l._seed/233280},l.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},l.logLevel=1,l.log=function(){console&&0<l.logLevel&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&0<l.logLevel&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&0<l.logLevel&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[e]||(l.warn(e),l._warnedOnce[e]=!0)},l.deprecated=function(e,t,i){e[t]=l.chain(function(){l.warnOnce("🔅 deprecated 🔅",i)},e[t])},l.nextId=function(){return l._nextId++},l.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},l.map=function(e,t){if(e.map)return e.map(t);for(var i=[],a=0;a<e.length;a+=1)i.push(t(e[a]));return i},l.topologicalSort=function(e){var t,i=[],a=[],n=[];for(t in e)a[t]||n[t]||l._topologicalSort(t,a,n,e,i);return i},l._topologicalSort=function(e,t,i,a,n){var s=a[e]||[];i[e]=!0;for(var r=0;r<s.length;r+=1){var o=s[r];i[o]||t[o]||l._topologicalSort(o,t,i,a,n)}i[e]=!1,t[e]=!0,n.push(e)},l.chain=function(){for(var s=[],e=0;e<arguments.length;e+=1){var t=arguments[e];t._chained?s.push.apply(s,t._chained):s.push(t)}function i(){for(var e,t=new Array(arguments.length),i=0,a=arguments.length;i<a;i++)t[i]=arguments[i];for(i=0;i<s.length;i+=1){var n=s[i].apply(e,t);void 0!==n&&(e=n)}return e}return i._chained=s,i},l.chainPathBefore=function(e,t,i){return l.set(e,t,l.chain(i,l.get(e,t)))},l.chainPathAfter=function(e,t,i){return l.set(e,t,l.chain(l.get(e,t),i))},l.setDecomp=function(e){l._decomp=e},l.getDecomp=function(){var t=l._decomp;try{(t=t||"undefined"==typeof window?t:window.decomp)||void 0===s.g||(t=s.g.decomp)}catch(e){t=null}return t}},function(e,t){var i={};(e.exports=i).create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<t.length;a++){var n=t[a];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}i&&(0<i.x?e.max.x+=i.x:e.min.x+=i.x,0<i.y?e.max.y+=i.y:e.min.y+=i.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var i=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+i,e.min.y=t.y,e.max.y=t.y+a}},function(e,t){var i={};(e.exports=i).create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,i){var a=Math.cos(t),t=Math.sin(t),n=e.x*a-e.y*t;return(i=i||{}).y=e.x*t+e.y*a,i.x=n,i},i.rotateAbout=function(e,t,i,a){var n=Math.cos(t),t=Math.sin(t),s=i.x+((e.x-i.x)*n-(e.y-i.y)*t);return(a=a||{}).y=i.y+((e.x-i.x)*t+(e.y-i.y)*n),a.x=s,a},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,i){return(t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x)},i.add=function(e,t,i){return(i=i||{}).x=e.x+t.x,i.y=e.y+t.y,i},i.sub=function(e,t,i){return(i=i||{}).x=e.x-t.x,i.y=e.y-t.y,i},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(e,t,i){var r={},y=(e.exports=r,i(2)),b=i(0);r.create=function(e,t){for(var i=[],a=0;a<e.length;a++){var n=e[a],n={x:n.x,y:n.y,index:a,body:t,isInternal:!1};i.push(n)}return i},r.fromPath=function(e,t){var a=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(e,t,i){a.push({x:parseFloat(t),y:parseFloat(i)})}),r.create(a,t)},r.centre=function(e){for(var t,i,a=r.area(e,!0),n={x:0,y:0},s=0;s<e.length;s++)i=(s+1)%e.length,t=y.cross(e[s],e[i]),i=y.mult(y.add(e[s],e[i]),t),n=y.add(n,i);return y.div(n,6*a)},r.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return y.div(t,e.length)},r.area=function(e,t){for(var i=0,a=e.length-1,n=0;n<e.length;n++)i+=(e[a].x-e[n].x)*(e[a].y+e[n].y),a=n;return t?i/2:Math.abs(i)/2},r.inertia=function(e,t){for(var i,a,n=0,s=0,r=e,o=0;o<r.length;o++)a=(o+1)%r.length,n+=(i=Math.abs(y.cross(r[a],r[o])))*(y.dot(r[a],r[a])+y.dot(r[a],r[o])+y.dot(r[o],r[o])),s+=i;return t/6*(n/s)},r.translate=function(e,t,i){for(var a=e.length,n=t.x*(i=void 0!==i?i:1),s=t.y*i,r=0;r<a;r++)e[r].x+=n,e[r].y+=s;return e},r.rotate=function(e,t,i){if(0!==t){for(var a,n,s,r=Math.cos(t),o=Math.sin(t),l=i.x,c=i.y,d=e.length,p=0;p<d;p++)n=(a=e[p]).x-l,s=a.y-c,a.x=l+(n*r-s*o),a.y=c+(n*o+s*r);return e}},r.contains=function(e,t){for(var i,a=t.x,n=t.y,s=e.length,r=e[s-1],o=0;o<s;o++){if(i=e[o],0<(a-r.x)*(i.y-r.y)+(n-r.y)*(r.x-i.x))return!1;r=i}return!0},r.scale=function(e,t,i,a){if(1!==t||1!==i){var n;a=a||r.centre(e);for(var s=0;s<e.length;s++)n=e[s],n=y.sub(n,a),e[s].x=a.x+n.x*t,e[s].y=a.y+n.y*i}return e},r.chamfer=function(e,t,i,a,n){t="number"==typeof t?[t]:t||[8],i=void 0!==i?i:-1,a=a||2,n=n||14;for(var s=[],r=0;r<e.length;r++){var o=e[0<=r-1?r-1:e.length-1],l=e[r],c=e[(r+1)%e.length],d=t[r<t.length?r:t.length-1];if(0===d)s.push(l);else{var o=y.normalise({x:l.y-o.y,y:o.x-l.x}),c=y.normalise({x:c.y-l.y,y:l.x-c.x}),p=Math.sqrt(2*Math.pow(d,2)),u=y.mult(b.clone(o),d),h=y.normalise(y.mult(y.add(o,c),.5)),m=y.sub(l,y.mult(h,p)),f=i;-1===i&&(f=1.75*Math.pow(d,.32)),(f=b.clamp(f,a,n))%2==1&&(f+=1);for(var g=Math.acos(y.dot(o,c))/f,_=0;_<f;_++)s.push(y.add(y.rotate(u,g*_),m))}}return s},r.clockwiseSort=function(e){var i=r.mean(e);return e.sort(function(e,t){return y.angle(i,e)-y.angle(i,t)}),e},r.isConvex=function(e){var t,i,a,n,s=0,r=e.length;if(r<3)return null;for(t=0;t<r;t++)if(n=(e[i=(t+1)%r].x-e[t].x)*(e[a=(t+2)%r].y-e[i].y),(n-=(e[i].y-e[t].y)*(e[a].x-e[i].x))<0?s|=1:0<n&&(s|=2),3===s)return!1;return 0!==s||null},r.hull=function(e){var t,i,a=[],n=[];for((e=e.slice(0)).sort(function(e,t){var i=e.x-t.x;return 0!=i?i:e.y-t.y}),i=0;i<e.length;i+=1){for(t=e[i];2<=n.length&&y.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}for(i=e.length-1;0<=i;--i){for(t=e[i];2<=a.length&&y.cross3(a[a.length-2],a[a.length-1],t)<=0;)a.pop();a.push(t)}return a.pop(),n.pop(),a.concat(n)}},function(e,t,i){var a,c={},d=(e.exports=c,i(3)),p=i(2),n=i(7),u=i(0),h=i(1),m=i(11);c._timeCorrection=!0,c._inertiaScale=4,c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,c._baseDelta=1e3/60,c.create=function(e){var t={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:d.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},t=u.extend(t,e);return a(t,e),t},c.nextGroup=function(e){return e?c._nextNonCollidingGroupId--:c._nextCollidingGroupId++},c.nextCategory=function(){return c._nextCategory=c._nextCategory<<1,c._nextCategory},a=function(e,t){t=t||{},c.set(e,{bounds:e.bounds||h.create(e.vertices),positionPrev:e.positionPrev||p.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),d.rotate(e.vertices,e.angle,e.position),m.rotate(e.axes,e.angle),h.update(e.bounds,e.vertices,e.velocity),c.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var t=e.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),i=e.isStatic?"#555":"#ccc",a=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||t,e.render.strokeStyle=e.render.strokeStyle||i,e.render.lineWidth=e.render.lineWidth||a,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)},c.set=function(e,t,i){for(var a in"string"==typeof t&&(a=t,(t={})[a]=i),t)if(Object.prototype.hasOwnProperty.call(t,a))switch(i=t[a],a){case"isStatic":c.setStatic(e,i);break;case"isSleeping":n.set(e,i);break;case"mass":c.setMass(e,i);break;case"density":c.setDensity(e,i);break;case"inertia":c.setInertia(e,i);break;case"vertices":c.setVertices(e,i);break;case"position":c.setPosition(e,i);break;case"angle":c.setAngle(e,i);break;case"velocity":c.setVelocity(e,i);break;case"angularVelocity":c.setAngularVelocity(e,i);break;case"speed":c.setSpeed(e,i);break;case"angularSpeed":c.setAngularSpeed(e,i);break;case"parts":c.setParts(e,i);break;case"centre":c.setCentre(e,i);break;default:e[a]=i}},c.setStatic=function(e,t){for(var i=0;i<e.parts.length;i++){var a=e.parts[i];(a.isStatic=t)?(a._original={restitution:a.restitution,friction:a.friction,mass:a.mass,inertia:a.inertia,density:a.density,inverseMass:a.inverseMass,inverseInertia:a.inverseInertia},a.restitution=0,a.friction=1,a.mass=a.inertia=a.density=1/0,a.inverseMass=a.inverseInertia=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.angularVelocity=0,a.speed=0,a.angularSpeed=0,a.motion=0):a._original&&(a.restitution=a._original.restitution,a.friction=a._original.friction,a.mass=a._original.mass,a.inertia=a._original.inertia,a.density=a._original.density,a.inverseMass=a._original.inverseMass,a.inverseInertia=a._original.inverseInertia,a._original=null)}},c.setMass=function(e,t){var i=e.inertia/(e.mass/6);e.inertia=t/6*i,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},c.setDensity=function(e,t){c.setMass(e,t*e.area),e.density=t},c.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},c.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=d.create(t,e),e.axes=m.fromVertices(e.vertices),e.area=d.area(e.vertices),c.setMass(e,e.density*e.area);t=d.centre(e.vertices);d.translate(e.vertices,t,-1),c.setInertia(e,c._inertiaScale*d.inertia(e.vertices,e.mass)),d.translate(e.vertices,e.position),h.update(e.bounds,e.vertices,e.velocity)},c.setParts=function(e,t,i){for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,s=0;s<t.length;s++){var a=t[s];a!==e&&(a.parent=e).parts.push(a)}if(1!==e.parts.length){if(i=void 0===i||i){for(var n=[],s=0;s<t.length;s++)n=n.concat(t[s].vertices);d.clockwiseSort(n);var i=d.hull(n),r=d.centre(i);c.setVertices(e,i),d.translate(e.vertices,r)}i=c._totalProperties(e);e.area=i.area,(e.parent=e).position.x=i.centre.x,e.position.y=i.centre.y,e.positionPrev.x=i.centre.x,e.positionPrev.y=i.centre.y,c.setMass(e,i.mass),c.setInertia(e,i.inertia),c.setPosition(e,i.centre)}},c.setCentre=function(e,t,i){i?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},c.setPosition=function(e,t,i){var a=p.sub(t,e.position);i?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=a.x,e.velocity.y=a.y,e.speed=p.magnitude(a)):(e.positionPrev.x+=a.x,e.positionPrev.y+=a.y);for(var n=0;n<e.parts.length;n++){var s=e.parts[n];s.position.x+=a.x,s.position.y+=a.y,d.translate(s.vertices,a),h.update(s.bounds,s.vertices,e.velocity)}},c.setAngle=function(e,t,i){var a=t-e.angle;i?(e.anglePrev=e.angle,e.angularVelocity=a,e.angularSpeed=Math.abs(a)):e.anglePrev+=a;for(var n=0;n<e.parts.length;n++){var s=e.parts[n];s.angle+=a,d.rotate(s.vertices,a,e.position),m.rotate(s.axes,a),h.update(s.bounds,s.vertices,e.velocity),0<n&&p.rotateAbout(s.position,a,e.position,s.position)}},c.setVelocity=function(e,t){var i=e.deltaTime/c._baseDelta;e.positionPrev.x=e.position.x-t.x*i,e.positionPrev.y=e.position.y-t.y*i,e.velocity.x=(e.position.x-e.positionPrev.x)/i,e.velocity.y=(e.position.y-e.positionPrev.y)/i,e.speed=p.magnitude(e.velocity)},c.getVelocity=function(e){var t=c._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},c.getSpeed=function(e){return p.magnitude(c.getVelocity(e))},c.setSpeed=function(e,t){c.setVelocity(e,p.mult(p.normalise(c.getVelocity(e)),t))},c.setAngularVelocity=function(e,t){var i=e.deltaTime/c._baseDelta;e.anglePrev=e.angle-t*i,e.angularVelocity=(e.angle-e.anglePrev)/i,e.angularSpeed=Math.abs(e.angularVelocity)},c.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*c._baseDelta/e.deltaTime},c.getAngularSpeed=function(e){return Math.abs(c.getAngularVelocity(e))},c.setAngularSpeed=function(e,t){c.setAngularVelocity(e,u.sign(c.getAngularVelocity(e))*t)},c.translate=function(e,t,i){c.setPosition(e,p.add(e.position,t),i)},c.rotate=function(e,t,i,a){var n,s,r,o;i&&(n=Math.cos(t),s=Math.sin(t),r=e.position.x-i.x,o=e.position.y-i.y,c.setPosition(e,{x:i.x+(r*n-o*s),y:i.y+(r*s+o*n)},a)),c.setAngle(e,e.angle+t,a)},c.scale=function(e,t,i,a){var n=0,s=0;a=a||e.position;for(var r=0;r<e.parts.length;r++){var o=e.parts[r];d.scale(o.vertices,t,i,a),o.axes=m.fromVertices(o.vertices),o.area=d.area(o.vertices),c.setMass(o,e.density*o.area),d.translate(o.vertices,{x:-o.position.x,y:-o.position.y}),c.setInertia(o,c._inertiaScale*d.inertia(o.vertices,o.mass)),d.translate(o.vertices,{x:o.position.x,y:o.position.y}),0<r&&(n+=o.area,s+=o.inertia),o.position.x=a.x+(o.position.x-a.x)*t,o.position.y=a.y+(o.position.y-a.y)*i,h.update(o.bounds,o.vertices,e.velocity)}1<e.parts.length&&(e.area=n,e.isStatic||(c.setMass(e,e.density*n),c.setInertia(e,s))),e.circleRadius&&(t===i?e.circleRadius*=t:e.circleRadius=null)},c.update=function(e,t){var i=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,a=c._timeCorrection?t/(e.deltaTime||t):1,n=1-e.frictionAir*(t/u._baseDelta),s=(e.position.x-e.positionPrev.x)*a,r=(e.position.y-e.positionPrev.y)*a;e.velocity.x=s*n+e.force.x/e.mass*i,e.velocity.y=r*n+e.force.y/e.mass*i,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*n*a+e.torque/e.inertia*i,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var o=0;o<e.parts.length;o++){var l=e.parts[o];d.translate(l.vertices,e.velocity),0<o&&(l.position.x+=e.velocity.x,l.position.y+=e.velocity.y),0!==e.angularVelocity&&(d.rotate(l.vertices,e.angularVelocity,e.position),m.rotate(l.axes,e.angularVelocity),0<o)&&p.rotateAbout(l.position,e.angularVelocity,e.position,l.position),h.update(l.bounds,l.vertices,e.velocity)}},c.updateVelocities=function(e){var t=c._baseDelta/e.deltaTime,i=e.velocity;i.x=(e.position.x-e.positionPrev.x)*t,i.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(i.x*i.x+i.y*i.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},c.applyForce=function(e,t,i){var a=t.x-e.position.x,t=t.y-e.position.y;e.force.x+=i.x,e.force.y+=i.y,e.torque+=a*i.y-t*i.x},c._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===e.parts.length?0:1;i<e.parts.length;i++){var a=e.parts[i],n=a.mass!==1/0?a.mass:1;t.mass+=n,t.area+=a.area,t.inertia+=a.inertia,t.centre=p.add(t.centre,p.mult(a.position,n))}return t.centre=p.div(t.centre,t.mass),t}},function(e,t,i){var a={},d=(e.exports=a,i(0));a.on=function(e,t,i){for(var a,n=t.split(" "),s=0;s<n.length;s++)a=n[s],e.events=e.events||{},e.events[a]=e.events[a]||[],e.events[a].push(i);return i},a.off=function(e,t,i){if(t){"function"==typeof t&&(i=t,t=d.keys(e.events).join(" "));for(var a=t.split(" "),n=0;n<a.length;n++){var s=e.events[a[n]],r=[];if(i&&s)for(var o=0;o<s.length;o++)s[o]!==i&&r.push(s[o]);e.events[a[n]]=r}}else e.events={}},a.trigger=function(e,t,i){var a,n,s,r=e.events;if(r&&0<d.keys(r).length){i=i||{};for(var o=t.split(" "),l=0;l<o.length;l++)if(n=r[a=o[l]]){(s=d.clone(i,!1)).name=a,s.source=e;for(var c=0;c<n.length;c++)n[c].apply(e,[s])}}}},function(e,t,i){var p={},r=(e.exports=p,i(5)),s=i(0),o=i(1),u=i(4);p.create=function(e){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},p.setModified=function(e,t,i,a){if((e.isModified=t)&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),i&&e.parent&&p.setModified(e.parent,t,i,a),a)for(var n=0;n<e.composites.length;n++){var s=e.composites[n];p.setModified(s,t,i,a)}},p.add=function(e,t){var i=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var a=0;a<i.length;a++){var n=i[a];switch(n.type){case"body":n.parent!==n?s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)"):p.addBody(e,n);break;case"constraint":p.addConstraint(e,n);break;case"composite":p.addComposite(e,n);break;case"mouseConstraint":p.addConstraint(e,n.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},p.remove=function(e,t,i){var a=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var n=0;n<a.length;n++){var s=a[n];switch(s.type){case"body":p.removeBody(e,s,i);break;case"constraint":p.removeConstraint(e,s,i);break;case"composite":p.removeComposite(e,s,i);break;case"mouseConstraint":p.removeConstraint(e,s.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},p.addComposite=function(e,t){return e.composites.push(t),t.parent=e,p.setModified(e,!0,!0,!1),e},p.removeComposite=function(e,t,i){var a=s.indexOf(e.composites,t);if(-1!==a&&p.removeCompositeAt(e,a),i)for(var n=0;n<e.composites.length;n++)p.removeComposite(e.composites[n],t,!0);return e},p.removeCompositeAt=function(e,t){return e.composites.splice(t,1),p.setModified(e,!0,!0,!1),e},p.addBody=function(e,t){return e.bodies.push(t),p.setModified(e,!0,!0,!1),e},p.removeBody=function(e,t,i){var a=s.indexOf(e.bodies,t);if(-1!==a&&p.removeBodyAt(e,a),i)for(var n=0;n<e.composites.length;n++)p.removeBody(e.composites[n],t,!0);return e},p.removeBodyAt=function(e,t){return e.bodies.splice(t,1),p.setModified(e,!0,!0,!1),e},p.addConstraint=function(e,t){return e.constraints.push(t),p.setModified(e,!0,!0,!1),e},p.removeConstraint=function(e,t,i){var a=s.indexOf(e.constraints,t);if(-1!==a&&p.removeConstraintAt(e,a),i)for(var n=0;n<e.composites.length;n++)p.removeConstraint(e.composites[n],t,!0);return e},p.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),p.setModified(e,!0,!0,!1),e},p.clear=function(e,t,i){if(i)for(var a=0;a<e.composites.length;a++)p.clear(e.composites[a],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,p.setModified(e,!0,!0,!1),e},p.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(p.allBodies(e.composites[i]));return e.cache&&(e.cache.allBodies=t),t},p.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(p.allConstraints(e.composites[i]));return e.cache&&(e.cache.allConstraints=t),t},p.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(p.allComposites(e.composites[i]));return e.cache&&(e.cache.allComposites=t),t},p.get=function(e,t,i){var a;switch(i){case"body":a=p.allBodies(e);break;case"constraint":a=p.allConstraints(e);break;case"composite":a=p.allComposites(e).concat(e)}return!a||0===(i=a.filter(function(e){return e.id.toString()===t.toString()})).length?null:i[0]},p.move=function(e,t,i){return p.remove(e,t),p.add(i,t),e},p.rebase=function(e){for(var t=p.allBodies(e).concat(p.allConstraints(e)).concat(p.allComposites(e)),i=0;i<t.length;i++)t[i].id=s.nextId();return e},p.translate=function(e,t,i){for(var a=i?p.allBodies(e):e.bodies,n=0;n<a.length;n++)u.translate(a[n],t);return e},p.rotate=function(e,t,i,a){for(var n=Math.cos(t),s=Math.sin(t),r=a?p.allBodies(e):e.bodies,o=0;o<r.length;o++){var l=r[o],c=l.position.x-i.x,d=l.position.y-i.y;u.setPosition(l,{x:i.x+(c*n-d*s),y:i.y+(c*s+d*n)}),u.rotate(l,t)}return e},p.scale=function(e,t,i,a,n){for(var s=n?p.allBodies(e):e.bodies,r=0;r<s.length;r++){var o=s[r],l=o.position.x-a.x,c=o.position.y-a.y;u.setPosition(o,{x:a.x+l*t,y:a.y+c*i}),u.scale(o,t,i)}return e},p.bounds=function(e){for(var t=p.allBodies(e),i=[],a=0;a<t.length;a+=1){var n=t[a];i.push(n.bounds.min,n.bounds.max)}return o.create(i)}},function(e,t,i){var l={},c=(e.exports=l,i(4)),a=i(5),d=i(0);l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(e,t){for(var i=t/d._baseDelta,a=l._motionSleepThreshold,n=0;n<e.length;n++){var s=e[n],r=c.getSpeed(s),o=c.getAngularSpeed(s),r=r*r+o*o;0!==s.force.x||0!==s.force.y?l.set(s,!1):(o=Math.min(s.motion,r),r=Math.max(s.motion,r),s.motion=l._minBias*o+(1-l._minBias)*r,0<s.sleepThreshold&&s.motion<a?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold/i&&l.set(s,!0)):0<s.sleepCounter&&--s.sleepCounter)}},l.afterCollisions=function(e){for(var t=l._motionSleepThreshold,i=0;i<e.length;i++){var a,n,s=e[i];s.isActive&&(a=(s=s.collision).bodyA.parent,s=s.bodyB.parent,a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic||(a.isSleeping||s.isSleeping)&&!(n=a.isSleeping&&!a.isStatic?a:s).isStatic&&(n===a?s:a).motion>t&&l.set(n,!1))}},l.set=function(e,t){var i=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,i||a.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,i&&a.trigger(e,"sleepEnd"))}},function(e,t,i){var f,l,c,d={},p=(e.exports=d,i(3)),u=i(9);f=[],l={overlap:0,axis:null},c={overlap:0,axis:null},d.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},d.collides=function(e,t,i){var a,n,s,r,o;return d._overlapAxes(l,e.vertices,t.vertices,e.axes),l.overlap<=0||(d._overlapAxes(c,t.vertices,e.vertices,t.axes),c.overlap<=0)?null:((i=i&&i.table[u.id(e,t)])?a=i.collision:((a=d.create(e,t)).collided=!0,a.bodyA=e.id<t.id?e:t,a.bodyB=e.id<t.id?t:e,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),e=a.bodyA,t=a.bodyB,i=a.normal,n=a.supports,s=(r=(o=l.overlap<c.overlap?l:c).axis).x,r=r.y,s*(t.position.x-e.position.x)+r*(t.position.y-e.position.y)<0?(i.x=s,i.y=r):(i.x=-s,i.y=-r),a.tangent.x=-i.y,a.tangent.y=i.x,a.depth=o.overlap,a.penetration.x=i.x*a.depth,a.penetration.y=i.y*a.depth,s=d._findSupports(e,t,i,1),p.contains(e.vertices,s[r=0])&&(n[r++]=s[0]),p.contains(e.vertices,s[1])&&(n[r++]=s[1]),r<2&&(o=d._findSupports(t,e,i,-1),p.contains(t.vertices,o[0])&&(n[r++]=o[0]),r<2)&&p.contains(t.vertices,o[1])&&(n[r++]=o[1]),0===r&&(n[r++]=s[0]),n.length=r,a)},d._overlapAxes=function(e,t,i,a){for(var n,s,r=t.length,o=i.length,l=t[0].x,c=t[0].y,d=i[0].x,p=i[0].y,u=a.length,h=Number.MAX_VALUE,m=0,f=0;f<u;f++){for(var g=a[f],_=g.x,y=g.y,b=l*_+c*y,v=d*_+p*y,x=b,S=v,w=1;w<r;w+=1)x<(s=t[w].x*_+t[w].y*y)?x=s:s<b&&(b=s);for(w=1;w<o;w+=1)S<(s=i[w].x*_+i[w].y*y)?S=s:s<v&&(v=s);if((g=(g=x-v)<(n=S-b)?g:n)<h&&(m=f,(h=g)<=0))break}e.axis=a[m],e.overlap=h},d._projectToAxis=function(e,t,i){for(var a=t[0].x*i.x+t[0].y*i.y,n=a,s=1;s<t.length;s+=1){var r=t[s].x*i.x+t[s].y*i.y;n<r?n=r:r<a&&(a=r)}e.min=a,e.max=n},d._findSupports=function(e,t,i,a){for(var n,s,r,o=t.vertices,l=o.length,c=e.position.x,d=e.position.y,p=i.x*a,u=i.y*a,h=Number.MAX_VALUE,m=0;m<l;m+=1)(r=p*(c-(s=o[m]).x)+u*(d-s.y))<h&&(h=r,n=s);return h=p*(c-(t=o[(l+n.index-1)%l]).x)+u*(d-t.y),p*(c-(s=o[(n.index+1)%l]).x)+u*(d-s.y)<h?(f[0]=n,f[1]=s):(f[0]=n,f[1]=t),f}},function(e,t,i){var n={},h=(e.exports=n,i(16));n.create=function(e,t){var i=e.bodyA,a=e.bodyB,i={id:n.id(i,a),bodyA:i,bodyB:a,collision:e,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||a.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(i,e,t),i},n.update=function(e,t,i){var a=e.contacts,n=t.supports,s=e.activeContacts,r=t.parentA,o=t.parentB,l=r.vertices.length;e.isActive=!0,e.timeUpdated=i,e.collision=t,e.separation=t.depth,e.inverseMass=r.inverseMass+o.inverseMass,e.friction=(r.friction<o.friction?r:o).friction,e.frictionStatic=(r.frictionStatic>o.frictionStatic?r:o).frictionStatic,e.restitution=(r.restitution>o.restitution?r:o).restitution,e.slop=(r.slop>o.slop?r:o).slop,t.pair=e;for(var c=s.length=0;c<n.length;c++){var d=n[c],p=d.body===r?d.index:l+d.index,u=a[p];u?s.push(u):s.push(a[p]=h.create(d))}},n.setActive=function(e,t,i){t?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},n.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,i){var f={},r=(e.exports=f,i(3)),g=i(2),o=i(7),l=i(1),c=i(11),d=i(0);f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(e){e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var t=e.bodyA?g.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?g.add(e.bodyB.position,e.pointB):e.pointB,t=g.magnitude(g.sub(t,i)),i=(e.length=void 0!==e.length?e.length:t,e.id=e.id||d.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(0<e.length?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={},{visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0});return 0===e.length&&.1<e.stiffness?(i.type="pin",i.anchors=!1):e.stiffness<.9&&(i.type="spring"),e.render=d.extend(i,e.render),e},f.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var i=e[t],a=i.constraintImpulse;i.isStatic||0===a.x&&0===a.y&&0===a.angle||(i.position.x+=a.x,i.position.y+=a.y,i.angle+=a.angle)}},f.solveAll=function(e,t){for(var i=d.clamp(t/d._baseDelta,0,1),a=0;a<e.length;a+=1){var n=e[a],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(s||r)&&f.solve(e[a],i)}for(a=0;a<e.length;a+=1)s=!(n=e[a]).bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic,s||r||f.solve(e[a],i)},f.solve=function(e,t){var i,a,n,s,r,o,l,c,d,p=e.bodyA,u=e.bodyB,h=e.pointA,m=e.pointB;(p||u)&&(p&&!p.isStatic&&(g.rotate(h,p.angle-e.angleA,h),e.angleA=p.angle),u&&!u.isStatic&&(g.rotate(m,u.angle-e.angleB,m),e.angleB=u.angle),c=h,i=m,p&&(c=g.add(p.position,h)),u&&(i=g.add(u.position,m)),c)&&i&&(c=g.sub(c,i),a=((i=(i=g.magnitude(c))<f._minLength?f._minLength:i)-e.length)/i,n=1<=e.stiffness||0===e.length?e.stiffness*t:e.stiffness*t*t,t=e.damping*t,a=g.mult(c,a*n),s=(n=(p?p.inverseMass:0)+(u?u.inverseMass:0))+((p?p.inverseInertia:0)+(u?u.inverseInertia:0)),0<t&&(d=g.create(),l=g.div(c,i),c=g.sub(u&&g.sub(u.position,u.positionPrev)||d,p&&g.sub(p.position,p.positionPrev)||d),d=g.dot(l,c)),p&&!p.isStatic&&(o=p.inverseMass/n,p.constraintImpulse.x-=a.x*o,p.constraintImpulse.y-=a.y*o,p.position.x-=a.x*o,p.position.y-=a.y*o,0<t&&(p.positionPrev.x-=t*l.x*d*o,p.positionPrev.y-=t*l.y*d*o),r=g.cross(h,a)/s*f._torqueDampen*p.inverseInertia*(1-e.angularStiffness),p.constraintImpulse.angle-=r,p.angle-=r),u)&&!u.isStatic&&(o=u.inverseMass/n,u.constraintImpulse.x+=a.x*o,u.constraintImpulse.y+=a.y*o,u.position.x+=a.x*o,u.position.y+=a.y*o,0<t&&(u.positionPrev.x+=t*l.x*d*o,u.positionPrev.y+=t*l.y*d*o),r=g.cross(m,a)/s*f._torqueDampen*u.inverseInertia*(1-e.angularStiffness),u.constraintImpulse.angle+=r,u.angle+=r)},f.postSolveAll=function(e){for(var t=0;t<e.length;t++){var i=e[t],a=i.constraintImpulse;if(!(i.isStatic||0===a.x&&0===a.y&&0===a.angle)){o.set(i,!1);for(var n=0;n<i.parts.length;n++){var s=i.parts[n];r.translate(s.vertices,a),0<n&&(s.position.x+=a.x,s.position.y+=a.y),0!==a.angle&&(r.rotate(s.vertices,a.angle,i.position),c.rotate(s.axes,a.angle),0<n)&&g.rotateAbout(s.position,a.angle,i.position,s.position),l.update(s.bounds,s.vertices,i.velocity)}a.angle*=f._warming,a.x*=f._warming,a.y*=f._warming}}},f.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},f.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}}},function(e,t,i){var a={},n=(e.exports=a,i(2)),s=i(0);a.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var a=(i+1)%e.length,a=n.normalise({x:e[a].y-e[i].y,y:e[i].x-e[a].x});t[(0===a.y?1/0:a.x/a.y).toFixed(3).toString()]=a}return s.values(t)},a.rotate=function(e,t){if(0!==t)for(var i=Math.cos(t),a=Math.sin(t),n=0;n<e.length;n++){var s=e[n],r=s.x*i-s.y*a;s.y=s.x*a+s.y*i,s.x=r}}},function(e,t,i){var p={},M=(e.exports=p,i(3)),I=i(0),E=i(4),z=i(1),k=i(2);p.rectangle=function(e,t,i,a,n){n=n||{};e={label:"Rectangle Body",position:{x:e,y:t},vertices:M.fromPath("L 0 0 L "+i+" 0 L "+i+" "+a+" L 0 "+a)};return n.chamfer&&(t=n.chamfer,e.vertices=M.chamfer(e.vertices,t.radius,t.quality,t.qualityMin,t.qualityMax),delete n.chamfer),E.create(I.extend({},e,n))},p.trapezoid=function(e,t,i,a,n,s){s=s||{};var r=i*(n*=.5),i=r+(1-2*n)*i,o=i+r,n=n<.5?"L 0 0 L "+r+" "+-a+" L "+i+" "+-a+" L "+o+" 0":"L 0 0 L "+i+" "+-a+" L "+o+" 0",r={label:"Trapezoid Body",position:{x:e,y:t},vertices:M.fromPath(n)};return s.chamfer&&(i=s.chamfer,r.vertices=M.chamfer(r.vertices,i.radius,i.quality,i.qualityMin,i.qualityMax),delete s.chamfer),E.create(I.extend({},r,s))},p.circle=function(e,t,i,a,n){a=a||{};var s={label:"Circle Body",circleRadius:i},n=(n=n||25,Math.ceil(Math.max(10,Math.min(n,i))));return n%2==1&&(n+=1),p.polygon(e,t,n,i,I.extend({},s,a))},p.polygon=function(e,t,i,a,n){if(n=n||{},i<3)return p.circle(e,t,a,n);for(var s=2*Math.PI/i,r="",o=.5*s,l=0;l<i;l+=1){var c=o+l*s,d=Math.cos(c)*a,c=Math.sin(c)*a;r+="L "+d.toFixed(3)+" "+c.toFixed(3)+" "}e={label:"Polygon Body",position:{x:e,y:t},vertices:M.fromPath(r)};return n.chamfer&&(t=n.chamfer,e.vertices=M.chamfer(e.vertices,t.radius,t.quality,t.qualityMin,t.qualityMax),delete n.chamfer),E.create(I.extend({},e,n))},p.fromVertices=function(e,t,i,a,n,s,r,o){var l,c,d,p,u=I.getDecomp(),h=Boolean(u&&u.quickDecomp);for(a=a||{},l=[],n=void 0!==n&&n,s=void 0!==s?s:.01,r=void 0!==r?r:10,o=void 0!==o?o:.01,I.isArray(i[0])||(i=[i]),d=0;d<i.length;d+=1)if(c=i[d],!(m=M.isConvex(c))&&!h&&I.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!h)c=m?M.clockwiseSort(c):M.hull(c),l.push({position:{x:e,y:t},vertices:c});else for(var m=c.map(function(e){return[e.x,e.y]}),f=(u.makeCCW(m),!1!==s&&u.removeCollinearPoints(m,s),!1!==o&&u.removeDuplicatePoints&&u.removeDuplicatePoints(m,o),u.quickDecomp(m)),g=0;g<f.length;g++){var _=f[g].map(function(e){return{x:e[0],y:e[1]}});0<r&&M.area(_)<r||l.push({position:M.centre(_),vertices:_})}for(g=0;g<l.length;g++)l[g]=E.create(I.extend(l[g],a));if(n)for(g=0;g<l.length;g++)for(var y=l[g],b=g+1;b<l.length;b++){var v=l[b];if(z.overlaps(y.bounds,v.bounds))for(var x=y.vertices,S=v.vertices,w=0;w<y.vertices.length;w++)for(p=0;p<v.vertices.length;p++){var T=k.magnitudeSquared(k.sub(x[(w+1)%x.length],S[p])),A=k.magnitudeSquared(k.sub(x[w],S[(p+1)%S.length]));T<5&&A<5&&(x[w].isInternal=!0,S[p].isInternal=!0)}}return 1<l.length?(n=E.create(I.extend({parts:l.slice(0)},a)),E.setPosition(n,{x:e,y:t}),n):l[0]}},function(e,t,i){var M={},a=(e.exports=M,i(0)),I=i(8);M.create=function(e){return a.extend({bodies:[],pairs:null},e)},M.setBodies=function(e,t){e.bodies=t.slice(0)},M.clear=function(e){e.bodies=[]},M.collisions=function(e){var t,i=[],a=e.pairs,n=e.bodies,s=n.length,r=M.canCollide,o=I.collides;for(n.sort(M._compareBoundsX),t=0;t<s;t++)for(var l=n[t],c=(l.bounds,l.bounds.max.x),d=l.bounds.max.y,p=l.bounds.min.y,u=l.isStatic||l.isSleeping,h=l.parts.length,m=1===h,f=t+1;f<s;f++){var g=n[f];if((A=g.bounds).min.x>c)break;if(!(d<A.min.y||p>A.max.y)&&((!u||!g.isStatic&&!g.isSleeping)&&r(l.collisionFilter,g.collisionFilter))){var _=g.parts.length;if(m&&1===_)(w=o(l,g,a))&&i.push(w);else for(var y=1<_?1:0,b=1<h?1:0;b<h;b++)for(var v=l.parts[b],x=v.bounds,S=y;S<_;S++){var w,T=g.parts[S],A=T.bounds;x.min.x>A.max.x||x.max.x<A.min.x||x.max.y<A.min.y||x.min.y>A.max.y||(w=o(v,T,a))&&i.push(w)}}}return i},M.canCollide=function(e,t){return e.group===t.group&&0!==e.group?0<e.group:0!=(e.mask&t.category)&&0!=(t.mask&e.category)},M._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,i){var a={},n=(e.exports=a,i(0));a.create=function(e){var i={};return e||n.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=e||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(e){var t=a._getRelativeMousePosition(e,i.element,i.pixelRatio);e.changedTouches&&(i.button=0,e.preventDefault()),i.absolute.x=t.x,i.absolute.y=t.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=e},i.mousedown=function(e){var t=a._getRelativeMousePosition(e,i.element,i.pixelRatio);e.changedTouches?(i.button=0,e.preventDefault()):i.button=e.button,i.absolute.x=t.x,i.absolute.y=t.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=e},i.mouseup=function(e){var t=a._getRelativeMousePosition(e,i.element,i.pixelRatio);e.changedTouches&&e.preventDefault(),i.button=-1,i.absolute.x=t.x,i.absolute.y=t.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=e},i.mousewheel=function(e){i.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},a.setElement(i,i.element),i},a.setElement=function(e,t){(e.element=t).addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},a.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},a.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},a.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},a._getRelativeMousePosition=function(e,t,i){var a,n=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,r=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,s=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,o=e.changedTouches,o=o?(a=o[0].pageX-n.left-r,o[0].pageY-n.top-s):(a=e.pageX-n.left-r,e.pageY-n.top-s);return{x:a/(t.clientWidth/(t.width||t.clientWidth)*i),y:o/(t.clientHeight/(t.height||t.clientHeight)*i)}}},function(e,t,i){var r={},o=(e.exports=r,i(0));r._registry={},r.register=function(e){var t,i,a;return r.isPlugin(e)||o.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry?(t=r._registry[e.name],i=r.versionParse(e.version).number,(a=r.versionParse(t.version).number)<i?(o.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):i<a?o.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&o.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")):r._registry[e.name]=e,e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return-1<e.used.indexOf(t)},r.isFor=function(e,t){var i=e.for&&r.dependencyParse(e.for);return!e.for||t.name===i.name&&r.versionSatisfies(t.version,i.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0===e.uses.length)o.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.");else{for(var i,t=r.dependencies(e),a=o.topologicalSort(t),n=[],s=0;s<a.length;s+=1)a[s]!==e.name&&((i=r.resolve(a[s]))?r.isUsed(e,i.name)||(r.isFor(i,e)||(o.warn("Plugin.use:",r.toString(i),"is for",i.for,"but installed on",r.toString(e)+"."),i._warned=!0),i.install?i.install(e):(o.warn("Plugin.use:",r.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push("🔶 "+r.toString(i)),delete i._warned):n.push("✅ "+r.toString(i)),e.used.push(i.name)):n.push("❌ "+a[s]));0<n.length&&o.info(n.join("  "))}},r.dependencies=function(a,e){var n=r.dependencyParse(a),t=n.name;if(!(t in(e=e||{}))){a=r.resolve(a)||a,e[t]=o.map(a.uses||[],function(e){r.isPlugin(e)&&r.register(e);var t=r.dependencyParse(e),i=r.resolve(e);return i&&!r.versionSatisfies(i.version,t.range)?(o.warn("Plugin.dependencies:",r.toString(i),"does not satisfy",r.toString(t),"used by",r.toString(n)+"."),i._warned=!0,a._warned=!0):i||(o.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(n),"could not be resolved."),a._warned=!0),t.name});for(var i=0;i<e[t].length;i+=1)r.dependencies(e[t][i],e);return e}},r.dependencyParse=function(e){return o.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||o.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/,t=(t.test(e)||o.warn("Plugin.versionParse:",e,"is not a valid version or range."),t.exec(e)),i=Number(t[4]),a=Number(t[5]),n=Number(t[6]);return{isRange:Boolean(t[1]||t[2]),version:t[3],range:e,operator:t[1]||t[2]||"",major:i,minor:a,patch:n,parts:[i,a,n],prerelease:t[7],number:1e8*i+1e4*a+n}},r.versionSatisfies=function(e,t){var i=r.versionParse(t=t||"*"),a=r.versionParse(e);if(i.isRange){if("*"===i.operator||"*"===e)return!0;if(">"===i.operator)return a.number>i.number;if(">="===i.operator)return a.number>=i.number;if("~"===i.operator)return a.major===i.major&&a.minor===i.minor&&a.patch>=i.patch;if("^"===i.operator)return 0<i.major?a.major===i.major&&a.number>=i.number:0<i.minor?a.minor===i.minor&&a.patch>=i.patch:a.patch===i.patch}return e===t||"*"===e}},function(e,t){var i={};(e.exports=i).create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,i){var u={},h=(e.exports=u,i(7)),m=i(18),f=i(13),g=i(19),_=i(5),y=i(6),b=i(10),v=i(0),s=i(4);u.create=function(e){var t=v.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},e=e||{});return t.world=e.world||y.create({label:"World"}),t.pairs=e.pairs||g.create(),t.detector=e.detector||f.create(),t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},u.update=function(e,t){var i,a=v.now(),n=e.world,s=e.detector,r=e.pairs,o=e.timing,l=o.timestamp,o=(t=void 0!==t?t:v._baseDelta,t*=o.timeScale,o.timestamp+=t,o.lastDelta=t,{timestamp:o.timestamp,delta:t}),c=(_.trigger(e,"beforeUpdate",o),y.allBodies(n)),d=y.allConstraints(n);for(n.isModified&&(f.setBodies(s,c),y.setModified(n,!1,!1,!0)),e.enableSleeping&&h.update(c,t),u._bodiesApplyGravity(c,e.gravity),0<t&&u._bodiesUpdate(c,t),b.preSolveAll(c),i=0;i<e.constraintIterations;i++)b.solveAll(d,t);b.postSolveAll(c),s.pairs=e.pairs;var n=f.collisions(s),p=(g.update(r,n,l),e.enableSleeping&&h.afterCollisions(r.list),0<r.collisionStart.length&&_.trigger(e,"collisionStart",{pairs:r.collisionStart}),v.clamp(20/e.positionIterations,0,1));for(m.preSolvePosition(r.list),i=0;i<e.positionIterations;i++)m.solvePosition(r.list,t,p);for(m.postSolvePosition(c),b.preSolveAll(c),i=0;i<e.constraintIterations;i++)b.solveAll(d,t);for(b.postSolveAll(c),m.preSolveVelocity(r.list),i=0;i<e.velocityIterations;i++)m.solveVelocity(r.list,t);return u._bodiesUpdateVelocities(c),0<r.collisionActive.length&&_.trigger(e,"collisionActive",{pairs:r.collisionActive}),0<r.collisionEnd.length&&_.trigger(e,"collisionEnd",{pairs:r.collisionEnd}),u._bodiesClearForces(c),_.trigger(e,"afterUpdate",o),e.timing.lastElapsed=v.now()-a,e},u.merge=function(e,t){if(v.extend(e,t),t.world){e.world=t.world,u.clear(e);for(var i=y.allBodies(e.world),a=0;a<i.length;a++){var n=i[a];h.set(n,!1),n.id=v.nextId()}}},u.clear=function(e){g.clear(e.pairs),f.clear(e.detector)},u._bodiesClearForces=function(e){for(var t=e.length,i=0;i<t;i++){var a=e[i];a.force.x=0,a.force.y=0,a.torque=0}},u._bodiesApplyGravity=function(e,t){var i=void 0!==t.scale?t.scale:.001,a=e.length;if((0!==t.x||0!==t.y)&&0!==i)for(var n=0;n<a;n++){var s=e[n];s.isStatic||s.isSleeping||(s.force.y+=s.mass*t.y*i,s.force.x+=s.mass*t.x*i)}},u._bodiesUpdate=function(e,t){for(var i=e.length,a=0;a<i;a++){var n=e[a];n.isStatic||n.isSleeping||s.update(n,t)}},u._bodiesUpdateVelocities=function(e){for(var t=e.length,i=0;i<t;i++)s.updateVelocities(e[i])}},function(e,t,i){var O={},h=(e.exports=O,i(3)),N=i(0),m=i(1);O._restingThresh=2,O._restingThreshTangent=Math.sqrt(6),O._positionDampen=.9,O._positionWarming=.8,O._frictionNormalMultiplier=5,O._frictionMaxStatic=Number.MAX_VALUE,O.preSolvePosition=function(e){for(var t,i,a=e.length,n=0;n<a;n++)(t=e[n]).isActive&&(i=t.activeContacts.length,t.collision.parentA.totalContacts+=i,t.collision.parentB.totalContacts+=i)},O.solvePosition=function(e,t,i){for(var a,n,s,r,o,l,c,d=O._positionDampen*(i||1),p=N.clamp(t/N._baseDelta,0,1),u=e.length,h=0;h<u;h++)(a=e[h]).isActive&&!a.isSensor&&(s=(n=a.collision).parentA,r=n.parentB,o=n.normal,a.separation=o.x*(r.positionImpulse.x+n.penetration.x-s.positionImpulse.x)+o.y*(r.positionImpulse.y+n.penetration.y-s.positionImpulse.y));for(h=0;h<u;h++)!(a=e[h]).isActive||a.isSensor||(s=(n=a.collision).parentA,r=n.parentB,o=n.normal,c=a.separation-a.slop*p,(s.isStatic||r.isStatic)&&(c*=2),s.isStatic||s.isSleeping||(l=d/s.totalContacts,s.positionImpulse.x+=o.x*c*l,s.positionImpulse.y+=o.y*c*l),r.isStatic)||r.isSleeping||(l=d/r.totalContacts,r.positionImpulse.x-=o.x*c*l,r.positionImpulse.y-=o.y*c*l)},O.postSolvePosition=function(e){for(var t=O._positionWarming,i=e.length,a=h.translate,n=m.update,s=0;s<i;s++){var r=e[s],o=r.positionImpulse,l=o.x,c=o.y,d=r.velocity;if((r.totalContacts=0)!==l||0!==c){for(var p=0;p<r.parts.length;p++){var u=r.parts[p];a(u.vertices,o),n(u.bounds,u.vertices,d),u.position.x+=l,u.position.y+=c}r.positionPrev.x+=l,r.positionPrev.y+=c,l*d.x+c*d.y<0?(o.x=0,o.y=0):(o.x*=t,o.y*=t)}}},O.preSolveVelocity=function(e){for(var t=e.length,i=0;i<t;i++){var a=e[i];if(a.isActive&&!a.isSensor)for(var n=a.activeContacts,s=n.length,a=a.collision,r=a.parentA,o=a.parentB,l=a.normal,c=a.tangent,d=0;d<s;d++){var p,u=n[d],h=u.vertex,m=u.normalImpulse,u=u.tangentImpulse;0===m&&0===u||(p=l.x*m+c.x*u,m=l.y*m+c.y*u,r.isStatic||r.isSleeping||(r.positionPrev.x+=p*r.inverseMass,r.positionPrev.y+=m*r.inverseMass,r.anglePrev+=r.inverseInertia*((h.x-r.position.x)*m-(h.y-r.position.y)*p)),o.isStatic)||o.isSleeping||(o.positionPrev.x-=p*o.inverseMass,o.positionPrev.y-=m*o.inverseMass,o.anglePrev-=o.inverseInertia*((h.x-o.position.x)*m-(h.y-o.position.y)*p))}}},O.solveVelocity=function(e,t){for(var i,a,n,t=t/N._baseDelta,s=t*t*t,r=-O._restingThresh*t,o=O._restingThreshTangent,l=O._frictionNormalMultiplier*t,c=O._frictionMaxStatic,d=e.length,p=0;p<d;p++){var u=e[p];if(u.isActive&&!u.isSensor){var h=u.collision,m=h.parentA,f=h.parentB,g=m.velocity,_=f.velocity,y=h.normal.x,b=h.normal.y,v=h.tangent.x,x=h.tangent.y,S=u.activeContacts,w=S.length,T=1/w,A=m.inverseMass+f.inverseMass,M=u.friction*u.frictionStatic*l;for(g.x=m.position.x-m.positionPrev.x,g.y=m.position.y-m.positionPrev.y,_.x=f.position.x-f.positionPrev.x,_.y=f.position.y-f.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,f.angularVelocity=f.angle-f.anglePrev,n=0;n<w;n++){var I=S[n],E=I.vertex,z=E.x-m.position.x,k=E.y-m.position.y,D=E.x-f.position.x,E=E.y-f.position.y,C=g.x-k*m.angularVelocity,P=g.y+z*m.angularVelocity,C=C-(_.x-E*f.angularVelocity),P=P-(_.y+D*f.angularVelocity),R=y*C+b*P,C=v*C+x*P,P=u.separation+R,L=Math.min(P,1),P=(P<0?0:L)*M,L=(C<-P||P<C?(i=u.friction*(0<C?1:-1)*s)<-(a=0<C?C:-C)?i=-a:a<i&&(i=a):(i=C,a=c),z*b-k*y),P=D*b-E*y,L=T/(A+m.inverseInertia*L*L+f.inverseInertia*P*P),P=(1+u.restitution)*R*L,L=(i*=L,R<r?I.normalImpulse=0:(L=I.normalImpulse,I.normalImpulse+=P,0<I.normalImpulse&&(I.normalImpulse=0),P=I.normalImpulse-L),C<-o||o<C?I.tangentImpulse=0:(R=I.tangentImpulse,I.tangentImpulse+=i,I.tangentImpulse<-a&&(I.tangentImpulse=-a),I.tangentImpulse>a&&(I.tangentImpulse=a),i=I.tangentImpulse-R),y*P+v*i),C=b*P+x*i;m.isStatic||m.isSleeping||(m.positionPrev.x+=L*m.inverseMass,m.positionPrev.y+=C*m.inverseMass,m.anglePrev+=(z*C-k*L)*m.inverseInertia),f.isStatic||f.isSleeping||(f.positionPrev.x-=L*f.inverseMass,f.positionPrev.y-=C*f.inverseMass,f.anglePrev-=(D*C-E*L)*f.inverseInertia)}}}}},function(e,t,i){var a={},f=(e.exports=a,i(9)),n=i(0);a.create=function(e){return n.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},a.update=function(e,t,i){var a,n,s,r=e.list,o=r.length,l=e.table,c=t.length,d=e.collisionStart,p=e.collisionEnd,u=e.collisionActive;for(d.length=0,p.length=0,m=u.length=0;m<o;m++)r[m].confirmedActive=!1;for(m=0;m<c;m++)(s=(a=t[m]).pair)?((s.isActive?u:d).push(s),f.update(s,a,i),s.confirmedActive=!0):(l[(s=f.create(a,i)).id]=s,d.push(s),r.push(s));for(var h=[],o=r.length,m=0;m<o;m++)(s=r[m]).confirmedActive||(f.setActive(s,!1,i),p.push(s),s.collision.bodyA.isSleeping)||s.collision.bodyB.isSleeping||h.push(m);for(m=0;m<h.length;m++)s=r[n=h[m]-m],r.splice(n,1),delete l[s.id]},a.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,i){e=e.exports=i(21);e.Axes=i(11),e.Bodies=i(12),e.Body=i(4),e.Bounds=i(1),e.Collision=i(8),e.Common=i(0),e.Composite=i(6),e.Composites=i(22),e.Constraint=i(10),e.Contact=i(16),e.Detector=i(13),e.Engine=i(17),e.Events=i(5),e.Grid=i(23),e.Mouse=i(14),e.MouseConstraint=i(24),e.Pair=i(9),e.Pairs=i(19),e.Plugin=i(15),e.Query=i(25),e.Render=i(26),e.Resolver=i(18),e.Runner=i(27),e.SAT=i(28),e.Sleeping=i(7),e.Svg=i(29),e.Vector=i(2),e.Vertices=i(3),e.World=i(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(e,t,i){var a={},n=(e.exports=a,i(15)),s=i(0);a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){n.use(a,Array.prototype.slice.call(arguments))},a.before=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathBefore(a,e,t)},a.after=function(e,t){return e=e.replace(/^Matter./,""),s.chainPathAfter(a,e,t)}},function(e,t,i){var m={},y=(e.exports=m,i(6)),f=i(10),g=i(0),b=i(4),d=i(12),e=g.deprecated;m.stack=function(e,t,i,a,n,s,r){for(var o,l=y.create({label:"Stack"}),c=e,d=t,p=0,u=0;u<a;u++){for(var h=0,m=0;m<i;m++){var f,g,_=r(c,d,m,u,o,p);_?(f=_.bounds.max.y-_.bounds.min.y,g=_.bounds.max.x-_.bounds.min.x,h<f&&(h=f),b.translate(_,{x:.5*g,y:.5*f}),c=_.bounds.max.x+n,y.addBody(l,_),o=_,p+=1):c+=n}d+=h+s,c=e}return l},m.chain=function(e,t,i,a,n,s){for(var r=e.bodies,o=1;o<r.length;o++){var l=r[o-1],c=r[o],d=l.bounds.max.y-l.bounds.min.y,p=l.bounds.max.x-l.bounds.min.x,u=c.bounds.max.y-c.bounds.min.y,h=c.bounds.max.x-c.bounds.min.x,l=g.extend({bodyA:l,pointA:{x:p*t,y:d*i},bodyB:c,pointB:{x:h*a,y:u*n}},s);y.addConstraint(e,f.create(l))}return e.label+=" Chain",e},m.mesh=function(e,t,i,a,n){for(var s,r,o,l,c=e.bodies,d=0;d<i;d++){for(s=1;s<t;s++)r=c[s-1+d*t],o=c[s+d*t],y.addConstraint(e,f.create(g.extend({bodyA:r,bodyB:o},n)));if(0<d)for(s=0;s<t;s++)r=c[s+(d-1)*t],o=c[s+d*t],y.addConstraint(e,f.create(g.extend({bodyA:r,bodyB:o},n))),a&&0<s&&(l=c[s-1+(d-1)*t],y.addConstraint(e,f.create(g.extend({bodyA:l,bodyB:o},n)))),a&&s<t-1&&(l=c[s+1+(d-1)*t],y.addConstraint(e,f.create(g.extend({bodyA:l,bodyB:o},n))))}return e.label+=" Mesh",e},m.pyramid=function(c,e,d,p,u,t,h){return m.stack(c,e,d,p,u,t,function(e,t,i,a,n,s){var r=Math.min(p,Math.ceil(d/2)),o=n?n.bounds.max.x-n.bounds.min.x:0;if(!(r<a)){var r=a=r-a,l=d-1-a;if(!(i<r||l<i))return 1===s&&b.translate(n,{x:(i+(d%2==1?1:-1))*o,y:0}),h(c+(n?i*o:0)+i*u,t,i,a,n,s)}})},m.newtonsCradle=function(e,t,i,a,n){for(var s=y.create({label:"Newtons Cradle"}),r=0;r<i;r++){var o=d.circle(e+r*(1.9*a),t+n,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),l=f.create({pointA:{x:e+r*(1.9*a),y:t},bodyB:o});y.addBody(s,o),y.addConstraint(s,l)}return s},e(m,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),m.car=function(e,t,i,a,n){var s=b.nextGroup(!0),r=.5*-i+20,o=.5*i-20,l=y.create({label:"Car"}),i=d.rectangle(e,t,i,a,{collisionFilter:{group:s},chamfer:{radius:.5*a},density:2e-4}),a=d.circle(e+r,t+0,n,{collisionFilter:{group:s},friction:.8}),e=d.circle(e+o,t+0,n,{collisionFilter:{group:s},friction:.8}),t=f.create({bodyB:i,pointB:{x:r,y:0},bodyA:a,stiffness:1,length:0}),n=f.create({bodyB:i,pointB:{x:o,y:0},bodyA:e,stiffness:1,length:0});return y.addBody(l,i),y.addBody(l,a),y.addBody(l,e),y.addConstraint(l,t),y.addConstraint(l,n),l},e(m,"car","Composites.car ➤ moved to car example"),m.softBody=function(e,t,i,a,n,s,r,o,l,c){l=g.extend({inertia:1/0},l),c=g.extend({stiffness:.2,render:{type:"line",anchors:!1}},c);e=m.stack(e,t,i,a,n,s,function(e,t){return d.circle(e,t,o,l)});return m.mesh(e,i,a,r,c),e.label="Soft Body",e},e(m,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(e,t,i){var _={},d=(e.exports=_,i(9)),l=i(0),e=l.deprecated;_.create=function(e){return l.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},_.update=function(e,t,i,a){for(var n,s=i.world,r=e.buckets,o=!1,l=0;l<t.length;l++){var c=t[l];if((!c.isSleeping||a)&&(!s.bounds||!(c.bounds.max.x<s.bounds.min.x||c.bounds.min.x>s.bounds.max.x||c.bounds.max.y<s.bounds.min.y||c.bounds.min.y>s.bounds.max.y))){var d=_._getRegion(e,c);if(!c.region||d.id!==c.region.id||a){c.region&&!a||(c.region=d);for(var p=_._regionUnion(d,c.region),u=p.startCol;u<=p.endCol;u++)for(n=p.startRow;n<=p.endRow;n++){var h,m=r[h=_._getBucketId(u,n)],f=u>=d.startCol&&u<=d.endCol&&n>=d.startRow&&n<=d.endRow,g=u>=c.region.startCol&&u<=c.region.endCol&&n>=c.region.startRow&&n<=c.region.endRow;!f&&g&&m&&_._bucketRemoveBody(e,m,c),(c.region===d||f&&!g||a)&&(m=m||_._createBucket(r,h),_._bucketAddBody(e,m,c))}c.region=d,o=!0}}}o&&(e.pairsList=_._createActivePairsList(e))},e(_,"update","Grid.update ➤ replaced by Matter.Detector"),_.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},e(_,"clear","Grid.clear ➤ replaced by Matter.Detector"),_._regionUnion=function(e,t){var i=Math.min(e.startCol,t.startCol),a=Math.max(e.endCol,t.endCol),n=Math.min(e.startRow,t.startRow),e=Math.max(e.endRow,t.endRow);return _._createRegion(i,a,n,e)},_._getRegion=function(e,t){var t=t.bounds,i=Math.floor(t.min.x/e.bucketWidth),a=Math.floor(t.max.x/e.bucketWidth),n=Math.floor(t.min.y/e.bucketHeight),t=Math.floor(t.max.y/e.bucketHeight);return _._createRegion(i,a,n,t)},_._createRegion=function(e,t,i,a){return{id:e+","+t+","+i+","+a,startCol:e,endCol:t,startRow:i,endRow:a}},_._getBucketId=function(e,t){return"C"+e+"R"+t},_._createBucket=function(e,t){return e[t]=[]},_._bucketAddBody=function(e,t,i){for(var a=e.pairs,n=d.id,s=t.length,r=0;r<s;r++){var o,l,c=t[r];i.id===c.id||i.isStatic&&c.isStatic||((l=a[o=n(i,c)])?l[2]+=1:a[o]=[i,c,1])}t.push(i)},_._bucketRemoveBody=function(e,t,i){for(var a=e.pairs,n=d.id,s=(t.splice(l.indexOf(t,i),1),t.length),r=0;r<s;r++){var o=a[n(i,t[r])];o&&--o[2]}},_._createActivePairsList=function(e){for(var t,i=e.pairs,a=l.keys(i),n=a.length,s=[],r=0;r<n;r++)0<(t=i[a[r]])[2]?s.push(t):delete i[a[r]];return s}},function(e,t,i){var s={},l=(e.exports=s,i(3)),c=i(7),r=i(14),d=i(5),p=i(13),o=i(10),u=i(6),h=i(0),m=i(1);s.create=function(t,e){var i=(t?t.mouse:null)||(e?e.mouse:null),a=(i||(t&&t.render&&t.render.canvas?i=r.create(t.render.canvas):e&&e.element?i=r.create(e.element):(i=r.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected"))),o.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}})),n=h.extend({type:"mouseConstraint",mouse:i,element:null,body:null,constraint:a,collisionFilter:{category:1,mask:4294967295,group:0}},e);return d.on(t,"beforeUpdate",function(){var e=u.allBodies(t.world);s.update(n,e),s._triggerEvents(n)}),n},s.update=function(e,t){var i=e.mouse,a=e.constraint,n=e.body;if(0===i.button){if(a.bodyB)c.set(a.bodyB,!1),a.pointA=i.position;else for(var s=0;s<t.length;s++)if(n=t[s],m.contains(n.bounds,i.position)&&p.canCollide(n.collisionFilter,e.collisionFilter))for(var r=1<n.parts.length?1:0;r<n.parts.length;r++){var o=n.parts[r];if(l.contains(o.vertices,i.position)){a.pointA=i.position,a.bodyB=e.body=n,a.pointB={x:i.position.x-n.position.x,y:i.position.y-n.position.y},a.angleB=n.angle,c.set(n,!1),d.trigger(e,"startdrag",{mouse:i,body:n});break}}}else a.bodyB=e.body=null,a.pointB=null,n&&d.trigger(e,"enddrag",{mouse:i,body:n})},s._triggerEvents=function(e){var t=e.mouse,i=t.sourceEvents;i.mousemove&&d.trigger(e,"mousemove",{mouse:t}),i.mousedown&&d.trigger(e,"mousedown",{mouse:t}),i.mouseup&&d.trigger(e,"mouseup",{mouse:t}),r.clearSourceEvents(t)}},function(e,t,i){var d={},p=(e.exports=d,i(2)),h=i(8),m=i(1),u=i(12),o=i(3);d.collides=function(e,t){for(var i=[],a=t.length,n=e.bounds,s=h.collides,r=m.overlaps,o=0;o<a;o++){var l=t[o],c=l.parts.length,d=1===c?0:1;if(r(l.bounds,n))for(var p=d;p<c;p++){var u=l.parts[p];if(r(u.bounds,n)){u=s(u,e);if(u){i.push(u);break}}}}return i},d.ray=function(e,t,i,a){a=a||1e-100;for(var n=p.angle(t,i),s=p.magnitude(p.sub(t,i)),r=.5*(i.x+t.x),i=.5*(i.y+t.y),t=u.rectangle(r,i,s,a,{angle:n}),o=d.collides(t,e),l=0;l<o.length;l+=1){var c=o[l];c.body=c.bodyB=c.bodyA}return o},d.region=function(e,t,i){for(var a=[],n=0;n<e.length;n++){var s=e[n],r=m.overlaps(s.bounds,t);(r&&!i||!r&&i)&&a.push(s)}return a},d.point=function(e,t){for(var i=[],a=0;a<e.length;a++){var n=e[a];if(m.contains(n.bounds,t))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var r=n.parts[s];if(m.contains(r.bounds,t)&&o.contains(r.vertices,t)){i.push(n);break}}}return i}},function(e,t,i){var a,n,s,h,r,o,m,x,S={},l=(e.exports=S,i(4)),w=i(0),T=i(6),A=i(1),M=i(5),I=i(2),E=i(14);"undefined"!=typeof window&&(a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(w.now())},1e3/60)},n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),S._goodFps=30,S._goodDelta=1e3/60,S.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},t=w.extend(t,e);return t.canvas&&(t.canvas.width=t.options.width||t.canvas.width,t.canvas.height=t.options.height||t.canvas.height),t.mouse=e.mouse,t.engine=e.engine,t.canvas=t.canvas||r(t.options.width,t.options.height),t.context=t.canvas.getContext("2d"),t.textures={},t.bounds=t.bounds||{min:{x:0,y:0},max:{x:t.canvas.width,y:t.canvas.height}},t.controller=S,t.options.showBroadphase=!1,1!==t.options.pixelRatio&&S.setPixelRatio(t,t.options.pixelRatio),w.isElement(t.element)&&t.element.appendChild(t.canvas),t},S.run=function(i){!function e(t){i.frameRequestId=a(e),s(i,t),S.world(i,t),(i.options.showStats||i.options.showDebug)&&S.stats(i,i.context,t),(i.options.showPerformance||i.options.showDebug)&&S.performance(i,i.context,t)}()},S.stop=function(e){n(e.frameRequestId)},S.setPixelRatio=function(e,t){var i=e.options,e=e.canvas;"auto"===t&&(t=o(e)),i.pixelRatio=t,e.setAttribute("data-pixel-ratio",t),e.width=i.width*t,e.height=i.height*t,e.style.width=i.width+"px",e.style.height=i.height+"px"},S.lookAt=function(e,t,i,a){a=void 0===a||a,t=w.isArray(t)?t:[t],i=i||{x:0,y:0};for(var n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var r=t[s],o=r.bounds?r.bounds.min:r.min||r.position||r,r=r.bounds?r.bounds.max:r.max||r.position||r;o&&r&&(o.x<n.min.x&&(n.min.x=o.x),r.x>n.max.x&&(n.max.x=r.x),o.y<n.min.y&&(n.min.y=o.y),r.y>n.max.y)&&(n.max.y=r.y)}var l=n.max.x-n.min.x+2*i.x,c=n.max.y-n.min.y+2*i.y,d=e.canvas.height,d=e.canvas.width/d,p=l/c,u=1,h=1;d<p?h=p/d:u=d/p,e.options.hasBounds=!0,e.bounds.min.x=n.min.x,e.bounds.max.x=n.min.x+l*u,e.bounds.min.y=n.min.y,e.bounds.max.y=n.min.y+c*h,a&&(e.bounds.min.x+=.5*l-l*u*.5,e.bounds.max.x+=.5*l-l*u*.5,e.bounds.min.y+=.5*c-c*h*.5,e.bounds.max.y+=.5*c-c*h*.5),e.bounds.min.x-=i.x,e.bounds.max.x-=i.x,e.bounds.min.y-=i.y,e.bounds.max.y-=i.y,e.mouse&&(E.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),E.setOffset(e.mouse,e.bounds.min))},S.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,t=t/e.options.width,i=i/e.options.height;e.context.setTransform(e.options.pixelRatio/t,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},S.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},S.world=function(e,t){var i,a=w.now(),n=e.engine,s=n.world,r=e.canvas,o=e.context,l=e.options,c=e.timing,d=T.allBodies(s),p=T.allConstraints(s),s=l.wireframes?l.wireframeBackground:l.background,u=[],h=[],m={timestamp:n.timing.timestamp};if(M.trigger(e,"beforeRender",m),e.currentBackground!==s&&x(e,s),o.globalCompositeOperation="source-in",o.fillStyle="transparent",o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="source-over",l.hasBounds){for(i=0;i<d.length;i++){var f=d[i];A.overlaps(f.bounds,e.bounds)&&u.push(f)}for(i=0;i<p.length;i++){var g=p[i],_=g.bodyA,y=g.bodyB,b=g.pointA,v=g.pointB;_&&(b=I.add(_.position,g.pointA)),y&&(v=I.add(y.position,g.pointB)),b&&v&&(A.contains(e.bounds,b)||A.contains(e.bounds,v))&&h.push(g)}S.startViewTransform(e),e.mouse&&(E.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),E.setOffset(e.mouse,e.bounds.min))}else h=p,u=d,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!l.wireframes||n.enableSleeping&&l.showSleeping?S.bodies(e,u,o):(l.showConvexHulls&&S.bodyConvexHulls(e,u,o),S.bodyWireframes(e,u,o)),l.showBounds&&S.bodyBounds(e,u,o),(l.showAxes||l.showAngleIndicator)&&S.bodyAxes(e,u,o),l.showPositions&&S.bodyPositions(e,u,o),l.showVelocity&&S.bodyVelocity(e,u,o),l.showIds&&S.bodyIds(e,u,o),l.showSeparations&&S.separations(e,n.pairs.list,o),l.showCollisions&&S.collisions(e,n.pairs.list,o),l.showVertexNumbers&&S.vertexNumbers(e,u,o),l.showMousePosition&&S.mousePosition(e,e.mouse,o),S.constraints(h,o),l.hasBounds&&S.endViewTransform(e),M.trigger(e,"afterRender",m),c.lastElapsed=w.now()-a},S.stats=function(e,t,i){for(var e=e.engine,a=e.world,n=T.allBodies(a),s=0,r=0,o=0;o<n.length;o+=1)s+=n[o].parts.length;var l,c={Part:s,Body:n.length,Cons:T.allConstraints(a).length,Comp:T.allComposites(a).length,Pair:e.pairs.list.length};for(l in t.fillStyle="#0e0f19",t.fillRect(r,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var d=c[l];t.fillStyle="#aaa",t.fillText(l,r+55,8),t.fillStyle="#eee",t.fillText(d,r+55,26),r+=55}},S.performance=function(e,t){var i=e.engine,e=e.timing,a=e.deltaHistory,n=e.elapsedHistory,s=e.timestampElapsedHistory,r=e.engineDeltaHistory,o=e.engineElapsedHistory,e=i.timing.lastDelta,l=h(a),c=h(n),d=h(r),p=h(o),u=h(s)/l||0,i=1e3/l||0;t.fillStyle="#0e0f19",t.fillRect(0,50,370,34),S.status(t,10,69,60,4,a.length,Math.round(i)+" fps",i/S._goodFps,function(e){return a[e]/l-1}),S.status(t,82,69,60,4,r.length,e.toFixed(2)+" dt",S._goodDelta/e,function(e){return r[e]/d-1}),S.status(t,154,69,60,4,o.length,p.toFixed(2)+" ut",1-p/S._goodFps,function(e){return o[e]/p-1}),S.status(t,226,69,60,4,n.length,c.toFixed(2)+" rt",1-c/S._goodFps,function(e){return n[e]/c-1}),S.status(t,298,69,60,4,s.length,u.toFixed(2)+" x",u*u*u,function(e){return(s[e]/a[e]/u||0)-1})},S.status=function(e,t,i,a,n,s,r,o,l){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,i+7,a,1),e.beginPath(),e.moveTo(t,i+7-n*w.clamp(.4*l(0),-2,2));for(var c=0;c<a;c+=1)e.lineTo(t+c,i+7-(c<s?n*w.clamp(.4*l(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+w.clamp(25+95*o,0,120)+",100%,60%)",e.fillRect(t,i-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(r,t+a,i-5)},S.constraints=function(e,t){for(var i=t,a=0;a<e.length;a++){var n=e[a];if(n.render.visible&&n.pointA&&n.pointB){var s,r=n.bodyA,o=n.bodyB,l=r?I.add(r.position,n.pointA):n.pointA;if("pin"===n.render.type)i.beginPath(),i.arc(l.x,l.y,3,0,2*Math.PI),i.closePath();else{if(s=o?I.add(o.position,n.pointB):n.pointB,i.beginPath(),i.moveTo(l.x,l.y),"spring"===n.render.type)for(var c,d=I.sub(s,l),p=I.perp(I.normalise(d)),u=Math.ceil(w.clamp(n.length/5,12,20)),h=1;h<u;h+=1)i.lineTo(l.x+d.x*(h/u)+p.x*(c=h%2==0?1:-1)*4,l.y+d.y*(h/u)+p.y*c*4);i.lineTo(s.x,s.y)}n.render.lineWidth&&(i.lineWidth=n.render.lineWidth,i.strokeStyle=n.render.strokeStyle,i.stroke()),n.render.anchors&&(i.fillStyle=n.render.strokeStyle,i.beginPath(),i.arc(l.x,l.y,3,0,2*Math.PI),i.arc(s.x,s.y,3,0,2*Math.PI),i.closePath(),i.fill())}}},S.bodies=function(e,t,i){for(var a,n,s,r=i,o=(e.engine,e.options),l=o.showInternalEdges||!o.wireframes,c=0;c<t.length;c++)if((a=t[c]).render.visible)for(s=1<a.parts.length?1:0;s<a.parts.length;s++)if((n=a.parts[s]).render.visible){if(o.showSleeping&&a.isSleeping?r.globalAlpha=.5*n.render.opacity:1!==n.render.opacity&&(r.globalAlpha=n.render.opacity),n.render.sprite&&n.render.sprite.texture&&!o.wireframes){var d=n.render.sprite,p=m(e,d.texture);r.translate(n.position.x,n.position.y),r.rotate(n.angle),r.drawImage(p,p.width*-d.xOffset*d.xScale,p.height*-d.yOffset*d.yScale,p.width*d.xScale,p.height*d.yScale),r.rotate(-n.angle),r.translate(-n.position.x,-n.position.y)}else{if(n.circleRadius)r.beginPath(),r.arc(n.position.x,n.position.y,n.circleRadius,0,2*Math.PI);else{r.beginPath(),r.moveTo(n.vertices[0].x,n.vertices[0].y);for(var u=1;u<n.vertices.length;u++)!n.vertices[u-1].isInternal||l?r.lineTo(n.vertices[u].x,n.vertices[u].y):r.moveTo(n.vertices[u].x,n.vertices[u].y),n.vertices[u].isInternal&&!l&&r.moveTo(n.vertices[(u+1)%n.vertices.length].x,n.vertices[(u+1)%n.vertices.length].y);r.lineTo(n.vertices[0].x,n.vertices[0].y),r.closePath()}o.wireframes?(r.lineWidth=1,r.strokeStyle="#bbb",r.stroke()):(r.fillStyle=n.render.fillStyle,n.render.lineWidth&&(r.lineWidth=n.render.lineWidth,r.strokeStyle=n.render.strokeStyle,r.stroke()),r.fill())}r.globalAlpha=1}},S.bodyWireframes=function(e,t,i){var a,n,s,r,o,l=i,c=e.options.showInternalEdges;for(l.beginPath(),s=0;s<t.length;s++)if((a=t[s]).render.visible)for(o=1<a.parts.length?1:0;o<a.parts.length;o++){for(n=a.parts[o],l.moveTo(n.vertices[0].x,n.vertices[0].y),r=1;r<n.vertices.length;r++)!n.vertices[r-1].isInternal||c?l.lineTo(n.vertices[r].x,n.vertices[r].y):l.moveTo(n.vertices[r].x,n.vertices[r].y),n.vertices[r].isInternal&&!c&&l.moveTo(n.vertices[(r+1)%n.vertices.length].x,n.vertices[(r+1)%n.vertices.length].y);l.lineTo(n.vertices[0].x,n.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},S.bodyConvexHulls=function(e,t,i){var a,n,s,r=i;for(r.beginPath(),n=0;n<t.length;n++)if((a=t[n]).render.visible&&1!==a.parts.length){for(r.moveTo(a.vertices[0].x,a.vertices[0].y),s=1;s<a.vertices.length;s++)r.lineTo(a.vertices[s].x,a.vertices[s].y);r.lineTo(a.vertices[0].x,a.vertices[0].y)}r.lineWidth=1,r.strokeStyle="rgba(255,255,255,0.2)",r.stroke()},S.vertexNumbers=function(e,t,i){for(var a=i,n=0;n<t.length;n++)for(var s=t[n].parts,r=1<s.length?1:0;r<s.length;r++)for(var o=s[r],l=0;l<o.vertices.length;l++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(n+"_"+l,o.position.x+.8*(o.vertices[l].x-o.position.x),o.position.y+.8*(o.vertices[l].y-o.position.y))},S.mousePosition=function(e,t,i){i.fillStyle="rgba(255,255,255,0.8)",i.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},S.bodyBounds=function(e,t,i){var a=i,i=(e.engine,e.options);a.beginPath();for(var n=0;n<t.length;n++)if(t[n].render.visible)for(var s=t[n].parts,r=1<s.length?1:0;r<s.length;r++){var o=s[r];a.rect(o.bounds.min.x,o.bounds.min.y,o.bounds.max.x-o.bounds.min.x,o.bounds.max.y-o.bounds.min.y)}i.wireframes?a.strokeStyle="rgba(255,255,255,0.08)":a.strokeStyle="rgba(0,0,0,0.1)",a.lineWidth=1,a.stroke()},S.bodyAxes=function(e,t,i){var a,n,s,r,o=i,l=(e.engine,e.options);for(o.beginPath(),n=0;n<t.length;n++){var c=t[n],d=c.parts;if(c.render.visible)if(l.showAxes)for(s=1<d.length?1:0;s<d.length;s++)for(a=d[s],r=0;r<a.axes.length;r++){var p=a.axes[r];o.moveTo(a.position.x,a.position.y),o.lineTo(a.position.x+20*p.x,a.position.y+20*p.y)}else for(s=1<d.length?1:0;s<d.length;s++)for(a=d[s],r=0;r<a.axes.length;r++)o.moveTo(a.position.x,a.position.y),o.lineTo((a.vertices[0].x+a.vertices[a.vertices.length-1].x)/2,(a.vertices[0].y+a.vertices[a.vertices.length-1].y)/2)}l.wireframes?(o.strokeStyle="indianred",o.lineWidth=1):(o.strokeStyle="rgba(255, 255, 255, 0.4)",o.globalCompositeOperation="overlay",o.lineWidth=2),o.stroke(),o.globalCompositeOperation="source-over"},S.bodyPositions=function(e,t,i){var a,n,s,r,o=i,i=(e.engine,e.options);for(o.beginPath(),s=0;s<t.length;s++)if((a=t[s]).render.visible)for(r=0;r<a.parts.length;r++)n=a.parts[r],o.arc(n.position.x,n.position.y,3,0,2*Math.PI,!1),o.closePath();for(i.wireframes?o.fillStyle="indianred":o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.beginPath(),s=0;s<t.length;s++)(a=t[s]).render.visible&&(o.arc(a.positionPrev.x,a.positionPrev.y,2,0,2*Math.PI,!1),o.closePath());o.fillStyle="rgba(255,165,0,0.8)",o.fill()},S.bodyVelocity=function(e,t,i){var a=i;a.beginPath();for(var n=0;n<t.length;n++){var s,r=t[n];r.render.visible&&(s=l.getVelocity(r),a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+s.x,r.position.y+s.y))}a.lineWidth=3,a.strokeStyle="cornflowerblue",a.stroke()},S.bodyIds=function(e,t,i){for(var a=i,n=0;n<t.length;n++)if(t[n].render.visible)for(var s=t[n].parts,r=1<s.length?1:0;r<s.length;r++){var o=s[r];a.font="12px Arial",a.fillStyle="rgba(255,255,255,0.5)",a.fillText(o.id,o.position.x+10,o.position.y-10)}},S.collisions=function(e,t,i){var a,n,s,r,o,l,c=i,i=e.options;for(c.beginPath(),a=0;a<t.length;a++)if((l=t[a]).isActive)for(o=l.collision,n=0;n<l.activeContacts.length;n++){var d=l.activeContacts[n].vertex;c.rect(d.x-1.5,d.y-1.5,3.5,3.5)}for(i.wireframes?c.fillStyle="rgba(255,255,255,0.7)":c.fillStyle="orange",c.fill(),c.beginPath(),a=0;a<t.length;a++)(l=t[a]).isActive&&(o=l.collision,0<l.activeContacts.length)&&(s=l.activeContacts[0].vertex.x,r=l.activeContacts[0].vertex.y,2===l.activeContacts.length&&(s=(l.activeContacts[0].vertex.x+l.activeContacts[1].vertex.x)/2,r=(l.activeContacts[0].vertex.y+l.activeContacts[1].vertex.y)/2),o.bodyB===o.supports[0].body||!0===o.bodyA.isStatic?c.moveTo(s-8*o.normal.x,r-8*o.normal.y):c.moveTo(s+8*o.normal.x,r+8*o.normal.y),c.lineTo(s,r));i.wireframes?c.strokeStyle="rgba(255,165,0,0.7)":c.strokeStyle="orange",c.lineWidth=1,c.stroke()},S.separations=function(e,t,i){var a,n,s,r,o,l=i,i=e.options;for(l.beginPath(),a=0;a<t.length;a++)(o=t[a]).isActive&&(n=(o=o.collision).bodyA,r=1,(s=o.bodyB).isStatic||n.isStatic||(r=.5),s.isStatic&&(r=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-o.penetration.x*r,s.position.y-o.penetration.y*r),r=1,s.isStatic||n.isStatic||(r=.5),n.isStatic&&(r=0),l.moveTo(n.position.x,n.position.y),l.lineTo(n.position.x+o.penetration.x*r,n.position.y+o.penetration.y*r));i.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},S.inspector=function(e,t){e.engine;var i,a,n,s=e.selected,r=e.render,o=r.options;o.hasBounds&&(a=r.bounds.max.x-r.bounds.min.x,n=r.bounds.max.y-r.bounds.min.y,a=a/r.options.width,n=n/r.options.height,t.scale(1/a,1/n),t.translate(-r.bounds.min.x,-r.bounds.min.y));for(var l=0;l<s.length;l++){var c=s[l].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),c.type){case"body":i=c.bounds,t.beginPath(),t.rect(Math.floor(i.min.x-3),Math.floor(i.min.y-3),Math.floor(i.max.x-i.min.x+6),Math.floor(i.max.y-i.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=c.pointA;c.bodyA&&(d=c.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",i=e.selectBounds,t.beginPath(),t.rect(Math.floor(i.min.x),Math.floor(i.min.y),Math.floor(i.max.x-i.min.x),Math.floor(i.max.y-i.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)},s=function(e,t){var i=e.engine,e=e.timing,a=e.historySize,n=i.timing.timestamp;e.delta=t-e.lastTime||S._goodDelta,e.lastTime=t,e.timestampElapsed=n-e.lastTimestamp||0,e.lastTimestamp=n,e.deltaHistory.unshift(e.delta),e.deltaHistory.length=Math.min(e.deltaHistory.length,a),e.engineDeltaHistory.unshift(i.timing.lastDelta),e.engineDeltaHistory.length=Math.min(e.engineDeltaHistory.length,a),e.timestampElapsedHistory.unshift(e.timestampElapsed),e.timestampElapsedHistory.length=Math.min(e.timestampElapsedHistory.length,a),e.engineElapsedHistory.unshift(i.timing.lastElapsed),e.engineElapsedHistory.length=Math.min(e.engineElapsedHistory.length,a),e.elapsedHistory.unshift(e.lastElapsed),e.elapsedHistory.length=Math.min(e.elapsedHistory.length,a)},h=function(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length||0},r=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i.oncontextmenu=function(){return!1},i.onselectstart=function(){return!1},i},o=function(e){e=e.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},m=function(e,t){var i=e.textures[t];return i||((i=e.textures[t]=new Image).src=t),i},x=function(e,t){var i=t;/(jpg|gif|png)$/.test(t)&&(i="url("+t+")"),e.canvas.style.background=i,e.canvas.style.backgroundSize="contain",e.currentBackground=t}},function(e,t,i){var a,n,s,r={},o=(e.exports=r,i(5)),l=i(17),c=i(0);"undefined"!=typeof window&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n||(n=function(e){a=setTimeout(function(){e(c.now())},1e3/60)},s=function(){clearTimeout(a)}),r.create=function(e){e=c.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},e);return e.delta=e.delta||1e3/e.fps,e.deltaMin=e.deltaMin||1e3/e.fps,e.deltaMax=e.deltaMax||1e3/(.5*e.fps),e.fps=1e3/e.delta,e},r.run=function(i,a){return void 0!==i.positionIterations&&(a=i,i=r.create()),function e(t){i.frameRequestId=n(e),t&&i.enabled&&r.tick(i,a,t)}(),i},r.tick=function(e,t,i){var a,n=t.timing,n=(e.isFixed?a=e.delta:(a=i-e.timePrev||e.delta,e.timePrev=i,e.deltaHistory.push(a),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),a=(a=(a=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:a)>e.deltaMax?e.deltaMax:a,e.delta=a),{timestamp:n.timestamp});o.trigger(e,"beforeTick",n),e.frameCounter+=1,1e3<=i-e.counterTimestamp&&(e.fps=e.frameCounter*((i-e.counterTimestamp)/1e3),e.counterTimestamp=i,e.frameCounter=0),o.trigger(e,"tick",n),o.trigger(e,"beforeUpdate",n),l.update(t,a),o.trigger(e,"afterUpdate",n),o.trigger(e,"afterTick",n)},r.stop=function(e){s(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},function(e,t,i){var a={},n=(e.exports=a,i(8)),e=i(0).deprecated;a.collides=function(e,t){return n.collides(e,t)},e(a,"collides","SAT.collides ➤ replaced by Collision.collides")},function(e,t,i){var b={},v=(e.exports=b,i(1),i(0));b.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");function i(e,t,i){var a,i=i%2==1&&1<i;u&&e==u.x&&t==u.y||(m=u&&i?(h=u.x,u.y):h=0,a={x:h+e,y:m+t},!i&&u||(u=a),f.push(a),_=h+e,y=m+t)}function a(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":_=e.x,y=e.y;break;case"H":_=e.x;break;case"V":y=e.y}i(_,y,e.pathSegType)}}var n,s,r,o,l,c,d,p,u,h,m,f=[],g=0,_=0,y=0;t=t||15;for(b._svgPathToAbsolute(e),r=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(d=c.concat();g<r;){if((l=c[e.getPathSegAtLength(g)])!=p){for(;d.length&&d[0]!=l;)a(d.shift());p=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(g),i(o.x,o.y,0)}g+=t}for(n=0,s=d.length;n<s;++n)a(d[n]);return f},b._svgPathToAbsolute=function(e){for(var t,i,a,n,s,r,o=e.pathSegList,l=0,c=0,d=o.numberOfItems,p=0;p<d;++p){var u=o.getItem(p),h=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h))"x"in u&&(l=u.x),"y"in u&&(c=u.y);else switch("x1"in u&&(a=l+u.x1),"x2"in u&&(s=l+u.x2),"y1"in u&&(n=c+u.y1),"y2"in u&&(r=c+u.y2),"x"in u&&(l+=u.x),"y"in u&&(c+=u.y),h){case"m":o.replaceItem(e.createSVGPathSegMovetoAbs(l,c),p);break;case"l":o.replaceItem(e.createSVGPathSegLinetoAbs(l,c),p);break;case"h":o.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),p);break;case"v":o.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":o.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,a,n,s,r),p);break;case"s":o.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,s,r),p);break;case"q":o.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,a,n),p);break;case"t":o.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),p);break;case"a":o.replaceItem(e.createSVGPathSegArcAbs(l,c,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),p);break;case"z":case"Z":l=t,c=i}"M"!=h&&"m"!=h||(t=l,i=c)}}},function(e,t,i){var a={},e=(e.exports=a,i(6));i(0);a.create=e.create,a.add=e.add,a.remove=e.remove,a.clear=e.clear,a.addComposite=e.addComposite,a.addBody=e.addBody,a.addConstraint=e.addConstraint}],a={},n.m=i,n.c=a,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20);function n(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}var i,a},e.exports=i()},128:(e,t,i)=>{"use strict";var a=i(798);function n(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){return!1!==n(e)&&"function"==typeof(e=e.constructor)&&!1!==n(e=e.prototype)&&!1!==e.hasOwnProperty("isPrototypeOf")}},155:(e,t,i)=>{"use strict";const c=i(427),d=i(527),p=i(128);function u(e,t){switch(d(e)){case"object":var i=e,a=t;if("function"==typeof a)return a(i);if(a||p(i)){var n,s=new i.constructor;for(n in i)s[n]=u(i[n],a);return s}return i;case"array":var r=e,o=t,l=new r.constructor(r.length);for(let e=0;e<r.length;e++)l[e]=u(r[e],o);return l;default:return c(e)}}e.exports=u},399:(e,t)=>{"use strict";function M(e,t,i,a){for(var n=e[t++],s=1<<n,r=1+s,o=1+r,l=n+1,c=(1<<l)-1,d=0,p=0,u=0,h=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==h;)p|=e[t++]<<d,d+=8,1===h?h=e[t++]:--h;if(d<l)break;var g=p&c;if(p>>=l,d-=l,g==s)o=1+r,c=(1<<(l=n+1))-1,f=null;else{if(g==r)break;for(var _=g<o?g:f,y=0,b=_;s<b;)b=m[b]>>8,++y;var v=b;if(a<u+y+(_!==g?1:0))return void console.log("Warning, gif stream longer than expected.");i[u++]=v;var x=u+=y;for(_!==g&&(i[u++]=v),b=_;y--;)b=m[b],i[--x]=255&b,b>>=8;null!==f&&o<4096&&(m[o++]=f<<8|v,c+1<=o)&&l<12&&(++l,c=c<<1|1),f=g}}u!==a&&console.log("Warning, gif stream shorter than expected.")}try{t.u=function(b){var e=0;if(71!==b[e++]||73!==b[e++]||70!==b[e++]||56!==b[e++]||56!=(b[e++]+1&253)||97!==b[e++])throw new Error("Invalid GIF 87a/89a header.");var v=b[e++]|b[e++]<<8,t=b[e++]|b[e++]<<8,i=b[e++],a=1<<1+(7&i),n=(b[e++],b[e++],null),s=null,r=(i>>7&&(n=e,e+=3*(s=a)),!0),o=[],l=0,c=null,d=0,p=null;for(this.width=v,this.height=t;r&&e<b.length;)switch(b[e++]){case 33:switch(b[e++]){case 255:if(11!==b[e]||78==b[e+1]&&69==b[e+2]&&84==b[e+3]&&83==b[e+4]&&67==b[e+5]&&65==b[e+6]&&80==b[e+7]&&69==b[e+8]&&50==b[e+9]&&46==b[e+10]&&48==b[e+11]&&3==b[e+12]&&1==b[e+13]&&0==b[e+16])e+=14,p=b[e++]|b[e++]<<8,e++;else for(e+=12;;){if(!(0<=(h=b[e++])))throw Error("Invalid block size");if(0===h)break;e+=h}break;case 249:if(4!==b[e++]||0!==b[e+4])throw new Error("Invalid graphics extension block.");var u=b[e++],l=b[e++]|b[e++]<<8,c=b[e++];0==(1&u)&&(c=null),d=u>>2&7,e++;break;case 254:for(;;){if(!(0<=(h=b[e++])))throw Error("Invalid block size");if(0===h)break;e+=h}break;default:throw new Error("Unknown graphic control label: 0x"+b[e-1].toString(16))}break;case 44:var h,m=b[e++]|b[e++]<<8,f=b[e++]|b[e++]<<8,g=b[e++]|b[e++]<<8,_=b[e++]|b[e++]<<8,y=b[e++],x=y>>6&1,S=1<<1+(7&y),w=n,T=s,A=!1,y=(y>>7&&(A=!0,w=e,e+=3*(T=S)),e);for(e++;;){if(!(0<=(h=b[e++])))throw Error("Invalid block size");if(0===h)break;e+=h}o.push({x:m,y:f,width:g,height:_,has_local_palette:A,palette_offset:w,palette_size:T,data_offset:y,data_length:e-y,transparent_index:c,interlaced:!!x,delay:l,disposal:d});break;case 59:r=!1;break;default:throw new Error("Unknown gif block: 0x"+b[e-1].toString(16))}this.numFrames=function(){return o.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||o.length<=e)throw new Error("Frame index out of range.");return o[e]},this.decodeAndBlitFrameBGRA=function(e,t){for(var e=this.frameInfo(e),i=e.width*e.height,a=new Uint8Array(i),n=(M(b,e.data_offset,a,i),e.palette_offset),s=e.transparent_index,r=(null===s&&(s=256),e.width),o=v-r,l=r,c=4*(e.y*v+e.x),d=4*((e.y+e.height)*v+e.x),p=c,u=4*o,h=(!0===e.interlaced&&(u+=4*v*7),8),m=0,f=a.length;m<f;++m){var g,_,y=a[m];0===l&&(l=r,d<=(p+=u))&&(u=4*o+4*v*(h-1),p=c+(r+o)*(h<<1),h>>=1),y===s?p+=4:(g=b[n+3*y],_=b[n+3*y+1],y=b[n+3*y+2],t[p++]=y,t[p++]=_,t[p++]=g,t[p++]=255),--l}},this.decodeAndBlitFrameRGBA=function(e,t){for(var e=this.frameInfo(e),i=e.width*e.height,a=new Uint8Array(i),n=(M(b,e.data_offset,a,i),e.palette_offset),s=e.transparent_index,r=(null===s&&(s=256),e.width),o=v-r,l=r,c=4*(e.y*v+e.x),d=4*((e.y+e.height)*v+e.x),p=c,u=4*o,h=(!0===e.interlaced&&(u+=4*v*7),8),m=0,f=a.length;m<f;++m){var g,_,y=a[m];0===l&&(l=r,d<=(p+=u))&&(u=4*o+4*v*(h-1),p=c+(r+o)*(h<<1),h>>=1),y===s?p+=4:(g=b[n+3*y],_=b[n+3*y+1],y=b[n+3*y+2],t[p++]=g,t[p++]=_,t[p++]=y,t[p++]=255),--l}}}}catch(e){}},427:(e,t,i)=>{"use strict";const r=Symbol.prototype.valueOf,o=i(527);e.exports=function(e,t){switch(o(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return s=(n=e).length,s=Buffer.allocUnsafe?Buffer.allocUnsafe(s):Buffer.from(s),n.copy(s),s;case"symbol":return n=e,r?Object(r.call(n)):{};case"arraybuffer":return a=new(s=e).constructor(s.byteLength),new Uint8Array(a).set(new Uint8Array(s)),a;case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return new e.constructor(e.buffer,e.byteOffset,e.length);case"regexp":return i=void 0!==(a=e).flags?a.flags:/\w+$/.exec(a)||void 0,(i=new a.constructor(a.source,i)).lastIndex=a.lastIndex,i;case"error":return Object.create(e);default:return e}var i,a,n,s}},527:e=>{var a=Object.prototype.toString;function n(e){return"function"==typeof e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,i=typeof e;if("boolean"===i)return"boolean";if("string"===i)return"string";if("number"===i)return"number";if("symbol"===i)return"symbol";if("function"===i)return"GeneratorFunction"===n(e)?"generatorfunction":"function";if(t=e,Array.isArray?Array.isArray(t):t instanceof Array)return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return 1}catch(e){if(-1!==e.message.indexOf("callee"))return 1}return}(e))return"arguments";if((t=e)instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate)return"date";if((t=e)instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit)return"error";if((t=e)instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global)return"regexp";switch(n(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof(t=e).throw&&"function"==typeof t.return&&"function"==typeof t.next)return"generator";switch(i=a.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return i.slice(8,-1).toLowerCase().replace(/\s/g,"")}},543:function(z,k,D){var C;z=D.nmd(z),function(){var Us,Bs="Expected a function",_r="__lodash_hash_undefined__",yr="__lodash_placeholder__",Vs=128,Gs=9007199254740991,br=NaN,Hs=4294967295,vr=[["ary",Vs],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ws="[object Arguments]",xr="[object Array]",qs="[object Boolean]",Xs="[object Date]",Sr="[object Error]",wr="[object Function]",Tr="[object GeneratorFunction]",Ys="[object Map]",Js="[object Number]",Ks="[object Object]",Ar="[object Promise]",Zs="[object RegExp]",$s="[object Set]",Qs="[object String]",Mr="[object Symbol]",er="[object WeakMap]",tr="[object ArrayBuffer]",ir="[object DataView]",Ir="[object Float32Array]",Er="[object Float64Array]",zr="[object Int8Array]",kr="[object Int16Array]",Dr="[object Int32Array]",Cr="[object Uint8Array]",Pr="[object Uint8ClampedArray]",Rr="[object Uint16Array]",Lr="[object Uint32Array]",Or=/\b__p \+= '';/g,Nr=/\b(__p \+=) '' \+/g,jr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fr=/&(?:amp|lt|gt|quot|#39);/g,Ur=/[&<>"']/g,Br=RegExp(Fr.source),Vr=RegExp(Ur.source),Gr=/<%-([\s\S]+?)%>/g,Hr=/<%([\s\S]+?)%>/g,Wr=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xr=/^\w*$/,Yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,Kr=RegExp(Jr.source),Zr=/^\s+/,s=/\s/,$r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qr=/\{\n\/\* \[wrapped with (.+)\] \*/,eo=/,? & /,to=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,io=/[()=,{}\[\]\/\s]/,ao=/\\(\\)?/g,no=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,so=/\w*$/,ro=/^[-+]0x[0-9a-f]+$/i,oo=/^0b[01]+$/i,lo=/^\[object .+?Constructor\]$/,co=/^0o[0-7]+$/i,po=/^(?:0|[1-9]\d*)$/,uo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ho=/($^)/,mo=/['\n\r\u2028\u2029\\]/g,r="\\ud800-\\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e="\\u2700-\\u27bf",t="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="['’]",n="["+r+"]",d="["+a+"]",p="["+o+"]",u="["+e+"]",h="["+t+"]",a="[^"+r+a+"\\d+"+e+t+i+"]",e="\\ud83c[\\udffb-\\udfff]",t="[^"+r+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",i="["+i+"]",g="\\u200d",_="(?:"+h+"|"+a+")",a="(?:"+i+"|"+a+")",y="(?:['’](?:d|ll|m|re|s|t|ve))?",b="(?:['’](?:D|LL|M|RE|S|T|VE))?",v="(?:"+p+"|"+e+")"+"?",x="["+l+"]?",x=x+v+("(?:"+g+"(?:"+[t,m,f].join("|")+")"+x+v+")*"),v="(?:"+[u,m,f].join("|")+")"+x,u="(?:"+[t+p+"?",p,m,f,n].join("|")+")",fo=RegExp(c,"g"),go=RegExp(p,"g"),S=RegExp(e+"(?="+e+")|"+u+x,"g"),_o=RegExp([i+"?"+h+"+"+y+"(?="+[d,i,"$"].join("|")+")",a+"+"+b+"(?="+[d,i+_,"$"].join("|")+")",i+"?"+_+"+"+y,i+"+"+b,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",v].join("|"),"g"),w=RegExp("["+g+r+o+l+"]"),yo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vo=-1,ar={},nr=(ar[Ir]=ar[Er]=ar[zr]=ar[kr]=ar[Dr]=ar[Cr]=ar[Pr]=ar[Rr]=ar[Lr]=!0,ar[Ws]=ar[xr]=ar[tr]=ar[qs]=ar[ir]=ar[Xs]=ar[Sr]=ar[wr]=ar[Ys]=ar[Js]=ar[Ks]=ar[Zs]=ar[$s]=ar[Qs]=ar[er]=!1,{}),T=(nr[Ws]=nr[xr]=nr[tr]=nr[ir]=nr[qs]=nr[Xs]=nr[Ir]=nr[Er]=nr[zr]=nr[kr]=nr[Dr]=nr[Ys]=nr[Js]=nr[Ks]=nr[Zs]=nr[$s]=nr[Qs]=nr[Mr]=nr[Cr]=nr[Pr]=nr[Rr]=nr[Lr]=!0,nr[Sr]=nr[wr]=nr[er]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),xo=parseFloat,So=parseInt,t="object"==typeof D.g&&D.g&&D.g.Object===Object&&D.g,m="object"==typeof self&&self&&self.Object===Object&&self,sr=t||m||Function("return this")(),f=k&&!k.nodeType&&k,A=f&&z&&!z.nodeType&&z,wo=A&&A.exports===f,M=wo&&t.process,n=function(){try{var e=A&&A.require&&A.require("util").types;return e?e:M&&M.binding&&M.binding("util")}catch(e){}}(),To=n&&n.isArrayBuffer,Ao=n&&n.isDate,Mo=n&&n.isMap,Io=n&&n.isRegExp,Eo=n&&n.isSet,zo=n&&n.isTypedArray;function rr(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function ko(e,t,i,a){for(var n=-1,s=null==e?0:e.length;++n<s;){var r=e[n];t(a,r,i(r),e)}return a}function or(e,t){for(var i=-1,a=null==e?0:e.length;++i<a&&!1!==t(e[i],i,e););return e}function Do(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function Co(e,t){for(var i=-1,a=null==e?0:e.length;++i<a;)if(!t(e[i],i,e))return!1;return!0}function lr(e,t){for(var i=-1,a=null==e?0:e.length,n=0,s=[];++i<a;){var r=e[i];t(r,i,e)&&(s[n++]=r)}return s}function Po(e,t){return!!(null==e?0:e.length)&&-1<pr(e,t,0)}function Ro(e,t,i){for(var a=-1,n=null==e?0:e.length;++a<n;)if(i(t,e[a]))return!0;return!1}function cr(e,t){for(var i=-1,a=null==e?0:e.length,n=Array(a);++i<a;)n[i]=t(e[i],i,e);return n}function dr(e,t){for(var i=-1,a=t.length,n=e.length;++i<a;)e[n+i]=t[i];return e}function Lo(e,t,i,a){var n=-1,s=null==e?0:e.length;for(a&&s&&(i=e[++n]);++n<s;)i=t(i,e[n],n,e);return i}function Oo(e,t,i,a){var n=null==e?0:e.length;for(a&&n&&(i=e[--n]);n--;)i=t(i,e[n],n,e);return i}function No(e,t){for(var i=-1,a=null==e?0:e.length;++i<a;)if(t(e[i],i,e))return!0;return!1}var I=Go("length");function jo(e,a,t){var n;return t(e,function(e,t,i){if(a(e,t,i))return n=t,!1}),n}function Fo(e,t,i,a){for(var n=e.length,s=i+(a?1:-1);a?s--:++s<n;)if(t(e[s],s,e))return s;return-1}function pr(e,t,i){if(t!=t)return Fo(e,Bo,i);for(var a=e,n=t,s=i-1,r=a.length;++s<r;)if(a[s]===n)return s;return-1}function Uo(e,t,i,a){for(var n=i-1,s=e.length;++n<s;)if(a(e[n],t))return n;return-1}function Bo(e){return e!=e}function Vo(e,t){var i=null==e?0:e.length;return i?Wo(e,t)/i:br}function Go(t){return function(e){return null==e?Us:e[t]}}function E(t){return function(e){return null==t?Us:t[e]}}function Ho(e,a,n,s,t){return t(e,function(e,t,i){n=s?(s=!1,e):a(n,e,t,i)}),n}function Wo(e,t){for(var i,a=-1,n=e.length;++a<n;){var s=t(e[a]);s!==Us&&(i=i===Us?s:i+s)}return i}function qo(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}function Xo(e){return e&&e.slice(0,nl(e)+1).replace(Zr,"")}function ur(t){return function(e){return t(e)}}function Yo(t,e){return cr(e,function(e){return t[e]})}function Jo(e,t){return e.has(t)}function Ko(e,t){for(var i=-1,a=e.length;++i<a&&-1<pr(t,e[i],0););return i}function Zo(e,t){for(var i=e.length;i--&&-1<pr(t,e[i],0););return i}var $o=E({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Qo=E({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function el(e){return"\\"+T[e]}function hr(e){return w.test(e)}function tl(e){var i=-1,a=Array(e.size);return e.forEach(function(e,t){a[++i]=[t,e]}),a}function il(t,i){return function(e){return t(i(e))}}function mr(e,t){for(var i=-1,a=e.length,n=0,s=[];++i<a;){var r=e[i];r!==t&&r!==yr||(e[i]=yr,s[n++]=i)}return s}function al(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function fr(e){return(hr(e)?function(e){var t=S.lastIndex=0;for(;S.test(e);)++t;return t}:I)(e)}function gr(e){return hr(e)?e.match(S)||[]:e.split("")}function nl(e){for(var t=e.length;t--&&s.test(e.charAt(t)););return t}var sl=E({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var rl=function n(e){var S=(e=null==e?sr:rl.defaults(sr.Object(),e,rl.pick(sr,bo))).Array,s=e.Date,C=e.Error,P=e.Function,R=e.Math,f=e.Object,L=e.RegExp,V=e.String,w=e.TypeError,G=S.prototype,H=P.prototype,W=f.prototype,q=e["__core-js_shared__"],X=H.toString,O=W.hasOwnProperty,Y=0,J=(H=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",K=W.toString,Z=X.call(f),$=sr._,Q=L("^"+X.call(O).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=wo?e.Buffer:Us,t=e.Symbol,ee=e.Uint8Array,te=H?H.allocUnsafe:Us,ie=il(f.getPrototypeOf,f),ae=f.create,ne=W.propertyIsEnumerable,se=G.splice,re=t?t.isConcatSpreadable:Us,oe=t?t.iterator:Us,le=t?t.toStringTag:Us,ce=function(){try{var e=Zi(f,"defineProperty");return e({},"",{}),e}catch(e){}}(),de=e.clearTimeout!==sr.clearTimeout&&e.clearTimeout,pe=s&&s.now!==sr.Date.now&&s.now,ue=e.setTimeout!==sr.setTimeout&&e.setTimeout,he=R.ceil,me=R.floor,fe=f.getOwnPropertySymbols,H=H?H.isBuffer:Us,ge=e.isFinite,_e=G.join,ye=il(f.keys,f),T=R.max,A=R.min,be=s.now,ve=e.parseInt,xe=R.random,Se=G.reverse,s=Zi(e,"DataView"),we=Zi(e,"Map"),Te=Zi(e,"Promise"),Ae=Zi(e,"Set"),e=Zi(e,"WeakMap"),Me=Zi(f,"create"),Ie=e&&new e,Ee={},ze=Sa(s),ke=Sa(we),De=Sa(Te),Ce=Sa(Ae),Pe=Sa(e),t=t?t.prototype:Us,Re=t?t.valueOf:Us,Le=t?t.toString:Us;function m(e){if(B(e)&&!U(e)&&!(e instanceof _)){if(e instanceof g)return e;if(O.call(e,"__wrapped__"))return wa(e)}return new g(e)}var Oe=function(e){if(!x(e))return{};if(ae)return ae(e);Ne.prototype=e;e=new Ne;return Ne.prototype=Us,e};function Ne(){}function je(){}function g(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Us}function _(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Hs,this.__views__=[]}function Fe(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Ue(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Ve(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Be;++t<i;)this.add(e[t])}function N(e){e=this.__data__=new Ue(e);this.size=e.size}function Ge(e,t){var i,a=U(e),n=!a&&_n(e),s=!a&&!n&&bn(e),r=!a&&!n&&!s&&kn(e),o=a||n||s||r,l=o?qo(e.length,V):[],c=l.length;for(i in e)!t&&!O.call(e,i)||o&&("length"==i||s&&("offset"==i||"parent"==i)||r&&("buffer"==i||"byteLength"==i||"byteOffset"==i)||aa(i,c))||l.push(i);return l}function He(e){var t=e.length;return t?e[jt(0,t-1)]:Us}function We(e,t){return ya(M(e),et(t,0,e.length))}function qe(e){return ya(M(e))}function Xe(e,t,i){(i===Us||F(e[t],i))&&(i!==Us||t in e)||$e(e,t,i)}function Ye(e,t,i){var a=e[t];O.call(e,t)&&F(a,i)&&(i!==Us||t in e)||$e(e,t,i)}function Je(e,t){for(var i=e.length;i--;)if(F(e[i][0],t))return i;return-1}function Ke(e,a,n,s){return nt(e,function(e,t,i){a(s,e,n(e),i)}),s}function Ze(e,t){return e&&fi(t,z(t),e)}function $e(e,t,i){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Qe(e,t){for(var i=-1,a=t.length,n=S(a),s=null==e;++i<a;)n[i]=s?Us:Hn(e,t[i]);return n}function et(e,t,i){return e=e==e&&(i!==Us&&(e=e<=i?e:i),t!==Us)?t<=e?e:t:e}function y(i,a,n,e,t,s){var r,o=1&a,l=2&a,c=4&a;if((r=n?t?n(i,e,t,s):n(i):r)===Us){if(!x(i))return i;var d,e=U(i);if(e){if(r=function(e){var t=e.length,i=new e.constructor(t);t&&"string"==typeof e[0]&&O.call(e,"index")&&(i.index=e.index,i.input=e.input);return i}(i),!o)return M(i,r)}else{var p=j(i),u=p==wr||p==Tr;if(bn(i))return ci(i,o);if(p==Ks||p==Ws||u&&!t){if(r=l||u?{}:ta(i),!o)return l?(h=u=i,h=(d=r)&&fi(h,k(h),d),fi(u,Qi(u),h)):(u=Ze(r,d=i),fi(d,$i(d),u))}else{if(!nr[p])return t?i:{};r=function(e,t,i){var a=e.constructor;switch(t){case tr:return di(e);case qs:case Xs:return new a(+e);case ir:return function(e,t){t=t?di(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,i);case Ir:case Er:case zr:case kr:case Dr:case Cr:case Pr:case Rr:case Lr:return pi(e,i);case Ys:return new a;case Js:case Qs:return new a(e);case Zs:return function(e){var t=new e.constructor(e.source,so.exec(e));return t.lastIndex=e.lastIndex,t}(e);case $s:return new a;case Mr:return function(e){return Re?f(Re.call(e)):{}}(e)}}(i,p,o)}}var h=(s=s||new N).get(i);if(h)return h;s.set(i,r),En(i)?i.forEach(function(e){r.add(y(e,a,n,e,i,s))}):Tn(i)&&i.forEach(function(e,t){r.set(t,y(e,a,n,t,i,s))});var m=e?Us:(c?l?Wi:Hi:l?k:z)(i);or(m||i,function(e,t){m&&(e=i[t=e]),Ye(r,t,y(e,a,n,t,i,s))})}return r}function tt(e,t,i){var a=i.length;if(null==e)return!a;for(e=f(e);a--;){var n=i[a],s=t[n],r=e[n];if(r===Us&&!(n in e)||!s(r))return!1}return!0}function it(e,t,i){if("function"!=typeof e)throw new w(Bs);return ma(function(){e.apply(Us,i)},t)}function at(e,t,i,a){var n=-1,s=Po,r=!0,o=e.length,l=[],c=t.length;if(o){i&&(t=cr(t,ur(i))),a?(s=Ro,r=!1):200<=t.length&&(s=Jo,r=!1,t=new Ve(t));e:for(;++n<o;){var d=e[n],p=null==i?d:i(d),d=a||0!==d?d:0;if(r&&p==p){for(var u=c;u--;)if(t[u]===p)continue e;l.push(d)}else s(t,p,a)||l.push(d)}}return l}m.templateSettings={escape:Gr,evaluate:Hr,interpolate:Wr,variable:"",imports:{_:m}},(m.prototype=je.prototype).constructor=m,(g.prototype=Oe(je.prototype)).constructor=g,(_.prototype=Oe(je.prototype)).constructor=_,Fe.prototype.clear=function(){this.__data__=Me?Me(null):{},this.size=0},Fe.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Fe.prototype.get=function(e){var t,i=this.__data__;return Me?(t=i[e])===_r?Us:t:O.call(i,e)?i[e]:Us},Fe.prototype.has=function(e){var t=this.__data__;return Me?t[e]!==Us:O.call(t,e)},Fe.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Me&&t===Us?_r:t,this},Ue.prototype.clear=function(){this.__data__=[],this.size=0},Ue.prototype.delete=function(e){var t=this.__data__;return!((e=Je(t,e))<0||(e==t.length-1?t.pop():se.call(t,e,1),--this.size,0))},Ue.prototype.get=function(e){var t=this.__data__;return(e=Je(t,e))<0?Us:t[e][1]},Ue.prototype.has=function(e){return-1<Je(this.__data__,e)},Ue.prototype.set=function(e,t){var i=this.__data__,a=Je(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this},Be.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(we||Ue),string:new Fe}},Be.prototype.delete=function(e){return e=Ji(this,e).delete(e),this.size-=e?1:0,e},Be.prototype.get=function(e){return Ji(this,e).get(e)},Be.prototype.has=function(e){return Ji(this,e).has(e)},Be.prototype.set=function(e,t){var i=Ji(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this},Ve.prototype.add=Ve.prototype.push=function(e){return this.__data__.set(e,_r),this},Ve.prototype.has=function(e){return this.__data__.has(e)},N.prototype.clear=function(){this.__data__=new Ue,this.size=0},N.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},N.prototype.get=function(e){return this.__data__.get(e)},N.prototype.has=function(e){return this.__data__.has(e)},N.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ue){var a=i.__data__;if(!we||a.length<199)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new Be(a)}return i.set(e,t),this.size=i.size,this};var nt=yi(pt),st=yi(ut,!0);function rt(e,a){var n=!0;return nt(e,function(e,t,i){return n=!!a(e,t,i)}),n}function ot(e,t,i){for(var a=-1,n=e.length;++a<n;){var s,r,o=e[a],l=t(o);null!=l&&(s===Us?l==l&&!b(l):i(l,s))&&(s=l,r=o)}return r}function lt(e,a){var n=[];return nt(e,function(e,t,i){a(e,t,i)&&n.push(e)}),n}function l(e,t,i,a,n){var s=-1,r=e.length;for(i=i||ia,n=n||[];++s<r;){var o=e[s];0<t&&i(o)?1<t?l(o,t-1,i,a,n):dr(n,o):a||(n[n.length]=o)}return n}var ct=bi(),dt=bi(!0);function pt(e,t){return e&&ct(e,t,z)}function ut(e,t){return e&&dt(e,t,z)}function ht(t,e){return lr(e,function(e){return xn(t[e])})}function mt(e,t){for(var i=0,a=(t=si(t,e)).length;null!=e&&i<a;)e=e[xa(t[i++])];return i&&i==a?e:Us}function ft(e,t,i){t=t(e);return U(e)?t:dr(t,i(e))}function i(e){if(null==e)return e===Us?"[object Undefined]":"[object Null]";if(le&&le in f(e)){var t=e,i=O.call(t,le),a=t[le];try{t[le]=Us;var n=!0}catch(e){}var s=K.call(t);return n&&(i?t[le]=a:delete t[le]),s}return K.call(e)}function gt(e,t){return t<e}function _t(e,t){return null!=e&&O.call(e,t)}function yt(e,t){return null!=e&&t in f(e)}function bt(e,t,i){for(var a=i?Ro:Po,n=e[0].length,s=e.length,r=s,o=S(s),l=1/0,c=[];r--;){var d=e[r];r&&t&&(d=cr(d,ur(t))),l=A(d.length,l),o[r]=!i&&(t||120<=n&&120<=d.length)?new Ve(r&&d):Us}var d=e[0],p=-1,u=o[0];e:for(;++p<n&&c.length<l;){var h=d[p],m=t?t(h):h,h=i||0!==h?h:0;if(!(u?Jo(u,m):a(c,m,i))){for(r=s;--r;){var f=o[r];if(!(f?Jo(f,m):a(e[r],m,i)))continue e}u&&u.push(m),c.push(h)}}return c}function vt(e,t,i){t=null==(e=pa(e,t=si(t,e)))?e:e[xa(a(t))];return null==t?Us:rr(t,e,i)}function xt(e){return B(e)&&i(e)==Ws}function St(e,t,i,a,n){if(e===t)return!0;if(null==e||null==t||!B(e)&&!B(t))return e!=e&&t!=t;var s=St,r=U(e),o=U(t),l=r?xr:j(e),o=o?xr:j(t),c=(l=l==Ws?Ks:l)==Ks,d=(o=o==Ws?Ks:o)==Ks;if((o=l==o)&&bn(e)){if(!bn(t))return!1;c=!(r=!0)}if(o&&!c){n=n||new N;if(r||kn(e))return Vi(e,t,i,a,s,n);else{var p=e;var u=t;var h=l;var m=i;var f=a;var g=s;var _=n;switch(h){case ir:if(p.byteLength!=u.byteLength||p.byteOffset!=u.byteOffset)return!1;p=p.buffer,u=u.buffer;case tr:return p.byteLength==u.byteLength&&g(new ee(p),new ee(u))?!0:!1;case qs:case Xs:case Js:return F(+p,+u);case Sr:return p.name==u.name&&p.message==u.message;case Zs:case Qs:return p==u+"";case Ys:var y=tl;case $s:var b=1&m;if(y=y||al,p.size!=u.size&&!b)return!1;b=_.get(p);if(b)return b==u;m|=2,_.set(p,u);b=Vi(y(p),y(u),m,f,g,_);return _.delete(p),b;case Mr:if(Re)return Re.call(p)==Re.call(u)}return!1;return}}if(!(1&i)){r=c&&O.call(e,"__wrapped__"),l=d&&O.call(t,"__wrapped__");if(r||l)return c=r?e.value():e,d=l?t.value():t,n=n||new N,s(c,d,i,a,n)}if(o){n=n||new N;var v=e,x=t,S=i,w=a,T=s,A=n,M=1&S,I=Hi(v),E=I.length,r=Hi(x).length;if(E!=r&&!M)return!1;for(var z=E;z--;){var k=I[z];if(!(M?k in x:O.call(x,k)))return!1}r=A.get(v),l=A.get(x);if(r&&l)return r==x&&l==v;for(var D=!0,C=(A.set(v,x),A.set(x,v),M);++z<E;){k=I[z];var P,R=v[k],L=x[k];if(!((P=w?M?w(L,R,k,x,v,A):w(R,L,k,v,x,A):P)===Us?R===L||T(R,L,S,w,A):P)){D=!1;break}C=C||"constructor"==k}return D&&!C&&(r=v.constructor,l=x.constructor,r!=l)&&"constructor"in v&&"constructor"in x&&!("function"==typeof r&&r instanceof r&&"function"==typeof l&&l instanceof l)&&(D=!1),A.delete(v),A.delete(x),D}return!1}function wt(e,t,i,a){var n=i.length,s=n,r=!a;if(null==e)return!s;for(e=f(e);n--;){var o=i[n];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<s;){var l=(o=i[n])[0],c=e[l],d=o[1];if(r&&o[2]){if(c===Us&&!(l in e))return!1}else{var p,u=new N;if(!((p=a?a(c,d,l,e,t,u):p)===Us?St(d,c,3,a,u):p))return!1}}return!0}function Tt(e){var t;return!(!x(e)||(t=e,J&&J in t))&&(xn(e)?Q:lo).test(Sa(e))}function At(e){return"function"==typeof e?e:null==e?D:"object"==typeof e?U(e)?Dt(e[0],e[1]):kt(e):Is(e)}function Mt(e){if(!oa(e))return ye(e);var t,i=[];for(t in f(e))O.call(e,t)&&"constructor"!=t&&i.push(t);return i}function It(e){if(!x(e)){var t=e,i=[];if(null!=t)for(var a in f(t))i.push(a);return i}var n,s=oa(e),r=[];for(n in e)("constructor"!=n||!s&&O.call(e,n))&&r.push(n);return r}function Et(e,t){return e<t}function zt(e,a){var n=-1,s=d(e)?S(e.length):[];return nt(e,function(e,t,i){s[++n]=a(e,t,i)}),s}function kt(t){var i=Ki(t);return 1==i.length&&i[0][2]?ca(i[0][0],i[0][1]):function(e){return e===t||wt(e,t,i)}}function Dt(i,a){return na(i)&&la(a)?ca(xa(i),a):function(e){var t=Hn(e,i);return t===Us&&t===a?Wn(e,i):St(a,t,3)}}function Ct(f,g,_,y,b){f!==g&&ct(g,function(e,t){var i,a,n,s,r,o,l,c,d,p,u,h,m;b=b||new N,x(e)?(a=g,s=_,r=Ct,o=y,l=b,u=ua(i=f,n=t),h=ua(a,n),(m=l.get(h))?Xe(i,n,m):(m=o?o(u,h,n+"",i,a,l):Us,(a=m===Us)&&(c=U(h),d=!c&&bn(h),p=!c&&!d&&kn(h),m=h,c||d||p?m=U(u)?u:v(u)?M(u):d?ci(h,!(a=!1)):p?pi(h,!(a=!1)):[]:Mn(h)||_n(h)?_n(m=u)?m=On(u):x(u)&&!xn(u)||(m=ta(h)):a=!1),a&&(l.set(h,m),r(m,h,s,o,l),l.delete(h)),Xe(i,n,m))):(c=y?y(ua(f,t),e,t+"",f,g,b):Us,Xe(f,t,c=c===Us?e:c))},k)}function Pt(e,t){var i=e.length;if(i)return aa(t+=t<0?i:0,i)?e[t]:Us}function Rt(e,a,d){a=a.length?cr(a,function(t){return U(t)?function(e){return mt(e,1===t.length?t[0]:t)}:t}):[D];var n=-1;a=cr(a,ur(p()));var t=zt(e,function(t,e,i){return{criteria:cr(a,function(e){return e(t)}),index:++n,value:t}}),e=function(e,t){for(var i=d,a=-1,n=e.criteria,s=t.criteria,r=n.length,o=i.length;++a<r;){var l,c=ui(n[a],s[a]);if(c)return o<=a?c:(l=i[a],c*("desc"==l?-1:1))}return e.index-t.index},i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function Lt(e,t,i){for(var a=-1,n=t.length,s={};++a<n;){var r=t[a],o=mt(e,r);i(o,r)&&Vt(s,si(r,e),o)}return s}function Ot(e,t,i,a){var n=a?Uo:pr,s=-1,r=t.length,o=e;for(e===t&&(t=M(t)),i&&(o=cr(e,ur(i)));++s<r;)for(var l=0,c=t[s],d=i?i(c):c;-1<(l=n(o,d,l,a));)o!==e&&se.call(o,l,1),se.call(e,l,1);return e}function Nt(e,t){for(var i=e?t.length:0,a=i-1;i--;){var n,s=t[i];i!=a&&s===n||(aa(n=s)?se.call(e,s,1):Zt(e,s))}}function jt(e,t){return e+me(xe()*(t-e+1))}function Ft(e,t){var i="";if(!(!e||t<1||Gs<t))for(;t%2&&(i+=e),(t=me(t/2))&&(e+=e),t;);return i}function r(e,t){return fa(da(e,t,D),e+"")}function Ut(e){return He(is(e))}function Bt(e,t){e=is(e);return ya(e,et(t,0,e.length))}function Vt(e,t,i,a){if(x(e))for(var n=-1,s=(t=si(t,e)).length,r=s-1,o=e;null!=o&&++n<s;){var l,c=xa(t[n]),d=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;Ye(o,c,d=n!=r&&(l=o[c],(d=a?a(l,c,o):Us)===Us)?x(l)?l:aa(t[n+1])?[]:{}:d),o=o[c]}return e}var Gt=Ie?function(e,t){return Ie.set(e,t),e}:D,t=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:gs(t),writable:!0})}:D;function Ht(e){return ya(is(e))}function o(e,t,i){for(var a=-1,n=e.length,s=((i=n<i?n:i)<0&&(i+=n),n=i<(t=t<0?n<-t?0:n+t:t)?0:i-t>>>0,t>>>=0,S(n));++a<n;)s[a]=e[a+t];return s}function Wt(e,a){var n;return nt(e,function(e,t,i){return!(n=a(e,t,i))}),!!n}function qt(e,t,i){var a=0,n=null==e?a:e.length;if("number"==typeof t&&t==t&&n<=2147483647){for(;a<n;){var s=a+n>>>1,r=e[s];null!==r&&!b(r)&&(i?r<=t:r<t)?a=1+s:n=s}return n}return Xt(e,t,D,i)}function Xt(e,t,i,a){var n=0,s=null==e?0:e.length;if(0===s)return 0;for(var r=(t=i(t))!=t,o=null===t,l=b(t),c=t===Us;n<s;){var d=me((n+s)/2),p=i(e[d]),u=p!==Us,h=null===p,m=p==p,f=b(p),m=r?a||m:c?m&&(a||u):o?m&&u&&(a||!h):l?m&&u&&!h&&(a||!f):!h&&!f&&(a?p<=t:p<t);m?n=d+1:s=d}return A(s,4294967294)}function Yt(e,t){for(var i=-1,a=e.length,n=0,s=[];++i<a;){var r,o=e[i],l=t?t(o):o;i&&F(l,r)||(r=l,s[n++]=0===o?0:o)}return s}function Jt(e){return"number"==typeof e?e:b(e)?br:+e}function c(e){var t;return"string"==typeof e?e:U(e)?cr(e,c)+"":b(e)?Le?Le.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Kt(e,t,i){var a=-1,n=Po,s=e.length,r=!0,o=[],l=o;if(i)r=!1,n=Ro;else if(200<=s){var c=t?null:Oi(e);if(c)return al(c);r=!1,n=Jo,l=new Ve}else l=t?[]:o;e:for(;++a<s;){var d=e[a],p=t?t(d):d,d=i||0!==d?d:0;if(r&&p==p){for(var u=l.length;u--;)if(l[u]===p)continue e;t&&l.push(p),o.push(d)}else n(l,p,i)||(l!==o&&l.push(p),o.push(d))}return o}function Zt(e,t){return null==(e=pa(e,t=si(t,e)))||delete e[xa(a(t))]}function $t(e,t,i,a){return Vt(e,t,i(mt(e,t)),a)}function Qt(e,t,i,a){for(var n=e.length,s=a?n:-1;(a?s--:++s<n)&&t(e[s],s,e););return i?o(e,a?0:s,a?s+1:n):o(e,a?s+1:0,a?n:s)}function ei(e,t){var i=e;return Lo(t,function(e,t){return t.func.apply(t.thisArg,dr([e],t.args))},i=e instanceof _?e.value():i)}function ti(e,t,i){var a=e.length;if(a<2)return a?Kt(e[0]):[];for(var n=-1,s=S(a);++n<a;)for(var r=e[n],o=-1;++o<a;)o!=n&&(s[n]=at(s[n]||r,e[o],t,i));return Kt(l(s,1),t,i)}function ii(e,t,i){for(var a=-1,n=e.length,s=t.length,r={};++a<n;){var o=a<s?t[a]:Us;i(r,e[a],o)}return r}function ai(e){return v(e)?e:[]}function ni(e){return"function"==typeof e?e:D}function si(e,t){return U(e)?e:na(e,t)?[e]:va(h(e))}var ri=r;function oi(e,t,i){var a=e.length;return i=i===Us?a:i,!t&&a<=i?e:o(e,t,i)}var li=de||function(e){return sr.clearTimeout(e)};function ci(e,t){return t?e.slice():(t=e.length,t=te?te(t):new e.constructor(t),e.copy(t),t)}function di(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function pi(e,t){t=t?di(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function ui(e,t){if(e!==t){var i=e!==Us,a=null===e,n=e==e,s=b(e),r=t!==Us,o=null===t,l=t==t,c=b(t);if(!o&&!c&&!s&&t<e||s&&r&&l&&!o&&!c||a&&r&&l||!i&&l||!n)return 1;if(!a&&!s&&!c&&e<t||c&&i&&n&&!a&&!s||o&&i&&n||!r&&n||!l)return-1}return 0}function hi(e,t,i,a){for(var n=-1,s=e.length,r=i.length,o=-1,l=t.length,c=T(s-r,0),d=S(l+c),p=!a;++o<l;)d[o]=t[o];for(;++n<r;)(p||n<s)&&(d[i[n]]=e[n]);for(;c--;)d[o++]=e[n++];return d}function mi(e,t,i,a){for(var n=-1,s=e.length,r=-1,o=i.length,l=-1,c=t.length,d=T(s-o,0),p=S(d+c),u=!a;++n<d;)p[n]=e[n];for(var h=n;++l<c;)p[h+l]=t[l];for(;++r<o;)(u||n<s)&&(p[h+i[r]]=e[n++]);return p}function M(e,t){var i=-1,a=e.length;for(t=t||S(a);++i<a;)t[i]=e[i];return t}function fi(e,t,i,a){for(var n=!i,s=(i=i||{},-1),r=t.length;++s<r;){var o=t[s],l=a?a(i[o],e[o],o,i,e):Us;(n?$e:Ye)(i,o,l=l===Us?e[o]:l)}return i}function gi(n,s){return function(e,t){var i=U(e)?ko:Ke,a=s?s():{};return i(e,n,p(t,2),a)}}function _i(o){return r(function(e,t){var i=-1,a=t.length,n=1<a?t[a-1]:Us,s=2<a?t[2]:Us,n=3<o.length&&"function"==typeof n?(a--,n):Us;for(s&&u(t[0],t[1],s)&&(n=a<3?Us:n,a=1),e=f(e);++i<a;){var r=t[i];r&&o(e,r,i,n)}return e})}function yi(s,r){return function(e,t){if(null!=e){if(!d(e))return s(e,t);for(var i=e.length,a=r?i:-1,n=f(e);(r?a--:++a<i)&&!1!==t(n[a],a,n););}return e}}function bi(l){return function(e,t,i){for(var a=-1,n=f(e),s=i(e),r=s.length;r--;){var o=s[l?r:++a];if(!1===t(n[o],o,n))break}return e}}function vi(a){return function(e){var t=hr(e=h(e))?gr(e):Us,i=t?t[0]:e.charAt(0),t=t?oi(t,1).join(""):e.slice(1);return i[a]()+t}}function xi(t){return function(e){return Lo(hs(ss(e).replace(fo,"")),t,"")}}function Si(a){return function(){var e=arguments;switch(e.length){case 0:return new a;case 1:return new a(e[0]);case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[1],e[2]);case 4:return new a(e[0],e[1],e[2],e[3]);case 5:return new a(e[0],e[1],e[2],e[3],e[4]);case 6:return new a(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new a(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Oe(a.prototype),i=a.apply(t,e);return x(i)?i:t}}function wi(s,r,o){var l=Si(s);return function e(){for(var t=arguments.length,i=S(t),a=t,n=Yi(e);a--;)i[a]=arguments[a];n=t<3&&i[0]!==n&&i[t-1]!==n?[]:mr(i,n);return(t-=n.length)<o?Ri(s,r,Mi,e.placeholder,Us,i,n,Us,Us,o-t):rr(this&&this!==sr&&this instanceof e?l:s,this,i)}}function Ti(s){return function(e,t,i){var a,n=f(e),t=(d(e)||(a=p(t,3),e=z(e),t=function(e){return a(n[e],e,n)}),s(e,t,i));return-1<t?n[a?e[t]:t]:Us}}function Ai(l){return Gi(function(n){var s=n.length,e=s,t=g.prototype.thru;for(l&&n.reverse();e--;){var i=n[e];if("function"!=typeof i)throw new w(Bs);t&&!o&&"wrapper"==Xi(i)&&(o=new g([],!0))}for(e=o?e:s;++e<s;)var a=Xi(i=n[e]),r="wrapper"==a?qi(i):Us,o=r&&sa(r[0])&&424==r[1]&&!r[4].length&&1==r[9]?o[Xi(r[0])].apply(o,r[3]):1==i.length&&sa(i)?o[a]():o.thru(i);return function(){var e=arguments,t=e[0];if(o&&1==e.length&&U(t))return o.plant(t).value();for(var i=0,a=s?n[i].apply(this,e):t;++i<s;)a=n[i].call(this,a);return a}})}function Mi(r,o,l,c,d,p,u,h,m,f){var g=o&Vs,_=1&o,y=2&o,b=24&o,v=512&o,x=y?Us:Si(r);return function e(){for(var t,i,a,n=S(a=arguments.length),s=a;s--;)n[s]=arguments[s];return b&&(i=function(e,t){for(var i=e.length,a=0;i--;)e[i]===t&&++a;return a}(n,t=Yi(e))),c&&(n=hi(n,c,d,b)),p&&(n=mi(n,p,u,b)),a-=i,b&&a<f?(i=mr(n,t),Ri(r,o,Mi,e.placeholder,l,n,i,h,m,f-a)):(t=_?l:this,i=y?t[r]:r,a=n.length,h?n=function(e,t){for(var i=e.length,a=A(t.length,i),n=M(e);a--;){var s=t[a];e[a]=aa(s,i)?n[s]:Us}return e}(n,h):v&&1<a&&n.reverse(),g&&m<a&&(n.length=m),(i=this&&this!==sr&&this instanceof e?x||Si(i):i).apply(t,n))}}function Ii(i,r){return function(e,t){return e=e,a=i,n=r(t),s={},pt(e,function(e,t,i){a(s,n(e),t,i)}),s;var a,n,s}}function Ei(a,n){return function(e,t){var i;if(e===Us&&t===Us)return n;if(e!==Us&&(i=e),t!==Us){if(i===Us)return t;t=("string"==typeof e||"string"==typeof t?(e=c(e),c):(e=Jt(e),Jt))(t),i=a(e,t)}return i}}function zi(a){return Gi(function(e){return e=cr(e,ur(p())),r(function(t){var i=this;return a(e,function(e){return rr(e,i,t)})})})}function ki(e,t){var i=(t=t===Us?" ":c(t)).length;return i<2?i?Ft(t,e):t:(i=Ft(t,he(e/fr(t))),hr(t)?oi(gr(i),0,e).join(""):i.slice(0,e))}function Di(o,e,l,c){var d=1&e,p=Si(o);return function e(){for(var t=-1,i=arguments.length,a=-1,n=c.length,s=S(n+i),r=this&&this!==sr&&this instanceof e?p:o;++a<n;)s[a]=c[a];for(;i--;)s[a++]=arguments[++t];return rr(r,d?l:this,s)}}function Ci(c){return function(e,t,i){i&&"number"!=typeof i&&u(e,t,i)&&(t=i=Us),e=Rn(e),t===Us?(t=e,e=0):t=Rn(t),i=i===Us?e<t?1:-1:Rn(i);for(var a=e,n=i,s=c,r=-1,o=T(he((t-a)/(n||1)),0),l=S(o);o--;)l[s?o:++r]=a,a+=n;return l}}function Pi(i){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=E(e),t=E(t)),i(e,t)}}function Ri(e,t,i,a,n,s,r,o,l,c){var d=8&t,n=(4&(t=(t|(d?32:64))&~(d?64:32))||(t&=-4),[e,t,n,d?s:Us,d?r:Us,d?Us:s,d?Us:r,o,l,c]),s=i.apply(Us,n);return sa(e)&&ha(s,n),s.placeholder=a,ga(s,e,t)}function Li(e){var a=R[e];return function(e,t){var i;return e=E(e),(t=null==t?0:A(I(t),292))&&ge(e)?(i=(h(e)+"e").split("e"),+((i=(h(a(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):a(e)}}var Oi=Ae&&1/al(new Ae([,-0]))[1]==1/0?function(e){return new Ae(e)}:ws;function Ni(s){return function(e){var t,i,a,n=j(e);return n==Ys?tl(e):n==$s?(n=e,t=-1,i=Array(n.size),n.forEach(function(e){i[++t]=[e,e]}),i):cr(s(a=e),function(e){return[e,a[e]]})}}function ji(e,t,i,a,n,s,r,o){var l,c,d,p,u,h,m,f,g,_,y,b,v,x=2&t;if(x||"function"==typeof e)return(l=a?a.length:0)||(t&=-97,a=n=Us),r=r===Us?r:T(I(r),0),o=o===Us?o:I(o),l-=n?n.length:0,64&t&&(d=a,p=n,a=n=Us),c=x?Us:qi(e),d=[e,t,i,a,n,d,p,s,r,o],c&&(p=c,r=(s=d)[1],h=p[1],f=(m=r|h)<131,g=h==Vs&&8==r||h==Vs&&256==r&&s[7].length<=p[8]||384==h&&p[7].length<=p[8]&&8==r,f||g)&&(1&h&&(s[2]=p[2],m|=1&r?0:4),(f=p[3])&&(u=s[3],s[3]=u?hi(u,f,p[4]):f,s[4]=u?mr(s[3],yr):p[4]),(f=p[5])&&(u=s[5],s[5]=u?mi(u,f,p[6]):f,s[6]=u?mr(s[5],yr):p[6]),(f=p[7])&&(s[7]=f),h&Vs&&(s[8]=null==s[8]?p[8]:A(s[8],p[8])),null==s[9]&&(s[9]=p[9]),s[0]=p[0],s[1]=m),e=d[0],t=d[1],i=d[2],a=d[3],n=d[4],!(o=d[9]=d[9]===Us?x?0:e.length:T(d[9]-l,0))&&24&t&&(t&=-25),g=t&&1!=t?8==t||16==t?wi(e,t,o):32!=t&&33!=t||n.length?Mi.apply(Us,d):Di(e,t,i,a):(y=i,b=1&t,v=Si(_=e),function e(){return(this&&this!==sr&&this instanceof e?v:_).apply(b?y:this,arguments)}),ga((c?Gt:ha)(g,d),e,t);throw new w(Bs)}function Fi(e,t,i,a){return e===Us||F(e,W[i])&&!O.call(a,i)?t:e}function Ui(e,t,i,a,n,s){return x(e)&&x(t)&&(s.set(t,e),Ct(e,t,Us,Ui,s),s.delete(t)),e}function Bi(e){return Mn(e)?Us:e}function Vi(e,t,i,a,n,s){var r=1&i,o=e.length,l=t.length;if(o!=l&&!(r&&o<l))return!1;var l=s.get(e),c=s.get(t);if(l&&c)return l==t&&c==e;var d=-1,p=!0,u=2&i?new Ve:Us;for(s.set(e,t),s.set(t,e);++d<o;){var h,m=e[d],f=t[d];if((h=a?r?a(f,m,d,t,e,s):a(m,f,d,e,t,s):h)!==Us){if(h)continue;p=!1;break}if(u){if(!No(t,function(e,t){return!Jo(u,t)&&(m===e||n(m,e,i,a,s))&&u.push(t)})){p=!1;break}}else if(m!==f&&!n(m,f,i,a,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Gi(e){return fa(da(e,Us,Ma),e+"")}function Hi(e){return ft(e,z,$i)}function Wi(e){return ft(e,k,Qi)}var qi=Ie?function(e){return Ie.get(e)}:ws;function Xi(e){for(var t=e.name+"",i=Ee[t],a=O.call(Ee,t)?i.length:0;a--;){var n=i[a],s=n.func;if(null==s||s==e)return n.name}return t}function Yi(e){return(O.call(m,"placeholder")?m:e).placeholder}function p(){var e=(e=m.iteratee||bs)===bs?At:e;return arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var i,a,e=e.__data__;return("string"==(a=typeof(i=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?e["string"==typeof t?"string":"hash"]:e.map}function Ki(e){for(var t=z(e),i=t.length;i--;){var a=t[i],n=e[a];t[i]=[a,n,la(n)]}return t}function Zi(e,t){t=t;e=null==(e=e)?Us:e[t];return Tt(e)?e:Us}var $i=fe?function(t){return null==t?[]:(t=f(t),lr(fe(t),function(e){return ne.call(t,e)}))}:ks,Qi=fe?function(e){for(var t=[];e;)dr(t,$i(e)),e=ie(e);return t}:ks,j=i;function ea(e,t,i){for(var a=-1,n=(t=si(t,e)).length,s=!1;++a<n;){var r=xa(t[a]);if(!(s=null!=e&&i(e,r)))break;e=e[r]}return s||++a!=n?s:!!(n=null==e?0:e.length)&&wn(n)&&aa(r,n)&&(U(e)||_n(e))}function ta(e){return"function"!=typeof e.constructor||oa(e)?{}:Oe(ie(e))}function ia(e){return U(e)||_n(e)||!!(re&&e&&e[re])}function aa(e,t){var i=typeof e;return!!(t=null==t?Gs:t)&&("number"==i||"symbol"!=i&&po.test(e))&&-1<e&&e%1==0&&e<t}function u(e,t,i){var a;if(x(i))return("number"==(a=typeof t)?d(i)&&aa(t,i.length):"string"==a&&t in i)&&F(i[t],e)}function na(e,t){var i;if(!U(e))return"number"==(i=typeof e)||"symbol"==i||"boolean"==i||null==e||b(e)||Xr.test(e)||!qr.test(e)||null!=t&&e in f(t)}function sa(e){var t=Xi(e),i=m[t];return"function"==typeof i&&t in _.prototype&&(e===i||(t=qi(i))&&e===t[0])}(s&&j(new s(new ArrayBuffer(1)))!=ir||we&&j(new we)!=Ys||Te&&j(Te.resolve())!=Ar||Ae&&j(new Ae)!=$s||e&&j(new e)!=er)&&(j=function(e){var t=i(e),e=t==Ks?e.constructor:Us,e=e?Sa(e):"";if(e)switch(e){case ze:return ir;case ke:return Ys;case De:return Ar;case Ce:return $s;case Pe:return er}return t});var ra=q?xn:Ds;function oa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function la(e){return e==e&&!x(e)}function ca(t,i){return function(e){return null!=e&&e[t]===i&&(i!==Us||t in f(e))}}function da(s,r,o){return r=T(r===Us?s.length-1:r,0),function(){for(var e=arguments,t=-1,i=T(e.length-r,0),a=S(i);++t<i;)a[t]=e[r+t];for(var t=-1,n=S(r+1);++t<r;)n[t]=e[t];return n[r]=o(a),rr(s,this,n)}}function pa(e,t){return t.length<2?e:mt(e,o(t,0,-1))}function ua(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ha=_a(Gt),ma=ue||function(e,t){return sr.setTimeout(e,t)},fa=_a(t);function ga(e,t,i){var a,n,s,t=t+"";return fa(e,(n=(t=(t=e=t).match(Qr))?t[1].split(eo):[],s=i,or(vr,function(e){var t="_."+e[0];s&e[1]&&!Po(n,t)&&n.push(t)}),t=n.sort(),(i=t.length)?(t[a=i-1]=(1<i?"& ":"")+t[a],t=t.join(2<i?", ":" "),e.replace($r,"{\n/* [wrapped with "+t+"] */\n")):e))}function _a(i){var a=0,n=0;return function(){var e=be(),t=16-(e-n);if(n=e,0<t){if(800<=++a)return arguments[0]}else a=0;return i.apply(Us,arguments)}}function ya(e,t){var i=-1,a=e.length,n=a-1;for(t=t===Us?a:t;++i<t;){var s=jt(i,n),r=e[s];e[s]=e[i],e[i]=r}return e.length=t,e}ba=(de=dn(de=function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(Yr,function(e,t,i,a){n.push(i?a.replace(ao,"$1"):t||e)}),n},function(e){return 500===ba.size&&ba.clear(),e})).cache;var ba,va=de;function xa(e){var t;return"string"==typeof e||b(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Sa(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function wa(e){var t;return e instanceof _?e.clone():((t=new g(e.__wrapped__,e.__chain__)).__actions__=M(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t)}s=r(function(e,t){return v(e)?at(e,l(t,1,v,!0)):[]}),Te=r(function(e,t){var i=a(t);return v(i)&&(i=Us),v(e)?at(e,l(t,1,v,!0),p(i,2)):[]}),e=r(function(e,t){var i=a(t);return v(i)&&(i=Us),v(e)?at(e,l(t,1,v,!0),Us,i):[]});function Ta(e,t,i){var a=null==e?0:e.length;return a?((i=null==i?0:I(i))<0&&(i=T(a+i,0)),Fo(e,p(t,3),i)):-1}function Aa(e,t,i){var a,n=null==e?0:e.length;return n?(a=n-1,i!==Us&&(a=I(i),a=i<0?T(n+a,0):A(a,n-1)),Fo(e,p(t,3),a,!0)):-1}function Ma(e){return(null==e?0:e.length)?l(e,1):[]}function Ia(e){return e&&e.length?e[0]:Us}q=r(function(e){var t=cr(e,ai);return t.length&&t[0]===e[0]?bt(t):[]}),ue=r(function(e){var t=a(e),i=cr(e,ai);return t===a(i)?t=Us:i.pop(),i.length&&i[0]===e[0]?bt(i,p(t,2)):[]}),t=r(function(e){var t=a(e),i=cr(e,ai);return(t="function"==typeof t?t:Us)&&i.pop(),i.length&&i[0]===e[0]?bt(i,Us,t):[]});function a(e){var t=null==e?0:e.length;return t?e[t-1]:Us}de=r(Ea);function Ea(e,t){return e&&e.length&&t&&t.length?Ot(e,t):e}var za=Gi(function(e,t){var i=null==e?0:e.length,a=Qe(e,t);return Nt(e,cr(t,function(e){return aa(e,i)?+e:e}).sort(ui)),a});function ka(e){return null==e?e:Se.call(e)}var Da=r(function(e){return Kt(l(e,1,v,!0))}),Ca=r(function(e){var t=a(e);return v(t)&&(t=Us),Kt(l(e,1,v,!0),p(t,2))}),Pa=r(function(e){var t="function"==typeof(t=a(e))?t:Us;return Kt(l(e,1,v,!0),Us,t)});function Ra(t){var i;return t&&t.length?(i=0,t=lr(t,function(e){return v(e)&&(i=T(e.length,i),1)}),qo(i,function(e){return cr(t,Go(e))})):[]}function La(e,t){return e&&e.length?(e=Ra(e),null==t?e:cr(e,function(e){return rr(t,Us,e)})):[]}var Oa=r(function(e,t){return v(e)?at(e,t):[]}),Na=r(function(e){return ti(lr(e,v))}),ja=r(function(e){var t=a(e);return v(t)&&(t=Us),ti(lr(e,v),p(t,2))}),Fa=r(function(e){var t="function"==typeof(t=a(e))?t:Us;return ti(lr(e,v),Us,t)}),Ua=r(Ra);var Ba=r(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Us)?(e.pop(),t):Us;return La(e,t)});function Va(e){e=m(e);return e.__chain__=!0,e}function Ga(e,t){return t(e)}var Ha=Gi(function(t){function e(e){return Qe(e,t)}var i=t.length,a=i?t[0]:0,n=this.__wrapped__;return!(1<i||this.__actions__.length)&&n instanceof _&&aa(a)?((n=n.slice(a,+a+(i?1:0))).__actions__.push({func:Ga,args:[e],thisArg:Us}),new g(n,this.__chain__).thru(function(e){return i&&!e.length&&e.push(Us),e})):this.thru(e)});var Wa=gi(function(e,t,i){O.call(e,i)?++e[i]:$e(e,i,1)});var qa=Ti(Ta),Xa=Ti(Aa);function Ya(e,t){return(U(e)?or:nt)(e,p(t,3))}function Ja(e,t){return(U(e)?Do:st)(e,p(t,3))}var Ka=gi(function(e,t,i){O.call(e,i)?e[i].push(t):$e(e,i,[t])});var Za=r(function(e,t,i){var a=-1,n="function"==typeof t,s=d(e)?S(e.length):[];return nt(e,function(e){s[++a]=n?rr(t,e,i):vt(e,t,i)}),s}),$a=gi(function(e,t,i){$e(e,i,t)});function Qa(e,t){return(U(e)?cr:zt)(e,p(t,3))}var en=gi(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});var tn=r(function(e,t){var i;return null==e?[]:(1<(i=t.length)&&u(e,t[0],t[1])?t=[]:2<i&&u(t[0],t[1],t[2])&&(t=[t[0]]),Rt(e,l(t,1),[]))}),an=pe||function(){return sr.Date.now()};function nn(e,t,i){return t=i?Us:t,t=e&&null==t?e.length:t,ji(e,Vs,Us,Us,Us,Us,t)}function sn(e,t){var i;if("function"!=typeof t)throw new w(Bs);return e=I(e),function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=Us),i}}var rn=r(function(e,t,i){var a,n=1;return i.length&&(a=mr(i,Yi(rn)),n|=32),ji(e,n,t,i,a)}),on=r(function(e,t,i){var a,n=3;return i.length&&(a=mr(i,Yi(on)),n|=32),ji(t,n,e,i,a)});function ln(a,i,e){var n,s,r,o,l,c,d=0,p=!1,u=!1,t=!0;if("function"!=typeof a)throw new w(Bs);function h(e){var t=n,i=s;return n=s=Us,d=e,o=a.apply(i,t)}function m(e){var t=e-c;return c===Us||i<=t||t<0||u&&r<=e-d}function f(){var e,t=an();if(m(t))return g(t);l=ma(f,(e=i-((t=t)-c),u?A(e,r-(t-d)):e))}function g(e){return l=Us,t&&n?h(e):(n=s=Us,o)}function _(){var e=an(),t=m(e);if(n=arguments,s=this,c=e,t){if(l===Us)return d=e=c,l=ma(f,i),p?h(e):o;if(u)return li(l),l=ma(f,i),h(c)}return l===Us&&(l=ma(f,i)),o}return i=E(i)||0,x(e)&&(p=!!e.leading,u="maxWait"in e,r=u?T(E(e.maxWait)||0,i):r,t="trailing"in e?!!e.trailing:t),_.cancel=function(){l!==Us&&li(l),d=0,n=c=s=l=Us},_.flush=function(){return l===Us?o:g(an())},_}var pe=r(function(e,t){return it(e,1,t)}),cn=r(function(e,t,i){return it(e,E(t)||0,i)});function dn(a,n){if("function"!=typeof a||null!=n&&"function"!=typeof n)throw new w(Bs);function s(){var e=arguments,t=n?n.apply(this,e):e[0],i=s.cache;return i.has(t)?i.get(t):(e=a.apply(this,e),s.cache=i.set(t,e)||i,e)}return s.cache=new(dn.Cache||Be),s}function pn(t){if("function"!=typeof t)throw new w(Bs);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}dn.Cache=Be;var ri=ri(function(a,n){var s=(n=1==n.length&&U(n[0])?cr(n[0],ur(p())):cr(l(n,1),ur(p()))).length;return r(function(e){for(var t=-1,i=A(e.length,s);++t<i;)e[t]=n[t].call(this,e[t]);return rr(a,this,e)})}),un=r(function(e,t){var i=mr(t,Yi(un));return ji(e,32,Us,t,i)}),hn=r(function(e,t){var i=mr(t,Yi(hn));return ji(e,64,Us,t,i)}),mn=Gi(function(e,t){return ji(e,256,Us,Us,Us,t)});function F(e,t){return e===t||e!=e&&t!=t}var fn=Pi(gt),gn=Pi(function(e,t){return t<=e}),_n=xt(function(){return arguments}())?xt:function(e){return B(e)&&O.call(e,"callee")&&!ne.call(e,"callee")},U=S.isArray,yn=To?ur(To):function(e){return B(e)&&i(e)==tr};function d(e){return null!=e&&wn(e.length)&&!xn(e)}function v(e){return B(e)&&d(e)}var bn=H||Ds,H=Ao?ur(Ao):function(e){return B(e)&&i(e)==Xs};function vn(e){var t;return!!B(e)&&((t=i(e))==Sr||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Mn(e))}function xn(e){return!!x(e)&&((e=i(e))==wr||e==Tr||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function Sn(e){return"number"==typeof e&&e==I(e)}function wn(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Gs}function x(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function B(e){return null!=e&&"object"==typeof e}var Tn=Mo?ur(Mo):function(e){return B(e)&&j(e)==Ys};function An(e){return"number"==typeof e||B(e)&&i(e)==Js}function Mn(e){return!(!B(e)||i(e)!=Ks)&&(null===(e=ie(e))||"function"==typeof(e=O.call(e,"constructor")&&e.constructor)&&e instanceof e&&X.call(e)==Z)}var In=Io?ur(Io):function(e){return B(e)&&i(e)==Zs};var En=Eo?ur(Eo):function(e){return B(e)&&j(e)==$s};function zn(e){return"string"==typeof e||!U(e)&&B(e)&&i(e)==Qs}function b(e){return"symbol"==typeof e||B(e)&&i(e)==Mr}var kn=zo?ur(zo):function(e){return B(e)&&wn(e.length)&&!!ar[i(e)]};var Dn=Pi(Et),Cn=Pi(function(e,t){return e<=t});function Pn(e){if(!e)return[];if(d(e))return(zn(e)?gr:M)(e);if(oe&&e[oe]){for(var t,i=e[oe](),a=[];!(t=i.next()).done;)a.push(t.value);return a}var n=j(e);return(n==Ys?tl:n==$s?al:is)(e)}function Rn(e){return e?(e=E(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function I(e){var e=Rn(e),t=e%1;return e==e?t?e-t:e:0}function Ln(e){return e?et(I(e),0,Hs):0}function E(e){if("number"==typeof e)return e;if(b(e))return br;if("string"!=typeof(e=x(e)?x(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=Xo(e);var t=oo.test(e);return t||co.test(e)?So(e.slice(2),t?2:8):ro.test(e)?br:+e}function On(e){return fi(e,k(e))}function h(e){return null==e?"":c(e)}var Nn=_i(function(e,t){if(oa(t)||d(t))fi(t,z(t),e);else for(var i in t)O.call(t,i)&&Ye(e,i,t[i])}),jn=_i(function(e,t){fi(t,k(t),e)}),Fn=_i(function(e,t,i,a){fi(t,k(t),e,a)}),Un=_i(function(e,t,i,a){fi(t,z(t),e,a)}),Bn=Gi(Qe);var Vn=r(function(e,t){e=f(e);var i=-1,a=t.length,n=2<a?t[2]:Us;for(n&&u(t[0],t[1],n)&&(a=1);++i<a;)for(var s=t[i],r=k(s),o=-1,l=r.length;++o<l;){var c=r[o],d=e[c];(d===Us||F(d,W[c])&&!O.call(e,c))&&(e[c]=s[c])}return e}),Gn=r(function(e){return e.push(Us,Ui),rr(Kn,Us,e)});function Hn(e,t,i){e=null==e?Us:mt(e,t);return e===Us?i:e}function Wn(e,t){return null!=e&&ea(e,t,yt)}var qn=Ii(function(e,t,i){e[t=null!=t&&"function"!=typeof t.toString?K.call(t):t]=i},gs(D)),Xn=Ii(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=K.call(t)),O.call(e,t)?e[t].push(i):e[t]=[i]},p),Yn=r(vt);function z(e){return(d(e)?Ge:Mt)(e)}function k(e){return d(e)?Ge(e,!0):It(e)}var Jn=_i(function(e,t,i){Ct(e,t,i)}),Kn=_i(function(e,t,i,a){Ct(e,t,i,a)}),Zn=Gi(function(t,e){var i={};if(null!=t)for(var a=!1,n=(e=cr(e,function(e){return e=si(e,t),a=a||1<e.length,e}),fi(t,Wi(t),i),a&&(i=y(i,7,Bi)),e.length);n--;)Zt(i,e[n]);return i});var $n=Gi(function(e,t){return null==e?{}:Lt(i=e,t,function(e,t){return Wn(i,t)});var i});function Qn(e,i){var t;return null==e?{}:(t=cr(Wi(e),function(e){return[e]}),i=p(i),Lt(e,t,function(e,t){return i(e,t[0])}))}var es=Ni(z),ts=Ni(k);function is(e){return null==e?[]:Yo(e,z(e))}var as=xi(function(e,t,i){return t=t.toLowerCase(),e+(i?ns(t):t)});function ns(e){return us(h(e).toLowerCase())}function ss(e){return(e=h(e))&&e.replace(uo,$o).replace(go,"")}var rs=xi(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),os=xi(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),ls=vi("toLowerCase");var cs=xi(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});var ds=xi(function(e,t,i){return e+(i?" ":"")+us(t)});var ps=xi(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),us=vi("toUpperCase");function hs(e,t,i){return e=h(e),(t=i?Us:t)===Us?(i=e,yo.test(i)?e.match(_o)||[]:e.match(to)||[]):e.match(t)||[]}var ms=r(function(e,t){try{return rr(e,Us,t)}catch(e){return vn(e)?e:new C(e)}}),fs=Gi(function(t,e){return or(e,function(e){e=xa(e),$e(t,e,rn(t[e],t))}),t});function gs(e){return function(){return e}}var _s=Ai(),ys=Ai(!0);function D(e){return e}function bs(e){return At("function"==typeof e?e:y(e,1))}var vs=r(function(t,i){return function(e){return vt(e,t,i)}}),xs=r(function(t,i){return function(e){return vt(t,e,i)}});function Ss(a,t,e){var i=z(t),n=ht(t,i),s=(null!=e||x(t)&&(n.length||!i.length)||(e=t,t=a,a=this,n=ht(t,z(t))),!(x(e)&&"chain"in e&&!e.chain)),r=xn(a);return or(n,function(e){var i=t[e];a[e]=i,r&&(a.prototype[e]=function(){var e,t=this.__chain__;return s||t?(((e=a(this.__wrapped__)).__actions__=M(this.__actions__)).push({func:i,args:arguments,thisArg:a}),e.__chain__=t,e):i.apply(a,dr([this.value()],arguments))})}),a}function ws(){}var Ts=zi(cr),As=zi(Co),Ms=zi(No);function Is(e){return na(e)?Go(xa(e)):(t=e,function(e){return mt(e,t)});var t}var Es=Ci(),zs=Ci(!0);function ks(){return[]}function Ds(){return!1}var Cs=Ei(function(e,t){return e+t},0),Ps=Li("ceil"),Rs=Ei(function(e,t){return e/t},1),Ls=Li("floor");var Os,Ns=Ei(function(e,t){return e*t},1),js=Li("round"),Fs=Ei(function(e,t){return e-t},0);return m.after=function(e,t){if("function"!=typeof t)throw new w(Bs);return e=I(e),function(){if(--e<1)return t.apply(this,arguments)}},m.ary=nn,m.assign=Nn,m.assignIn=jn,m.assignInWith=Fn,m.assignWith=Un,m.at=Bn,m.before=sn,m.bind=rn,m.bindAll=fs,m.bindKey=on,m.castArray=function(){var e;return arguments.length?U(e=arguments[0])?e:[e]:[]},m.chain=Va,m.chunk=function(e,t,i){t=(i?u(e,t,i):t===Us)?1:T(I(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var n=0,s=0,r=S(he(a/t));n<a;)r[s++]=o(e,n,n+=t);return r},m.compact=function(e){for(var t=-1,i=null==e?0:e.length,a=0,n=[];++t<i;){var s=e[t];s&&(n[a++]=s)}return n},m.concat=function(){var e=arguments.length;if(!e)return[];for(var t=S(e-1),i=arguments[0],a=e;a--;)t[a-1]=arguments[a];return dr(U(i)?M(i):[i],l(t,1))},m.cond=function(a){var n=null==a?0:a.length,t=p();return a=n?cr(a,function(e){if("function"!=typeof e[1])throw new w(Bs);return[t(e[0]),e[1]]}):[],r(function(e){for(var t=-1;++t<n;){var i=a[t];if(rr(i[0],this,e))return rr(i[1],this,e)}})},m.conforms=function(e){return t=y(e,1),i=z(t),function(e){return tt(e,t,i)};var t,i},m.constant=gs,m.countBy=Wa,m.create=function(e,t){return e=Oe(e),null==t?e:Ze(e,t)},m.curry=function e(t,i,a){t=ji(t,8,Us,Us,Us,Us,Us,i=a?Us:i);return t.placeholder=e.placeholder,t},m.curryRight=function e(t,i,a){t=ji(t,16,Us,Us,Us,Us,Us,i=a?Us:i);return t.placeholder=e.placeholder,t},m.debounce=ln,m.defaults=Vn,m.defaultsDeep=Gn,m.defer=pe,m.delay=cn,m.difference=s,m.differenceBy=Te,m.differenceWith=e,m.drop=function(e,t,i){var a=null==e?0:e.length;return a?o(e,(t=i||t===Us?1:I(t))<0?0:t,a):[]},m.dropRight=function(e,t,i){var a=null==e?0:e.length;return a?o(e,0,(t=a-(t=i||t===Us?1:I(t)))<0?0:t):[]},m.dropRightWhile=function(e,t){return e&&e.length?Qt(e,p(t,3),!0,!0):[]},m.dropWhile=function(e,t){return e&&e.length?Qt(e,p(t,3),!0):[]},m.fill=function(e,t,i,a){if(!(l=null==e?0:e.length))return[];i&&"number"!=typeof i&&u(e,t,i)&&(i=0,a=l);var n=e,s=t,r=i,o=a,l=n.length;for((r=I(r))<0&&(r=l<-r?0:l+r),(o=o===Us||l<o?l:I(o))<0&&(o+=l),o=o<r?0:Ln(o);r<o;)n[r++]=s;return n},m.filter=function(e,t){return(U(e)?lr:lt)(e,p(t,3))},m.flatMap=function(e,t){return l(Qa(e,t),1)},m.flatMapDeep=function(e,t){return l(Qa(e,t),1/0)},m.flatMapDepth=function(e,t,i){return i=i===Us?1:I(i),l(Qa(e,t),i)},m.flatten=Ma,m.flattenDeep=function(e){return(null==e?0:e.length)?l(e,1/0):[]},m.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Us?1:I(t)):[]},m.flip=function(e){return ji(e,512)},m.flow=_s,m.flowRight=ys,m.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,a={};++t<i;){var n=e[t];a[n[0]]=n[1]}return a},m.functions=function(e){return null==e?[]:ht(e,z(e))},m.functionsIn=function(e){return null==e?[]:ht(e,k(e))},m.groupBy=Ka,m.initial=function(e){return(null==e?0:e.length)?o(e,0,-1):[]},m.intersection=q,m.intersectionBy=ue,m.intersectionWith=t,m.invert=qn,m.invertBy=Xn,m.invokeMap=Za,m.iteratee=bs,m.keyBy=$a,m.keys=z,m.keysIn=k,m.map=Qa,m.mapKeys=function(e,a){var n={};return a=p(a,3),pt(e,function(e,t,i){$e(n,a(e,t,i),e)}),n},m.mapValues=function(e,a){var n={};return a=p(a,3),pt(e,function(e,t,i){$e(n,t,a(e,t,i))}),n},m.matches=function(e){return kt(y(e,1))},m.matchesProperty=function(e,t){return Dt(e,y(t,1))},m.memoize=dn,m.merge=Jn,m.mergeWith=Kn,m.method=vs,m.methodOf=xs,m.mixin=Ss,m.negate=pn,m.nthArg=function(t){return t=I(t),r(function(e){return Pt(e,t)})},m.omit=Zn,m.omitBy=function(e,t){return Qn(e,pn(p(t)))},m.once=function(e){return sn(2,e)},m.orderBy=function(e,t,i,a){return null==e?[]:Rt(e,t=U(t)?t:null==t?[]:[t],i=U(i=a?Us:i)?i:null==i?[]:[i])},m.over=Ts,m.overArgs=ri,m.overEvery=As,m.overSome=Ms,m.partial=un,m.partialRight=hn,m.partition=en,m.pick=$n,m.pickBy=Qn,m.property=Is,m.propertyOf=function(t){return function(e){return null==t?Us:mt(t,e)}},m.pull=de,m.pullAll=Ea,m.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Ot(e,t,p(i,2)):e},m.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Ot(e,t,Us,i):e},m.pullAt=za,m.range=Es,m.rangeRight=zs,m.rearg=mn,m.reject=function(e,t){return(U(e)?lr:lt)(e,pn(p(t,3)))},m.remove=function(e,t){var i=[];if(e&&e.length){var a=-1,n=[],s=e.length;for(t=p(t,3);++a<s;){var r=e[a];t(r,a,e)&&(i.push(r),n.push(a))}Nt(e,n)}return i},m.rest=function(e,t){if("function"!=typeof e)throw new w(Bs);return r(e,t=t===Us?t:I(t))},m.reverse=ka,m.sampleSize=function(e,t,i){return t=(i?u(e,t,i):t===Us)?1:I(t),(U(e)?We:Bt)(e,t)},m.set=function(e,t,i){return null==e?e:Vt(e,t,i)},m.setWith=function(e,t,i,a){return a="function"==typeof a?a:Us,null==e?e:Vt(e,t,i,a)},m.shuffle=function(e){return(U(e)?qe:Ht)(e)},m.slice=function(e,t,i){var a=null==e?0:e.length;return a?(i=i&&"number"!=typeof i&&u(e,t,i)?(t=0,a):(t=null==t?0:I(t),i===Us?a:I(i)),o(e,t,i)):[]},m.sortBy=tn,m.sortedUniq=function(e){return e&&e.length?Yt(e):[]},m.sortedUniqBy=function(e,t){return e&&e.length?Yt(e,p(t,2)):[]},m.split=function(e,t,i){return i&&"number"!=typeof i&&u(e,t,i)&&(t=i=Us),(i=i===Us?Hs:i>>>0)?(e=h(e))&&("string"==typeof t||null!=t&&!In(t))&&!(t=c(t))&&hr(e)?oi(gr(e),0,i):e.split(t,i):[]},m.spread=function(i,a){if("function"!=typeof i)throw new w(Bs);return a=null==a?0:T(I(a),0),r(function(e){var t=e[a],e=oi(e,0,a);return t&&dr(e,t),rr(i,this,e)})},m.tail=function(e){var t=null==e?0:e.length;return t?o(e,1,t):[]},m.take=function(e,t,i){return e&&e.length?o(e,0,(t=i||t===Us?1:I(t))<0?0:t):[]},m.takeRight=function(e,t,i){var a=null==e?0:e.length;return a?o(e,(t=a-(t=i||t===Us?1:I(t)))<0?0:t,a):[]},m.takeRightWhile=function(e,t){return e&&e.length?Qt(e,p(t,3),!1,!0):[]},m.takeWhile=function(e,t){return e&&e.length?Qt(e,p(t,3)):[]},m.tap=function(e,t){return t(e),e},m.throttle=function(e,t,i){var a=!0,n=!0;if("function"!=typeof e)throw new w(Bs);return x(i)&&(a="leading"in i?!!i.leading:a,n="trailing"in i?!!i.trailing:n),ln(e,t,{leading:a,maxWait:t,trailing:n})},m.thru=Ga,m.toArray=Pn,m.toPairs=es,m.toPairsIn=ts,m.toPath=function(e){return U(e)?cr(e,xa):b(e)?[e]:M(va(h(e)))},m.toPlainObject=On,m.transform=function(e,a,n){var t,i=U(e),s=i||bn(e)||kn(e);return a=p(a,4),null==n&&(t=e&&e.constructor,n=s?i?new t:[]:x(e)&&xn(t)?Oe(ie(e)):{}),(s?or:pt)(e,function(e,t,i){return a(n,e,t,i)}),n},m.unary=function(e){return nn(e,1)},m.union=Da,m.unionBy=Ca,m.unionWith=Pa,m.uniq=function(e){return e&&e.length?Kt(e):[]},m.uniqBy=function(e,t){return e&&e.length?Kt(e,p(t,2)):[]},m.uniqWith=function(e,t){return t="function"==typeof t?t:Us,e&&e.length?Kt(e,Us,t):[]},m.unset=function(e,t){return null==e||Zt(e,t)},m.unzip=Ra,m.unzipWith=La,m.update=function(e,t,i){return null==e?e:$t(e,t,ni(i))},m.updateWith=function(e,t,i,a){return a="function"==typeof a?a:Us,null==e?e:$t(e,t,ni(i),a)},m.values=is,m.valuesIn=function(e){return null==e?[]:Yo(e,k(e))},m.without=Oa,m.words=hs,m.wrap=function(e,t){return un(ni(t),e)},m.xor=Na,m.xorBy=ja,m.xorWith=Fa,m.zip=Ua,m.zipObject=function(e,t){return ii(e||[],t||[],Ye)},m.zipObjectDeep=function(e,t){return ii(e||[],t||[],Vt)},m.zipWith=Ba,m.entries=es,m.entriesIn=ts,m.extend=jn,m.extendWith=Fn,Ss(m,m),m.add=Cs,m.attempt=ms,m.camelCase=as,m.capitalize=ns,m.ceil=Ps,m.clamp=function(e,t,i){return i===Us&&(i=t,t=Us),i!==Us&&(i=(i=E(i))==i?i:0),t!==Us&&(t=(t=E(t))==t?t:0),et(E(e),t,i)},m.clone=function(e){return y(e,4)},m.cloneDeep=function(e){return y(e,5)},m.cloneDeepWith=function(e,t){return y(e,5,t="function"==typeof t?t:Us)},m.cloneWith=function(e,t){return y(e,4,t="function"==typeof t?t:Us)},m.conformsTo=function(e,t){return null==t||tt(e,t,z(t))},m.deburr=ss,m.defaultTo=function(e,t){return null==e||e!=e?t:e},m.divide=Rs,m.endsWith=function(e,t,i){e=h(e),t=c(t);var a=e.length,a=i=i===Us?a:et(I(i),0,a);return 0<=(i-=t.length)&&e.slice(i,a)==t},m.eq=F,m.escape=function(e){return(e=h(e))&&Vr.test(e)?e.replace(Ur,Qo):e},m.escapeRegExp=function(e){return(e=h(e))&&Kr.test(e)?e.replace(Jr,"\\$&"):e},m.every=function(e,t,i){return(U(e)?Co:rt)(e,p(t=i&&u(e,t,i)?Us:t,3))},m.find=qa,m.findIndex=Ta,m.findKey=function(e,t){return jo(e,p(t,3),pt)},m.findLast=Xa,m.findLastIndex=Aa,m.findLastKey=function(e,t){return jo(e,p(t,3),ut)},m.floor=Ls,m.forEach=Ya,m.forEachRight=Ja,m.forIn=function(e,t){return null==e?e:ct(e,p(t,3),k)},m.forInRight=function(e,t){return null==e?e:dt(e,p(t,3),k)},m.forOwn=function(e,t){return e&&pt(e,p(t,3))},m.forOwnRight=function(e,t){return e&&ut(e,p(t,3))},m.get=Hn,m.gt=fn,m.gte=gn,m.has=function(e,t){return null!=e&&ea(e,t,_t)},m.hasIn=Wn,m.head=Ia,m.identity=D,m.includes=function(e,t,i,a){return e=d(e)?e:is(e),i=i&&!a?I(i):0,a=e.length,i<0&&(i=T(a+i,0)),zn(e)?i<=a&&-1<e.indexOf(t,i):!!a&&-1<pr(e,t,i)},m.indexOf=function(e,t,i){var a=null==e?0:e.length;return a?pr(e,t,e=(e=null==i?0:I(i))<0?T(a+e,0):e):-1},m.inRange=function(e,t,i){return t=Rn(t),i===Us?(i=t,t=0):i=Rn(i),(e=e=E(e))>=A(t=t,i=i)&&e<T(t,i)},m.invoke=Yn,m.isArguments=_n,m.isArray=U,m.isArrayBuffer=yn,m.isArrayLike=d,m.isArrayLikeObject=v,m.isBoolean=function(e){return!0===e||!1===e||B(e)&&i(e)==qs},m.isBuffer=bn,m.isDate=H,m.isElement=function(e){return B(e)&&1===e.nodeType&&!Mn(e)},m.isEmpty=function(e){if(null!=e){if(d(e)&&(U(e)||"string"==typeof e||"function"==typeof e.splice||bn(e)||kn(e)||_n(e)))return!e.length;var t,i=j(e);if(i==Ys||i==$s)return!e.size;if(oa(e))return!Mt(e).length;for(t in e)if(O.call(e,t))return!1}return!0},m.isEqual=function(e,t){return St(e,t)},m.isEqualWith=function(e,t,i){var a=(i="function"==typeof i?i:Us)?i(e,t):Us;return a===Us?St(e,t,Us,i):!!a},m.isError=vn,m.isFinite=function(e){return"number"==typeof e&&ge(e)},m.isFunction=xn,m.isInteger=Sn,m.isLength=wn,m.isMap=Tn,m.isMatch=function(e,t){return e===t||wt(e,t,Ki(t))},m.isMatchWith=function(e,t,i){return i="function"==typeof i?i:Us,wt(e,t,Ki(t),i)},m.isNaN=function(e){return An(e)&&e!=+e},m.isNative=function(e){if(ra(e))throw new C("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tt(e)},m.isNil=function(e){return null==e},m.isNull=function(e){return null===e},m.isNumber=An,m.isObject=x,m.isObjectLike=B,m.isPlainObject=Mn,m.isRegExp=In,m.isSafeInteger=function(e){return Sn(e)&&-Gs<=e&&e<=Gs},m.isSet=En,m.isString=zn,m.isSymbol=b,m.isTypedArray=kn,m.isUndefined=function(e){return e===Us},m.isWeakMap=function(e){return B(e)&&j(e)==er},m.isWeakSet=function(e){return B(e)&&"[object WeakSet]"==i(e)},m.join=function(e,t){return null==e?"":_e.call(e,t)},m.kebabCase=rs,m.last=a,m.lastIndexOf=function(e,t,i){var a=null==e?0:e.length;if(!a)return-1;var n=a;if(i!==Us&&(n=(n=I(i))<0?T(a+n,0):A(n,a-1)),t!=t)return Fo(e,Bo,n,!0);for(var s=e,r=t,o=n+1;o--;)if(s[o]===r)return o;return o},m.lowerCase=os,m.lowerFirst=ls,m.lt=Dn,m.lte=Cn,m.max=function(e){return e&&e.length?ot(e,D,gt):Us},m.maxBy=function(e,t){return e&&e.length?ot(e,p(t,2),gt):Us},m.mean=function(e){return Vo(e,D)},m.meanBy=function(e,t){return Vo(e,p(t,2))},m.min=function(e){return e&&e.length?ot(e,D,Et):Us},m.minBy=function(e,t){return e&&e.length?ot(e,p(t,2),Et):Us},m.stubArray=ks,m.stubFalse=Ds,m.stubObject=function(){return{}},m.stubString=function(){return""},m.stubTrue=function(){return!0},m.multiply=Ns,m.nth=function(e,t){return e&&e.length?Pt(e,I(t)):Us},m.noConflict=function(){return sr._===this&&(sr._=$),this},m.noop=ws,m.now=an,m.pad=function(e,t,i){e=h(e);var a=(t=I(t))?fr(e):0;return!t||t<=a?e:ki(me(t=(t-a)/2),i)+e+ki(he(t),i)},m.padEnd=function(e,t,i){e=h(e);var a=(t=I(t))?fr(e):0;return t&&a<t?e+ki(t-a,i):e},m.padStart=function(e,t,i){e=h(e);var a=(t=I(t))?fr(e):0;return t&&a<t?ki(t-a,i)+e:e},m.parseInt=function(e,t,i){return t=i||null==t?0:t&&+t,ve(h(e).replace(Zr,""),t||0)},m.random=function(e,t,i){var a;return i&&"boolean"!=typeof i&&u(e,t,i)&&(t=i=Us),i===Us&&("boolean"==typeof t?(i=t,t=Us):"boolean"==typeof e&&(i=e,e=Us)),e===Us&&t===Us?(e=0,t=1):(e=Rn(e),t===Us?(t=e,e=0):t=Rn(t)),t<e&&(a=e,e=t,t=a),i||e%1||t%1?(a=xe(),A(e+a*(t-e+xo("1e-"+((a+"").length-1))),t)):jt(e,t)},m.reduce=function(e,t,i){var a=U(e)?Lo:Ho,n=arguments.length<3;return a(e,p(t,4),i,n,nt)},m.reduceRight=function(e,t,i){var a=U(e)?Oo:Ho,n=arguments.length<3;return a(e,p(t,4),i,n,st)},m.repeat=function(e,t,i){return t=(i?u(e,t,i):t===Us)?1:I(t),Ft(h(e),t)},m.replace=function(){var e=arguments,t=h(e[0]);return e.length<3?t:t.replace(e[1],e[2])},m.result=function(e,t,i){var a=-1,n=(t=si(t,e)).length;for(n||(n=1,e=Us);++a<n;){var s=null==e?Us:e[xa(t[a])];s===Us&&(a=n,s=i),e=xn(s)?s.call(e):s}return e},m.round=js,m.runInContext=n,m.sample=function(e){return(U(e)?He:Ut)(e)},m.size=function(e){var t;return null==e?0:d(e)?zn(e)?fr(e):e.length:(t=j(e))==Ys||t==$s?e.size:Mt(e).length},m.snakeCase=cs,m.some=function(e,t,i){return(U(e)?No:Wt)(e,p(t=i&&u(e,t,i)?Us:t,3))},m.sortedIndex=function(e,t){return qt(e,t)},m.sortedIndexBy=function(e,t,i){return Xt(e,t,p(i,2))},m.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var a=qt(e,t);if(a<i&&F(e[a],t))return a}return-1},m.sortedLastIndex=function(e,t){return qt(e,t,!0)},m.sortedLastIndexBy=function(e,t,i){return Xt(e,t,p(i,2),!0)},m.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var i=qt(e,t,!0)-1;if(F(e[i],t))return i}return-1},m.startCase=ds,m.startsWith=function(e,t,i){return e=h(e),i=null==i?0:et(I(i),0,e.length),t=c(t),e.slice(i,i+t.length)==t},m.subtract=Fs,m.sum=function(e){return e&&e.length?Wo(e,D):0},m.sumBy=function(e,t){return e&&e.length?Wo(e,p(t,2)):0},m.template=function(r,e,t){var o,l,i=m.templateSettings;t&&u(r,e,t)&&(e=Us),r=h(r),e=Fn({},e,i,Fi);var a=z(t=Fn({},e.imports,i.imports,Fi)),n=Yo(t,a),c=0,i=e.interpolate||ho,d="__p += '",t=L((e.escape||ho).source+"|"+i.source+"|"+(i===Wr?no:ho).source+"|"+(e.evaluate||ho).source+"|$","g"),s="//# sourceURL="+(O.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vo+"]")+"\n";if(r.replace(t,function(e,t,i,a,n,s){return i=i||a,d+=r.slice(c,s).replace(mo,el),t&&(o=!0,d+="' +\n__e("+t+") +\n'"),n&&(l=!0,d+="';\n"+n+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),d+="';\n",i=O.call(e,"variable")&&e.variable){if(io.test(i))throw new C("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";if(d=(l?d.replace(Or,""):d).replace(Nr,"$1").replace(jr,"$1;"),d="function("+(i||"obj")+") {\n"+(i?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}",(t=ms(function(){return P(a,s+"return "+d).apply(Us,n)})).source=d,vn(t))throw t;return t},m.times=function(e,t){if((e=I(e))<1||Gs<e)return[];for(var i=Hs,a=A(e,Hs),a=(t=p(t),e-=Hs,qo(a,t));++i<e;)t(i);return a},m.toFinite=Rn,m.toInteger=I,m.toLength=Ln,m.toLower=function(e){return h(e).toLowerCase()},m.toNumber=E,m.toSafeInteger=function(e){return e?et(I(e),-Gs,Gs):0===e?e:0},m.toString=h,m.toUpper=function(e){return h(e).toUpperCase()},m.trim=function(e,t,i){return(e=h(e))&&(i||t===Us)?Xo(e):e&&(t=c(t))?oi(i=gr(e),Ko(i,t=gr(t)),Zo(i,t)+1).join(""):e},m.trimEnd=function(e,t,i){return(e=h(e))&&(i||t===Us)?e.slice(0,nl(e)+1):e&&(t=c(t))?oi(i=gr(e),0,Zo(i,gr(t))+1).join(""):e},m.trimStart=function(e,t,i){return(e=h(e))&&(i||t===Us)?e.replace(Zr,""):e&&(t=c(t))?oi(i=gr(e),Ko(i,gr(t))).join(""):e},m.truncate=function(e,t){var i,a=30,n="...",t=(x(t)&&(i="separator"in t?t.separator:i,a="length"in t?I(t.length):a,n="omission"in t?c(t.omission):n),(e=h(e)).length);if((t=hr(e)?(s=gr(e)).length:t)<=a)return e;if((t=a-fr(n))<1)return n;var s,a=s?oi(s,0,t).join(""):e.slice(0,t);if(i!==Us)if(s&&(t+=a.length-t),In(i)){if(e.slice(t).search(i)){var r,o=a;for((i=i.global?i:L(i.source,h(so.exec(i))+"g")).lastIndex=0;r=i.exec(o);)var l=r.index;a=a.slice(0,l===Us?t:l)}}else e.indexOf(c(i),t)!=t&&-1<(s=a.lastIndexOf(i))&&(a=a.slice(0,s));return a+n},m.unescape=function(e){return(e=h(e))&&Br.test(e)?e.replace(Fr,sl):e},m.uniqueId=function(e){var t=++Y;return h(e)+t},m.upperCase=ps,m.upperFirst=us,m.each=Ya,m.eachRight=Ja,m.first=Ia,Ss(m,(Os={},pt(m,function(e,t){O.call(m.prototype,t)||(Os[t]=e)}),Os),{chain:!1}),m.VERSION="4.17.21",or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),or(["drop","take"],function(i,a){_.prototype[i]=function(e){e=e===Us?1:T(I(e),0);var t=this.__filtered__&&!a?new _(this):this.clone();return t.__filtered__?t.__takeCount__=A(e,t.__takeCount__):t.__views__.push({size:A(e,Hs),type:i+(t.__dir__<0?"Right":"")}),t},_.prototype[i+"Right"]=function(e){return this.reverse()[i](e).reverse()}}),or(["filter","map","takeWhile"],function(e,t){var i=t+1,a=1==i||3==i;_.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:p(e,3),type:i}),t.__filtered__=t.__filtered__||a,t}}),or(["head","last"],function(e,t){var i="take"+(t?"Right":"");_.prototype[e]=function(){return this[i](1).value()[0]}}),or(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");_.prototype[e]=function(){return this.__filtered__?new _(this):this[i](1)}}),_.prototype.compact=function(){return this.filter(D)},_.prototype.find=function(e){return this.filter(e).head()},_.prototype.findLast=function(e){return this.reverse().find(e)},_.prototype.invokeMap=r(function(t,i){return"function"==typeof t?new _(this):this.map(function(e){return vt(e,t,i)})}),_.prototype.reject=function(e){return this.filter(pn(p(e)))},_.prototype.slice=function(e,t){e=I(e);var i=this;return i.__filtered__&&(0<e||t<0)?new _(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==Us?(t=I(t))<0?i.dropRight(-t):i.take(t-e):i)},_.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},_.prototype.toArray=function(){return this.take(Hs)},pt(_.prototype,function(c,e){var d=/^(?:filter|find|map|reject)|While$/.test(e),p=/^(?:head|last)$/.test(e),u=m[p?"take"+("last"==e?"Right":""):e],h=p||/^find/.test(e);u&&(m.prototype[e]=function(){function e(e){return e=u.apply(m,dr([e],a)),p&&o?e[0]:e}var t,i=this.__wrapped__,a=p?[1]:arguments,n=i instanceof _,s=a[0],r=n||U(i),o=(r&&d&&"function"==typeof s&&1!=s.length&&(n=r=!1),this.__chain__),s=!!this.__actions__.length,l=h&&!o,n=n&&!s;return!h&&r?(i=n?i:new _(this),(t=c.apply(i,a)).__actions__.push({func:Ga,args:[e],thisArg:Us}),new g(t,o)):l&&n?c.apply(this,a):(t=this.thru(e),l?p?t.value()[0]:t.value():t)})}),or(["pop","push","shift","sort","splice","unshift"],function(e){var i=G[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var e,t=arguments;return n&&!this.__chain__?(e=this.value(),i.apply(U(e)?e:[],t)):this[a](function(e){return i.apply(U(e)?e:[],t)})}}),pt(_.prototype,function(e,t){var i,a=m[t];a&&(i=a.name+"",O.call(Ee,i)||(Ee[i]=[]),Ee[i].push({name:t,func:a}))}),Ee[Mi(Us,2).name]=[{name:"wrapper",func:Us}],_.prototype.clone=function(){var e=new _(this.__wrapped__);return e.__actions__=M(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=M(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=M(this.__views__),e},_.prototype.reverse=function(){var e;return this.__filtered__?((e=new _(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},_.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=U(e),a=t<0,n=i?e.length:0,s=function(e,t,i){var a=-1,n=i.length;for(;++a<n;){var s=i[a],r=s.size;switch(s.type){case"drop":e+=r;break;case"dropRight":t-=r;break;case"take":t=A(t,e+r);break;case"takeRight":e=T(e,t-r)}}return{start:e,end:t}}(0,n,this.__views__),r=s.start,o=(s=s.end)-r,l=a?s:r-1,c=this.__iteratees__,d=c.length,p=0,u=A(o,this.__takeCount__);if(!i||!a&&n==o&&u==o)return ei(e,this.__actions__);var h=[];e:for(;o--&&p<u;){for(var m=-1,f=e[l+=t];++m<d;){var g=c[m],_=g.iteratee,g=g.type,_=_(f);if(2==g)f=_;else if(!_){if(1==g)continue e;break e}}h[p++]=f}return h},m.prototype.at=Ha,m.prototype.chain=function(){return Va(this)},m.prototype.commit=function(){return new g(this.value(),this.__chain__)},m.prototype.next=function(){this.__values__===Us&&(this.__values__=Pn(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Us:this.__values__[this.__index__++]}},m.prototype.plant=function(e){for(var t,i=this;i instanceof je;)var a=wa(i),n=(a.__index__=0,a.__values__=Us,t?n.__wrapped__=a:t=a,a),i=i.__wrapped__;return n.__wrapped__=e,t},m.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof _?(e=e,(e=(e=this.__actions__.length?new _(this):e).reverse()).__actions__.push({func:Ga,args:[ka],thisArg:Us}),new g(e,this.__chain__)):this.thru(ka)},m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},m.prototype.first=m.prototype.head,oe&&(m.prototype[oe]=function(){return this}),m}();sr._=rl,(C=function(){return rl}.call(k,D,k,z))!==Us&&(z.exports=C)}.call(this)},571:function(e){var d;e.exports=((d=function(){function e(e){return n.appendChild(e.dom),e}function t(e){for(var t=0;t<n.children.length;t++)n.children[t].style.display=t===e?"block":"none";a=e}var i,a=0,n=document.createElement("div"),s=(n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",function(e){e.preventDefault(),t(++a%n.children.length)},!1),(performance||Date).now()),r=s,o=0,l=e(new d.Panel("FPS","#0ff","#002")),c=e(new d.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(i=e(new d.Panel("MB","#f08","#201"))),t(0),{REVISION:16,dom:n,addPanel:e,showPanel:t,begin:function(){s=(performance||Date).now()},end:function(){o++;var e,t=(performance||Date).now();return c.update(t-s,200),r+1e3<t&&(l.update(1e3*o/(t-r),100),r=t,o=0,i)&&(e=performance.memory,i.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)),t},update:function(){s=this.end()},domElement:n,setMode:t}}).Panel=function(i,a,n){var s=1/0,r=0,o=Math.round,l=o(window.devicePixelRatio||1),c=80*l,e=48*l,d=3*l,p=2*l,u=3*l,h=15*l,m=74*l,f=30*l,g=document.createElement("canvas"),_=(g.width=c,g.height=e,g.style.cssText="width:80px;height:48px",g.getContext("2d"));return _.font="bold "+9*l+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=n,_.fillRect(0,0,c,e),_.fillStyle=a,_.fillText(i,d,p),_.fillRect(u,h,m,f),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(u,h,m,f),{dom:g,update:function(e,t){s=Math.min(s,e),r=Math.max(r,e),_.fillStyle=n,_.globalAlpha=1,_.fillRect(0,0,c,h),_.fillStyle=a,_.fillText(o(e)+" "+i+" ("+o(s)+"-"+o(r)+")",d,p),_.drawImage(g,u+l,h,m-l,f,u,h,m-l,f),_.fillRect(u+m-l,h,l,f),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(u+m-l,h,l,o((1-e/t)*f))}}},d)},615:(e,t,i)=>{e.exports=function a(n,s,r){function o(i,e){if(!s[i]){if(!n[i]){if(l)return l(i,!0);var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}t=s[i]={exports:{}};n[i][0].call(t.exports,function(e){var t=n[i][1][e];return o(t||e)},t,t.exports,a,n,s,r)}return s[i].exports}for(var l=void 0,e=0;e<r.length;e++)o(r[e]);return o}({"./aesprim":[function(e,t,i){!function(e,t){"use strict";t(void 0!==i?i:e.esprima={})}(this,function(e){"use strict";var m,a,H,h,c,f,t,n,g,_,y,p,u,b,v,x,S,w;function W(e,t){if(!e)throw new Error("ASSERT: "+t)}function T(e){return 48<=e&&e<=57}function r(e){return 0<="0123456789abcdefABCDEF".indexOf(e)}function q(e){return 0<="01234567".indexOf(e)}function A(e){return 10===e||13===e||8232===e||8233===e}function M(e){return 64==e||36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||92===e||128<=e&&t.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function s(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||92===e||128<=e&&t.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function X(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return 1;default:return}}function I(e){return"eval"===e||"arguments"===e}function o(e,t,i,a,n){W("number"==typeof i,"Comment must have valid position"),S.lastCommentStart>=i||(S.lastCommentStart=i,e={type:e,value:t},w.range&&(e.range=[i,a]),w.loc&&(e.loc=n),w.comments.push(e),w.attachComment&&(w.leadingComments.push(e),w.trailingComments.push(e)))}function l(e){for(var t,i,a=y-e,n={start:{line:p,column:y-u-e}};y<b;)if(t=g.charCodeAt(y),++y,A(t))return w.comments&&(i=g.slice(a+e,y-1),n.end={line:p,column:y-u-1},o("Line",i,a,y-1,n)),13===t&&10===g.charCodeAt(y)&&++y,++p,void(u=y);w.comments&&(i=g.slice(a+e,y),n.end={line:p,column:y-u},o("Line",i,a,y,n))}function E(){for(var e,t,i=0===y;y<b;)if(e=g.charCodeAt(y),32===(t=e)||9===t||11===t||12===t||160===t||5760<=t&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t))++y;else if(A(e))++y,13===e&&10===g.charCodeAt(y)&&++y,++p,u=y,i=!0;else if(47===e)if(47===(e=g.charCodeAt(y+1)))++y,++y,l(2),i=!0;else{if(42!==e)break;++y,++y,function(){var e,t,i;for(w.comments&&(e=y-2,t={start:{line:p,column:y-u-2}});y<b;)if(A(i=g.charCodeAt(y)))13===i&&10===g.charCodeAt(y+1)&&++y,++p,b<=(u=++y)&&C({},f.UnexpectedToken,"ILLEGAL");else{if(42===i&&47===g.charCodeAt(y+1))return++y,++y,w.comments&&(i=g.slice(e+2,y-2),t.end={line:p,column:y-u},o("Block",i,e,y,t));++y}C({},f.UnexpectedToken,"ILLEGAL")}()}else if(i&&45===e){if(45!==g.charCodeAt(y+1)||62!==g.charCodeAt(y+2))break;y+=3,l(3)}else{if(60!==e)break;if("!--"!==g.slice(y+1,y+4))break;++y,++y,++y,++y,l(4)}}function Y(e){for(var t,i=0,a="u"===e?4:2,n=0;n<a;++n){if(!(y<b&&r(g[y])))return"";t=g[y++],i=16*i+"0123456789abcdef".indexOf(t.toLowerCase())}return String.fromCharCode(i)}function J(){var e=g.charCodeAt(y++),t=String.fromCharCode(e);for(92===e&&(117!==g.charCodeAt(y)&&C({},f.UnexpectedToken,"ILLEGAL"),++y,(e=Y("u"))&&"\\"!==e&&M(e.charCodeAt(0))||C({},f.UnexpectedToken,"ILLEGAL"),t=e);y<b&&s(e=g.charCodeAt(y));)++y,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==g.charCodeAt(y)&&C({},f.UnexpectedToken,"ILLEGAL"),++y,(e=Y("u"))&&"\\"!==e&&s(e.charCodeAt(0))||C({},f.UnexpectedToken,"ILLEGAL"),t+=e);return t}function K(){var e=y,t=(92===g.charCodeAt(y)?J:function(){for(var e,t=y++;y<b;){if(92===(e=g.charCodeAt(y)))return y=t,J();if(!s(e))break;++y}return g.slice(t,y)})(),i=1===t.length?m.Identifier:function(e){if(_&&X(e))return 1;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return}}(t)?m.Keyword:"null"===t?m.NullLiteral:"true"===t||"false"===t?m.BooleanLiteral:m.Identifier;return{type:i,value:t,lineNumber:p,lineStart:u,start:e,end:y}}function z(){var e,t,i=y,a=g.charCodeAt(y),n=g[y];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++y,w.tokenize&&(40===a?w.openParenToken=w.tokens.length:123===a&&(w.openCurlyToken=w.tokens.length)),{type:m.Punctuator,value:String.fromCharCode(a),lineNumber:p,lineStart:u,start:i,end:y};default:if(61===(e=g.charCodeAt(y+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return y+=2,{type:m.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(e),lineNumber:p,lineStart:u,start:i,end:y};case 33:case 61:return y+=2,61===g.charCodeAt(y)&&++y,{type:m.Punctuator,value:g.slice(i,y),lineNumber:p,lineStart:u,start:i,end:y}}}return">>>="===(t=g.substr(y,4))?(y+=4,{type:m.Punctuator,value:t,lineNumber:p,lineStart:u,start:i,end:y}):">>>"===(t=t.substr(0,3))||"<<="===t||">>="===t?(y+=3,{type:m.Punctuator,value:t,lineNumber:p,lineStart:u,start:i,end:y}):n===(t=t.substr(0,2))[1]&&0<="+-<>&|".indexOf(n)||"=>"===t?(y+=2,{type:m.Punctuator,value:t,lineNumber:p,lineStart:u,start:i,end:y}):0<="<>=!+-*%&|^/".indexOf(n)?(++y,{type:m.Punctuator,value:n,lineNumber:p,lineStart:u,start:i,end:y}):void C({},f.UnexpectedToken,"ILLEGAL")}function Z(){var e,t,i=g[y];if(W(T(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),t=y,e="","."!==i){if(e=g[y++],i=g[y],"0"===e){if("x"===i||"X"===i){++y;for(var a=t,n="";y<b&&r(g[y]);)n+=g[y++];return 0===n.length&&C({},f.UnexpectedToken,"ILLEGAL"),M(g.charCodeAt(y))&&C({},f.UnexpectedToken,"ILLEGAL"),{type:m.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:p,lineStart:u,start:a,end:y}}if(q(i)){for(var a=t,s="0"+g[y++];y<b&&q(g[y]);)s+=g[y++];return(M(g.charCodeAt(y))||T(g.charCodeAt(y)))&&C({},f.UnexpectedToken,"ILLEGAL"),{type:m.NumericLiteral,value:parseInt(s,8),octal:!0,lineNumber:p,lineStart:u,start:a,end:y}}i&&T(i.charCodeAt(0))&&C({},f.UnexpectedToken,"ILLEGAL")}for(;T(g.charCodeAt(y));)e+=g[y++];i=g[y]}if("."===i){for(e+=g[y++];T(g.charCodeAt(y));)e+=g[y++];i=g[y]}if("e"===i||"E"===i)if(e+=g[y++],"+"!==(i=g[y])&&"-"!==i||(e+=g[y++]),T(g.charCodeAt(y)))for(;T(g.charCodeAt(y));)e+=g[y++];else C({},f.UnexpectedToken,"ILLEGAL");return M(g.charCodeAt(y))&&C({},f.UnexpectedToken,"ILLEGAL"),{type:m.NumericLiteral,value:parseFloat(e),lineNumber:p,lineStart:u,start:t,end:y}}function $(){var e,t,i,a;return x=null,E(),e=y,t=function(){var e,t,i,a=g[y];for(W("/"===a,"Regular expression literal must start with a slash"),e=g[y++],i=t=!1;y<b;)if(e+=a=g[y++],"\\"===a)A((a=g[y++]).charCodeAt(0))&&C({},f.UnterminatedRegExp),e+=a;else if(A(a.charCodeAt(0)))C({},f.UnterminatedRegExp);else if(t)"]"===a&&(t=!1);else{if("/"===a){i=!0;break}"["===a&&(t=!0)}return i||C({},f.UnterminatedRegExp),{value:e.substr(1,e.length-2),literal:e}}(),i=function(){for(var e,t,i="",a="";y<b&&s((e=g[y]).charCodeAt(0));)if(++y,"\\"===e&&y<b){if("u"===(e=g[y]))if(t=++y,e=Y("u"))for(a+=e,i+="\\u";t<y;++t)i+=g[t];else y=t,a+="u",i+="\\u";else i+="\\";P({},f.UnexpectedToken,"ILLEGAL")}else a+=e,i+=e;return{value:a,literal:i}}(),a=function(e,t){var i;try{i=new RegExp(e,t)}catch(e){C({},f.InvalidRegExp)}return i}(t.value,i.value),w.tokenize?{type:m.RegularExpression,value:a,lineNumber:p,lineStart:u,start:e,end:y}:{literal:t.literal+i.literal,value:a,start:e,end:y}}function k(){var e,t,i,a;return E(),t={start:{line:p,column:(e=y)-u}},i=$(),t.end={line:p,column:y-u},w.tokenize||(0<w.tokens.length&&((a=w.tokens[w.tokens.length-1]).range[0]!==e||"Punctuator"!==a.type||"/"!==a.value&&"/="!==a.value||w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:i.literal,range:[e,y],loc:t})),i}function Q(){var e;if(E(),b<=y)return{type:m.EOF,lineNumber:p,lineStart:u,start:y,end:y};if(M(e=g.charCodeAt(y)))return K();if(40!==e&&41!==e&&59!==e){if(39===e||34===e){var t,i,a,n,s="",r=!1,o=p,l=u,c=g[y];for(W("'"===c||'"'===c,"String literal must starts with a quote"),t=y,++y;y<b;){if((i=g[y++])===c){c="";break}if("\\"===i)if((i=g[y++])&&A(i.charCodeAt(0)))++p,"\r"===i&&"\n"===g[y]&&++y,u=y;else switch(i){case"u":case"x":n=y,(a=Y(i))?s+=a:(y=n,s+=i);break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;default:q(i)?(0!==(a="01234567".indexOf(i))&&(r=!0),y<b&&q(g[y])&&(r=!0,a=8*a+"01234567".indexOf(g[y++]),0<="0123".indexOf(i))&&y<b&&q(g[y])&&(a=8*a+"01234567".indexOf(g[y++])),s+=String.fromCharCode(a)):s+=i}else{if(A(i.charCodeAt(0)))break;s+=i}}return""!==c&&C({},f.UnexpectedToken,"ILLEGAL"),{type:m.StringLiteral,value:s,octal:r,startLineNumber:o,startLineStart:l,lineNumber:p,lineStart:u,start:t,end:y}}if(46===e)return(T(g.charCodeAt(y+1))?Z:z)();if(T(e))return Z();if(w.tokenize&&47===e){var d,o=w.tokens[w.tokens.length-1];if(!o)return k();if("Punctuator"!==o.type)return("Keyword"===o.type?k:z)();if("]"===o.value)return z();if(")"===o.value)return(!(d=w.tokens[w.openParenToken-1])||"Keyword"!==d.type||"if"!==d.value&&"while"!==d.value&&"for"!==d.value&&"with"!==d.value?z:k)();if("}"!==o.value)return k();if(w.tokens[w.openCurlyToken-3]&&"Keyword"===w.tokens[w.openCurlyToken-3].type){if(!(d=w.tokens[w.openCurlyToken-4]))return z()}else{if(!w.tokens[w.openCurlyToken-4]||"Keyword"!==w.tokens[w.openCurlyToken-4].type)return z();if(!(d=w.tokens[w.openCurlyToken-5]))return k()}return(0<=H.indexOf(d.value)?z:k)()}}return z()}function ee(){var e,t,i;return E(),e={start:{line:p,column:y-u}},t=Q(),e.end={line:p,column:y-u},t.type!==m.EOF&&(i=g.slice(t.start,t.end),w.tokens.push({type:a[t.type],value:i,range:[t.start,t.end],loc:e})),t}function D(){var e=x;return y=e.end,p=e.lineNumber,u=e.lineStart,x=(void 0!==w.tokens?ee:Q)(),y=e.end,p=e.lineNumber,u=e.lineStart,e}function te(){var e=y,t=p,i=u;x=(void 0!==w.tokens?ee:Q)(),y=e,p=t,u=i}function ie(e,t){this.line=e,this.column=t}function i(e,t,i,a){this.start=new ie(e,t),this.end=new ie(i,a)}function ae(){var e,t=y,i=p,a=u;return E(),e=p!==i,y=t,p=i,u=a,e}function C(e,t){var i,a=Array.prototype.slice.call(arguments,2),t=t.replace(/%(\d)/g,function(e,t){return W(t<a.length,"Message reference must be in range"),a[t]});throw"number"==typeof e.lineNumber?((i=new Error("Line "+e.lineNumber+": "+t)).index=e.start,i.lineNumber=e.lineNumber,i.column=e.start-u+1):((i=new Error("Line "+p+": "+t)).index=y,i.lineNumber=p,i.column=y-u+1),i.description=t,i}function P(){try{C.apply(null,arguments)}catch(e){if(!w.errors)throw e;w.errors.push(e)}}function R(e){if(e.type===m.EOF&&C(e,f.UnexpectedEOS),e.type===m.NumericLiteral&&C(e,f.UnexpectedNumber),e.type===m.StringLiteral&&C(e,f.UnexpectedString),e.type===m.Identifier&&C(e,f.UnexpectedIdentifier),e.type===m.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return 1;default:return}}(e.value))C(e,f.UnexpectedReserved);else if(_&&X(e.value))return void P(e,f.StrictReservedWord);C(e,f.UnexpectedToken,e.value)}C(e,f.UnexpectedToken,e.value)}function L(e){var t=D();t.type===m.Punctuator&&t.value===e||R(t)}function O(e){var t=D();t.type===m.Keyword&&t.value===e||R(t)}function N(e){return x.type===m.Punctuator&&x.value===e}function j(e){return x.type===m.Keyword&&x.value===e}function F(){var e;59===g.charCodeAt(y)||N(";")?D():(e=p,E(),p!==e||x.type===m.EOF||N("}")||R(x))}function ne(e){return e.type===h.Identifier||e.type===h.MemberExpression}function se(e,t){var i=_,a=x,n=Se();return t&&_&&I(e[0].name)&&P(t,f.StrictParamName),_=i,v.markEnd(v.createFunctionExpression(null,e,[],n),a)}function re(){var e=x,t=D();return t.type===m.StringLiteral||t.type===m.NumericLiteral?(_&&t.octal&&P(t,f.StrictOctalLiteral),v.markEnd(v.createLiteral(t),e)):v.markEnd(v.createIdentifier(t.value),e)}function oe(){var e,t,i,a,n,s=[],r={},o=String,l=x;for(L("{");!N("}");)n=a=i=t=e=void 0,n=a=x,e=(i=a.type===m.Identifier?(i=re(),"get"!==a.value||N(":")?"set"!==a.value||N(":")?(L(":"),t=U(),v.markEnd(v.createProperty("init",i,t),n)):(e=re(),L("("),t=(a=x).type!==m.Identifier?(L(")"),P(a,f.UnexpectedToken,a.value),se([])):(i=[V()],L(")"),se(i,a)),v.markEnd(v.createProperty("set",e,t),n)):(e=re(),L("("),L(")"),t=se([]),v.markEnd(v.createProperty("get",e,t),n))):a.type!==m.EOF&&a.type!==m.Punctuator?(e=re(),L(":"),t=U(),v.markEnd(v.createProperty("init",e,t),n)):void R(a)).key.type===h.Identifier?i.key.name:o(i.key.value),t="init"===i.kind?c.Data:"get"===i.kind?c.Get:c.Set,n="$"+e,Object.prototype.hasOwnProperty.call(r,n)?(r[n]===c.Data?_&&t===c.Data?P({},f.StrictDuplicateProperty):t!==c.Data&&P({},f.AccessorDataProperty):t===c.Data?P({},f.AccessorDataProperty):r[n]&t&&P({},f.AccessorGetSet),r[n]|=t):r[n]=t,s.push(i),N("}")||L(",");return L("}"),v.markEnd(v.createObjectExpression(s),l)}function le(){var e,t,i,a,n,s,r,o,l,c,d,p;if(N("("))return L("("),h=B(),L(")"),h;if(N("[")){var u=[],h=x;for(L("[");!N("]");)N(",")?(D(),u.push(null)):(u.push(U()),N("]")||L(","));return D(),v.markEnd(v.createArrayExpression(u),h)}if(N("{"))return oe();if(e=x.type,a=x,e===m.Identifier)i=v.createIdentifier(D().value);else if(e===m.StringLiteral||e===m.NumericLiteral)_&&x.octal&&P(x,f.StrictOctalLiteral),i=v.createLiteral(D());else if(e===m.Keyword){if(j("function"))return d=null,p=[],c=x,O("function"),N("(")||(l=x,d=V(),_?I(l.value)&&P(l,f.StrictFunctionName):I(l.value)?(s=l,r=f.StrictFunctionName):X(l.value)&&(s=l,r=f.StrictReservedWord)),l=we(s),p=l.params,n=l.stricted,s=l.firstRestricted,l.message&&(r=l.message),l=_,o=Se(),_&&s&&C(s,r),_&&n&&P(n,r),_=l,v.markEnd(v.createFunctionExpression(d,p,[],o),c);j("this")?(D(),i=v.createThisExpression()):R(D())}else e===m.BooleanLiteral?((t=D()).value="true"===t.value,i=v.createLiteral(t)):e===m.NullLiteral?((t=D()).value=null,i=v.createLiteral(t)):N("/")||N("/=")?(i=void 0!==w.tokens?v.createLiteral(k()):v.createLiteral($()),te()):R(D());return v.markEnd(i,a)}function ce(){var e=[];if(L("("),!N(")"))for(;y<b&&(e.push(U()),!N(")"));)L(",");return L(")"),e}function de(){var e,t=x,i=D();return(e=i).type!==m.Identifier&&e.type!==m.Keyword&&e.type!==m.BooleanLiteral&&e.type!==m.NullLiteral&&R(i),v.markEnd(v.createIdentifier(i.value),t)}function pe(){return L("."),de()}function ue(){var e;return L("["),e=B(),L("]"),e}function he(){var e,t,i=x;return O("new"),e=function(){var e,t,i,a;a=x,e=S.allowIn,t=(j("new")?he:le)(),S.allowIn=e;for(;N(".")||N("[");)t=N("[")?(i=ue(),v.createMemberExpression("[",t,i)):(i=pe(),v.createMemberExpression(".",t,i)),v.markEnd(t,a);return t}(),t=N("(")?ce():[],v.markEnd(v.createNewExpression(e,t),i)}function me(){var e,t=x,i=function(){var e,t,i,a=x,n=S.allowIn;for(S.allowIn=!0,e=(j("new")?he:le)(),S.allowIn=n;;){if(N("."))i=pe(),e=v.createMemberExpression(".",e,i);else if(N("("))t=ce(),e=v.createCallExpression(e,t);else{if(!N("["))break;i=ue(),e=v.createMemberExpression("[",e,i)}v.markEnd(e,a)}return e}();return x.type!==m.Punctuator||!N("++")&&!N("--")||ae()||(_&&i.type===h.Identifier&&I(i.name)&&P({},f.StrictLHSPostfix),ne(i)||P({},f.InvalidLHSInAssignment),e=D(),i=v.markEnd(v.createPostfixExpression(e.value,i),t)),i}function d(){var e,t,i;return x.type!==m.Punctuator&&x.type!==m.Keyword?t=me():N("++")||N("--")?(i=x,e=D(),t=d(),_&&t.type===h.Identifier&&I(t.name)&&P({},f.StrictLHSPrefix),ne(t)||P({},f.InvalidLHSInAssignment),t=v.createUnaryExpression(e.value,t),t=v.markEnd(t,i)):N("+")||N("-")||N("~")||N("!")?(i=x,e=D(),t=d(),t=v.createUnaryExpression(e.value,t),t=v.markEnd(t,i)):j("delete")||j("void")||j("typeof")?(i=x,e=D(),t=d(),t=v.createUnaryExpression(e.value,t),t=v.markEnd(t,i),_&&"delete"===t.operator&&t.argument.type===h.Identifier&&P({},f.StrictDelete)):t=me(),t}function fe(e,t){var i=0;if(e.type!==m.Punctuator&&e.type!==m.Keyword)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":i=7;break;case"in":i=t?7:0;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11}return i}function ge(){var e,t,i=x,a=function(){var e,t,i,a,n,s,r=x,o=d(),l=x,c=fe(l,S.allowIn);if(0===c)return o;for(l.prec=c,D(),e=[r,x],i=[o,l,d()];0<(c=fe(x,S.allowIn));){for(;2<i.length&&c<=i[i.length-2].prec;)a=i.pop(),n=i.pop().value,o=i.pop(),t=v.createBinaryExpression(n,o,a),e.pop(),v.markEnd(t,r=e[e.length-1]),i.push(t);(l=D()).prec=c,i.push(l),e.push(x),t=d(),i.push(t)}for(t=i[s=i.length-1],e.pop();1<s;)t=v.createBinaryExpression(i[s-1].value,i[s-2],t),s-=2,r=e.pop(),v.markEnd(t,r);return t}();return N("?")&&(D(),t=S.allowIn,S.allowIn=!0,e=U(),S.allowIn=t,L(":"),t=U(),a=v.createConditionalExpression(a,e,t),v.markEnd(a,i)),a}function U(){var e,t,i=x,a=x,n=e=ge();return x.type!==m.Punctuator||"="!==(t=x.value)&&"*="!==t&&"/="!==t&&"%="!==t&&"+="!==t&&"-="!==t&&"<<="!==t&&">>="!==t&&">>>="!==t&&"&="!==t&&"^="!==t&&"|="!==t||(ne(e)||P({},f.InvalidLHSInAssignment),_&&e.type===h.Identifier&&I(e.name)&&P(i,f.StrictLHSAssignment),i=D(),t=U(),n=v.markEnd(v.createAssignmentExpression(i.value,e,t),a)),n}function B(){var e=x,t=U();if(N(",")){for(t=v.createSequenceExpression([t]);y<b&&N(",");)D(),t.expressions.push(U());v.markEnd(t,e)}return t}function _e(){var e,t=x;return L("{"),e=function(){for(var e,t=[];y<b&&!N("}")&&void 0!==(e=Ae());)t.push(e);return t}(),L("}"),v.markEnd(v.createBlockStatement(e),t)}function V(){var e=x,t=D();return t.type!==m.Identifier&&R(t),v.markEnd(v.createIdentifier(t.value),e)}function ye(e){var t,i,a,n,s=[];do{if(s.push((t=e,n=a=i=void 0,i=null,a=x,n=V(),_&&I(n.name)&&P({},f.StrictVarName),"const"===t?(L("="),i=U()):N("=")&&(D(),i=U()),v.markEnd(v.createVariableDeclarator(n,i),a))),!N(","))break}while(D(),y<b);return s}function be(){var e,t,i,a,n,s,r,o=e=t=null;return O("for"),L("("),N(";")?D():(j("var")||j("let")?(S.allowIn=!1,n=x,s=D(),r=ye(),o=v.markEnd(v.createVariableDeclaration(r,s.value),n),S.allowIn=!0,1===o.declarations.length&&j("in")&&(D(),i=o,a=B(),o=null)):(S.allowIn=!1,o=B(),S.allowIn=!0,j("in")&&(ne(o)||P({},f.InvalidLHSInForIn),D(),i=o,a=B(),o=null)),void 0===i&&L(";")),void 0===i&&(N(";")||(e=B()),L(";"),N(")")||(t=B())),L(")"),r=S.inIteration,S.inIteration=!0,s=G(),S.inIteration=r,void 0===i?v.createForStatement(o,e,t,s):v.createForInStatement(i,a,s)}function ve(){var e,t,i,a,n;if(O("switch"),L("("),e=B(),L(")"),L("{"),t=[],N("}"))D();else{for(a=S.inSwitch,n=!(S.inSwitch=!0);y<b&&!N("}");)null===(i=function(){var e,t=[],i=x,a=j("default")?(D(),null):(O("case"),B());for(L(":");y<b&&!(N("}")||j("default")||j("case"));)e=G(),t.push(e);return v.markEnd(v.createSwitchCase(a,t),i)}()).test&&(n&&C({},f.MultipleDefaultsInSwitch),n=!0),t.push(i);S.inSwitch=a,L("}")}return v.createSwitchStatement(e,t)}function xe(){var e,t,i,a,n=[],s=null;return O("try"),e=_e(),j("catch")&&n.push((a=x,O("catch"),L("("),N(")")&&R(x),t=V(),_&&I(t.name)&&P({},f.StrictCatchVariable),L(")"),i=_e(),v.markEnd(v.createCatchClause(t,i),a))),j("finally")&&(D(),s=_e()),0!==n.length||s||C({},f.NoCatchOrFinally),v.createTryStatement(e,[],n,s)}function G(){var e,t,i,a,n,s,r,o,l,c,d,p,u=x.type;if(u===m.EOF&&R(x),u===m.Punctuator&&"{"===x.value)return _e();if(i=x,u===m.Punctuator)switch(x.value){case";":return v.markEnd((L(";"),v.createEmptyStatement()),i);case"(":return v.markEnd((a=B(),F(),v.createExpressionStatement(a)),i)}if(u===m.Keyword)switch(x.value){case"break":return v.markEnd((p=null,O("break"),59===g.charCodeAt(y)?(D(),S.inIteration||S.inSwitch||C({},f.IllegalBreak),v.createBreakStatement(null)):ae()?(S.inIteration||S.inSwitch||C({},f.IllegalBreak),v.createBreakStatement(null)):(x.type===m.Identifier&&(d="$"+(p=V()).name,Object.prototype.hasOwnProperty.call(S.labelSet,d)||C({},f.UnknownLabel,p.name)),F(),null!==p||S.inIteration||S.inSwitch||C({},f.IllegalBreak),v.createBreakStatement(p))),i);case"continue":return v.markEnd((d=null,O("continue"),59===g.charCodeAt(y)?(D(),S.inIteration||C({},f.IllegalContinue),v.createContinueStatement(null)):ae()?(S.inIteration||C({},f.IllegalContinue),v.createContinueStatement(null)):(x.type===m.Identifier&&(p="$"+(d=V()).name,Object.prototype.hasOwnProperty.call(S.labelSet,p)||C({},f.UnknownLabel,d.name)),F(),null!==d||S.inIteration||C({},f.IllegalContinue),v.createContinueStatement(d))),i);case"debugger":return v.markEnd((O("debugger"),F(),v.createDebuggerStatement()),i);case"do":return v.markEnd((O("do"),c=S.inIteration,S.inIteration=!0,l=G(),S.inIteration=c,O("while"),L("("),c=B(),L(")"),N(";")&&D(),v.createDoWhileStatement(l,c)),i);case"for":return v.markEnd(be(),i);case"function":return v.markEnd(Te(),i);case"if":return v.markEnd((O("if"),L("("),l=B(),L(")"),c=G(),o=j("else")?(D(),G()):null,v.createIfStatement(l,c,o)),i);case"return":return v.markEnd(function(){var e=null;if(O("return"),S.inFunctionBody||P({},f.IllegalReturn),32===g.charCodeAt(y)&&M(g.charCodeAt(y+1)))e=B();else{if(ae())return v.createReturnStatement(null);N(";")||N("}")||x.type===m.EOF||(e=B())}return F(),v.createReturnStatement(e)}(),i);case"switch":return v.markEnd(ve(),i);case"throw":return v.markEnd((O("throw"),ae()&&C({},f.NewlineAfterThrow),o=B(),F(),v.createThrowStatement(o)),i);case"try":return v.markEnd(xe(),i);case"var":return v.markEnd((O("var"),r=ye(),F(),v.createVariableDeclaration(r,"var")),i);case"while":return v.markEnd((O("while"),L("("),r=B(),L(")"),s=S.inIteration,S.inIteration=!0,n=G(),S.inIteration=s,v.createWhileStatement(r,n)),i);case"with":return v.markEnd((_&&(E(),P({},f.StrictModeWith)),O("with"),L("("),s=B(),L(")"),n=G(),v.createWithStatement(s,n)),i)}return(u=B()).type===h.Identifier&&N(":")?(D(),t="$"+u.name,Object.prototype.hasOwnProperty.call(S.labelSet,t)&&C({},f.Redeclaration,"Label",u.name),S.labelSet[t]=!0,e=G(),delete S.labelSet[t],v.markEnd(v.createLabeledStatement(u,e),i)):(F(),v.markEnd(v.createExpressionStatement(u),i))}function Se(){var e,t,i,a,n,s,r,o=[],l=x;for(L("{");y<b&&x.type===m.StringLiteral&&(t=x,e=Ae(),o.push(e),e.expression.type===h.Literal);)"use strict"===g.slice(t.start+1,t.end-1)?(_=!0,i&&P(i,f.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(a=S.labelSet,n=S.inIteration,s=S.inSwitch,r=S.inFunctionBody,S.labelSet={},S.inIteration=!1,S.inSwitch=!1,S.inFunctionBody=!0;y<b&&!N("}")&&void 0!==(e=Ae());)o.push(e);return L("}"),S.labelSet=a,S.inIteration=n,S.inSwitch=s,S.inFunctionBody=r,v.markEnd(v.createBlockStatement(o),l)}function we(e){var t,i,a,n,s,r,o=[];if(L("("),!N(")"))for(n={};y<b&&(i=x,t=V(),s="$"+i.value,_?(I(i.value)&&(a=i,r=f.StrictParamName),Object.prototype.hasOwnProperty.call(n,s)&&(a=i,r=f.StrictParamDupe)):e||(I(i.value)?(e=i,r=f.StrictParamName):X(i.value)?(e=i,r=f.StrictReservedWord):Object.prototype.hasOwnProperty.call(n,s)&&(e=i,r=f.StrictParamDupe)),o.push(t),n[s]=!0,!N(")"));)L(",");return L(")"),{params:o,stricted:a,firstRestricted:e,message:r}}function Te(){var e,t,i,a,n,s,r,o=x;return O("function"),r=x,e=V(),_?I(r.value)&&P(r,f.StrictFunctionName):I(r.value)?(n=r,s=f.StrictFunctionName):X(r.value)&&(n=r,s=f.StrictReservedWord),t=(r=we(n)).params,a=r.stricted,n=r.firstRestricted,r.message&&(s=r.message),r=_,i=Se(),_&&n&&C(n,s),_&&a&&P(a,s),_=r,v.markEnd(v.createFunctionDeclaration(e,t,[],i),o)}function Ae(){if(x.type===m.Keyword)switch(x.value){case"const":case"let":return e=x.value,i=x,O(e),t=ye(e),F(),v.markEnd(v.createVariableDeclaration(t,e),i);case"function":return Te();default:return G()}var e,t,i;if(x.type!==m.EOF)return G()}function Me(){var e,t;return E(),te(),t=x,_=!1,e=function(){for(var e,t,i,a=[];y<b&&(t=x).type===m.StringLiteral&&(e=Ae(),a.push(e),e.expression.type===h.Literal);)"use strict"===g.slice(t.start+1,t.end-1)?(_=!0,i&&P(i,f.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(;y<b&&void 0!==(e=Ae());)a.push(e);return a}(),v.markEnd(v.createProgram(e),t)}function Ie(){for(var e,t,i=[],a=0;a<w.tokens.length;++a)t={type:(e=w.tokens[a]).type,value:e.value},w.range&&(t.range=e.range),w.loc&&(t.loc=e.loc),i.push(t);w.tokens=i}(a={})[(m={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",a[m.EOF]="<end>",a[m.Identifier]="Identifier",a[m.Keyword]="Keyword",a[m.NullLiteral]="Null",a[m.NumericLiteral]="Numeric",a[m.Punctuator]="Punctuator",a[m.StringLiteral]="String",a[m.RegularExpression]="RegularExpression",H=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],h={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},c={Data:1,Get:2,Set:4},f={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},t={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},n={name:"SyntaxTree",processComment:function(e){var t,i;if(!(e.type===h.Program&&0<e.body.length)){for(0<w.trailingComments.length?w.trailingComments[0].range[0]>=e.range[1]?(i=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:0<w.bottomRightStack.length&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(i=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);0<w.bottomRightStack.length&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=e.range[0];)t=w.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):0<w.leadingComments.length&&w.leadingComments[w.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=w.leadingComments,w.leadingComments=[]),i&&(e.trailingComments=i),w.bottomRightStack.push(e)}},markEnd:function(e,t){return w.range&&(e.range=[t.start,y]),w.loc&&(e.loc=new i(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),p,y-u),this.postProcess(e)),w.attachComment&&this.processComment(e),e},postProcess:function(e){return w.source&&(e.loc.source=w.source),e},createArrayExpression:function(e){return{type:h.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,i){return{type:h.AssignmentExpression,operator:e,left:t,right:i}},createBinaryExpression:function(e,t,i){return{type:"||"===e||"&&"===e?h.LogicalExpression:h.BinaryExpression,operator:e,left:t,right:i}},createBlockStatement:function(e){return{type:h.BlockStatement,body:e}},createBreakStatement:function(e){return{type:h.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:h.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:h.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,i){return{type:h.ConditionalExpression,test:e,consequent:t,alternate:i}},createContinueStatement:function(e){return{type:h.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:h.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:h.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:h.EmptyStatement}},createExpressionStatement:function(e){return{type:h.ExpressionStatement,expression:e}},createForStatement:function(e,t,i,a){return{type:h.ForStatement,init:e,test:t,update:i,body:a}},createForInStatement:function(e,t,i){return{type:h.ForInStatement,left:e,right:t,body:i,each:!1}},createFunctionDeclaration:function(e,t,i,a){return{type:h.FunctionDeclaration,id:e,params:t,defaults:i,body:a,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,i,a){return{type:h.FunctionExpression,id:e,params:t,defaults:i,body:a,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:h.Identifier,name:e}},createIfStatement:function(e,t,i){return{type:h.IfStatement,test:e,consequent:t,alternate:i}},createLabeledStatement:function(e,t){return{type:h.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:h.Literal,value:e.value,raw:g.slice(e.start,e.end)}},createMemberExpression:function(e,t,i){return{type:h.MemberExpression,computed:"["===e,object:t,property:i}},createNewExpression:function(e,t){return{type:h.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:h.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:h.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:h.Program,body:e}},createProperty:function(e,t,i){return{type:h.Property,key:t,value:i,kind:e}},createReturnStatement:function(e){return{type:h.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:h.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:h.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:h.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:h.ThisExpression}},createThrowStatement:function(e){return{type:h.ThrowStatement,argument:e}},createTryStatement:function(e,t,i,a){return{type:h.TryStatement,block:e,guardedHandlers:t,handlers:i,finalizer:a}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:h.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:h.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:h.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:h.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:h.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:h.WithStatement,object:e,body:t}}},e.version="1.2.2",e.tokenize=function(e,t){var i,a=String;"string"==typeof e||e instanceof String||(e=a(e)),v=n,p=(y=0)<(g=e).length?1:0,u=0,b=g.length,S={allowIn:!(x=null),labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},(t=t||{}).tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range="boolean"==typeof t.range&&t.range,w.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(w.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(w.errors=[]);try{if(te(),x.type===m.EOF)return w.tokens;for(D();x.type!==m.EOF;)try{D()}catch(e){if(w.errors){w.errors.push(e);break}throw e}Ie(),i=w.tokens,void 0!==w.comments&&(i.comments=w.comments),void 0!==w.errors&&(i.errors=w.errors)}catch(e){throw e}finally{w={}}return i},e.parse=function(e,t){var i,a=String;"string"==typeof e||e instanceof String||(e=a(e)),v=n,p=(y=0)<(g=e).length?1:0,u=0,b=g.length,S={allowIn:!(x=null),labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},void 0!==t&&(w.range="boolean"==typeof t.range&&t.range,w.loc="boolean"==typeof t.loc&&t.loc,w.attachComment="boolean"==typeof t.attachComment&&t.attachComment,w.loc&&null!==t.source&&void 0!==t.source&&(w.source=a(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(w.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(w.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(w.errors=[]),w.attachComment)&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]);try{i=Me(),void 0!==w.comments&&(i.comments=w.comments),void 0!==w.tokens&&(Ie(),i.tokens=w.tokens),void 0!==w.errors&&(i.errors=w.errors)}catch(e){throw e}finally{w={}}return i},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),h)h.hasOwnProperty(e)&&(t[e]=h[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],1:[function(n,s,r){!function(t){l={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},(e={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,t,i,a,n,s,r){a.ast||(a.ast=l).initialize();var o=s.length-1;switch(n){case 1:return a.ast.set({expression:{type:"root",value:s[o]}}),a.ast.unshift(),a.ast.yield();case 2:return a.ast.set({expression:{type:"root",value:s[o-1]}}),a.ast.unshift(),a.ast.yield();case 3:return a.ast.unshift(),a.ast.yield();case 4:return a.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:s[o-1]}}),a.ast.unshift(),a.ast.yield();case 5:case 6:break;case 7:a.ast.set({operation:"member"}),a.ast.push();break;case 8:a.ast.set({operation:"subscript"}),a.ast.push();break;case 9:a.ast.set({scope:"child"});break;case 10:a.ast.set({scope:"descendant"});break;case 11:break;case 12:a.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:a.ast.set({expression:{type:"wildcard",value:s[o]}});break;case 15:a.ast.set({expression:{type:"identifier",value:s[o]}});break;case 16:a.ast.set({expression:{type:"script_expression",value:s[o]}});break;case 17:a.ast.set({expression:{type:"numeric_literal",value:parseInt(s[o])}});break;case 18:break;case 19:a.ast.set({scope:"child"});break;case 20:a.ast.set({scope:"descendant"});break;case 21:case 22:case 23:break;case 24:1<s[o].length?a.ast.set({expression:{type:"union",value:s[o]}}):this.$=s[o];break;case 25:this.$=[s[o]];break;case 26:this.$=s[o-2].concat(s[o]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(s[o])}},a.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:s[o]}},a.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:s[o]}},a.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:s[o]}},a.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:s[o]}},a.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:s[o]}},a.ast.set(this.$);break;case 33:case 34:this.$=s[o]}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,i=[0],a=[null],n=[],s=this.table,r="",o=0,l=0,c=0,d=1,p=n.slice.call(arguments,1),u=(this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc),h=(n.push(u),this.lexer.options&&this.lexer.options.ranges);"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,f,g,_,y,b,v,x={};;){if(g=i[i.length-1],void 0===(_=this.defaultActions[g]||(null==m&&(S=void 0,m=S="number"!=typeof(S=t.lexer.lex()||d)&&t.symbols_[S]||S),s[g]&&s[g][m]))||!_.length||!_[0]){var S="",w=[];for(y in s[g])this.terminals_[y]&&2<y&&w.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(o+1)+": Unexpected "+(m==d?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:u,expected:w})}if(_[0]instanceof Array&&1<_.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+m);switch(_[0]){case 1:i.push(m),a.push(this.lexer.yytext),n.push(this.lexer.yylloc),i.push(_[1]),m=null,f?(m=f,f=null):(l=this.lexer.yyleng,r=this.lexer.yytext,o=this.lexer.yylineno,u=this.lexer.yylloc,0<c&&c--);break;case 2:if(b=this.productions_[_[1]][1],x.$=a[a.length-b],x._$={first_line:n[n.length-(b||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(b||1)].first_column,last_column:n[n.length-1].last_column},h&&(x._$.range=[n[n.length-(b||1)].range[0],n[n.length-1].range[1]]),void 0!==(v=this.performAction.apply(x,[r,l,o,this.yy,_[1],a,n].concat(p))))return v;b&&(i=i.slice(0,-1*b*2),a=a.slice(0,-1*b),n=n.slice(0,-1*b)),i.push(this.productions_[_[1]][0]),a.push(x.$),n.push(x._$),v=s[i[i.length-2]][i[i.length-1]],i.push(v);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g),e=(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t,this.match.split(/(?:\r\n?|\n)/g)),a=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===e.length?this.yylloc.first_column:0)+e[e.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var i,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)&&(a.yylloc.range=this.yylloc.range.slice(0)),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack)for(var n in a)this[n]=a[n];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,i,a,n=this._currentRules(),s=0;s<n.length;s++)if((i=this._input.match(this.rules[n[s]]))&&(!t||i[0].length>t[0].length))if(t=i,a=s,this.options.backtrack_lexer){if(!1!==(e=this.test_match(i,n[s])))return e;if(!this._backtrack)return!1;t=!1}else if(!this.options.flex)break;return t?!1!==(e=this.test_match(t,n[a]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,i,a){switch(i){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};var e,l,i=new((a.prototype=e).Parser=a);function a(){this.yy={}}void 0!==n&&void 0!==r&&(r.parser=i,r.Parser=i.Parser,r.parse=function(){return i.parse.apply(i,arguments)},r.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),t.exit(1));e=n("fs").readFileSync(n("path").normalize(e[1]),"utf8");return r.parser.parse(e)},void 0!==s)&&n.main===s&&r.main(t.argv.slice(1))}.call(this,n("_process"))},{_process:14,fs:12,path:13}],2:[function(e,t,i){t.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(e,t,i){var a=e("./dict"),n=e("fs"),a={lex:{macros:{esc:"\\\\",int:a.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[a.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[a.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[a.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};n.readFileSync&&(a.moduleInclude=n.readFileSync(e.resolve("../include/module.js")),a.actionInclude=n.readFileSync(e.resolve("../include/action.js"))),t.exports=a},{"./dict":2,fs:12}],4:[function(r,e,t){function i(){return this.initialize.apply(this,arguments)}var n=r("./aesprim"),a=r("./slice"),s=r("static-eval"),o=r("underscore").uniq;function l(t,e,i){var a=r("./index"),e=h(n.parse(e).body[0].expression,{"@":t.value}),i=i.replace(/\{\{\s*value\s*\}\}/g,e),e=a.nodes(t.value,i);return e.forEach(function(e){e.path=t.path.concat(e.path.slice(1))}),e}function c(e){return Array.isArray(e)}function d(l){return function(e,a,n,s){var t=e.value,e=e.path,r=[],o=function(t,i){var e;c(t)?(t.forEach(function(e,t){s<=r.length||n(t,e,a)&&r.push({path:i.concat(t),value:e})}),t.forEach(function(e,t){s<=r.length||l&&o(e,i.concat(t))})):(e=t)&&!(e instanceof Array)&&e instanceof Object&&(this.keys(t).forEach(function(e){s<=r.length||n(e,t[e],a)&&r.push({path:i.concat(e),value:t[e]})}),this.keys(t).forEach(function(e){s<=r.length||l&&o(t[e],i.concat(e))}))}.bind(this);return o(t,e),r}}function p(a){return function(e,t,i){return this.descend(t,e.expression.value,a,i)}}function u(a){return function(e,t,i){return this.traverse(t,e.expression.value,a,i)}}function h(){try{return s.apply(this,arguments)}catch(e){}}function m(e){return e=e.filter(function(e){return e}),o(e,function(e){return e.path.map(function(e){return String(e).replace("-","--")}).join("-")})}function f(e){e=String(e);return e.match(/^-?[0-9]+$/)?parseInt(e):null}i.prototype.initialize=function(){this.traverse=d(!0),this.descend=d()},i.prototype.keys=Object.keys,i.prototype.resolve=function(e){var e=[e.operation,e.scope,e.expression.type].join("-"),t=this._fns[e];if(t)return t.bind(this);throw new Error("couldn't resolve key: "+e)},i.prototype.register=function(e,t){if(!t instanceof Function)throw new Error("handler must be a function");this._fns[e]=t},(i.prototype._fns={"member-child-identifier":function(e,t){var e=e.expression.value,i=t.value;if(i instanceof Object&&e in i)return[{value:i[e],path:t.path.concat(e)}]},"member-descendant-identifier":u(function(e,t,i){return e==i}),"subscript-child-numeric_literal":p(function(e,t,i){return e===i}),"member-child-numeric_literal":p(function(e,t,i){return String(e)===String(i)}),"subscript-descendant-numeric_literal":u(function(e,t,i){return e===i}),"member-child-wildcard":p(function(){return!0}),"member-descendant-wildcard":u(function(){return!0}),"subscript-descendant-wildcard":u(function(){return!0}),"subscript-child-wildcard":p(function(){return!0}),"subscript-child-slice":function(e,i){var t;if(c(i.value))return e=e.expression.value.split(":").map(f),t=i.value.map(function(e,t){return{value:e,path:i.path.concat(t)}}),a.apply(null,[t].concat(e))},"subscript-child-union":function(e,t){var i=[];return e.expression.value.forEach(function(e){e={operation:"subscript",scope:"child",expression:e.expression},e=this.resolve(e)(e,t);e&&(i=i.concat(e))},this),m(i)},"subscript-descendant-union":function(e,t,i){var a=r(".."),n=this,s=[];return a.nodes(t,"$..*").slice(1).forEach(function(t){s.length>=i||e.expression.value.forEach(function(e){e={operation:"subscript",scope:"child",expression:e.expression},e=n.resolve(e)(e,t);s=s.concat(e)})}),m(s)},"subscript-child-filter_expression":function(e,t,i){var e=e.expression.value.slice(2,-1),a=n.parse(e).body[0].expression;return this.descend(t,null,function(e,t){return h(a,{"@":t})},i)},"subscript-descendant-filter_expression":function(e,t,i){var e=e.expression.value.slice(2,-1),a=n.parse(e).body[0].expression;return this.traverse(t,null,function(e,t){return h(a,{"@":t})},i)},"subscript-child-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return l(t,e.expression.value.slice(1,-1),"$..value")}})["subscript-child-string_literal"]=i.prototype._fns["member-child-identifier"],i.prototype._fns["member-descendant-numeric_literal"]=i.prototype._fns["subscript-descendant-string_literal"]=i.prototype._fns["member-descendant-identifier"],e.exports=i},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(e,t,i){function a(){this.initialize.apply(this,arguments)}var d=e("assert"),n=e("./dict"),s=e("./parser"),r=e("./handlers");function o(e){return"[object String]"==Object.prototype.toString.call(e)}a.prototype.initialize=function(){this.parser=new s,this.handlers=new r},a.prototype.parse=function(e){return d.ok(o(e),"we need a path"),this.parser.parse(e)},a.prototype.parent=function(e,t){d.ok(e instanceof Object,"obj needs to be an object"),d.ok(t,"we need a path");t=this.nodes(e,t)[0];t.path.pop();return this.value(e,t.path)},a.prototype.apply=function(a,e,n){d.ok(a instanceof Object,"obj needs to be an object"),d.ok(e,"we need a path"),d.equal(typeof n,"function","fn needs to be function");e=this.nodes(a,e).sort(function(e,t){return t.path.length-e.path.length});return e.forEach(function(e){var t=e.path.pop(),i=this.value(a,this.stringify(e.path)),e=e.value=n.call(a,i[t]);i[t]=e},this),e},a.prototype.value=function(e,t,i){if(d.ok(e instanceof Object,"obj needs to be an object"),d.ok(t,"we need a path"),3<=arguments.length){var a=this.nodes(e,t).shift();if(!a)return this._vivify(e,t,i);var n=a.path.slice(-1).shift();this.parent(e,this.stringify(a.path))[n]=i}return this.query(e,this.stringify(t),1).shift()},a.prototype._vivify=function(n,e,t){var s=this,i=(d.ok(n instanceof Object,"obj needs to be an object"),d.ok(e,"we need a path"),this.parser.parse(e).map(function(e){return e.expression.value})),r=function(e,t){var i=e.pop(),a=s.value(n,e);a||(r(e.concat(),"string"==typeof i?{}:[]),a=s.value(n,e)),a[i]=t};return r(i,t),this.query(n,e)[0]},a.prototype.query=function(e,t,i){return d.ok(e instanceof Object,"obj needs to be an object"),d.ok(o(t),"we need a path"),this.nodes(e,t,i).map(function(e){return e.value})},a.prototype.paths=function(e,t,i){return d.ok(e instanceof Object,"obj needs to be an object"),d.ok(t,"we need a path"),this.nodes(e,t,i).map(function(e){return e.path})},a.prototype.nodes=function(e,t,s){var r,o,l,c;return d.ok(e instanceof Object,"obj needs to be an object"),d.ok(t,"we need a path"),0===s?[]:(r=this.parser.parse(t),o=this.handlers,l=[{path:["$"],value:e}],c=[],r.length&&"root"==r[0].expression.type&&r.shift(),r.length?(r.forEach(function(t,i){var a,n;c.length>=s||(a=o.resolve(t),n=[],l.forEach(function(e){c.length>=s||(e=a(t,e,s),i==r.length-1?c=c.concat(e||[]):n=n.concat(e||[]))}),l=n)}),s?c.slice(0,s):c):l)},a.prototype.stringify=function(e){d.ok(e,"we need a path");var a="$",n={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach(function(e){if("root"!=e.expression.type){var t=[e.scope,e.operation].join("-"),i=n[t],e="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value;if(!i)throw new Error("couldn't find template "+t);a+=i.replace(/{{value}}/,e)}}),a},a.prototype._normalize=function(e){if(d.ok(e,"we need a path"),"string"==typeof e)return this.parser.parse(e);var i;if(Array.isArray(e)&&"string"==typeof e[0])return i=[{expression:{type:"root",value:"$"}}],e.forEach(function(e,t){"$"==e&&0===t||("string"==typeof e&&e.match("^"+n.identifier+"$")?i.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}}):i.push({operation:"subscript",scope:"child",expression:{value:e,type:"number"==typeof e?"numeric_literal":"string_literal"}}))}),i;if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},a.Handlers=r,a.Parser=s;e=new a;e.JSONPath=a,t.exports=e},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(e,t,i){function a(){var e=new s.Parser,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e}var n=e("./grammar"),s=e("../generated/parser");a.grammar=n,t.exports=a},{"../generated/parser":1,"./grammar":3}],7:[function(e,t,i){function o(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}t.exports=function(e,t,i,a){if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof i)throw new Error("end cannot be a string");if("string"==typeof a)throw new Error("step cannot be a string");var n=e.length;if(0===a)throw new Error("step cannot be zero");if(a=a?o(a):1,i=i<0?n+i:i,t=o(0===(t=t<0?n+t:t)?0:t||(0<a?0:n-1)),i=o(0===i?0:i||(0<a?n:-1)),t=0<a?Math.max(0,t):Math.min(n,t),i=0<a?Math.min(i,n):Math.max(-1,i),0<a&&i<=t)return[];if(a<0&&t<=i)return[];for(var s=[],r=t;r!=i&&!(a<0&&r<=i||0<a&&i<=r);r+=a)s.push(e[r]);return s}},{}],8:[function(e,t,i){var p=e("util/"),u=Array.prototype.slice,a=Object.prototype.hasOwnProperty,s=t.exports=l;function n(e,t){return p.isUndefined(t)?""+t:p.isNumber(t)&&!isFinite(t)||p.isFunction(t)||p.isRegExp(t)?t.toString():t}function r(e,t){return!p.isString(e)||e.length<t?e:e.slice(0,t)}function o(e,t,i,a,n){throw new s.AssertionError({message:i,actual:e,expected:t,operator:a,stackStartFunction:n})}function l(e,t){e||o(e,!0,t,"==",s.ok)}function h(e,t){if(e===t)return!0;if(p.isBuffer(e)&&p.isBuffer(t)){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(p.isDate(e)&&p.isDate(t))return e.getTime()===t.getTime();if(p.isRegExp(e)&&p.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(p.isObject(e)||p.isObject(t)){var a=e,n=t;if(p.isNullOrUndefined(a)||p.isNullOrUndefined(n))return!1;if(a.prototype!==n.prototype)return!1;if(p.isPrimitive(a)||p.isPrimitive(n))return a===n;var s=m(a),r=m(n);if(s&&!r||!s&&r)return!1;if(s)return a=u.call(a),n=u.call(n),h(a,n);var o,l,c=f(a),d=f(n);if(c.length!=d.length)return!1;for(c.sort(),d.sort(),l=c.length-1;0<=l;l--)if(c[l]!=d[l])return!1;for(l=c.length-1;0<=l;l--)if(o=c[l],!h(a[o],n[o]))return!1;return!0}return e==t}function m(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function c(e,t){return e&&t&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function d(e,t,i,a){var n;p.isString(i)&&(a=i,i=null);try{t()}catch(e){n=e}if(a=(i&&i.name?" ("+i.name+").":".")+(a?" "+a:"."),e&&!n&&o(n,i,"Missing expected exception"+a),!e&&c(n,i)&&o(n,i,"Got unwanted exception"+a),e&&n&&i&&!c(n,i)||!e&&n)throw n}s.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=(i=this,r(JSON.stringify(i.actual,n),128)+" "+i.operator+" "+r(JSON.stringify(i.expected,n),128)),this.generatedMessage=!0);var t,i=e.stackStartFunction||o;Error.captureStackTrace?Error.captureStackTrace(this,i):(e=new Error).stack&&(e=e.stack,t=i.name,0<=(t=e.indexOf("\n"+t))&&(t=e.indexOf("\n",t+1),e=e.substring(t+1)),this.stack=e)},p.inherits(s.AssertionError,Error),s.fail=o,s.ok=l,s.equal=function(e,t,i){e!=t&&o(e,t,i,"==",s.equal)},s.notEqual=function(e,t,i){e==t&&o(e,t,i,"!=",s.notEqual)},s.deepEqual=function(e,t,i){h(e,t)||o(e,t,i,"deepEqual",s.deepEqual)},s.notDeepEqual=function(e,t,i){h(e,t)&&o(e,t,i,"notDeepEqual",s.notDeepEqual)},s.strictEqual=function(e,t,i){e!==t&&o(e,t,i,"===",s.strictEqual)},s.notStrictEqual=function(e,t,i){e===t&&o(e,t,i,"!==",s.notStrictEqual)},s.throws=function(e,t,i){d.apply(this,[!0].concat(u.call(arguments)))},s.doesNotThrow=function(e,t){d.apply(this,[!1].concat(u.call(arguments)))},s.ifError=function(e){if(e)throw e};var f=Object.keys||function(e){var t,i=[];for(t in e)a.call(e,t)&&i.push(t);return i}},{"util/":11}],9:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],10:[function(e,t,i){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],11:[function(M,e,I){!function(a,n){var e,o=/%[sdj%]/g,s=(I.format=function(e){if(!_(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(l(arguments[i]));return t.join(" ")}for(var i=1,a=arguments,n=a.length,s=String(e).replace(o,function(e){if("%%"===e)return"%";if(n<=i)return e;switch(e){case"%s":return String(a[i++]);case"%d":return Number(a[i++]);case"%j":try{return JSON.stringify(a[i++])}catch(e){return"[Circular]"}default:return e}}),r=a[i];i<n;r=a[++i])f(r)||!v(r)?s+=" "+r:s+=" "+l(r);return s},I.deprecate=function(e,t){var i;return y(n.process)?function(){return I.deprecate(e,t).apply(this,arguments)}:!0===a.noDeprecation?e:(i=!1,function(){if(!i){if(a.throwDeprecation)throw new Error(t);a.traceDeprecation?console.trace(t):console.error(t),i=!0}return e.apply(this,arguments)})},{});function l(e,t){var i={seen:[],stylize:c};return 3<=arguments.length&&(i.depth=arguments[2]),4<=arguments.length&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&I._extend(i,t),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),d(i,e,i.depth)}function r(e,t){t=l.styles[t];return t?"["+l.colors[t][0]+"m"+e+"["+l.colors[t][1]+"m":e}function c(e,t){return e}function d(t,i,a){if(t.customInspect&&i&&w(i.inspect)&&i.inspect!==I.inspect&&(!i.constructor||i.constructor.prototype!==i))return _(e=i.inspect(a,t))?e:d(t,e,a);var e=function(e,t){if(y(t))return e.stylize("undefined","undefined");{var i;if(_(t))return i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(i,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}(t,i);if(e)return e;var n,e=Object.keys(i),s=(n={},e.forEach(function(e,t){n[e]=!0}),n);if(t.showHidden&&(e=Object.getOwnPropertyNames(i)),S(i)&&(0<=e.indexOf("message")||0<=e.indexOf("description")))return p(i);if(0===e.length){if(w(i))return r=i.name?": "+i.name:"",t.stylize("[Function"+r+"]","special");if(b(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(x(i))return t.stylize(Date.prototype.toString.call(i),"date");if(S(i))return p(i)}var r="",o=!1,l=["{","}"];if(h(i)&&(o=!0,l=["[","]"]),w(i)&&(r=" [Function"+(i.name?": "+i.name:"")+"]"),b(i)&&(r=" "+RegExp.prototype.toString.call(i)),x(i)&&(r=" "+Date.prototype.toUTCString.call(i)),S(i)&&(r=" "+p(i)),0===e.length&&(!o||0==i.length))return l[0]+r+l[1];if(a<0)return b(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i),c=o?function(t,i,a,n,e){for(var s=[],r=0,o=i.length;r<o;++r)A(i,String(r))?s.push(u(t,i,a,n,String(r),!0)):s.push("");return e.forEach(function(e){e.match(/^\d+$/)||s.push(u(t,i,a,n,e,!0))}),s}(t,i,a,s,e):e.map(function(e){return u(t,i,a,s,e,o)}),t.seen.pop();var c;return 60<c.reduce(function(e,t){return 0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?l[0]+(""===r?"":r+"\n ")+" "+c.join(",\n  ")+" "+l[1]:l[0]+r+" "+c.join(", ")+" "+l[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,i,a,n,s){var r,o,t=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]};if(t.get?o=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(o=e.stylize("[Setter]","special")),A(a,n)||(r="["+n+"]"),o||(e.seen.indexOf(t.value)<0?-1<(o=f(i)?d(e,t.value,null):d(e,t.value,i-1)).indexOf("\n")&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),y(r)){if(s&&n.match(/^\d+$/))return o;r=(r=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(r,"string"))}return r+": "+o}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function g(e){return"number"==typeof e}function _(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return v(e)&&"[object RegExp]"===t(e)}function v(e){return"object"==typeof e&&null!==e}function x(e){return v(e)&&"[object Date]"===t(e)}function S(e){return v(e)&&("[object Error]"===t(e)||e instanceof Error)}function w(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function i(e){return e<10?"0"+e.toString(10):e.toString(10)}I.debuglog=function(t){var i;return y(e)&&(e=a.env.NODE_DEBUG||""),t=t.toUpperCase(),s[t]||(new RegExp("\\b"+t+"\\b","i").test(e)?(i=a.pid,s[t]=function(){var e=I.format.apply(I,arguments);console.error("%s %d: %s",t,i,e)}):s[t]=function(){}),s[t]},(I.inspect=l).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=h,I.isBoolean=m,I.isNull=f,I.isNullOrUndefined=function(e){return null==e},I.isNumber=g,I.isString=_,I.isSymbol=function(e){return"symbol"==typeof e},I.isUndefined=y,I.isRegExp=b,I.isObject=v,I.isDate=x,I.isError=S,I.isFunction=w,I.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},I.isBuffer=M("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[i(e.getHours()),i(e.getMinutes()),i(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],t].join(" ")),I.format.apply(I,arguments))},I.inherits=M("inherits"),I._extend=function(e,t){if(t&&v(t))for(var i=Object.keys(t),a=i.length;a--;)e[i[a]]=t[i[a]];return e}}.call(this,M("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(e,t,i){},{}],13:[function(e,t,c){!function(n){function s(e,t){for(var i=0,a=e.length-1;0<=a;a--){var n=e[a];"."===n?e.splice(a,1):".."===n?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i--;)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],a=0;a<e.length;a++)t(e[a],a,e)&&i.push(e[a]);return i}c.resolve=function(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){var a=0<=i?arguments[i]:n.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,t="/"===a.charAt(0))}return(t?"/":"")+(e=s(r(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},c.normalize=function(e){var t=c.isAbsolute(e),i="/"===a(e,-1);return(e=(e=s(r(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&i&&(e+="/"),(t?"/":"")+e},c.isAbsolute=function(e){return"/"===e.charAt(0)},c.join=function(){var e=Array.prototype.slice.call(arguments,0);return c.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},c.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;0<=i&&""===e[i];i--);return i<t?[]:e.slice(t,i-t+1)}e=c.resolve(e).substr(1),t=c.resolve(t).substr(1);for(var a=i(e.split("/")),n=i(t.split("/")),s=Math.min(a.length,n.length),r=s,o=0;o<s;o++)if(a[o]!==n[o]){r=o;break}for(var l=[],o=r;o<a.length;o++)l.push("..");return(l=l.concat(n.slice(r))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),i=-1,a=!0,n=e.length-1;1<=n;--n)if(47===e.charCodeAt(n)){if(!a){i=n;break}}else a=!1;return-1===i?t?"/":".":t&&1===i?"/":e.slice(0,i)},c.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,i=-1,a=!0,n=e.length-1;0<=n;--n)if(47===e.charCodeAt(n)){if(!a){t=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(t,i)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},c.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,a=-1,n=!0,s=0,r=e.length-1;0<=r;--r){var o=e.charCodeAt(r);if(47===o){if(n)continue;i=r+1;break}-1===a&&(n=!1,a=r+1),46===o?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1)}return-1===t||-1===a||0===s||1===s&&t===a-1&&t===i+1?"":e.slice(t,a)};var a=function(e,t,i){return e.substr(t,i)}}.call(this,e("_process"))},{_process:14}],14:[function(e,t,i){var a,n,t=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}try{a="function"==typeof setTimeout?setTimeout:s}catch(e){a=s}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}function o(t){if(a===setTimeout)return setTimeout(t,0);if((a===s||!a)&&setTimeout)return(a=setTimeout)(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}var l,c=[],d=!1,p=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):p=-1,c.length)&&h()}function h(){if(!d){for(var e=o(u),t=(d=!0,c.length);t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,d=!1,!function(t){if(n===clearTimeout)return clearTimeout(t);if((n===r||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||d||o(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=f,t.addListener=f,t.once=f,t.off=f,t.removeListener=f,t.removeAllListeners=f,t.emit=f,t.prependListener=f,t.prependOnceListener=f,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],15:[function(e,t,i){var v=e("escodegen").generate;t.exports=function(e,y){y=y||{};var b={},e=function e(t,i){if("Literal"===t.type)return t.value;var a;if("UnaryExpression"===t.type)return a=e(t.argument),"+"===t.operator?+a:"-"===t.operator?-a:"~"===t.operator?~a:"!"===t.operator?!a:b;if("ArrayExpression"===t.type){for(var n=[],s=0,r=t.elements.length;s<r;s++){if((p=e(t.elements[s]))===b)return b;n.push(p)}return n}if("ObjectExpression"===t.type){for(var o={},s=0;s<t.properties.length;s++){var l,c=null===(l=t.properties[s]).value?l.value:e(l.value);if(c===b)return b;o[l.key.value||l.key.name]=c}return o}if("BinaryExpression"===t.type||"LogicalExpression"===t.type)return(r=e(t.left))===b||(u=e(t.right))===b?b:"=="===(d=t.operator)?r==u:"==="===d?r===u:"!="===d?r!=u:"!=="===d?r!==u:"+"===d?r+u:"-"===d?r-u:"*"===d?r*u:"/"===d?r/u:"%"===d?r%u:"<"===d?r<u:"<="===d?r<=u:">"===d?u<r:">="===d?u<=r:"|"===d?r|u:"&"===d?r&u:"^"===d?r^u:"&&"===d?r&&u:"||"===d?r||u:b;if("Identifier"===t.type)return{}.hasOwnProperty.call(y,t.name)?y[t.name]:b;if("ThisExpression"===t.type)return{}.hasOwnProperty.call(y,"this")?y.this:b;if("CallExpression"===t.type){var d=e(t.callee);if(d===b)return b;if("function"!=typeof d)return b;for(var p,u=t.callee.object?e(t.callee.object):b,h=(u===b&&(u=null),[]),s=0,r=t.arguments.length;s<r;s++){if((p=e(t.arguments[s]))===b)return b;h.push(p)}return d.apply(u,h)}if("MemberExpression"===t.type)return(o=e(t.object))===b||"function"==typeof o?b:"Identifier"===t.property.type?o[t.property.name]:(l=e(t.property))===b?b:o[l];if("ConditionalExpression"===t.type)return(a=e(t.test))===b?b:e(a?t.consequent:t.alternate);if("ExpressionStatement"===t.type)return(a=e(t.expression))===b?b:a;if("ReturnStatement"===t.type)return e(t.argument);if("FunctionExpression"===t.type){var m=t.body.body,f={};Object.keys(y).forEach(function(e){f[e]=y[e]});for(s=0;s<t.params.length;s++){var g=t.params[s];if("Identifier"!=g.type)return b;y[g.name]=null}for(s in m)if(e(m[s])===b)return b;y=f;var d=Object.keys(y),u=d.map(function(e){return y[e]});return Function(d.join(", "),"return "+v(t)).apply(null,u)}if("TemplateLiteral"!==t.type)return"TaggedTemplateExpression"===t.type?(a=e(t.tag),u=(d=t.quasi).quasis.map(e),d=d.expressions.map(e),a.apply(null,[u].concat(d))):"TemplateElement"===t.type?t.value.cooked:b;for(var _="",s=0;s<t.expressions.length;s++)_=(_+=e(t.quasis[s]))+e(t.expressions[s]);return _+=e(t.quasis[s])}(e);return e===b?void 0:e}},{escodegen:12}],jsonpath:[function(e,t,i){t.exports=e("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")},685:(e,t,i)=>{"use strict";i.r(t),i.d(t,{create:()=>n,default:()=>a});i={};!function t(m,i,d,p){var a=!!(m.Worker&&m.Blob&&m.Promise&&m.OffscreenCanvas&&m.OffscreenCanvasRenderingContext2D&&m.HTMLCanvasElement&&m.HTMLCanvasElement.prototype.transferControlToOffscreen&&m.URL&&m.URL.createObjectURL),z="function"==typeof Path2D&&"function"==typeof DOMMatrix,e=function(){if(!m.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),t=e.getContext("2d"),e=(t.fillRect(0,0,1,1),e.transferToImageBitmap());try{t.createPattern(e,"no-repeat")}catch(e){return!1}return!0}();function n(){}function f(e){var t=i.exports.Promise,t=void 0!==t?t:m.Promise;return"function"==typeof t?new t(e):(e(n,n),null)}s=e,r=new Map;var s,r,o,l,c,u,h,g,_,y,k={transform:function(e){var t;return s?e:r.has(e)?r.get(e):((t=new OffscreenCanvas(e.width,e.height)).getContext("2d").drawImage(e,0,0),r.set(e,t),t)},clear:function(){r.clear()}},b=(l=Math.floor(1e3/60),c={},u=0,e="function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(o=function(i){var a=Math.random();return c[a]=requestAnimationFrame(function e(t){u===t||u+l-1<t?(u=t,delete c[a],i()):c[a]=requestAnimationFrame(e)}),a},function(e){c[e]&&cancelAnimationFrame(c[e])}):(o=function(e){return setTimeout(e,l)},function(e){return clearTimeout(e)}),{frame:o,cancel:e}),v=function(){var s;if(!h&&(!d&&a)){var e=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([e])))}catch(e){return"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}(s=h).init=function(e){e=e.transferControlToOffscreen();s.postMessage({canvas:e},[e])},s.fire=function(e,t,a){var n;return g?r(e,null):(n=Math.random().toString(36).slice(2),g=f(function(t){function i(e){e.data.callback===n&&(delete _[n],s.removeEventListener("message",i),g=null,k.clear(),a(),t())}s.addEventListener("message",i),r(e,n),_[n]=i.bind(null,{data:{callback:n}})})),g},s.reset=function(){for(var e in s.postMessage({reset:!0}),_)_[e](),delete _[e]}}return h;function r(e,t){s.postMessage({options:e||{},callback:t})}},x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!(_={}),scalar:1};function A(e,t,i){return e=(e&&null!=e[t]?e:x)[t],(t=i)?t(e):e}function M(e){return e<0?0:Math.floor(e)}function S(e){return parseInt(e,16)}function I(e){return e.map(w)}function w(e){e=String(e).replace(/[^0-9a-f]/gi,"");return{r:S((e=e.length<6?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e).substring(0,2)),g:S(e.substring(2,4)),b:S(e.substring(4,6))}}function E(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function D(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function T(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var i,a,n,s,r,o,l,c,d=t.tick++/t.totalTicks,p=t.x+t.random*t.tiltCos,u=t.y+t.random*t.tiltSin,h=t.wobbleX+t.random*t.tiltCos,m=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-d)+")",e.beginPath(),z&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill((c=t.shape.path,f=t.shape.matrix,v=t.x,x=t.y,_=.1*Math.abs(h-p),b=.1*Math.abs(m-u),y=Math.PI/10*t.wobble,c=new Path2D(c),(g=new Path2D).addPath(c,new DOMMatrix(f)),(c=new Path2D).addPath(g,new DOMMatrix([Math.cos(y)*_,Math.sin(y)*_,-Math.sin(y)*b,Math.cos(y)*b,v,x])),c));else if("bitmap"===t.shape.type){var f=Math.PI/10*t.wobble,g=.1*Math.abs(h-p),_=.1*Math.abs(m-u),y=t.shape.bitmap.width*t.scalar,b=t.shape.bitmap.height*t.scalar,v=new DOMMatrix([Math.cos(f)*g,Math.sin(f)*g,-Math.sin(f)*_,Math.cos(f)*_,t.x,t.y]),x=(v.multiplySelf(new DOMMatrix(t.shape.matrix)),e.createPattern(k.transform(t.shape.bitmap),"no-repeat"));x.setTransform(v),e.globalAlpha=1-d,e.fillStyle=x,e.fillRect(t.x-y/2,t.y-b/2,y,b),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(h-p)*t.ovalScalar,Math.abs(m-u)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(c=e,d=t.x,i=t.y,a=Math.abs(h-p)*t.ovalScalar,n=Math.abs(m-u)*t.ovalScalar,s=Math.PI/10*t.wobble,r=0,o=2*Math.PI,c.save(),c.translate(d,i),c.rotate(s),c.scale(a,n),c.arc(0,0,1,r,o,l),c.restore());else if("star"===t.shape)for(var S,w,T=Math.PI/2*3,A=4*t.scalar,M=8*t.scalar,I=(t.x,t.y,5),E=Math.PI/I;I--;)S=t.x+Math.cos(T)*M,w=t.y+Math.sin(T)*M,e.lineTo(S,w),T+=E,S=t.x+Math.cos(T)*A,w=t.y+Math.sin(T)*A,e.lineTo(S,w),T+=E;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(u)),e.lineTo(Math.floor(h),Math.floor(m)),e.lineTo(Math.floor(p),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function C(i,e,a,n,s){var r,o,l=e.slice(),c=i.getContext("2d"),t=f(function(e){function t(){r=o=null,c.clearRect(0,0,n.width,n.height),k.clear(),s(),e()}r=b.frame(function e(){!d||n.width===p.width&&n.height===p.height||(n.width=i.width=p.width,n.height=i.height=p.height),n.width||n.height||(a(i),n.width=i.width,n.height=i.height),c.clearRect(0,0,n.width,n.height),(l=l.filter(function(e){return T(c,e)})).length?r=b.frame(e):t()}),o=t});return{addFettis:function(e){return l=l.concat(e),t},canvas:i,promise:t,reset:function(){r&&b.cancel(r),o&&o()}}}function P(S,e){var w,r=!S,o=!!A(e||{},"resize"),l=!1,c=A(e,"disableForReducedMotion",Boolean),d=a&&!!A(e||{},"useWorker")?v():null,T=r?E:D,p=!(!S||!d||!S.__confetti_initialized),u="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function h(e,t,i){for(var a,n,s,r=A(e,"particleCount",M),o=A(e,"angle",Number),l=A(e,"spread",Number),c=A(e,"startVelocity",Number),d=A(e,"decay",Number),p=A(e,"gravity",Number),u=A(e,"drift",Number),h=A(e,"colors",I),m=A(e,"ticks",Number),f=A(e,"shapes"),g=A(e,"scalar"),_=!!A(e,"flat"),y=((e=A(e=e,"origin",Object)).x=A(e,"x",Number),e.y=A(e,"y",Number),r),b=[],v=S.width*e.x,x=S.height*e.y;y--;)b.push((s={x:v,y:x,angle:o,spread:l,startVelocity:c,color:h[y%h.length],shape:f[n=0,s=f.length,Math.floor(Math.random()*(s-n))+n],ticks:m,decay:d,gravity:p,drift:u,scalar:g,flat:_},a=n=void 0,n=s.angle*(Math.PI/180),a=s.spread*(Math.PI/180),{x:s.x,y:s.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*s.startVelocity+Math.random()*s.startVelocity,angle2D:-n+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*s.gravity,ovalScalar:.6,scalar:s.scalar,flat:s.flat}));return w?w.addFettis(b):(w=C(S,b,T,t,i)).promise}function t(e){var t=c||A(e,"disableForReducedMotion",Boolean),i=A(e,"zIndex",Number);if(t&&u)return f(function(e){e()});r&&w?S=w.canvas:r&&!S&&(t=i,(i=document.createElement("canvas")).style.position="fixed",i.style.top="0px",i.style.left="0px",i.style.pointerEvents="none",i.style.zIndex=t,S=i,document.body.appendChild(S)),o&&!p&&T(S);var a={width:S.width,height:S.height};function n(){var e;d?(T(e={getBoundingClientRect:function(){if(!r)return S.getBoundingClientRect()}}),d.postMessage({resize:{width:e.width,height:e.height}})):a.width=a.height=null}function s(){w=null,o&&(l=!1,m.removeEventListener("resize",n)),r&&S&&(document.body.removeChild(S),S=null,p=!1)}return d&&!p&&d.init(S),p=!0,d&&(S.__confetti_initialized=!0),o&&!l&&(l=!0,m.addEventListener("resize",n,!1)),d?d.fire(e,a,s):h(e,a,s)}return t.reset=function(){d&&d.reset(),w&&w.reset()},t}function R(){return y=y||P(null,{useWorker:!0,resize:!0})}i.exports=function(){return R().apply(this,arguments)},i.exports.reset=function(){R().reset()},i.exports.create=P,i.exports.shapeFromPath=function(e){if(!z)throw new Error("path confetti are not supported in this browser");"string"==typeof e?t=e:(t=e.path,u=e.matrix);var t,i=new Path2D(t),a=document.createElement("canvas").getContext("2d");if(!u){for(var n=1e3,s=1e3,r=0,o=0,l=0;l<1e3;l+=2)for(var c=0;c<1e3;c+=2)a.isPointInPath(i,l,c,"nonzero")&&(n=Math.min(n,l),s=Math.min(s,c),r=Math.max(r,l),o=Math.max(o,c));var e=r-n,d=o-s,p=Math.min(10/e,10/d),u=[p,0,0,p,-Math.round(e/2+n)*p,-Math.round(d/2+s)*p]}return{type:"path",path:t,matrix:u}},i.exports.shapeFromText=function(e){var t,i=1,a="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,i="scalar"in e?e.scalar:i,n="fontFamily"in e?e.fontFamily:n,a="color"in e?e.color:a);var n=(e=10*i)+"px "+n,s=(e=new OffscreenCanvas(e,e)).getContext("2d"),r=(s.font=n,s.measureText(t)),o=Math.ceil(r.actualBoundingBoxRight+r.actualBoundingBoxLeft),l=Math.ceil(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent),c=r.actualBoundingBoxLeft+2,r=r.actualBoundingBoxAscent+2,n=(o+=4,l+=4,(s=(e=new OffscreenCanvas(o,l)).getContext("2d")).font=n,s.fillStyle=a,s.fillText(t,c,r),1/i);return{type:"bitmap",bitmap:e.transferToImageBitmap(),matrix:[n,0,0,n,-o*n/2,-l*n/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),i,!1);const a=i.exports;var n=i.exports.create},798:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}},a={};function R0(e){var t=a[e];return void 0!==t||(t=a[e]={id:e,loaded:!1,exports:{}},i[e].call(t.exports,t,t.exports,R0),t.loaded=!0),t.exports}R0.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return R0.d(t,{a:t}),t},R0.d=(e,t)=>{for(var i in t)R0.o(t,i)&&!R0.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},R0.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),R0.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),R0.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R0.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);(()=>{"use strict";const o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},l={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},X=0,Y=1,J=2;const L=1,O=3,$e=0,Qe=1,We=2,K=0,fe=1,Z=2,$=3,Q=4,ee=5,te=100,ae=101,ne=102,se=103,re=104,oe=200,le=201,ce=202,de=203,pe=204,ue=205,he=206,ge=207,_e=208,ye=209,be=210,ve=211,xe=212,Se=213,we=214,Te=0,Ae=1,Me=2,Ie=3,Ee=4,ze=5,ke=6,De=7,et=0,N=301,j=302,c=303,p=304,Ce=306,H=1e3,W=1001,q=1002,Pe=1003,Re=1004;const Le=1005;const V=1006,Oe=1007;const tt=1008;const it=1009,g=1010,y=1011,at=1012,Ne=1013,nt=1014,je=1015,st=1016,rt=1017,ot=1018,lt=1020,b=35902,v=1021,S=1022,Fe=1023,w=1024,F=1025,Ue=1026,Be=1027,U=1028,ct=1029,B=1030,dt=1031;const pt=1033,Ve=33776,Ge=33777,He=33778,ut=33779,ht=35840,mt=35841,ft=35842,gt=35843,_t=36196,yt=37492,bt=37496,vt=37808,xt=37809,St=37810,wt=37811,Tt=37812,At=37813,Mt=37814,It=37815,Et=37816,zt=37817,kt=37818,Dt=37819,Ct=37820,Pt=37821,Rt=36492,Lt=36494,Ot=36495,Nt=36283,jt=36284,Ft=36285,Ut=36286,Bt=3201;const Vt=0,Gt=1,Ht="",qe="srgb",Wt="srgb-linear",qt="linear",me="srgb";const Xt=512,Yt=513,Jt=514,Kt=515,Zt=516,$t=517,Qt=518,ei=519;const ti="300 es";class ii{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){var i=this._listeners;return void 0!==i&&void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){var i,a=this._listeners;void 0!==a&&void 0!==(a=a[e])&&-1!==(i=a.indexOf(t))&&a.splice(i,1)}dispatchEvent(i){var e=this._listeners;if(void 0!==e){e=e[i.type];if(void 0!==e){i.target=this;var a=e.slice(0);for(let e=0,t=a.length;e<t;e++)a[e].call(this,i);i.target=null}}}}const ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ni=1234567;const si=Math.PI/180,ri=180/Math.PI;function oi(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,a=4294967295*Math.random()|0;return(ai[255&e]+ai[e>>8&255]+ai[e>>16&255]+ai[e>>24&255]+"-"+ai[255&t]+ai[t>>8&255]+"-"+ai[t>>16&15|64]+ai[t>>24&255]+"-"+ai[63&i|128]+ai[i>>8&255]+"-"+ai[i>>16&255]+ai[i>>24&255]+ai[255&a]+ai[a>>8&255]+ai[a>>16&255]+ai[a>>24&255]).toLowerCase()}function I(e,t,i){return Math.max(t,Math.min(i,e))}function li(e,t){return(e%t+t)%t}function ci(e,t,i){return(1-i)*e+i*t}function di(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function s(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const pi={DEG2RAD:si,RAD2DEG:ri,generateUUID:oi,clamp:I,euclideanModulo:li,mapLinear:function(e,t,i,a,n){return a+(e-t)*(n-a)/(i-t)},inverseLerp:function(e,t,i){return e!==t?(i-e)/(t-e):0},lerp:ci,damp:function(e,t,i,a){return ci(e,t,1-Math.exp(-i*a))},pingpong:function(e,t=1){return t-Math.abs(li(e,2*t)-t)},smoothstep:function(e,t,i){return e<=t?0:i<=e?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:i<=e?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(ni=e),e=ni+=1831565813,e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(e){return e*si},radToDeg:function(e){return e*ri},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,i,a,n){var s=Math.cos,r=Math.sin,o=s(i/2),l=r(i/2),c=s((t+a)/2),d=r((t+a)/2),p=s((t-a)/2),u=r((t-a)/2),h=s((a-t)/2),m=r((a-t)/2);switch(n){case"XYX":e.set(o*d,l*p,l*u,o*c);break;case"YZY":e.set(l*u,o*d,l*p,o*c);break;case"ZXZ":e.set(l*p,l*u,o*d,o*c);break;case"XZX":e.set(o*d,l*m,l*h,o*c);break;case"YXY":e.set(l*h,o*d,l*m,o*c);break;case"ZYZ":e.set(l*m,l*h,o*d,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}},normalize:s,denormalize:di};class ie{constructor(e=0,t=0){ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){var t=this.x,i=this.y,e=e.elements;return this.x=e[0]*t+e[3]*i+e[6],this.y=e[1]*t+e[4]*i+e[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=I(this.x,e.x,t.x),this.y=I(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=I(this.x,e,t),this.y=I(this.y,e,t),this}clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(I(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(I(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){var i=Math.cos(t),t=Math.sin(t),a=this.x-e.x,n=this.y-e.y;return this.x=a*i-n*t+e.x,this.y=a*t+n*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _{constructor(e,t,i,a,n,s,r,o,l){_.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,a,n,s,r,o,l)}set(e,t,i,a,n,s,r,o,l){var c=this.elements;return c[0]=e,c[1]=a,c[2]=r,c[3]=t,c[4]=n,c[5]=o,c[6]=i,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){var e=e.elements,t=t.elements,i=this.elements,a=e[0],n=e[3],s=e[6],r=e[1],o=e[4],l=e[7],c=e[2],d=e[5],e=e[8],p=t[0],u=t[3],h=t[6],m=t[1],f=t[4],g=t[7],_=t[2],y=t[5],t=t[8];return i[0]=a*p+n*m+s*_,i[3]=a*u+n*f+s*y,i[6]=a*h+n*g+s*t,i[1]=r*p+o*m+l*_,i[4]=r*u+o*f+l*y,i[7]=r*h+o*g+l*t,i[2]=c*p+d*m+e*_,i[5]=c*u+d*f+e*y,i[8]=c*h+d*g+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){var e=this.elements,t=e[0],i=e[1],a=e[2],n=e[3],s=e[4],r=e[5],o=e[6],l=e[7],e=e[8];return t*s*e-t*r*l-i*n*e+i*r*o+a*n*l-a*s*o}invert(){var e=this.elements,t=e[0],i=e[1],a=e[2],n=e[3],s=e[4],r=e[5],o=e[6],l=e[7],c=e[8],d=c*s-r*l,p=r*o-c*n,u=l*n-s*o,h=t*d+i*p+a*u;return 0==h?this.set(0,0,0,0,0,0,0,0,0):(e[0]=d*(d=1/h),e[1]=(a*l-c*i)*d,e[2]=(r*i-a*s)*d,e[3]=p*d,e[4]=(c*t-a*o)*d,e[5]=(a*n-r*t)*d,e[6]=u*d,e[7]=(i*o-l*t)*d,e[8]=(s*t-i*n)*d,this)}transpose(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,n,s,r){var o=Math.cos(n),n=Math.sin(n);return this.set(i*o,i*n,-i*(o*s+n*r)+s+e,-a*n,a*o,-a*(-n*s+o*r)+r+t,0,0,1),this}scale(e,t){return this.premultiply(ui.makeScale(e,t)),this}rotate(e){return this.premultiply(ui.makeRotation(-e)),this}translate(e,t){return this.premultiply(ui.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,e,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){var t=this.elements,i=e.elements;for(let e=0;e<9;e++)if(t[e]!==i[e])return!1;return!0}fromArray(t,i=0){for(let e=0;e<9;e++)this.elements[e]=t[e+i];return this}toArray(e=[],t=0){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ui=new _;function hi(t){for(let e=t.length-1;0<=e;--e)if(65535<=t[e])return 1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function mi(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const fi={};function gi(e){e in fi||(fi[e]=!0,console.warn(e))}const _i=(new _).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),yi=(new _).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function bi(){var e={enabled:!0,workingColorSpace:Wt,spaces:{},convert:function(e,t,i){return!1!==this.enabled&&t!==i&&t&&i&&(this.spaces[t].transfer===me&&(e.r=vi(e.r),e.g=vi(e.g),e.b=vi(e.b)),this.spaces[t].primaries!==this.spaces[i].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===me)&&(e.r=xi(e.r),e.g=xi(e.g),e.b=xi(e.b)),e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Ht?qt:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,i){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],a=[.3127,.329];return e.define({[Wt]:{primaries:t,whitePoint:a,transfer:qt,toXYZ:_i,fromXYZ:yi,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:qe},outputColorSpaceConfig:{drawingBufferColorSpace:qe}},srgb:{primaries:t,whitePoint:a,transfer:me,toXYZ:_i,fromXYZ:yi,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:qe}}}),e}const Xe=bi();function vi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function xi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Si;class wi{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;var i;return(t=e instanceof HTMLCanvasElement?e:((Si=void 0===Si?mi("canvas"):Si).width=e.width,Si.height=e.height,i=Si.getContext("2d"),e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),Si)).toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var t=mi("canvas"),i=(t.width=e.width,t.height=e.height,t.getContext("2d")),a=(i.drawImage(e,0,0,e.width,e.height),i.getImageData(0,0,e.width,e.height)),n=a.data;for(let e=0;e<n.length;e++)n[e]=255*vi(n[e]/255);return i.putImageData(a,0,0),t}if(e.data){var s=e.data.slice(0);for(let e=0;e<s.length;e++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[e]=Math.floor(255*vi(s[e]/255)):s[e]=vi(s[e]);return{data:s,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ti=0;class Ai{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ti++}),this.uuid=oi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var a={uuid:this.uuid,url:""},n=this.data;if(null!==n){let i;if(Array.isArray(n)){i=[];for(let e=0,t=n.length;e<t;e++)n[e].isDataTexture?i.push(Mi(n[e].image)):i.push(Mi(n[e]))}else i=Mi(n);a.url=i}return t||(e.images[this.uuid]=a),a}}function Mi(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?wi.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ii=0;class d extends ii{constructor(e=d.DEFAULT_IMAGE,t=d.DEFAULT_MAPPING,i=W,a=W,n=V,s=tt,r=Fe,o=it,l=d.DEFAULT_ANISOTROPY,c=Ht){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ii++}),this.uuid=oi(),this.name="",this.source=new Ai(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=n,this.minFilter=s,this.anisotropy=l,this.format=r,this.internalFormat=null,this.type=o,this.offset=new ie(0,0),this.repeat=new ie(1,1),this.center=new ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){var t,i=void 0===e||"string"==typeof e;return i||void 0===e.textures[this.uuid]?(t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(t.userData=this.userData),i||(e.textures[this.uuid]=t),t):e.textures[this.uuid]}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case H:e.x=e.x-Math.floor(e.x);break;case W:e.x=e.x<0?0:1;break;case q:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case H:e.y=e.y-Math.floor(e.y);break;case W:e.y=e.y<0?0:1;break;case q:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}d.DEFAULT_IMAGE=null,d.DEFAULT_MAPPING=300,d.DEFAULT_ANISOTROPY=1;class Ye{constructor(e=0,t=0,i=0,a=1){Ye.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){var t=this.x,i=this.y,a=this.z,n=this.w,e=e.elements;return this.x=e[0]*t+e[4]*i+e[8]*a+e[12]*n,this.y=e[1]*t+e[5]*i+e[9]*a+e[13]*n,this.z=e[2]*t+e[6]*i+e[10]*a+e[14]*n,this.w=e[3]*t+e[7]*i+e[11]*a+e[15]*n,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(t){let e,i,a,n;var s,r,o,l,c,d,t=t.elements,p=t[0],u=t[4],h=t[8],m=t[1],f=t[5],g=t[9],_=t[2],y=t[6],t=t[10];if(Math.abs(u-m)<.01&&Math.abs(h-_)<.01&&Math.abs(g-y)<.01)Math.abs(u+m)<.1&&Math.abs(h+_)<.1&&Math.abs(g+y)<.1&&Math.abs(p+f+t-3)<.1?this.set(1,0,0,0):(e=Math.PI,o=(t+1)/2,l=(u+m)/4,c=(h+_)/4,d=(g+y)/4,(r=(f+1)/2)<(s=(p+1)/2)&&o<s?n=s<.01?(i=0,a=.707106781):(i=Math.sqrt(s),a=l/i,c/i):o<r?n=r<.01?(i=.707106781,a=0,.707106781):(a=Math.sqrt(r),i=l/a,d/a):o<.01?(i=.707106781,a=.707106781,n=0):(n=Math.sqrt(o),i=c/n,a=d/n),this.set(i,a,n,e));else{let e=Math.sqrt((y-g)*(y-g)+(h-_)*(h-_)+(m-u)*(m-u));Math.abs(e)<.001&&(e=1),this.x=(y-g)/e,this.y=(h-_)/e,this.z=(m-u)/e,this.w=Math.acos((p+f+t-1)/2)}return this}setFromMatrixPosition(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=I(this.x,e.x,t.x),this.y=I(this.y,e.y,t.y),this.z=I(this.z,e.z,t.z),this.w=I(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=I(this.x,e,t),this.y=I(this.y,e,t),this.z=I(this.z,e,t),this.w=I(this.w,e,t),this}clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(I(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ei extends ii{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ye(0,0,e,t),this.scissorTest=!1,this.viewport=new Ye(0,0,e,t);var e={width:e,height:t,depth:1},a=(i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:V,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i),new d(e,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace)),n=(a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[],i.count);for(let e=0;e<n;e++)this.textures[e]=a.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(i,a,n=1){if(this.width!==i||this.height!==a||this.depth!==n){this.width=i,this.height=a,this.depth=n;for(let e=0,t=this.textures.length;e<t;e++)this.textures[e].image.width=i,this.textures[e].image.height=a,this.textures[e].image.depth=n;this.dispose()}this.viewport.set(0,0,i,a),this.scissor.set(0,0,i,a)}clone(){return(new this.constructor).copy(this)}copy(i){this.width=i.width,this.height=i.height,this.depth=i.depth,this.scissor.copy(i.scissor),this.scissorTest=i.scissorTest,this.viewport.copy(i.viewport);for(let e=this.textures.length=0,t=i.textures.length;e<t;e++){this.textures[e]=i.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;var a=Object.assign({},i.textures[e].image);this.textures[e].source=new Ai(a)}return this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,null!==i.depthTexture&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zi extends Ei{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class ki extends d{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Pe,this.minFilter=Pe,this.wrapR=W,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}(class extends zi{});class Di extends d{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Pe,this.minFilter=Pe,this.wrapR=W,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}(class extends zi{});class m{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,n,s,r){let o=i[a+0],l=i[a+1],c=i[a+2],d=i[a+3];var i=n[s+0],a=n[s+1],p=n[s+2],n=n[s+3];if(0===r)e[t+0]=o,e[t+1]=l,e[t+2]=c,e[t+3]=d;else if(1===r)e[t+0]=i,e[t+1]=a,e[t+2]=p,e[t+3]=n;else{if(d!==n||o!==i||l!==a||c!==p){let e=1-r;var s=o*i+l*a+c*p+d*n,u=0<=s?1:-1,h=1-s*s,s=(h>Number.EPSILON&&(h=Math.sqrt(h),s=Math.atan2(h,s*u),e=Math.sin(e*s)/h,r=Math.sin(r*s)/h),r*u);o=o*e+i*s,l=l*e+a*s,c=c*e+p*s,d=d*e+n*s,e===1-r&&(h=1/Math.sqrt(o*o+l*l+c*c+d*d),o*=h,l*=h,c*=h,d*=h)}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=d}}static multiplyQuaternionsFlat(e,t,i,a,n,s){var r=i[a],o=i[a+1],l=i[a+2],i=i[a+3],a=n[s],c=n[s+1],d=n[s+2],n=n[s+3];return e[t]=r*n+i*a+o*d-l*c,e[t+1]=o*n+i*c+l*a-r*d,e[t+2]=l*n+i*d+r*c-o*a,e[t+3]=i*n-r*a-o*c-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){var i=e._x,a=e._y,n=e._z,s=e._order,e=Math.cos,r=Math.sin,o=e(i/2),l=e(a/2),c=e(n/2),d=r(i/2),p=r(a/2),u=r(n/2);switch(s){case"XYZ":this._x=d*l*c+o*p*u,this._y=o*p*c-d*l*u,this._z=o*l*u+d*p*c,this._w=o*l*c-d*p*u;break;case"YXZ":this._x=d*l*c+o*p*u,this._y=o*p*c-d*l*u,this._z=o*l*u-d*p*c,this._w=o*l*c+d*p*u;break;case"ZXY":this._x=d*l*c-o*p*u,this._y=o*p*c+d*l*u,this._z=o*l*u+d*p*c,this._w=o*l*c-d*p*u;break;case"ZYX":this._x=d*l*c-o*p*u,this._y=o*p*c+d*l*u,this._z=o*l*u-d*p*c,this._w=o*l*c+d*p*u;break;case"YZX":this._x=d*l*c+o*p*u,this._y=o*p*c+d*l*u,this._z=o*l*u-d*p*c,this._w=o*l*c-d*p*u;break;case"XZY":this._x=d*l*c-o*p*u,this._y=o*p*c-d*l*u,this._z=o*l*u+d*p*c,this._w=o*l*c+d*p*u;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){var t=t/2,i=Math.sin(t);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(e){var e=e.elements,t=e[0],i=e[4],a=e[8],n=e[1],s=e[5],r=e[9],o=e[2],l=e[6],e=e[10],c=t+s+e;return 0<c?(c=.5/Math.sqrt(c+1),this._w=.25/c,this._x=(l-r)*c,this._y=(a-o)*c,this._z=(n-i)*c):s<t&&e<t?(c=2*Math.sqrt(1+t-s-e),this._w=(l-r)/c,this._x=.25*c,this._y=(i+n)/c,this._z=(a+o)/c):e<s?(c=2*Math.sqrt(1+s-t-e),this._w=(a-o)/c,this._x=(i+n)/c,this._y=.25*c,this._z=(r+l)/c):(c=2*Math.sqrt(1+e-t-s),this._w=(n-i)/c,this._x=(a+o)/c,this._y=(r+l)/c,this._z=.25*c),this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=i,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(I(this.dot(e),-1,1)))}rotateTowards(e,t){var i=this.angleTo(e);return 0!==i&&(t=Math.min(1,t/i),this.slerp(e,t)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){var i=e._x,a=e._y,n=e._z,e=e._w,s=t._x,r=t._y,o=t._z,t=t._w;return this._x=i*t+e*s+a*o-n*r,this._y=a*t+e*r+n*s-i*o,this._z=n*t+e*o+i*r-a*s,this._w=e*t-i*s-a*r-n*o,this._onChangeCallback(),this}slerp(t,i){if(0!==i){if(1===i)return this.copy(t);var a,n,s=this._x,r=this._y,o=this._z,l=this._w;let e=l*t._w+s*t._x+r*t._y+o*t._z;e<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,e=-e):this.copy(t),1<=e?(this._w=l,this._x=s,this._y=r,this._z=o):(t=1-e*e)<=Number.EPSILON?(this._w=(a=1-i)*l+i*this._w,this._x=a*s+i*this._x,this._y=a*r+i*this._y,this._z=a*o+i*this._z,this.normalize()):(a=Math.sqrt(t),t=Math.atan2(a,e),n=Math.sin((1-i)*t)/a,i=Math.sin(i*t)/a,this._w=l*n+this._w*i,this._x=s*n+this._x*i,this._y=r*n+this._y*i,this._z=o*n+this._z*i,this._onChangeCallback())}return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){var e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),i=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Je{constructor(e=0,t=0,i=0){Je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Pi.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Pi.setFromAxisAngle(e,t))}applyMatrix3(e){var t=this.x,i=this.y,a=this.z,e=e.elements;return this.x=e[0]*t+e[3]*i+e[6]*a,this.y=e[1]*t+e[4]*i+e[7]*a,this.z=e[2]*t+e[5]*i+e[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){var t=this.x,i=this.y,a=this.z,e=e.elements,n=1/(e[3]*t+e[7]*i+e[11]*a+e[15]);return this.x=(e[0]*t+e[4]*i+e[8]*a+e[12])*n,this.y=(e[1]*t+e[5]*i+e[9]*a+e[13])*n,this.z=(e[2]*t+e[6]*i+e[10]*a+e[14])*n,this}applyQuaternion(e){var t=this.x,i=this.y,a=this.z,n=e.x,s=e.y,r=e.z,e=e.w,o=2*(s*a-r*i),l=2*(r*t-n*a),c=2*(n*i-s*t);return this.x=t+e*o+s*c-r*l,this.y=i+e*l+r*o-n*c,this.z=a+e*c+n*l-s*o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){var t=this.x,i=this.y,a=this.z,e=e.elements;return this.x=e[0]*t+e[4]*i+e[8]*a,this.y=e[1]*t+e[5]*i+e[9]*a,this.z=e[2]*t+e[6]*i+e[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=I(this.x,e.x,t.x),this.y=I(this.y,e.y,t.y),this.z=I(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=I(this.x,e,t),this.y=I(this.y,e,t),this.z=I(this.z,e,t),this}clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(I(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){var i=e.x,a=e.y,e=e.z,n=t.x,s=t.y,t=t.z;return this.x=a*t-e*s,this.y=e*n-i*t,this.z=i*s-a*n,this}projectOnVector(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}projectOnPlane(e){return Ci.copy(this).projectOnVector(e),this.sub(Ci)}reflect(e){return this.sub(Ci.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(I(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,i=this.y-e.y,e=this.z-e.z;return t*t+i*i+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){var a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=e,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){var e=Math.random()*Math.PI*2,t=2*Math.random()-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ci=new Je,Pi=new m;class Ri{constructor(e=new Je(1/0,1/0,1/0),t=new Je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(i){this.makeEmpty();for(let e=0,t=i.length;e<t;e+=3)this.expandByPoint(Oi.fromArray(i,e));return this}setFromBufferAttribute(i){this.makeEmpty();for(let e=0,t=i.count;e<t;e++)this.expandByPoint(Oi.fromBufferAttribute(i,e));return this}setFromPoints(i){this.makeEmpty();for(let e=0,t=i.length;e<t;e++)this.expandByPoint(i[e]);return this}setFromCenterAndSize(e,t){t=Oi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(i,a=!1){i.updateWorldMatrix(!1,!1);var e=i.geometry;if(void 0!==e){var n=e.getAttribute("position");if(!0===a&&void 0!==n&&!0!==i.isInstancedMesh)for(let e=0,t=n.count;e<t;e++)!0===i.isMesh?i.getVertexPosition(e,Oi):Oi.fromBufferAttribute(n,e),Oi.applyMatrix4(i.matrixWorld),this.expandByPoint(Oi);else void 0!==i.boundingBox?(null===i.boundingBox&&i.computeBoundingBox(),Ni.copy(i.boundingBox)):(null===e.boundingBox&&e.computeBoundingBox(),Ni.copy(e.boundingBox)),Ni.applyMatrix4(i.matrixWorld),this.union(Ni)}var s=i.children;for(let e=0,t=s.length;e<t;e++)this.expandByObject(s[e],a);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Oi),Oi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return i=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){return!this.isEmpty()&&(this.getCenter(Hi),Wi.subVectors(this.max,Hi),ji.subVectors(e.a,Hi),Fi.subVectors(e.b,Hi),Ui.subVectors(e.c,Hi),Bi.subVectors(Fi,ji),Vi.subVectors(Ui,Fi),Gi.subVectors(ji,Ui),!!Yi([0,-Bi.z,Bi.y,0,-Vi.z,Vi.y,0,-Gi.z,Gi.y,Bi.z,0,-Bi.x,Vi.z,0,-Vi.x,Gi.z,0,-Gi.x,-Bi.y,Bi.x,0,-Vi.y,Vi.x,0,-Gi.y,Gi.x,0],ji,Fi,Ui,Wi))&&!!Yi([1,0,0,0,1,0,0,0,1],ji,Fi,Ui,Wi)&&(qi.crossVectors(Bi,Vi),Yi([qi.x,qi.y,qi.z],ji,Fi,Ui,Wi))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Oi).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Li[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Li[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Li[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Li[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Li[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Li[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Li[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Li[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Li)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Li=[new Je,new Je,new Je,new Je,new Je,new Je,new Je,new Je],Oi=new Je,Ni=new Ri,ji=new Je,Fi=new Je,Ui=new Je,Bi=new Je,Vi=new Je,Gi=new Je,Hi=new Je,Wi=new Je,qi=new Je,Xi=new Je;function Yi(i,a,n,s,r){for(let e=0,t=i.length-3;e<=t;e+=3){Xi.fromArray(i,e);var o=r.x*Math.abs(Xi.x)+r.y*Math.abs(Xi.y)+r.z*Math.abs(Xi.z),l=a.dot(Xi),c=n.dot(Xi),d=s.dot(Xi);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const Ji=new Ri,Ki=new Je,Zi=new Je;class $i{constructor(e=new Je,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(i,e){var a=this.center;void 0!==e?a.copy(e):Ji.setFromPoints(i).getCenter(a);let n=0;for(let e=0,t=i.length;e<t;e++)n=Math.max(n,a.distanceToSquared(i[e]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){var i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){var t;return this.isEmpty()?(this.center.copy(e),this.radius=0):(Ki.subVectors(e,this.center),(e=Ki.lengthSq())>this.radius*this.radius&&(t=.5*((e=Math.sqrt(e))-this.radius),this.center.addScaledVector(Ki,t/e),this.radius+=t)),this}union(e){return e.isEmpty()||(this.isEmpty()?this.copy(e):!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Zi.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ki.copy(e.center).add(Zi)),this.expandByPoint(Ki.copy(e.center).sub(Zi)))),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Qi=new Je,ea=new Je,ta=new Je,ia=new Je,aa=new Je,na=new Je,sa=new Je;class ra{constructor(e=new Je,t=new Je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);e=t.dot(this.direction);return e<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,e)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){var t=Qi.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(Qi.copy(this.origin).addScaledVector(this.direction,t),Qi)).distanceToSquared(e)}distanceSqToSegment(e,t,i,a){ea.copy(e).add(t).multiplyScalar(.5),ta.copy(t).sub(e).normalize(),ia.copy(this.origin).sub(ea);var e=.5*e.distanceTo(t),t=-this.direction.dot(ta),n=ia.dot(this.direction),s=-ia.dot(ta),r=ia.lengthSq(),o=Math.abs(1-t*t);let l,c,d,p;return d=0<o?(l=t*s-n,c=t*n-s,p=e*o,0<=l?c>=-p?c<=p?(o=1/o,l*=o,c*=o,l*(l+t*c+2*n)+c*(t*l+c+2*s)+r):(c=e,-(l=Math.max(0,-(t*c+n)))*l+c*(c+2*s)+r):(c=-e,-(l=Math.max(0,-(t*c+n)))*l+c*(c+2*s)+r):c<=-p?(l=Math.max(0,-(-t*e+n)),c=0<l?-e:Math.min(Math.max(-e,-s),e),-l*l+c*(c+2*s)+r):c<=p?(l=0,(c=Math.min(Math.max(-e,-s),e))*(c+2*s)+r):(l=Math.max(0,-(t*e+n)),c=0<l?e:Math.min(Math.max(-e,-s),e),-l*l+c*(c+2*s)+r)):(c=0<t?-e:e,-(l=Math.max(0,-(t*c+n)))*l+c*(c+2*s)+r),i&&i.copy(this.origin).addScaledVector(this.direction,l),a&&a.copy(ea).addScaledVector(ta,c),d}intersectSphere(e,t){Qi.subVectors(e.center,this.origin);var i=Qi.dot(this.direction),a=Qi.dot(Qi)-i*i,e=e.radius*e.radius;return e<a||(a=i-(e=Math.sqrt(e-a)),(i=i+e)<0)?null:a<0?this.at(i,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}intersectPlane(e,t){e=this.distanceToPlane(e);return null===e?null:this.at(e,t)}intersectsPlane(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,n,s,r,o;var l=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,p=this.origin;return a=0<=l?(i=(e.min.x-p.x)*l,(e.max.x-p.x)*l):(i=(e.max.x-p.x)*l,(e.min.x-p.x)*l),s=0<=c?(n=(e.min.y-p.y)*c,(e.max.y-p.y)*c):(n=(e.max.y-p.y)*c,(e.min.y-p.y)*c),i>s||n>a||((n>i||isNaN(i))&&(i=n),(s<a||isNaN(a))&&(a=s),o=0<=d?(r=(e.min.z-p.z)*d,(e.max.z-p.z)*d):(r=(e.max.z-p.z)*d,(e.min.z-p.z)*d),i>o)||r>a||((r>i||i!=i)&&(i=r),(a=o<a||a!=a?o:a)<0)?null:this.at(0<=i?i:a,t)}intersectsBox(e){return null!==this.intersectBox(e,Qi)}intersectTriangle(e,t,i,a,n){aa.subVectors(t,e),na.subVectors(i,e),sa.crossVectors(aa,na);let s=this.direction.dot(sa),r;if(0<s){if(a)return null;r=1}else{if(!(s<0))return null;r=-1,s=-s}ia.subVectors(this.origin,e);t=r*this.direction.dot(na.crossVectors(ia,na));return t<0||(i=r*this.direction.dot(aa.cross(ia)))<0||t+i>s||(a=-r*ia.dot(sa))<0?null:this.at(a/s,n)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ke{constructor(e,t,i,a,n,s,r,o,l,c,d,p,u,h,m,f){Ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,a,n,s,r,o,l,c,d,p,u,h,m,f)}set(e,t,i,a,n,s,r,o,l,c,d,p,u,h,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=a,g[1]=n,g[5]=s,g[9]=r,g[13]=o,g[2]=l,g[6]=c,g[10]=d,g[14]=p,g[3]=u,g[7]=h,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ke).fromArray(this.elements)}copy(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}copyPosition(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}setFromMatrix3(e){e=e.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){var t=this.elements,i=e.elements,a=1/oa.setFromMatrixColumn(e,0).length(),n=1/oa.setFromMatrixColumn(e,1).length(),e=1/oa.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*n,t[5]=i[5]*n,t[6]=i[6]*n,t[7]=0,t[8]=i[8]*e,t[9]=i[9]*e,t[10]=i[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){var t,i,a,n,s=this.elements,r=e.x,o=e.y,l=e.z,c=Math.cos(r),r=Math.sin(r),d=Math.cos(o),o=Math.sin(o),p=Math.cos(l),l=Math.sin(l);return"XYZ"===e.order?(i=c*p,a=c*l,n=r*p,t=r*l,s[0]=d*p,s[4]=-d*l,s[8]=o,s[1]=a+n*o,s[5]=i-t*o,s[9]=-r*d,s[2]=t-i*o,s[6]=n+a*o,s[10]=c*d):"YXZ"===e.order?(t=d*l,i=o*p,s[0]=(n=d*p)+(a=o*l)*r,s[4]=i*r-t,s[8]=c*o,s[1]=c*l,s[5]=c*p,s[9]=-r,s[2]=t*r-i,s[6]=a+n*r,s[10]=c*d):"ZXY"===e.order?(t=d*l,i=o*p,s[0]=(a=d*p)-(n=o*l)*r,s[4]=-c*l,s[8]=i+t*r,s[1]=t+i*r,s[5]=c*p,s[9]=n-a*r,s[2]=-c*o,s[6]=r,s[10]=c*d):"ZYX"===e.order?(t=c*p,i=c*l,n=r*p,a=r*l,s[0]=d*p,s[4]=n*o-i,s[8]=t*o+a,s[1]=d*l,s[5]=a*o+t,s[9]=i*o-n,s[2]=-o,s[6]=r*d,s[10]=c*d):"YZX"===e.order?(a=c*d,t=c*o,i=r*d,n=r*o,s[0]=d*p,s[4]=n-a*l,s[8]=i*l+t,s[1]=l,s[5]=c*p,s[9]=-r*p,s[2]=-o*p,s[6]=t*l+i,s[10]=a-n*l):"XZY"===e.order&&(t=c*d,i=c*o,a=r*d,n=r*o,s[0]=d*p,s[4]=-l,s[8]=o*p,s[1]=t*l+n,s[5]=c*p,s[9]=i*l-a,s[2]=a*l-i,s[6]=r*p,s[10]=n*l+t),s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ca,e,da)}lookAt(e,t,i){var a=this.elements;return ha.subVectors(e,t),0===ha.lengthSq()&&(ha.z=1),ha.normalize(),pa.crossVectors(i,ha),0===pa.lengthSq()&&(1===Math.abs(i.z)?ha.x+=1e-4:ha.z+=1e-4,ha.normalize(),pa.crossVectors(i,ha)),pa.normalize(),ua.crossVectors(ha,pa),a[0]=pa.x,a[4]=ua.x,a[8]=ha.x,a[1]=pa.y,a[5]=ua.y,a[9]=ha.y,a[2]=pa.z,a[6]=ua.z,a[10]=ha.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){var e=e.elements,t=t.elements,i=this.elements,a=e[0],n=e[4],s=e[8],r=e[12],o=e[1],l=e[5],c=e[9],d=e[13],p=e[2],u=e[6],h=e[10],m=e[14],f=e[3],g=e[7],_=e[11],e=e[15],y=t[0],b=t[4],v=t[8],x=t[12],S=t[1],w=t[5],T=t[9],A=t[13],M=t[2],I=t[6],E=t[10],z=t[14],k=t[3],D=t[7],C=t[11],t=t[15];return i[0]=a*y+n*S+s*M+r*k,i[4]=a*b+n*w+s*I+r*D,i[8]=a*v+n*T+s*E+r*C,i[12]=a*x+n*A+s*z+r*t,i[1]=o*y+l*S+c*M+d*k,i[5]=o*b+l*w+c*I+d*D,i[9]=o*v+l*T+c*E+d*C,i[13]=o*x+l*A+c*z+d*t,i[2]=p*y+u*S+h*M+m*k,i[6]=p*b+u*w+h*I+m*D,i[10]=p*v+u*T+h*E+m*C,i[14]=p*x+u*A+h*z+m*t,i[3]=f*y+g*S+_*M+e*k,i[7]=f*b+g*w+_*I+e*D,i[11]=f*v+g*T+_*E+e*C,i[15]=f*x+g*A+_*z+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){var e=this.elements,t=e[0],i=e[4],a=e[8],n=e[12],s=e[1],r=e[5],o=e[9],l=e[13],c=e[2],d=e[6],p=e[10],u=e[14];return e[3]*(+n*o*d-a*l*d-n*r*p+i*l*p+a*r*u-i*o*u)+e[7]*(+t*o*u-t*l*p+n*s*p-a*s*u+a*l*c-n*o*c)+e[11]*(+t*l*d-t*r*u-n*s*d+i*s*u+n*r*c-i*l*c)+e[15]*(-a*r*c-t*o*d+t*r*p+a*s*d-i*s*p+i*o*c)}transpose(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){var a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){var e=this.elements,t=e[0],i=e[1],a=e[2],n=e[3],s=e[4],r=e[5],o=e[6],l=e[7],c=e[8],d=e[9],p=e[10],u=e[11],h=e[12],m=e[13],f=e[14],g=e[15],_=d*f*l-m*p*l+m*o*u-r*f*u-d*o*g+r*p*g,y=h*p*l-c*f*l-h*o*u+s*f*u+c*o*g-s*p*g,b=c*m*l-h*d*l+h*r*u-s*m*u-c*r*g+s*d*g,v=h*d*o-c*m*o-h*r*p+s*m*p+c*r*f-s*d*f,x=t*_+i*y+a*b+n*v;return 0==x?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=_*(_=1/x),e[1]=(m*p*n-d*f*n-m*a*u+i*f*u+d*a*g-i*p*g)*_,e[2]=(r*f*n-m*o*n+m*a*l-i*f*l-r*a*g+i*o*g)*_,e[3]=(d*o*n-r*p*n-d*a*l+i*p*l+r*a*u-i*o*u)*_,e[4]=y*_,e[5]=(c*f*n-h*p*n+h*a*u-t*f*u-c*a*g+t*p*g)*_,e[6]=(h*o*n-s*f*n-h*a*l+t*f*l+s*a*g-t*o*g)*_,e[7]=(s*p*n-c*o*n+c*a*l-t*p*l-s*a*u+t*o*u)*_,e[8]=b*_,e[9]=(h*d*n-c*m*n-h*i*u+t*m*u+c*i*g-t*d*g)*_,e[10]=(s*m*n-h*r*n+h*i*l-t*m*l-s*i*g+t*r*g)*_,e[11]=(c*r*n-s*d*n-c*i*l+t*d*l+s*i*u-t*r*u)*_,e[12]=v*_,e[13]=(c*m*a-h*d*a+h*i*p-t*m*p-c*i*f+t*d*f)*_,e[14]=(h*r*a-s*m*a-h*i*o+t*m*o+s*i*f-t*r*f)*_,e[15]=(s*d*a-c*r*a+c*i*o-t*d*o-s*i*p+t*r*p)*_,this)}scale(e){var t=this.elements,i=e.x,a=e.y,e=e.z;return t[0]*=i,t[4]*=a,t[8]*=e,t[1]*=i,t[5]*=a,t[9]*=e,t[2]*=i,t[6]*=a,t[10]*=e,t[3]*=i,t[7]*=a,t[11]*=e,this}getMaxScaleOnAxis(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,e))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}makeRotationY(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}makeRotationZ(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){var i=Math.cos(t),t=Math.sin(t),a=1-i,n=e.x,s=e.y,e=e.z,r=a*n,o=a*s;return this.set(r*n+i,r*s-t*e,r*e+t*s,0,r*s+t*e,o*s+i,o*e-t*n,0,r*e-t*s,o*e+t*n,a*e*e+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,n,s){return this.set(1,i,n,0,e,1,s,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){var a=this.elements,n=t._x,s=t._y,r=t._z,t=t._w,o=n+n,l=s+s,c=r+r,d=n*o,p=n*l,n=n*c,u=s*l,s=s*c,r=r*c,o=t*o,l=t*l,t=t*c,c=i.x,h=i.y,i=i.z;return a[0]=(1-(u+r))*c,a[1]=(p+t)*c,a[2]=(n-l)*c,a[3]=0,a[4]=(p-t)*h,a[5]=(1-(d+r))*h,a[6]=(s+o)*h,a[7]=0,a[8]=(n+l)*i,a[9]=(s-o)*i,a[10]=(1-(d+u))*i,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){var a=this.elements;let n=oa.set(a[0],a[1],a[2]).length();var s=oa.set(a[4],a[5],a[6]).length(),r=oa.set(a[8],a[9],a[10]).length(),e=(this.determinant()<0&&(n=-n),e.x=a[12],e.y=a[13],e.z=a[14],la.copy(this),1/n),a=1/s,o=1/r;return la.elements[0]*=e,la.elements[1]*=e,la.elements[2]*=e,la.elements[4]*=a,la.elements[5]*=a,la.elements[6]*=a,la.elements[8]*=o,la.elements[9]*=o,la.elements[10]*=o,t.setFromRotationMatrix(la),i.x=n,i.y=s,i.z=r,this}makePerspective(e,t,i,a,n,s,r=2e3){var o=this.elements,l=2*n/(t-e),c=2*n/(i-a),t=(t+e)/(t-e),e=(i+a)/(i-a);let d,p;if(2e3===r)d=-(s+n)/(s-n),p=-2*s*n/(s-n);else{if(2001!==r)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+r);d=-s/(s-n),p=-s*n/(s-n)}return o[0]=l,o[4]=0,o[8]=t,o[12]=0,o[1]=0,o[5]=c,o[9]=e,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,i,a,n,s,r=2e3){var o=this.elements,l=1/(t-e),c=1/(i-a),d=1/(s-n),t=(t+e)*l,e=(i+a)*c;let p,u;if(2e3===r)p=(s+n)*d,u=-2*d;else{if(2001!==r)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+r);p=n*d,u=-1*d}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-t,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-e,o[2]=0,o[6]=0,o[10]=u,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){var t=this.elements,i=e.elements;for(let e=0;e<16;e++)if(t[e]!==i[e])return!1;return!0}fromArray(t,i=0){for(let e=0;e<16;e++)this.elements[e]=t[e+i];return this}toArray(e=[],t=0){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const oa=new Je,la=new Ke,ca=new Je(0,0,0),da=new Je(1,1,1),pa=new Je,ua=new Je,ha=new Je,ma=new Ke,fa=new m;class ga{constructor(e=0,t=0,i=0,a=ga.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){var e=e.elements,a=e[0],n=e[4],s=e[8],r=e[1],o=e[5],l=e[9],c=e[2],d=e[6],p=e[10];switch(t){case"XYZ":this._y=Math.asin(I(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-n,a)):(this._x=Math.atan2(d,o),this._z=0);break;case"YXZ":this._x=Math.asin(-I(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(r,o)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(I(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,p),this._z=Math.atan2(-n,o)):(this._y=0,this._z=Math.atan2(r,a));break;case"ZYX":this._y=Math.asin(-I(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(r,a)):(this._x=0,this._z=Math.atan2(-n,o));break;case"YZX":this._z=Math.asin(I(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(-l,o),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-I(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(d,o),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===i&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return ma.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ma,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return fa.setFromEuler(this),this.setFromQuaternion(fa,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ga.DEFAULT_ORDER="XYZ";class _a{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let ya=0;const ba=new Je,va=new m,xa=new Ke,Sa=new Je,wa=new Je,Ta=new Je,Aa=new m,Ma=new Je(1,0,0),Ia=new Je(0,1,0),Ea=new Je(0,0,1),za={type:"added"},ka={type:"removed"},Da={type:"childadded",child:null},Ca={type:"childremoved",child:null};class f extends ii{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ya++}),this.uuid=oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=f.DEFAULT_UP.clone();var e=new Je;const t=new ga,i=new m;var a=new Je(1,1,1);t._onChange(function(){i.setFromEuler(t,!1)}),i._onChange(function(){t.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Ke},normalMatrix:{value:new _}}),this.matrix=new Ke,this.matrixWorld=new Ke,this.matrixAutoUpdate=f.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=f.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return va.setFromAxisAngle(e,t),this.quaternion.multiply(va),this}rotateOnWorldAxis(e,t){return va.setFromAxisAngle(e,t),this.quaternion.premultiply(va),this}rotateX(e){return this.rotateOnAxis(Ma,e)}rotateY(e){return this.rotateOnAxis(Ia,e)}rotateZ(e){return this.rotateOnAxis(Ea,e)}translateOnAxis(e,t){return ba.copy(e).applyQuaternion(this.quaternion),this.position.add(ba.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ma,e)}translateY(e){return this.translateOnAxis(Ia,e)}translateZ(e){return this.translateOnAxis(Ea,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Sa.copy(e):Sa.set(e,t,i);e=this.parent;this.updateWorldMatrix(!0,!1),wa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(wa,Sa,this.up):xa.lookAt(Sa,wa,this.up),this.quaternion.setFromRotationMatrix(xa),e&&(xa.extractRotation(e.matrixWorld),va.setFromRotationMatrix(xa),this.quaternion.premultiply(va.invert()))}add(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.add(arguments[e]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(e.removeFromParent(),(e.parent=this).children.push(e),e.dispatchEvent(za),Da.child=e,this.dispatchEvent(Da),Da.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this}remove(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);else{var t=this.children.indexOf(e);-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ka),Ca.child=e,this.dispatchEvent(Ca),Ca.child=null)}return this}removeFromParent(){var e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(xa),e.removeFromParent(),(e.parent=this).children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(za),Da.child=e,this.dispatchEvent(Da),Da.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(i,a){if(this[i]===a)return this;for(let e=0,t=this.children.length;e<t;e++){var n=this.children[e].getObjectByProperty(i,a);if(void 0!==n)return n}}getObjectsByProperty(i,a,n=[]){this[i]===a&&n.push(this);var s=this.children;for(let e=0,t=s.length;e<t;e++)s[e].getObjectsByProperty(i,a,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wa,e,Ta),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wa,Aa,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(i){i(this);var a=this.children;for(let e=0,t=a.length;e<t;e++)a[e].traverse(i)}traverseVisible(i){if(!1!==this.visible){i(this);var a=this.children;for(let e=0,t=a.length;e<t;e++)a[e].traverseVisible(i)}}traverseAncestors(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i=!(this.matrixWorldNeedsUpdate=!1));var a=this.children;for(let e=0,t=a.length;e<t;e++)a[e].updateMatrixWorld(i)}updateWorldMatrix(e,t){var i=this.parent;if(!0===e&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){var a=this.children;for(let e=0,t=a.length;e<t;e++)a[e].updateWorldMatrix(!1,!0)}}toJSON(i){var e,t,a,n,s,r,o=void 0===i||"string"==typeof i,l={},c=(o&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},l.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"}),{});function d(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(i)),t.uuid}if(c.uuid=this.uuid,c.type=this.type,""!==this.name&&(c.name=this.name),!0===this.castShadow&&(c.castShadow=!0),!0===this.receiveShadow&&(c.receiveShadow=!0),!1===this.visible&&(c.visible=!1),!1===this.frustumCulled&&(c.frustumCulled=!1),0!==this.renderOrder&&(c.renderOrder=this.renderOrder),0<Object.keys(this.userData).length&&(c.userData=this.userData),c.layers=this.layers.mask,c.matrix=this.matrix.toArray(),c.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(c.matrixAutoUpdate=!1),this.isInstancedMesh&&(c.type="InstancedMesh",c.count=this.count,c.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor)&&(c.instanceColor=this.instanceColor.toJSON()),this.isBatchedMesh&&(c.type="BatchedMesh",c.perObjectFrustumCulled=this.perObjectFrustumCulled,c.sortObjects=this.sortObjects,c.drawRanges=this._drawRanges,c.reservedRanges=this._reservedRanges,c.visibility=this._visibility,c.active=this._active,c.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),c.maxInstanceCount=this._maxInstanceCount,c.maxVertexCount=this._maxVertexCount,c.maxIndexCount=this._maxIndexCount,c.geometryInitialized=this._geometryInitialized,c.geometryCount=this._geometryCount,c.matricesTexture=this._matricesTexture.toJSON(i),null!==this._colorsTexture&&(c.colorsTexture=this._colorsTexture.toJSON(i)),null!==this.boundingSphere&&(c.boundingSphere={center:c.boundingSphere.center.toArray(),radius:c.boundingSphere.radius}),null!==this.boundingBox)&&(c.boundingBox={min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}),this.isScene)this.background&&(this.background.isColor?c.background=this.background.toJSON():this.background.isTexture&&(c.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(c.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){c.geometry=d(i.geometries,this.geometry);var p=this.geometry.parameters;if(void 0!==p&&void 0!==p.shapes){var u=p.shapes;if(Array.isArray(u))for(let e=0,t=u.length;e<t;e++){var h=u[e];d(i.shapes,h)}else d(i.shapes,u)}}if(this.isSkinnedMesh&&(c.bindMode=this.bindMode,c.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(d(i.skeletons,this.skeleton),c.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){var m=[];for(let e=0,t=this.material.length;e<t;e++)m.push(d(i.materials,this.material[e]));c.material=m}else c.material=d(i.materials,this.material);if(0<this.children.length){c.children=[];for(let e=0;e<this.children.length;e++)c.children.push(this.children[e].toJSON(i).object)}if(0<this.animations.length){c.animations=[];for(let e=0;e<this.animations.length;e++){var f=this.animations[e];c.animations.push(d(i.animations,f))}}return o&&(p=g(i.geometries),o=g(i.materials),e=g(i.textures),t=g(i.images),a=g(i.shapes),n=g(i.skeletons),s=g(i.animations),r=g(i.nodes),0<p.length&&(l.geometries=p),0<o.length&&(l.materials=o),0<e.length&&(l.textures=e),0<t.length&&(l.images=t),0<a.length&&(l.shapes=a),0<n.length&&(l.skeletons=n),0<s.length&&(l.animations=s),0<r.length)&&(l.nodes=r),l.object=c,l;function g(e){var t=[];for(const a in e){var i=e[a];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){var i=t.children[e];this.add(i.clone())}return this}}f.DEFAULT_UP=new Je(0,1,0),f.DEFAULT_MATRIX_AUTO_UPDATE=!0,f.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Pa=new Je,Ra=new Je,La=new Je,Oa=new Je,Na=new Je,ja=new Je,Fa=new Je,Ua=new Je,Ba=new Je,Va=new Je,Ga=new Ye,Ha=new Ye,Wa=new Ye;class qa{constructor(e=new Je,t=new Je,i=new Je){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),Pa.subVectors(e,t),a.cross(Pa);i=a.lengthSq();return 0<i?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,t,i,a,n){Pa.subVectors(a,t),Ra.subVectors(i,t),La.subVectors(e,t);var a=Pa.dot(Pa),i=Pa.dot(Ra),e=Pa.dot(La),t=Ra.dot(Ra),s=Ra.dot(La),r=a*t-i*i;return 0==r?(n.set(0,0,0),null):n.set(1-(t=(t*e-i*s)*(n=1/r))-(r=(a*s-i*e)*n),r,t)}static containsPoint(e,t,i,a){return null!==this.getBarycoord(e,t,i,a,Oa)&&0<=Oa.x&&0<=Oa.y&&Oa.x+Oa.y<=1}static getInterpolation(e,t,i,a,n,s,r,o){return null===this.getBarycoord(e,t,i,a,Oa)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(n,Oa.x),o.addScaledVector(s,Oa.y),o.addScaledVector(r,Oa.z),o)}static getInterpolatedAttribute(e,t,i,a,n,s){return Ga.setScalar(0),Ha.setScalar(0),Wa.setScalar(0),Ga.fromBufferAttribute(e,t),Ha.fromBufferAttribute(e,i),Wa.fromBufferAttribute(e,a),s.setScalar(0),s.addScaledVector(Ga,n.x),s.addScaledVector(Ha,n.y),s.addScaledVector(Wa,n.z),s}static isFrontFacing(e,t,i,a){return Pa.subVectors(i,t),Ra.subVectors(e,t),Pa.cross(Ra).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Pa.subVectors(this.c,this.b),Ra.subVectors(this.a,this.b),.5*Pa.cross(Ra).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return qa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,n){return qa.getInterpolation(e,this.a,this.b,this.c,t,i,a,n)}containsPoint(e){return qa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){var i=this.a,a=this.b,n=this.c;let s,r;Na.subVectors(a,i),ja.subVectors(n,i),Ua.subVectors(e,i);var o=Na.dot(Ua),l=ja.dot(Ua);if(o<=0&&l<=0)return t.copy(i);Ba.subVectors(e,a);var c=Na.dot(Ba),d=ja.dot(Ba);if(0<=c&&d<=c)return t.copy(a);var p=o*d-c*l;if(p<=0&&0<=o&&c<=0)return s=o/(o-c),t.copy(i).addScaledVector(Na,s);Va.subVectors(e,n);var e=Na.dot(Va),u=ja.dot(Va);return 0<=u&&e<=u?t.copy(n):(o=e*l-o*u)<=0&&0<=l&&u<=0?(r=l/(l-u),t.copy(i).addScaledVector(ja,r)):(l=c*u-e*d)<=0&&0<=d-c&&0<=e-u?(Fa.subVectors(n,a),r=(d-c)/(d-c+(e-u)),t.copy(a).addScaledVector(Fa,r)):(n=1/(l+o+p),s=o*n,r=p*n,t.copy(i).addScaledVector(Na,s).addScaledVector(ja,r))}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Xa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ya={h:0,s:0,l:0},Ja={h:0,s:0,l:0};function Ka(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}class Ze{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){var a;return void 0===t&&void 0===i?(a=e)&&a.isColor?this.copy(a):"number"==typeof a?this.setHex(a):"string"==typeof a&&this.setStyle(a):this.setRGB(e,t,i),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=qe){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Xe.toWorkingColorSpace(this,t),this}setRGB(e,t,i,a=Xe.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xe.toWorkingColorSpace(this,a),this}setHSL(e,t,i,a=Xe.workingColorSpace){return e=li(e,1),t=I(t,0,1),i=I(i,0,1),0===t?this.r=this.g=this.b=i:(this.r=Ka(t=2*i-(i=i<=.5?i*(1+t):i+t-i*t),i,e+1/3),this.g=Ka(t,i,e),this.b=Ka(t,i,e-1/3)),Xe.toWorkingColorSpace(this,a),this}setStyle(t,i=qe){function a(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let e;var n=r[1],s=r[2];switch(n){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(e[4]),this.setRGB(Math.min(255,parseInt(e[1],10))/255,Math.min(255,parseInt(e[2],10))/255,Math.min(255,parseInt(e[3],10))/255,i);if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(e[4]),this.setRGB(Math.min(100,parseInt(e[1],10))/100,Math.min(100,parseInt(e[2],10))/100,Math.min(100,parseInt(e[3],10))/100,i);break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return a(e[4]),this.setHSL(parseFloat(e[1])/360,parseFloat(e[2])/100,parseFloat(e[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){var n=r[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,i);if(6===r)return this.setHex(parseInt(n,16),i);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&0<t.length)return this.setColorName(t,i);return this}setColorName(e,t=qe){var i=Xa[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vi(e.r),this.g=vi(e.g),this.b=vi(e.b),this}copyLinearToSRGB(e){return this.r=xi(e.r),this.g=xi(e.g),this.b=xi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qe){return Xe.fromWorkingColorSpace(Za.copy(this),e),65536*Math.round(I(255*Za.r,0,255))+256*Math.round(I(255*Za.g,0,255))+Math.round(I(255*Za.b,0,255))}getHexString(e=qe){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xe.workingColorSpace){Xe.fromWorkingColorSpace(Za.copy(this),t);var i=Za.r,a=Za.g,n=Za.b,t=Math.max(i,a,n),s=Math.min(i,a,n);let r,o;var l=(s+t)/2;if(s===t)r=0,o=0;else{var c=t-s;switch(o=l<=.5?c/(t+s):c/(2-t-s),t){case i:r=(a-n)/c+(a<n?6:0);break;case a:r=(n-i)/c+2;break;case n:r=(i-a)/c+4}r/=6}return e.h=r,e.s=o,e.l=l,e}getRGB(e,t=Xe.workingColorSpace){return Xe.fromWorkingColorSpace(Za.copy(this),t),e.r=Za.r,e.g=Za.g,e.b=Za.b,e}getStyle(e=qe){Xe.fromWorkingColorSpace(Za.copy(this),e);var t=Za.r,i=Za.g,a=Za.b;return e!==qe?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*a)})`}offsetHSL(e,t,i){return this.getHSL(Ya),this.setHSL(Ya.h+e,Ya.s+t,Ya.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ya),e.getHSL(Ja);var e=ci(Ya.h,Ja.h,t),i=ci(Ya.s,Ja.s,t),t=ci(Ya.l,Ja.l,t);return this.setHSL(e,i,t),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){var t=this.r,i=this.g,a=this.b,e=e.elements;return this.r=e[0]*t+e[3]*i+e[6]*a,this.g=e[1]*t+e[4]*i+e[7]*a,this.b=e[2]*t+e[5]*i+e[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Za=new Ze;Ze.NAMES=Xa;let $a=0;class k extends ii{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$a++}),this.uuid=oi(),this.name="",this.type="Material",this.blending=fe,this.side=$e,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=pe,this.blendDst=ue,this.blendEquation=te,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ze(0,0,0),this.blendAlpha=0,this.depthFunc=Ie,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){0<this._alphaTest!=0<e&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const a in e){var t,i=e[a];void 0===i?console.warn(`THREE.Material: parameter '${a}' has value of undefined.`):void 0===(t=this[a])?console.warn(`THREE.Material: '${a}' is not a property of THREE.${this.type}.`):t&&t.isColor?t.set(i):t&&t.isVector3&&i&&i.isVector3?t.copy(i):this[a]=i}}toJSON(e){var t=void 0===e||"string"==typeof e,i=(t&&(e={textures:{},images:{}}),{metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}});function a(e){var t=[];for(const a in e){var i=e[a];delete i.metadata,t.push(i)}return t}return i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine)&&(i.combine=this.combine),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==fe&&(i.blending=this.blending),this.side!==$e&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),this.blendSrc!==pe&&(i.blendSrc=this.blendSrc),this.blendDst!==ue&&(i.blendDst=this.blendDst),this.blendEquation!==te&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ie&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(i.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(i.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),0<Object.keys(this.userData).length&&(i.userData=this.userData),t&&(t=a(e.textures),e=a(e.images),0<t.length&&(i.textures=t),0<e.length)&&(i.images=e),i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes;let i=null;if(null!==t){var a=t.length;i=new Array(a);for(let e=0;e!==a;++e)i[e]=t[e].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class T extends k{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ga,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qa=en();function en(){var e=new ArrayBuffer(4),t=new Float32Array(e),e=new Uint32Array(e),i=new Uint32Array(512),a=new Uint32Array(512);for(let e=0;e<256;++e){var n=e-127;n<-27?(i[e]=0,i[256|e]=32768,a[e]=24,a[256|e]=24):n<-14?(i[e]=1024>>-n-14,i[256|e]=1024>>-n-14|32768,a[e]=-n-1,a[256|e]=-n-1):n<=15?(i[e]=15+n<<10,i[256|e]=15+n<<10|32768,a[e]=13,a[256|e]=13):n<128?(i[e]=31744,i[256|e]=64512,a[e]=24,a[256|e]=24):(i[e]=31744,i[256|e]=64512,a[e]=13,a[256|e]=13)}var s=new Uint32Array(2048),r=new Uint32Array(64),o=new Uint32Array(64);for(let i=1;i<1024;++i){let e=i<<13,t=0;for(;0==(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,s[i]=e|t}for(let e=1024;e<2048;++e)s[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)r[e]=e<<23;r[31]=1199570944,r[32]=2147483648;for(let e=33;e<63;++e)r[e]=2147483648+(e-32<<23);r[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(o[e]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:a,mantissaTable:s,exponentTable:r,offsetTable:o}}function tn(e){65504<Math.abs(e)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=I(e,-65504,65504),Qa.floatView[0]=e;var e=Qa.uint32View[0],t=e>>23&511;return Qa.baseTable[t]+((8388607&e)>>Qa.shiftTable[t])}function an(e){var t=e>>10;return Qa.uint32View[0]=Qa.mantissaTable[Qa.offsetTable[t]+(1023&e)]+Qa.exponentTable[t],Qa.floatView[0]}class nn{static toHalfFloat(e){return tn(e)}static fromHalfFloat(e){return an(e)}}const a=new Je,sn=new ie;let rn=0;class D{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:rn++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRanges=[],this.gpuType=je,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(i,a,n){i*=this.itemSize,n*=a.itemSize;for(let e=0,t=this.itemSize;e<t;e++)this.array[i+e]=a.array[n+e];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(i){if(2===this.itemSize)for(let e=0,t=this.count;e<t;e++)sn.fromBufferAttribute(this,e),sn.applyMatrix3(i),this.setXY(e,sn.x,sn.y);else if(3===this.itemSize)for(let e=0,t=this.count;e<t;e++)a.fromBufferAttribute(this,e),a.applyMatrix3(i),this.setXYZ(e,a.x,a.y,a.z);return this}applyMatrix4(i){for(let e=0,t=this.count;e<t;e++)a.fromBufferAttribute(this,e),a.applyMatrix4(i),this.setXYZ(e,a.x,a.y,a.z);return this}applyNormalMatrix(i){for(let e=0,t=this.count;e<t;e++)a.fromBufferAttribute(this,e),a.applyNormalMatrix(i),this.setXYZ(e,a.x,a.y,a.z);return this}transformDirection(i){for(let e=0,t=this.count;e<t;e++)a.fromBufferAttribute(this,e),a.transformDirection(i),this.setXYZ(e,a.x,a.y,a.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return i=this.normalized?di(i,this.array):i}setComponent(e,t,i){return this.normalized&&(i=s(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return t=this.normalized?di(t,this.array):t}setX(e,t){return this.normalized&&(t=s(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return t=this.normalized?di(t,this.array):t}setY(e,t){return this.normalized&&(t=s(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return t=this.normalized?di(t,this.array):t}setZ(e,t){return this.normalized&&(t=s(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return t=this.normalized?di(t,this.array):t}setW(e,t){return this.normalized&&(t=s(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=s(t,this.array),i=s(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=s(t,this.array),i=s(i,this.array),a=s(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,n){return e*=this.itemSize,this.normalized&&(t=s(t,this.array),i=s(i,this.array),a=s(a,this.array),n=s(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=n,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}(class extends D{});(class extends D{});(class extends D{});(class extends D{});class on extends D{constructor(e,t,i){super(new Uint16Array(e),t,i)}}(class extends D{});class ln extends D{constructor(e,t,i){super(new Uint32Array(e),t,i)}}(class extends D{});class G extends D{constructor(e,t,i){super(new Float32Array(e),t,i)}}let cn=0;const dn=new Ke,pn=new f,un=new Je,hn=new Ri,mn=new Ri,fn=new Je;class C extends ii{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cn++}),this.uuid=oi(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hi(e)?ln:on)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){var t=this.attributes.position,t=(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal),i=(void 0!==t&&(i=(new _).getNormalMatrix(e),t.applyNormalMatrix(i),t.needsUpdate=!0),this.attributes.tangent);return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return dn.makeRotationFromQuaternion(e),this.applyMatrix4(dn),this}rotateX(e){return dn.makeRotationX(e),this.applyMatrix4(dn),this}rotateY(e){return dn.makeRotationY(e),this.applyMatrix4(dn),this}rotateZ(e){return dn.makeRotationZ(e),this.applyMatrix4(dn),this}translate(e,t,i){return dn.makeTranslation(e,t,i),this.applyMatrix4(dn),this}scale(e,t,i){return dn.makeScale(e,t,i),this.applyMatrix4(dn),this}lookAt(e){return pn.lookAt(e),pn.updateMatrix(),this.applyMatrix4(pn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(un).negate(),this.translate(un.x,un.y,un.z),this}setFromPoints(i){var t=this.getAttribute("position");if(void 0===t){var a=[];for(let e=0,t=i.length;e<t;e++){var n=i[e];a.push(n.x,n.y,n.z||0)}this.setAttribute("position",new G(a,3))}else{var s=Math.min(i.length,t.count);for(let e=0;e<s;e++){var r=i[e];t.setXYZ(e,r.x,r.y,r.z||0)}i.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ri);var e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Je(-1/0,-1/0,-1/0),new Je(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(let e=0,t=i.length;e<t;e++){var a=i[e];hn.setFromBufferAttribute(a),this.morphTargetsRelative?(fn.addVectors(this.boundingBox.min,hn.min),this.boundingBox.expandByPoint(fn),fn.addVectors(this.boundingBox.max,hn.max),this.boundingBox.expandByPoint(fn)):(this.boundingBox.expandByPoint(hn.min),this.boundingBox.expandByPoint(hn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $i);var a=this.attributes.position,n=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Je,1/0);else if(a){var s=this.boundingSphere.center;if(hn.setFromBufferAttribute(a),n)for(let e=0,t=n.length;e<t;e++){var r=n[e];mn.setFromBufferAttribute(r),this.morphTargetsRelative?(fn.addVectors(hn.min,mn.min),hn.expandByPoint(fn),fn.addVectors(hn.max,mn.max),hn.expandByPoint(fn)):(hn.expandByPoint(mn.min),hn.expandByPoint(mn.max))}hn.getCenter(s);let i=0;for(let e=0,t=a.count;e<t;e++)fn.fromBufferAttribute(a,e),i=Math.max(i,s.distanceToSquared(fn));if(n)for(let e=0,t=n.length;e<t;e++){var o=n[e],l=this.morphTargetsRelative;for(let e=0,t=o.count;e<t;e++)fn.fromBufferAttribute(o,e),l&&(un.fromBufferAttribute(a,e),fn.add(un)),i=Math.max(i,s.distanceToSquared(fn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){var a,n,s,r,o=this.index,e=this.attributes;if(null===o||void 0===e.position||void 0===e.normal||void 0===e.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{const h=e.position,m=e.normal,f=e.uv,g=(!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new D(new Float32Array(4*h.count),4)),this.getAttribute("tangent")),_=[],y=[];for(let e=0;e<h.count;e++)_[e]=new Je,y[e]=new Je;const b=new Je,v=new Je,x=new Je,S=new ie,w=new ie,T=new ie,A=new Je,M=new Je;let i=this.groups;for(let e=0,t=(i=0===i.length?[{start:0,count:o.count}]:i).length;e<t;++e){var l=i[e],c=l.start;for(let e=c,t=c+l.count;e<t;e+=3)a=o.getX(e+0),n=o.getX(e+1),s=o.getX(e+2),r=void 0,b.fromBufferAttribute(h,a),v.fromBufferAttribute(h,n),x.fromBufferAttribute(h,s),S.fromBufferAttribute(f,a),w.fromBufferAttribute(f,n),T.fromBufferAttribute(f,s),v.sub(b),x.sub(b),w.sub(S),T.sub(S),r=1/(w.x*T.y-T.x*w.y),isFinite(r)&&(A.copy(v).multiplyScalar(T.y).addScaledVector(x,-w.y).multiplyScalar(r),M.copy(x).multiplyScalar(w.x).addScaledVector(v,-T.x).multiplyScalar(r),_[a].add(A),_[n].add(A),_[s].add(A),y[a].add(M),y[n].add(M),y[s].add(M))}const I=new Je,E=new Je,z=new Je,k=new Je;for(let e=0,t=i.length;e<t;++e){var d=i[e],p=d.start;for(let e=p,t=p+d.count;e<t;e+=3)u(o.getX(e+0)),u(o.getX(e+1)),u(o.getX(e+2))}function u(e){z.fromBufferAttribute(m,e),k.copy(z);var t=_[e],t=(I.copy(t),I.sub(z.multiplyScalar(z.dot(t))).normalize(),E.crossVectors(k,t),E.dot(y[e])),t=t<0?-1:1;g.setXYZW(e,I.x,I.y,I.z,t)}}}computeVertexNormals(){var a=this.index,n=this.getAttribute("position");if(void 0!==n){let i=this.getAttribute("normal");if(void 0===i)i=new D(new Float32Array(3*n.count),3),this.setAttribute("normal",i);else for(let e=0,t=i.count;e<t;e++)i.setXYZ(e,0,0,0);var s=new Je,r=new Je,o=new Je,l=new Je,c=new Je,d=new Je,p=new Je,u=new Je;if(a)for(let e=0,t=a.count;e<t;e+=3){var h=a.getX(e+0),m=a.getX(e+1),f=a.getX(e+2);s.fromBufferAttribute(n,h),r.fromBufferAttribute(n,m),o.fromBufferAttribute(n,f),p.subVectors(o,r),u.subVectors(s,r),p.cross(u),l.fromBufferAttribute(i,h),c.fromBufferAttribute(i,m),d.fromBufferAttribute(i,f),l.add(p),c.add(p),d.add(p),i.setXYZ(h,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z),i.setXYZ(f,d.x,d.y,d.z)}else for(let e=0,t=n.count;e<t;e+=3)s.fromBufferAttribute(n,e+0),r.fromBufferAttribute(n,e+1),o.fromBufferAttribute(n,e+2),p.subVectors(o,r),u.subVectors(s,r),p.cross(u),i.setXYZ(e+0,p.x,p.y,p.z),i.setXYZ(e+1,p.x,p.y,p.z),i.setXYZ(e+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){var i=this.attributes.normal;for(let e=0,t=i.count;e<t;e++)fn.fromBufferAttribute(i,e),fn.normalize(),i.setXYZ(e,fn.x,fn.y,fn.z)}toNonIndexed(){function i(i,a){var n=i.array,s=i.itemSize,e=i.normalized,r=new n.constructor(a.length*s);let o=0,l=0;for(let e=0,t=a.length;e<t;e++){o=i.isInterleavedBufferAttribute?a[e]*i.data.stride+i.offset:a[e]*s;for(let e=0;e<s;e++)r[l++]=n[o++]}return new D(r,s,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var a=new C,n=this.index.array,e=this.attributes;for(const p in e){var t=i(e[p],n);a.setAttribute(p,t)}var s=this.morphAttributes;for(const u in s){var r=[],o=s[u];for(let e=0,t=o.length;e<t;e++){var l=i(o[e],n);r.push(l)}a.morphAttributes[u]=r}a.morphTargetsRelative=this.morphTargetsRelative;var c=this.groups;for(let e=0,t=c.length;e<t;e++){var d=c[e];a.addGroup(d.start,d.count,d.materialIndex)}return a}toJSON(){var i={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),0<Object.keys(this.userData).length&&(i.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(const c in e)void 0!==e[c]&&(i[c]=e[c])}else{i.data={attributes:{}};var t=this.index,a=(null!==t&&(i.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)}),this.attributes);for(const d in a){var n=a[d];i.data.attributes[d]=n.toJSON(i.data)}var s={};let e=!1;for(const p in this.morphAttributes){var r=this.morphAttributes[p],o=[];for(let e=0,t=r.length;e<t;e++){var l=r[e];o.push(l.toJSON(i.data))}0<o.length&&(s[p]=o,e=!0)}e&&(i.data.morphAttributes=s,i.data.morphTargetsRelative=this.morphTargetsRelative);t=this.groups,t=(0<t.length&&(i.data.groups=JSON.parse(JSON.stringify(t))),this.boundingSphere);null!==t&&(i.data.boundingSphere={center:t.center.toArray(),radius:t.radius})}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var i={},t=(this.name=e.name,e.index),a=(null!==t&&this.setIndex(t.clone(i)),e.attributes);for(const d in a){var n=a[d];this.setAttribute(d,n.clone(i))}var s=e.morphAttributes;for(const p in s){var r=[],o=s[p];for(let e=0,t=o.length;e<t;e++)r.push(o[e].clone(i));this.morphAttributes[p]=r}this.morphTargetsRelative=e.morphTargetsRelative;var l=e.groups;for(let e=0,t=l.length;e<t;e++){var c=l[e];this.addGroup(c.start,c.count,c.materialIndex)}t=e.boundingBox,null!==t&&(this.boundingBox=t.clone()),t=e.boundingSphere;return null!==t&&(this.boundingSphere=t.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gn=new Ke,_n=new ra,yn=new $i,bn=new Je,vn=new Je,xn=new Je,Sn=new Je,wn=new Je,Tn=new Je,An=new Je,Mn=new Je;class P extends f{constructor(e=new C,t=new T){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var i=e[t[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var a=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=e}}}}getVertexPosition(i,a){var e=this.geometry,t=e.attributes.position,n=e.morphAttributes.position,s=e.morphTargetsRelative,r=(a.fromBufferAttribute(t,i),this.morphTargetInfluences);if(n&&r){Tn.set(0,0,0);for(let e=0,t=n.length;e<t;e++){var o=r[e],l=n[e];0!==o&&(wn.fromBufferAttribute(l,i),s?Tn.addScaledVector(wn,o):Tn.addScaledVector(wn.sub(a),o))}a.add(Tn)}return a}raycast(e,t){var i=this.geometry,a=this.material,n=this.matrixWorld;if(void 0!==a){if(null===i.boundingSphere&&i.computeBoundingSphere(),yn.copy(i.boundingSphere),yn.applyMatrix4(n),_n.copy(e.ray).recast(e.near),!1===yn.containsPoint(_n.origin)){if(null===_n.intersectSphere(yn,bn))return;if(_n.origin.distanceToSquared(bn)>(e.far-e.near)**2)return}gn.copy(n).invert(),_n.copy(e.ray).applyMatrix4(gn),null!==i.boundingBox&&!1===_n.intersectsBox(i.boundingBox)||this._computeIntersections(e,t,_n)}}_computeIntersections(i,a,n){let s;var e=this.geometry,r=this.material,o=e.index,l=e.attributes.position,c=e.attributes.uv,d=e.attributes.uv1,p=e.attributes.normal,u=e.groups,h=e.drawRange;if(null!==o)if(Array.isArray(r))for(let e=0,t=u.length;e<t;e++){var m=u[e],f=r[m.materialIndex];for(let e=Math.max(m.start,h.start),t=Math.min(o.count,Math.min(m.start+m.count,h.start+h.count));e<t;e+=3){var g=o.getX(e),_=o.getX(e+1),y=o.getX(e+2);(s=In(this,f,i,n,c,d,p,g,_,y))&&(s.faceIndex=Math.floor(e/3),s.face.materialIndex=m.materialIndex,a.push(s))}}else for(let e=Math.max(0,h.start),t=Math.min(o.count,h.start+h.count);e<t;e+=3){var b=o.getX(e),v=o.getX(e+1),x=o.getX(e+2);(s=In(this,r,i,n,c,d,p,b,v,x))&&(s.faceIndex=Math.floor(e/3),a.push(s))}else if(void 0!==l)if(Array.isArray(r))for(let e=0,t=u.length;e<t;e++){var S=u[e],w=r[S.materialIndex];for(let e=Math.max(S.start,h.start),t=Math.min(l.count,Math.min(S.start+S.count,h.start+h.count));e<t;e+=3){var T=e,A=e+1,M=e+2;(s=In(this,w,i,n,c,d,p,T,A,M))&&(s.faceIndex=Math.floor(e/3),s.face.materialIndex=S.materialIndex,a.push(s))}}else for(let e=Math.max(0,h.start),t=Math.min(l.count,h.start+h.count);e<t;e+=3){var I=e,E=e+1,z=e+2;(s=In(this,r,i,n,c,d,p,I,E,z))&&(s.faceIndex=Math.floor(e/3),a.push(s))}}}function In(e,t,i,a,n,s,r,o,l,c){e.getVertexPosition(o,vn),e.getVertexPosition(l,xn),e.getVertexPosition(c,Sn);e=function(e,t,i,a,n,s,r,o){let l;return null===(l=t.side===Qe?a.intersectTriangle(r,s,n,!0,o):a.intersectTriangle(n,s,r,t.side===$e,o))||(Mn.copy(o),Mn.applyMatrix4(e.matrixWorld),(a=i.ray.origin.distanceTo(Mn))<i.near)||a>i.far?null:{distance:a,point:Mn.clone(),object:e}}(e,t,i,a,vn,xn,Sn,An);return e&&(t=new Je,qa.getBarycoord(An,vn,xn,Sn,t),n&&(e.uv=qa.getInterpolatedAttribute(n,o,l,c,t,new ie)),s&&(e.uv1=qa.getInterpolatedAttribute(s,o,l,c,t,new ie)),r&&(e.normal=qa.getInterpolatedAttribute(r,o,l,c,t,new Je),0<e.normal.dot(a.direction))&&e.normal.multiplyScalar(-1),i={a:o,b:l,c:c,normal:new Je,materialIndex:0},qa.getNormal(vn,xn,Sn,i.normal),e.face=i,e.barycoord=t),e}class En extends C{constructor(e=1,t=1,i=1,a=1,n=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:n,depthSegments:s};const I=this,E=(a=Math.floor(a),n=Math.floor(n),s=Math.floor(s),[]),z=[],k=[],D=[];let C=0,P=0;function r(i,a,n,s,r,e,t,o,l,c,d){var p=e/l,u=t/c,h=e/2,m=t/2,f=o/2,g=l+1,_=c+1;let y=0,b=0;var v=new Je;for(let t=0;t<_;t++){var x=t*u-m;for(let e=0;e<g;e++){var S=e*p-h;v[i]=S*s,v[a]=x*r,v[n]=f,z.push(v.x,v.y,v.z),v[i]=0,v[a]=0,v[n]=0<o?1:-1,k.push(v.x,v.y,v.z),D.push(e/l),D.push(1-t/c),y+=1}}for(let t=0;t<c;t++)for(let e=0;e<l;e++){var w=C+e+g*t,T=C+e+g*(t+1),A=C+(e+1)+g*(t+1),M=C+(e+1)+g*t;E.push(w,T,M),E.push(T,A,M),b+=6}I.addGroup(P,b,d),P+=b,C+=y}r("z","y","x",-1,-1,i,t,e,s,n,0),r("z","y","x",1,-1,i,t,-e,s,n,1),r("x","z","y",1,1,e,i,t,a,s,2),r("x","z","y",1,-1,e,i,-t,a,s,3),r("x","y","z",1,-1,e,t,i,a,n,4),r("x","y","z",-1,-1,e,t,-i,a,n,5),this.setIndex(E),this.setAttribute("position",new G(z,3)),this.setAttribute("normal",new G(k,3)),this.setAttribute("uv",new G(D,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new En(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zn(e){var t={};for(const a in e){t[a]={};for(const n in e[a]){var i=e[a][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[a][n]=null):t[a][n]=i.clone():Array.isArray(i)?t[a][n]=i.slice():t[a][n]=i}}return t}function kn(t){var i={};for(let e=0;e<t.length;e++){var a=zn(t[e]);for(const n in a)i[n]=a[n]}return i}function Dn(e){var t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:Xe.workingColorSpace}const Cn={clone:zn,merge:kn};class Pn extends k{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zn(e.uniforms),this.uniformsGroups=function(t){var i=[];for(let e=0;e<t.length;e++)i.push(t[e].clone());return i}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){var t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(const s in this.extensions)!0===this.extensions[s]&&(a[s]=!0);return 0<Object.keys(a).length&&(t.extensions=a),t}}class Rn extends f{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ke,this.projectionMatrix=new Ke,this.projectionMatrixInverse=new Ke,this.coordinateSystem=2e3}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Ln=new Je,On=new ie,Nn=new ie;class jn extends Rn{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){e=.5*this.getFilmHeight()/e;this.fov=2*ri*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){var e=Math.tan(.5*si*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ri*Math.atan(Math.tan(.5*si*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Ln.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ln.x,Ln.y).multiplyScalar(-e/Ln.z),Ln.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Ln.x,Ln.y).multiplyScalar(-e/Ln.z)}getViewSize(e,t){return this.getViewBounds(e,On,Nn),t.subVectors(Nn,On)}setViewOffset(e,t,i,a,n,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){var e=this.near;let t=e*Math.tan(.5*si*this.fov)/this.zoom,i=2*t,a=this.aspect*i,n=-.5*a;var s,r=this.view,o=(null!==this.view&&this.view.enabled&&(o=r.fullWidth,s=r.fullHeight,n+=r.offsetX*a/o,t-=r.offsetY*i/s,a*=r.width/o,i*=r.height/s),this.filmOffset);0!==o&&(n+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+a,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){e=super.toJSON(e);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class Fn extends f{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;i=new jn(-90,1,e,t),i.layers=this.layers,this.add(i),i=new jn(-90,1,e,t),i.layers=this.layers,this.add(i),i=new jn(-90,1,e,t),i.layers=this.layers,this.add(i),i=new jn(-90,1,e,t),i.layers=this.layers,this.add(i),i=new jn(-90,1,e,t),i.layers=this.layers,this.add(i),i=new jn(-90,1,e,t);i.layers=this.layers,this.add(i)}updateCoordinateSystem(){var e=this.coordinateSystem,t=this.children.concat(),[i,a,n,s,r,o]=t;for(const l of t)this.remove(l);if(2e3===e)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),n.up.set(0,0,-1),n.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),r.up.set(0,1,0),r.lookAt(0,0,1),o.up.set(0,1,0);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),n.up.set(0,0,1),n.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),r.up.set(0,-1,0),r.lookAt(0,0,1),o.up.set(0,-1,0)}o.lookAt(0,0,-1);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();var{renderTarget:i,activeMipmapLevel:a}=this,[n,s,r,o,l,c]=(this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem()),this.children),d=e.getRenderTarget(),p=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.xr.enabled,m=(e.xr.enabled=!1,i.texture.generateMipmaps);i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,n),e.setRenderTarget(i,1,a),e.render(t,s),e.setRenderTarget(i,2,a),e.render(t,r),e.setRenderTarget(i,3,a),e.render(t,o),e.setRenderTarget(i,4,a),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5,a),e.render(t,c),e.setRenderTarget(d,p,u),e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class Un extends d{constructor(e,t,i,a,n,s,r,o,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:N,i,a,n,s,r,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Bn extends zi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;e={width:e,height:e,depth:1},e=[e,e,e,e,e,e];this.texture=new Un(e,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:V}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new En(5,5,5),i=new Pn({name:"CubemapFromEquirect",uniforms:zn(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Qe,blending:K}),a=(i.uniforms.tEquirect.value=t,new P(a,i)),i=t.minFilter;return t.minFilter===tt&&(t.minFilter=V),new Fn(1,10,this).update(e,a),t.minFilter=i,a.geometry.dispose(),a.material.dispose(),this}clear(t,i,a,n){var e=t.getRenderTarget();for(let e=0;e<6;e++)t.setRenderTarget(this,e),t.clear(i,a,n);t.setRenderTarget(e)}}class Vn extends f{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gn={type:"move"};class Hn{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Vn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Vn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Je),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Vn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Je),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){var t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let a=null,n=null,s=null;var r=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){s=!0;for(const h of e.hand.values()){var c=t.getJointPose(h,i),d=this._getHandJoint(l,h);null!==c&&(d.matrix.fromArray(c.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=c.radius),d.visible=null!==c}var p=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],p=p.position.distanceTo(u.position);l.inputState.pinching&&.025<p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&p<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&null!==(n=t.getPose(e.gripSpace,i))&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1);null!==r&&null!==(a=null===(a=t.getPose(e.targetRaySpace,i))&&null!==n?n:a)&&(r.matrix.fromArray(a.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,a.linearVelocity?(r.hasLinearVelocity=!0,r.linearVelocity.copy(a.linearVelocity)):r.hasLinearVelocity=!1,a.angularVelocity?(r.hasAngularVelocity=!0,r.angularVelocity.copy(a.angularVelocity)):r.hasAngularVelocity=!1,this.dispatchEvent(Gn))}return null!==r&&(r.visible=null!==a),null!==o&&(o.visible=null!==n),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){var i;return void 0===e.joints[t.jointName]&&((i=new Vn).matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)),e.joints[t.jointName]}}class Wn extends f{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ga,this.environmentIntensity=1,this.environmentRotation=new ga,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){e=super.toJSON(e);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),0<this.backgroundBlurriness&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class qn{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=oi()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(i,a,n){i*=this.stride,n*=a.stride;for(let e=0,t=this.stride;e<t;e++)this.array[i+e]=a.array[n+e];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);e=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),e=new this.constructor(e,this.stride);return e.setUsage(this.usage),e}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xn=new Je;class Yn{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(i){for(let e=0,t=this.data.count;e<t;e++)Xn.fromBufferAttribute(this,e),Xn.applyMatrix4(i),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}applyNormalMatrix(i){for(let e=0,t=this.count;e<t;e++)Xn.fromBufferAttribute(this,e),Xn.applyNormalMatrix(i),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}transformDirection(i){for(let e=0,t=this.count;e<t;e++)Xn.fromBufferAttribute(this,e),Xn.transformDirection(i),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return i=this.normalized?di(i,this.array):i}setComponent(e,t,i){return this.normalized&&(i=s(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=s(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=s(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=s(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=s(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return t=this.normalized?di(t,this.array):t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return t=this.normalized?di(t,this.array):t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return t=this.normalized?di(t,this.array):t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return t=this.normalized?di(t,this.array):t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=s(t,this.array),i=s(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=s(t,this.array),i=s(i,this.array),a=s(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=s(t,this.array),i=s(i,this.array),a=s(a,this.array),n=s(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=n,this}clone(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Yn(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");var t=[];for(let e=0;e<this.count;e++){var i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return new D(new this.array.constructor(t),this.itemSize,this.normalized)}toJSON(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");var t=[];for(let e=0;e<this.count;e++){var i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}(class extends k{});(class extends f{});(class extends f{});const Jn=new Je,Kn=new Ye,Zn=new Ye,$n=new Je,Qn=new Ke,es=new Je,ts=new $i,is=new Ke,as=new ra;class ns extends P{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ke,this.bindMatrixInverse=new Ke,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){var e=this.geometry,t=(null===this.boundingBox&&(this.boundingBox=new Ri),this.boundingBox.makeEmpty(),e.getAttribute("position"));for(let e=0;e<t.count;e++)this.getVertexPosition(e,es),this.boundingBox.expandByPoint(es)}computeBoundingSphere(){var e=this.geometry,t=(null===this.boundingSphere&&(this.boundingSphere=new $i),this.boundingSphere.makeEmpty(),e.getAttribute("position"));for(let e=0;e<t.count;e++)this.getVertexPosition(e,es),this.boundingSphere.expandByPoint(es)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){var i=this.material,a=this.matrixWorld;void 0!==i&&(null===this.boundingSphere&&this.computeBoundingSphere(),ts.copy(this.boundingSphere),ts.applyMatrix4(a),!1!==e.ray.intersectsSphere(ts))&&(is.copy(a).invert(),as.copy(e.ray).applyMatrix4(is),null===this.boundingBox||!1!==as.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,as)}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){var i=new Ye,a=this.geometry.attributes.skinWeight;for(let e=0,t=a.count;e<t;e++){i.fromBufferAttribute(a,e);var n=1/i.manhattanLength();n!=1/0?i.multiplyScalar(n):i.set(1,0,0,0),a.setXYZW(e,i.x,i.y,i.z,i.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){var i=this.skeleton,a=this.geometry;Kn.fromBufferAttribute(a.attributes.skinIndex,e),Zn.fromBufferAttribute(a.attributes.skinWeight,e),Jn.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){var n,s=Zn.getComponent(e);0!==s&&(n=Kn.getComponent(e),Qn.multiplyMatrices(i.bones[n].matrixWorld,i.boneInverses[n]),t.addScaledVector($n.copy(Jn).applyMatrix4(Qn),s))}return t.applyMatrix4(this.bindMatrixInverse)}}class ss extends f{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rs extends d{constructor(e=null,t=1,i=1,a,n,s,r,o,l=Pe,c=Pe,d,p){super(null,s,r,o,l,c,a,n,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const os=new Ke,ls=new Ke;class cs{constructor(e=[],t=[]){this.uuid=oi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ke)}}calculateInverses(){for(let e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var i=new Ke;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){var i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){var a=this.bones[e];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}update(){var i=this.bones,a=this.boneInverses,n=this.boneMatrices,e=this.boneTexture;for(let e=0,t=i.length;e<t;e++){var s=i[e]?i[e].matrixWorld:ls;os.multiplyMatrices(s,a[e]),os.toArray(n,16*e)}null!==e&&(e.needsUpdate=!0)}clone(){return new cs(this.bones,this.boneInverses)}computeBoneTexture(){var e=Math.sqrt(4*this.bones.length),e=4*Math.ceil(e/4),t=(e=Math.max(e,4),new Float32Array(e*e*4)),e=(t.set(this.boneMatrices),new rs(t,e,e,Fe,je));return e.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=e,this}getBoneByName(i){for(let e=0,t=this.bones.length;e<t;e++){var a=this.bones[e];if(a.name===i)return a}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(i,a){this.uuid=i.uuid;for(let t=0,e=i.bones.length;t<e;t++){var n=i.bones[t];let e=a[n];void 0===e&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),e=new ss),this.bones.push(e),this.boneInverses.push((new Ke).fromArray(i.boneInverses[t]))}return this.init(),this}toJSON(){var i={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},a=(i.uuid=this.uuid,this.bones),n=this.boneInverses;for(let e=0,t=a.length;e<t;e++){var s=a[e],s=(i.bones.push(s.uuid),n[e]);i.boneInverses.push(s.toArray())}return i}}class ds extends D{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){var e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ps=new Ke,us=new Ke,hs=[],ms=new Ri,fs=new Ke,gs=new P,_s=new $i;class ys extends P{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ds(new Float32Array(16*i),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<i;e++)this.setMatrixAt(e,fs)}computeBoundingBox(){var t=this.geometry,i=this.count;null===this.boundingBox&&(this.boundingBox=new Ri),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let e=0;e<i;e++)this.getMatrixAt(e,ps),ms.copy(t.boundingBox).applyMatrix4(ps),this.boundingBox.union(ms)}computeBoundingSphere(){var t=this.geometry,i=this.count;null===this.boundingSphere&&(this.boundingSphere=new $i),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let e=0;e<i;e++)this.getMatrixAt(e,ps),_s.copy(t.boundingSphere).applyMatrix4(ps),this.boundingSphere.union(_s)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){var i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,n=e*(i.length+1)+1;for(let e=0;e<i.length;e++)i[e]=a[n+e]}raycast(e,a){var t=this.matrixWorld,n=this.count;if(gs.geometry=this.geometry,gs.material=this.material,void 0!==gs.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),_s.copy(this.boundingSphere),_s.applyMatrix4(t),!1!==e.ray.intersectsSphere(_s)))for(let i=0;i<n;i++){this.getMatrixAt(i,ps),us.multiplyMatrices(t,ps),gs.matrixWorld=us,gs.raycast(e,hs);for(let e=0,t=hs.length;e<t;e++){var s=hs[e];s.instanceId=i,s.object=this,a.push(s)}hs.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new ds(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){var i=t.morphTargetInfluences,t=i.length+1,a=(null===this.morphTexture&&(this.morphTexture=new rs(new Float32Array(t*this.count),t,this.count,U,je)),this.morphTexture.source.data.data);let n=0;for(let e=0;e<i.length;e++)n+=i[e];var s=this.geometry.morphTargetsRelative?1:1-n,t=t*e;a[t]=s,a.set(i,1+t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const bs=new Je,vs=new Je,xs=new _;class Ss{constructor(e=new Je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){i=bs.subVectors(i,t).cross(vs.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){var i=e.delta(bs),a=this.normal.dot(i);return 0===a?0===this.distanceToPoint(e.start)?t.copy(e.start):null:(a=-(e.start.dot(this.normal)+this.constant)/a)<0||1<a?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){t=t||xs.getNormalMatrix(e),e=this.coplanarPoint(bs).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize();return this.constant=-e.dot(t),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ws=new $i,Ts=new Je;class As{constructor(e=new Ss,t=new Ss,i=new Ss,a=new Ss,n=new Ss,s=new Ss){this.planes=[e,t,i,a,n,s]}set(e,t,i,a,n,s){var r=this.planes;return r[0].copy(e),r[1].copy(t),r[2].copy(i),r[3].copy(a),r[4].copy(n),r[5].copy(s),this}copy(t){var i=this.planes;for(let e=0;e<6;e++)i[e].copy(t.planes[e]);return this}setFromProjectionMatrix(e,t=2e3){var i=this.planes,e=e.elements,a=e[0],n=e[1],s=e[2],r=e[3],o=e[4],l=e[5],c=e[6],d=e[7],p=e[8],u=e[9],h=e[10],m=e[11],f=e[12],g=e[13],_=e[14],e=e[15];if(i[0].setComponents(r-a,d-o,m-p,e-f).normalize(),i[1].setComponents(r+a,d+o,m+p,e+f).normalize(),i[2].setComponents(r+n,d+l,m+u,e+g).normalize(),i[3].setComponents(r-n,d-l,m-u,e-g).normalize(),i[4].setComponents(r-s,d-c,m-h,e-_).normalize(),2e3===t)i[5].setComponents(r+s,d+c,m+h,e+_).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(s,c,h,_).normalize()}return this}intersectsObject(e){var t;return(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ws.copy(e.boundingSphere)):(null===(t=e.geometry).boundingSphere&&t.computeBoundingSphere(),ws.copy(t.boundingSphere))).applyMatrix4(e.matrixWorld),this.intersectsSphere(ws)}intersectsSprite(e){return ws.center.set(0,0,0),ws.radius=.7071067811865476,ws.applyMatrix4(e.matrixWorld),this.intersectsSphere(ws)}intersectsSphere(e){var t=this.planes,i=e.center,a=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(i)<a)return!1;return!0}intersectsBox(t){var i=this.planes;for(let e=0;e<6;e++){var a=i[e];if(Ts.x=(0<a.normal.x?t.max:t.min).x,Ts.y=(0<a.normal.y?t.max:t.min).y,Ts.z=(0<a.normal.z?t.max:t.min).z,a.distanceToPoint(Ts)<0)return!1}return!0}containsPoint(t){var i=this.planes;for(let e=0;e<6;e++)if(i[e].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}(class extends P{});class Ms extends k{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ze(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Is=new Je,Es=new Je,zs=new Ke,ks=new ra,Ds=new $i,Cs=new Je,Ps=new Je;class Rs extends f{constructor(e=new C,t=new Ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){var e=this.geometry;if(null===e.index){var i=e.attributes.position,a=[0];for(let e=1,t=i.count;e<t;e++)Is.fromBufferAttribute(i,e-1),Es.fromBufferAttribute(i,e),a[e]=a[e-1],a[e]+=Is.distanceTo(Es);e.setAttribute("lineDistance",new G(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(i,a){var n=this.geometry,s=this.matrixWorld,e=i.params.Line.threshold,t=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ds.copy(n.boundingSphere),Ds.applyMatrix4(s),Ds.radius+=e,!1!==i.ray.intersectsSphere(Ds)){zs.copy(s).invert(),ks.copy(i.ray).applyMatrix4(zs);var s=e/((this.scale.x+this.scale.y+this.scale.z)/3),r=s*s,o=this.isLineSegments?2:1,l=n.index,e=n.attributes.position;if(null!==l){s=Math.max(0,t.start),n=Math.min(l.count,t.start+t.count);for(let e=s,t=n-1;e<t;e+=o){var c=l.getX(e),d=l.getX(e+1),c=Ls(this,i,ks,r,c,d,e);c&&a.push(c)}this.isLineLoop&&(p=l.getX(n-1),s=l.getX(s),p=Ls(this,i,ks,r,p,s,n-1))&&a.push(p)}else{var p,s=Math.max(0,t.start),n=Math.min(e.count,t.start+t.count);for(let e=s,t=n-1;e<t;e+=o){var u=Ls(this,i,ks,r,e,e+1,e);u&&a.push(u)}this.isLineLoop&&(p=Ls(this,i,ks,r,n-1,s,n-1))&&a.push(p)}}}updateMorphTargets(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var i=e[t[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var a=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=e}}}}}function Ls(e,t,i,a,n,s,r){var o=e.geometry.attributes.position,n=(Is.fromBufferAttribute(o,n),Es.fromBufferAttribute(o,s),i.distanceSqToSegment(Is,Es,Cs,Ps));if(!(a<n)){Cs.applyMatrix4(e.matrixWorld);o=t.ray.origin.distanceTo(Cs);if(!(o<t.near||o>t.far))return{distance:o,point:Ps.clone().applyMatrix4(e.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:e}}}const Os=new Je,Ns=new Je;class js extends Rs{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){var e=this.geometry;if(null===e.index){var i=e.attributes.position,a=[];for(let e=0,t=i.count;e<t;e+=2)Os.fromBufferAttribute(i,e),Ns.fromBufferAttribute(i,e+1),a[e]=0===e?0:a[e-1],a[e+1]=a[e]+Os.distanceTo(Ns);e.setAttribute("lineDistance",new G(a,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Fs extends Rs{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Us extends k{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Bs=new Ke,Vs=new ra,Gs=new $i,Hs=new Je;class Ws extends f{constructor(e=new C,t=new Us){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(i,a){var e=this.geometry,n=this.matrixWorld,t=i.params.Points.threshold,s=e.drawRange;if(null===e.boundingSphere&&e.computeBoundingSphere(),Gs.copy(e.boundingSphere),Gs.applyMatrix4(n),Gs.radius+=t,!1!==i.ray.intersectsSphere(Gs)){Bs.copy(n).invert(),Vs.copy(i.ray).applyMatrix4(Bs);var t=t/((this.scale.x+this.scale.y+this.scale.z)/3),r=t*t,o=e.index,l=e.attributes.position;if(null!==o)for(let e=Math.max(0,s.start),t=Math.min(o.count,s.start+s.count);e<t;e++){var c=o.getX(e);Hs.fromBufferAttribute(l,c),qs(Hs,c,r,n,i,a,this)}else for(let e=Math.max(0,s.start),t=Math.min(l.count,s.start+s.count);e<t;e++)Hs.fromBufferAttribute(l,e),qs(Hs,e,r,n,i,a,this)}}updateMorphTargets(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var i=e[t[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var a=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=e}}}}}function qs(e,t,i,a,n,s,r){var o=Vs.distanceSqToPoint(e);o<i&&(i=new Je,Vs.closestPointToPoint(e,i),i.applyMatrix4(a),(e=n.ray.origin.distanceTo(i))<n.near||e>n.far||s.push({distance:e,distanceToRay:Math.sqrt(o),point:i,index:t,face:null,faceIndex:null,barycoord:null,object:r}))}class Xs extends d{constructor(t,e,i,a,n,s,r,o,l){super(t,e,i,a,n,s,r,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:V,this.magFilter=void 0!==n?n:V,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)})}clone(){return new this.constructor(this.image).copy(this)}update(){var e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Xs;d;class Ys extends d{constructor(e,t,i,a,n,s,r,o,l,c,d,p){super(null,s,r,o,l,c,a,n,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}Ys;Ys;class Js extends d{constructor(e,t,i,a,n,s,r,o,l){super(e,t,i,a,n,s,r,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ks extends d{constructor(e,t,i,a,n,s,r,o,l,c=Ue){if(c!==Ue&&c!==Be)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,a,n,s,r,o,c,i=void 0===(i=void 0===i&&c===Ue?nt:i)&&c===Be?lt:i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==r?r:Pe,this.minFilter=void 0!==o?o:Pe,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ai(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){e=super.toJSON(e);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class Zs{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){e=this.getUtoTmapping(e);return this.getPoint(e,t)}getPoints(t=5){var i=[];for(let e=0;e<=t;e++)i.push(this.getPoint(e/t));return i}getSpacedPoints(t=5){var i=[];for(let e=0;e<=t;e++)i.push(this.getPointAt(e/t));return i}getLength(){var e=this.getLengths();return e[e.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[];let a,n=this.getPoint(0),s=0;i.push(0);for(let e=1;e<=t;e++)a=this.getPoint(e/t),s+=a.distanceTo(n),i.push(s),n=a;return this.cacheArcLengths=i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){var i=this.getLengths();let a=0;var n=i.length;let s,r=(s=t||e*i[n-1],0),o=n-1,l;for(;r<=o;)if((l=i[a=Math.floor(r+(o-r)/2)]-s)<0)r=a+1;else{if(!(0<l)){o=a;break}o=a-1}return i[a=o]===s?a/(n-1):(t=i[a],e=i[a+1],e=(s-t)/(e-t),(a+e)/(n-1))}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),1<a&&(a=1);var e=this.getPoint(i),n=this.getPoint(a),t=t||new(e.isVector2?ie:Je);return t.copy(n).sub(e).normalize(),t}getTangentAt(e,t){e=this.getUtoTmapping(e);return this.getTangent(e,t)}computeFrenetFrames(i,e=!1){var t=new Je,a=[],n=[],s=[],r=new Je,o=new Ke;for(let e=0;e<=i;e++){var l=e/i;a[e]=this.getTangentAt(l,new Je)}n[0]=new Je,s[0]=new Je;let c=Number.MAX_VALUE;var d,p=Math.abs(a[0].x),u=Math.abs(a[0].y),h=Math.abs(a[0].z);p<=c&&(c=p,t.set(1,0,0)),u<=c&&(c=u,t.set(0,1,0)),h<=c&&t.set(0,0,1),r.crossVectors(a[0],t).normalize(),n[0].crossVectors(a[0],r),s[0].crossVectors(a[0],n[0]);for(let e=1;e<=i;e++)n[e]=n[e-1].clone(),s[e]=s[e-1].clone(),r.crossVectors(a[e-1],a[e]),r.length()>Number.EPSILON&&(r.normalize(),d=Math.acos(I(a[e-1].dot(a[e]),-1,1)),n[e].applyMatrix4(o.makeRotationAxis(r,d))),s[e].crossVectors(a[e],n[e]);if(!0===e){let t=Math.acos(I(n[0].dot(n[i]),-1,1));t/=i,0<a[0].dot(r.crossVectors(n[0],n[i]))&&(t=-t);for(let e=1;e<=i;e++)n[e].applyMatrix4(o.makeRotationAxis(a[e],t*e)),s[e].crossVectors(a[e],n[e])}return{tangents:a,normals:n,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $s extends Zs{constructor(e=0,t=0,i=1,a=1,n=0,s=2*Math.PI,r=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=n,this.aEndAngle=s,this.aClockwise=r,this.aRotation=o}getPoint(e,t=new ie){var i=2*Math.PI;let a=this.aEndAngle-this.aStartAngle;for(var n=Math.abs(a)<Number.EPSILON;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(a=n?0:i),!0!==this.aClockwise||n||(a===i?a=-i:a-=i);var s,r,n=this.aStartAngle+e*a;let o=this.aX+this.xRadius*Math.cos(n),l=this.aY+this.yRadius*Math.sin(n);return 0!==this.aRotation&&(e=Math.cos(this.aRotation),n=Math.sin(this.aRotation),s=o-this.aX,r=l-this.aY,o=s*e-r*n+this.aX,l=s*n+r*e+this.aY),t.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){var e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}$s;function Qs(){let n=0,s=0,r=0,o=0;function l(e,t,i,a){n=e,s=i,r=-3*e+3*t-2*i-a,o=2*e-2*t+i+a}return{initCatmullRom:function(e,t,i,a,n){l(t,i,n*(i-e),n*(a-t))},initNonuniformCatmullRom:function(e,t,i,a,n,s,r){e=(t-e)/n-(i-e)/(n+s)+(i-t)/s,n=(i-t)/s-(a-t)/(s+r)+(a-i)/r;l(t,i,e*=s,n*=s)},calc:function(e){var t=e*e,i=t*e;return n+s*e+r*t+o*i}}}const er=new Je,tr=new Qs,ir=new Qs,ar=new Qs;class nr extends Zs{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(a,e=new Je){var n=this.points,t=n.length,a=(t-(this.closed?0:1))*a;let i=Math.floor(a),s=a-i;this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/t)+1)*t:0===s&&i===t-1&&(i=t-2,s=1);let r,o;r=this.closed||0<i?n[(i-1)%t]:(er.subVectors(n[0],n[1]).add(n[0]),er);var a=n[i%t],l=n[(i+1)%t];if(o=this.closed||i+2<t?n[(i+2)%t]:(er.subVectors(n[t-1],n[t-2]).add(n[t-1]),er),"centripetal"===this.curveType||"chordal"===this.curveType){n="chordal"===this.curveType?.5:.25;let e=Math.pow(r.distanceToSquared(a),n),t=Math.pow(a.distanceToSquared(l),n),i=Math.pow(l.distanceToSquared(o),n);t<1e-4&&(t=1),e<1e-4&&(e=t),i<1e-4&&(i=t),tr.initNonuniformCatmullRom(r.x,a.x,l.x,o.x,e,t,i),ir.initNonuniformCatmullRom(r.y,a.y,l.y,o.y,e,t,i),ar.initNonuniformCatmullRom(r.z,a.z,l.z,o.z,e,t,i)}else"catmullrom"===this.curveType&&(tr.initCatmullRom(r.x,a.x,l.x,o.x,this.tension),ir.initCatmullRom(r.y,a.y,l.y,o.y,this.tension),ar.initCatmullRom(r.z,a.z,l.z,o.z,this.tension));return e.set(tr.calc(s),ir.calc(s),ar.calc(s)),e}copy(i){super.copy(i),this.points=[];for(let e=0,t=i.points.length;e<t;e++){var a=i.points[e];this.points.push(a.clone())}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}toJSON(){var i=super.toJSON();i.points=[];for(let e=0,t=this.points.length;e<t;e++){var a=this.points[e];i.points.push(a.toArray())}return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i}fromJSON(i){super.fromJSON(i),this.points=[];for(let e=0,t=i.points.length;e<t;e++){var a=i.points[e];this.points.push((new Je).fromArray(a))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}}function sr(e,t,i,a,n){var t=.5*(a-t),n=.5*(n-i),s=e*e;return(2*i-2*a+t+n)*(e*s)+(-3*i+3*a-2*t-n)*s+t*e+i}function rr(e,t,i,a){return(n=1-(n=e))*n*t+2*(1-e)*e*i+e*e*a;var n}function or(e,t,i,a,n){return(s=1-(s=e))*s*s*t+3*(s=1-e)*s*e*i+3*(1-e)*e*e*a+e*e*e*n;var s}class lr extends Zs{constructor(e=new ie,t=new ie,i=new ie,a=new ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new ie){var i=this.v0,a=this.v1,n=this.v2,s=this.v3;return t.set(or(e,i.x,a.x,n.x,s.x),or(e,i.y,a.y,n.y,s.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cr extends Zs{constructor(e=new ie,t=new ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ie){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dr extends Zs{constructor(e=new ie,t=new ie,i=new ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ie){var i=this.v0,a=this.v1,n=this.v2;return t.set(rr(e,i.x,a.x,n.x),rr(e,i.y,a.y,n.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pr extends Zs{constructor(e=new Je,t=new Je,i=new Je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Je){var i=this.v0,a=this.v1,n=this.v2;return t.set(rr(e,i.x,a.x,n.x),rr(e,i.y,a.y,n.y),rr(e,i.z,a.z,n.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ur extends Zs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ie){var i=this.points,e=(i.length-1)*e,a=Math.floor(e),e=e-a,n=i[0===a?a:a-1],s=i[a],r=i[a>i.length-2?i.length-1:a+1],i=i[a>i.length-3?i.length-1:a+2];return t.set(sr(e,n.x,s.x,r.x,i.x),sr(e,n.y,s.y,r.y,i.y)),t}copy(i){super.copy(i),this.points=[];for(let e=0,t=i.points.length;e<t;e++){var a=i.points[e];this.points.push(a.clone())}return this}toJSON(){var i=super.toJSON();i.points=[];for(let e=0,t=this.points.length;e<t;e++){var a=this.points[e];i.points.push(a.toArray())}return i}fromJSON(i){super.fromJSON(i),this.points=[];for(let e=0,t=i.points.length;e<t;e++){var a=i.points[e];this.points.push((new ie).fromArray(a))}return this}}var hr=Object.freeze({__proto__:null,ArcCurve:class extends $s{constructor(e,t,i,a,n,s){super(e,t,i,i,a,n,s),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:nr,CubicBezierCurve:lr,CubicBezierCurve3:class extends Zs{constructor(e=new Je,t=new Je,i=new Je,a=new Je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new Je){var i=this.v0,a=this.v1,n=this.v2,s=this.v3;return t.set(or(e,i.x,a.x,n.x,s.x),or(e,i.y,a.y,n.y,s.y),or(e,i.z,a.z,n.z,s.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:$s,LineCurve:cr,LineCurve3:class extends Zs{constructor(e=new Je,t=new Je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Je){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:dr,QuadraticBezierCurve3:pr,SplineCurve:ur});class mr extends Zs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){var e,t=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);return t.equals(i)||(e=!0===t.isVector2?"LineCurve":"LineCurve3",this.curves.push(new hr[e](i,t))),this}getPoint(e,t){var i,a,n,s=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=s)return i=r[o]-s,n=(a=this.curves[o]).getLength(),a.getPointAt(0===n?0:1-i/n,t);o++}return null}getLength(){var e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;var i=[];let a=0;for(let e=0,t=this.curves.length;e<t;e++)a+=this.curves[e].getLength(),i.push(a);return this.cacheLengths=i}getSpacedPoints(t=40){var i=[];for(let e=0;e<=t;e++)i.push(this.getPoint(e/t));return this.autoClose&&i.push(i[0]),i}getPoints(i=12){var a=[];let n;for(let e=0,t=this.curves;e<t.length;e++){var s=t[e],r=s.isEllipseCurve?2*i:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?i*s.points.length:i,o=s.getPoints(r);for(let e=0;e<o.length;e++){var l=o[e];n&&n.equals(l)||(a.push(l),n=l)}}return this.autoClose&&1<a.length&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(i){super.copy(i),this.curves=[];for(let e=0,t=i.curves.length;e<t;e++){var a=i.curves[e];this.curves.push(a.clone())}return this.autoClose=i.autoClose,this}toJSON(){var i=super.toJSON();i.autoClose=this.autoClose,i.curves=[];for(let e=0,t=this.curves.length;e<t;e++){var a=this.curves[e];i.curves.push(a.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.autoClose=i.autoClose,this.curves=[];for(let e=0,t=i.curves.length;e<t;e++){var a=i.curves[e];this.curves.push((new hr[a.type]).fromJSON(a))}return this}}class fr extends mr{constructor(e){super(),this.type="Path",this.currentPoint=new ie,e&&this.setFromPoints(e)}setFromPoints(i){this.moveTo(i[0].x,i[0].y);for(let e=1,t=i.length;e<t;e++)this.lineTo(i[e].x,i[e].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){var i=new cr(this.currentPoint.clone(),new ie(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){e=new dr(this.currentPoint.clone(),new ie(e,t),new ie(i,a));return this.curves.push(e),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,n,s){e=new lr(this.currentPoint.clone(),new ie(e,t),new ie(i,a),new ie(n,s));return this.curves.push(e),this.currentPoint.set(n,s),this}splineThru(e){var t=[this.currentPoint.clone()].concat(e),t=new ur(t);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,n,s){var r=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+r,t+o,i,a,n,s),this}absarc(e,t,i,a,n,s){return this.absellipse(e,t,i,i,a,n,s),this}ellipse(e,t,i,a,n,s,r,o){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,i,a,n,s,r,o),this}absellipse(e,t,i,a,n,s,r,o){e=new $s(e,t,i,a,n,s,r,o),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),i=e.getPoint(1);return this.currentPoint.copy(i),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){var e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gr extends C{constructor(i=[new ie(0,-.5),new ie(.5,0),new ie(0,.5)],a=12,e=0,n=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:i,segments:a,phiStart:e,phiLength:n},a=Math.floor(a),n=I(n,0,2*Math.PI);var s=[],r=[],o=[],l=[],c=[],d=1/a,p=new Je,u=new ie,t=new Je,h=new Je,m=new Je;let f=0,g=0;for(let e=0;e<=i.length-1;e++)switch(e){case 0:f=i[e+1].x-i[e].x,g=i[e+1].y-i[e].y,t.x=+g,t.y=-f,t.z=0*g,m.copy(t),t.normalize(),l.push(t.x,t.y,t.z);break;case i.length-1:l.push(m.x,m.y,m.z);break;default:f=i[e+1].x-i[e].x,g=i[e+1].y-i[e].y,t.x=+g,t.y=-f,t.z=0*g,h.copy(t),t.x+=m.x,t.y+=m.y,t.z+=m.z,t.normalize(),l.push(t.x,t.y,t.z),m.copy(h)}for(let t=0;t<=a;t++){var _=e+t*d*n,y=Math.sin(_),b=Math.cos(_);for(let e=0;e<=i.length-1;e++){p.x=i[e].x*y,p.y=i[e].y,p.z=i[e].x*b,r.push(p.x,p.y,p.z),u.x=t/a,u.y=e/(i.length-1),o.push(u.x,u.y);var v=l[3*e+0]*y,x=l[3*e+1],S=l[3*e+0]*b;c.push(v,x,S)}}for(let t=0;t<a;t++)for(let e=0;e<i.length-1;e++){var w=e+t*i.length,T=w+i.length,A=w+i.length+1,M=w+1;s.push(w,T,M),s.push(A,M,T)}this.setIndex(s),this.setAttribute("position",new G(r,3)),this.setAttribute("uv",new G(o,2)),this.setAttribute("normal",new G(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gr(e.points,e.segments,e.phiStart,e.phiLength)}}class _r extends gr{constructor(e=1,t=1,i=4,a=8){var n=new fr;n.absarc(0,-t/2,e,1.5*Math.PI,0),n.absarc(0,t/2,e,0,.5*Math.PI),super(n.getPoints(i),a),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:a}}static fromJSON(e){return new _r(e.radius,e.length,e.capSegments,e.radialSegments)}}class yr extends C{constructor(i=1,a=32,n=0,s=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:i,segments:a,thetaStart:n,thetaLength:s},a=Math.max(3,a);var t=[],r=[],o=[],l=[],c=new Je,d=new ie;r.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let e=0,t=3;e<=a;e++,t+=3){var p=n+e/a*s;c.x=i*Math.cos(p),c.y=i*Math.sin(p),r.push(c.x,c.y,c.z),o.push(0,0,1),d.x=(r[t]/i+1)/2,d.y=(r[t+1]/i+1)/2,l.push(d.x,d.y)}for(let e=1;e<=a;e++)t.push(e,e+1,0);this.setIndex(t),this.setAttribute("position",new G(r,3)),this.setAttribute("normal",new G(o,3)),this.setAttribute("uv",new G(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yr(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class br extends C{constructor(h=1,m=1,t=1,f=32,a=1,e=!1,g=0,_=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:h,radiusBottom:m,height:t,radialSegments:f,heightSegments:a,openEnded:e,thetaStart:g,thetaLength:_};const y=this,b=(f=Math.floor(f),a=Math.floor(a),[]),v=[],x=[],S=[];let w=0;const n=[],T=t/2;let A=0;{var s=new Je,r=new Je;let i=0;var o=(m-h)/t;for(let e=0;e<=a;e++){var l=[],c=e/a,d=c*(m-h)+h;for(let e=0;e<=f;e++){var p=e/f,u=p*_+g,M=Math.sin(u),u=Math.cos(u);r.x=d*M,r.y=-c*t+T,r.z=d*u,v.push(r.x,r.y,r.z),s.set(M,o,u).normalize(),x.push(s.x,s.y,s.z),S.push(p,1-c),l.push(w++)}n.push(l)}for(let t=0;t<f;t++)for(let e=0;e<a;e++){var I=n[e][t],E=n[e+1][t],z=n[e+1][t+1],k=n[e][t+1];(0<h||0!==e)&&(b.push(I,E,k),i+=3),(0<m||e!==a-1)&&(b.push(E,z,k),i+=3)}y.addGroup(A,i,0),A+=i}function i(t){var i=w,a=new ie,n=new Je;let s=0;var r=!0===t?h:m,o=!0===t?1:-1;for(let e=1;e<=f;e++)v.push(0,T*o,0),x.push(0,o,0),S.push(.5,.5),w++;var l=w;for(let e=0;e<=f;e++){var c=e/f*_+g,d=Math.cos(c),c=Math.sin(c);n.x=r*c,n.y=T*o,n.z=r*d,v.push(n.x,n.y,n.z),x.push(0,o,0),a.x=.5*d+.5,a.y=.5*c*o+.5,S.push(a.x,a.y),w++}for(let e=0;e<f;e++){var p=i+e,u=l+e;!0===t?b.push(u,u+1,p):b.push(u+1,u,p),s+=3}y.addGroup(A,s,!0===t?1:2),A+=s}!1===e&&(0<h&&i(!0),0<m)&&i(!1),this.setIndex(b),this.setAttribute("position",new G(v,3)),this.setAttribute("normal",new G(x,3)),this.setAttribute("uv",new G(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new br(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vr extends br{constructor(e=1,t=1,i=32,a=1,n=!1,s=0,r=2*Math.PI){super(0,e,t,i,a,n,s,r),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:n,thetaStart:s,thetaLength:r}}static fromJSON(e){return new vr(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xr extends C{constructor(i=[],t=[],e=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:i,indices:t,radius:e,detail:a};const n=[],s=[];var O=a,r=new Je,o=new Je,l=new Je;for(let e=0;e<t.length;e+=3){P(t[e+0],r),P(t[e+1],o),P(t[e+2],l);{c=void 0;d=void 0;p=void 0;u=void 0;h=void 0;m=void 0;f=void 0;g=void 0;_=void 0;y=void 0;var c=r;var d=o;var p=l;var u=O;var h=u+1,m=[];for(let t=0;t<=h;t++){m[t]=[];var f=c.clone().lerp(p,t/h),g=d.clone().lerp(p,t/h),_=h-t;for(let e=0;e<=_;e++)0===e&&t===h?m[t][e]=f:m[t][e]=f.clone().lerp(g,e/_)}for(let t=0;t<h;t++)for(let e=0;e<2*(h-t)-1;e++){var y=Math.floor(e/2);e%2==0?(C(m[t][y+1]),C(m[t+1][y]),C(m[t][y])):(C(m[t][y+1]),C(m[t+1][y+1]),C(m[t+1][y]))}}}var N=e,b=new Je;for(let e=0;e<n.length;e+=3)b.x=n[e+0],b.y=n[e+1],b.z=n[e+2],b.normalize().multiplyScalar(N),n[e+0]=b.x,n[e+1]=b.y,n[e+2]=b.z;var v=new Je;for(let e=0;e<n.length;e+=3){v.x=n[e+0],v.y=n[e+1],v.z=n[e+2];var j=L(v)/2/Math.PI+.5,F=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(v)/Math.PI+.5;s.push(j,1-F)}var x=new Je,S=new Je,w=new Je,T=new Je,A=new ie,M=new ie,I=new ie;for(let e=0,t=0;e<n.length;e+=9,t+=6){x.set(n[e+0],n[e+1],n[e+2]),S.set(n[e+3],n[e+4],n[e+5]),w.set(n[e+6],n[e+7],n[e+8]),A.set(s[t+0],s[t+1]),M.set(s[t+2],s[t+3]),I.set(s[t+4],s[t+5]),T.copy(x).add(S).add(w).divideScalar(3);var E=L(T);R(A,t+0,x,E),R(M,t+2,S,E),R(I,t+4,w,E)}for(let e=0;e<s.length;e+=6){var z=s[e+0],k=s[e+2],D=s[e+4],U=Math.max(z,k,D),B=Math.min(z,k,D);.9<U&&B<.1&&(z<.2&&(s[e+0]+=1),k<.2&&(s[e+2]+=1),D<.2)&&(s[e+4]+=1)}function C(e){n.push(e.x,e.y,e.z)}function P(e,t){e*=3;t.x=i[0+e],t.y=i[1+e],t.z=i[2+e]}function R(e,t,i,a){a<0&&1===e.x&&(s[t]=e.x-1),0===i.x&&0===i.z&&(s[t]=a/2/Math.PI+.5)}function L(e){return Math.atan2(e.z,-e.x)}this.setAttribute("position",new G(n,3)),this.setAttribute("normal",new G(n.slice(),3)),this.setAttribute("uv",new G(s,2)),0===a?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xr(e.vertices,e.indices,e.radius,e.details)}}class Sr extends xr{constructor(e=1,t=0){var i=(1+Math.sqrt(5))/2,a=1/i;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sr(e.radius,e.detail)}}(class extends C{});class wr extends fr{constructor(e){super(e),this.uuid=oi(),this.type="Shape",this.holes=[]}getPointsHoles(i){var a=[];for(let e=0,t=this.holes.length;e<t;e++)a[e]=this.holes[e].getPoints(i);return a}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(i){super.copy(i),this.holes=[];for(let e=0,t=i.holes.length;e<t;e++){var a=i.holes[e];this.holes.push(a.clone())}return this}toJSON(){var i=super.toJSON();i.uuid=this.uuid,i.holes=[];for(let e=0,t=this.holes.length;e<t;e++){var a=this.holes[e];i.holes.push(a.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.uuid=i.uuid,this.holes=[];for(let e=0,t=i.holes.length;e<t;e++){var a=i.holes[e];this.holes.push((new fr).fromJSON(a))}return this}}class Tr{static triangulate(o,l,c=2){var d=l&&l.length,p=d?l[0]*c:o.length;let u=Ar(o,0,p,c,!0);var h=[];if(u&&u.next!==u.prev){let t,i,a,n,s,r,e;if(d&&(u=function(e,t,i,a){var n=[];let s,r,o,l,c;for(s=0,r=t.length;s<r;s++)o=t[s]*a,l=s<r-1?t[s+1]*a:e.length,(c=Ar(e,o,l,a,!1))===c.next&&(c.steiner=!0),n.push(function(e){let t=e,i=e;for(;(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next,t!==e;);return i}(c));for(n.sort(Er),s=0;s<n.length;s++)i=function(e,t){var i=function(e,t){let i=t,a=-1/0,n;var s=e.x,r=e.y;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){var o=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=s&&o>a&&(a=o,n=i.x<i.next.x?i:i.next,o===s))return n}}while(i=i.next,i!==t);if(!n)return null;var l=n,c=n.x,d=n.y;let p=1/0,u;i=n;for(;s>=i.x&&i.x>=c&&s!==i.x&&kr(r<d?s:a,r,c,d,r<d?a:s,r,i.x,i.y)&&(u=Math.abs(r-i.y)/(s-i.x),Lr(i,e))&&(u<p||u===p&&(i.x>n.x||i.x===n.x&&function(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}(n,i)))&&(n=i,p=u),i=i.next,i!==l;);return n}(e,t);if(!i)return t;t=Or(i,e);return Mr(t,t.next),Mr(i,i.next)}(n[s],i);return i}(o,l,u,c)),o.length>80*c){t=a=o[0],i=n=o[1];for(let e=c;e<p;e+=c)s=o[e],r=o[e+1],s<t&&(t=s),r<i&&(i=r),s>a&&(a=s),r>n&&(n=r);e=0!==(e=Math.max(a-t,n-i))?32767/e:0}Ir(u,h,c,t,i,e,0)}return h}}function Ar(e,t,i,a,n){let s,r;if(n===0<function(i,a,n,s){let r=0;for(let e=a,t=n-s;e<n;e+=s)r+=(i[t]-i[e])*(i[e+1]+i[t+1]),t=e;return r}(e,t,i,a))for(s=t;s<i;s+=a)r=Nr(s,e[s],e[s+1],r);else for(s=i-a;s>=t;s-=a)r=Nr(s,e[s],e[s+1],r);return r&&Dr(r,r.next)&&(jr(r),r=r.next),r}function Mr(e,t){if(!e)return e;t=t||e;let i=e,a;do{if(a=!1,i.steiner||!Dr(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(jr(i),(i=t=i.prev)===i.next)break;a=!0}}while(a||i!==t);return t}function Ir(a,n,s,r,o,l,c){if(a){if(!c&&l){var d=a,p=r,u=o,h=l;let c=d;for(;0===c.z&&(c.z=zr(c.x,c.y,p,u,h)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==d;);c.prevZ.nextZ=null,c.prevZ=null;{var m=c;let e,t,i,a,n,s,r,o,l=1;do{for(t=m,m=null,n=null,s=0;t;){for(s++,i=t,r=0,e=0;e<l&&(r++,i=i.nextZ);e++);for(o=l;0<r||0<o&&i;)0!==r&&(0===o||!i||t.z<=i.z)?(t=(a=t).nextZ,r--):(i=(a=i).nextZ,o--),n?n.nextZ=a:m=a,a.prevZ=n,n=a;t=i}}while(n.nextZ=null,l*=2,1<s)}}let e=a,t,i;for(;a.prev!==a.next;)if(t=a.prev,i=a.next,l?function(e,t,i,a){var n=e.prev,s=e,r=e.next;if(0<=x(n,s,r))return;var o=n.x,l=s.x,c=r.x,d=n.y,p=s.y,u=r.y,h=o<l?o<c?o:c:l<c?l:c,m=d<p?d<u?d:u:p<u?p:u,f=l<o?c<o?o:c:c<l?l:c,g=p<d?u<d?d:u:u<p?p:u,_=zr(h,m,t,i,a),y=zr(f,g,t,i,a);let b=e.prevZ,v=e.nextZ;for(;b&&b.z>=_&&v&&v.z<=y;){if(b.x>=h&&b.x<=f&&b.y>=m&&b.y<=g&&b!==n&&b!==r&&kr(o,d,l,p,c,u,b.x,b.y)&&0<=x(b.prev,b,b.next))return;if(b=b.prevZ,v.x>=h&&v.x<=f&&v.y>=m&&v.y<=g&&v!==n&&v!==r&&kr(o,d,l,p,c,u,v.x,v.y)&&0<=x(v.prev,v,v.next))return;v=v.nextZ}for(;b&&b.z>=_;){if(b.x>=h&&b.x<=f&&b.y>=m&&b.y<=g&&b!==n&&b!==r&&kr(o,d,l,p,c,u,b.x,b.y)&&0<=x(b.prev,b,b.next))return;b=b.prevZ}for(;v&&v.z<=y;){if(v.x>=h&&v.x<=f&&v.y>=m&&v.y<=g&&v!==n&&v!==r&&kr(o,d,l,p,c,u,v.x,v.y)&&0<=x(v.prev,v,v.next))return;v=v.nextZ}return 1}(a,r,o,l):function(e){var t=e.prev,i=e,e=e.next;if(0<=x(t,i,e))return;var a=t.x,n=i.x,s=e.x,r=t.y,o=i.y,l=e.y,c=a<n?a<s?a:s:n<s?n:s,d=r<o?r<l?r:l:o<l?o:l,p=n<a?s<a?a:s:s<n?n:s,u=o<r?l<r?r:l:l<o?o:l;let h=e.next;for(;h!==t;){if(h.x>=c&&h.x<=p&&h.y>=d&&h.y<=u&&kr(a,r,n,o,s,l,h.x,h.y)&&0<=x(h.prev,h,h.next))return;h=h.next}return 1}(a))n.push(t.i/s|0),n.push(a.i/s|0),n.push(i.i/s|0),jr(a),a=i.next,e=i.next;else if((a=i)===e){c?1===c?Ir(a=function(e,t,i){let a=e;do{var n=a.prev,s=a.next.next;!Dr(n,s)&&Cr(n,a,a.next,s)&&Lr(n,s)&&Lr(s,n)&&(t.push(n.i/i|0),t.push(a.i/i|0),t.push(s.i/i|0),jr(a),jr(a.next),a=e=s),a=a.next}while(a!==e);return Mr(a)}(Mr(a),n,s),n,s,r,o,l,2):2===c&&function(e,t,i,a,n,s){let r=e;do{let e=r.next.next;for(;e!==r.prev;){var o;if(r.i!==e.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&Cr(i,i.next,e,t))return 1}while(i=i.next,i!==e);return}(e,t)&&(Lr(e,t)&&Lr(t,e)&&function(e,t){let i=e,a=!1;var n=(e.x+t.x)/2,s=(e.y+t.y)/2;for(;i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(a=!a),i=i.next,i!==e;);return a}(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||Dr(e,t)&&0<x(e.prev,e,e.next)&&0<x(t.prev,t,t.next))}(r,e))return o=Or(r,e),r=Mr(r,r.next),o=Mr(o,o.next),Ir(r,t,i,a,n,s,0),Ir(o,t,i,a,n,s,0);e=e.next}}while(r=r.next,r!==e)}(a,n,s,r,o,l):Ir(Mr(a),n,s,r,o,l,1);break}}}function Er(e,t){return e.x-t.x}function zr(e,t,i,a,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-a)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function kr(e,t,i,a,n,s,r,o){return(e-r)*(s-o)<=(n-r)*(t-o)&&(i-r)*(t-o)<=(e-r)*(a-o)&&(n-r)*(a-o)<=(i-r)*(s-o)}function x(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Dr(e,t){return e.x===t.x&&e.y===t.y}function Cr(e,t,i,a){var n=Rr(x(e,t,i)),s=Rr(x(e,t,a)),r=Rr(x(i,a,e)),o=Rr(x(i,a,t));return n!==s&&r!==o||0===n&&Pr(e,i,t)||0===s&&Pr(e,a,t)||0===r&&Pr(i,e,a)||!(0!==o||!Pr(i,t,a))}function Pr(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function Rr(e){return 0<e?1:e<0?-1:0}function Lr(e,t){return x(e.prev,e,e.next)<0?0<=x(e,t,e.next)&&0<=x(e,e.prev,t):x(e,t,e.prev)<0||x(e,e.next,t)<0}function Or(e,t){var i=new Fr(e.i,e.x,e.y),a=new Fr(t.i,t.x,t.y),n=e.next,s=t.prev;return(e.next=t).prev=e,(i.next=n).prev=i,(a.next=i).prev=a,(s.next=a).prev=s,a}function Nr(e,t,i,a){e=new Fr(e,t,i);return a?(e.next=a.next,(e.prev=a).next.prev=e,a.next=e):(e.prev=e).next=e,e}function jr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Fr(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Ur{static area(i){var a=i.length;let n=0;for(let e=a-1,t=0;t<a;e=t++)n+=i[e].x*i[t].y-i[t].x*i[e].y;return.5*n}static isClockWise(e){return Ur.area(e)<0}static triangulateShape(e,t){var i=[],a=[],n=[];Br(e),Vr(i,e);let s=e.length;t.forEach(Br);for(let e=0;e<t.length;e++)a.push(s),s+=t[e].length,Vr(i,t[e]);var r=Tr.triangulate(i,a);for(let e=0;e<r.length;e+=3)n.push(r.slice(e,e+3));return n}}function Br(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function Vr(t,i){for(let e=0;e<i.length;e++)t.push(i[e].x),t.push(i[e].y)}class Gr extends C{constructor(i=new wr([new ie(.5,.5),new ie(-.5,.5),new ie(-.5,-.5),new ie(.5,-.5)]),$={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:i,options:$},i=Array.isArray(i)?i:[i];const Q=this,ee=[],te=[];for(let e=0,t=i.length;e<t;e++)!function(e){const a=[],O=void 0!==$.curveSegments?$.curveSegments:12,h=void 0!==$.steps?$.steps:1,i=void 0!==$.depth?$.depth:1;let r=void 0===$.bevelEnabled||$.bevelEnabled,t=void 0!==$.bevelThickness?$.bevelThickness:.2,n=void 0!==$.bevelSize?$.bevelSize:t-.1,s=void 0!==$.bevelOffset?$.bevelOffset:0,m=void 0!==$.bevelSegments?$.bevelSegments:3;const o=$.extrudePath,N=void 0!==$.UVGenerator?$.UVGenerator:Hr;let l,c=!1,d,p,u,f;o&&(l=o.getSpacedPoints(h),c=!0,r=!1,d=o.computeFrenetFrames(h,!1),p=new Je,u=new Je,f=new Je);r||(m=0,t=0,n=0,s=0);e=e.extractPoints(O);let g=e.shape;const _=e.holes,j=!Ur.isClockWise(g);if(j){g=g.reverse();for(let e=0,t=_.length;e<t;e++){var F=_[e];Ur.isClockWise(F)&&(_[e]=F.reverse())}}const y=Ur.triangulateShape(g,_),b=g;for(let e=0,t=_.length;e<t;e++){var U=_[e];g=g.concat(U)}function v(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,i)}const x=g.length,S=y.length;function B(e,t,i){let a,n,s;var r=e.x-t.x,o=e.y-t.y,l=i.x-e.x,c=i.y-e.y,d=r*r+o*o;if(Math.abs(r*c-o*l)>Number.EPSILON){var p=Math.sqrt(d),u=Math.sqrt(l*l+c*c),h=t.x-o/p,t=t.y+r/p,p=((i.x-c/u-h)*c-(i.y+l/u-t)*l)/(r*c-o*l),i=(a=h+r*p-e.x,n=t+o*p-e.y,a*a+n*n);if(i<=2)return new ie(a,n);s=Math.sqrt(i/2)}else{let e=!1;r>Number.EPSILON?l>Number.EPSILON&&(e=!0):r<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),s=e?(a=-o,n=r,Math.sqrt(d)):(a=r,n=o,Math.sqrt(d/2))}return new ie(a/s,n/s)}var w=[];for(let e=0,t=b.length,i=t-1,a=e+1;e<t;e++,i++,a++)i===t&&(i=0),a===t&&(a=0),w[e]=B(b[e],b[i],b[a]);var T=[];let A,M=w.concat();for(let e=0,t=_.length;e<t;e++){var I=_[e];A=[];for(let e=0,t=I.length,i=t-1,a=e+1;e<t;e++,i++,a++)i===t&&(i=0),a===t&&(a=0),A[e]=B(I[e],I[i],I[a]);T.push(A),M=M.concat(A)}for(let e=0;e<m;e++){var V=e/m,G=t*Math.cos(V*Math.PI/2);const E=n*Math.sin(V*Math.PI/2)+s;for(let e=0,t=b.length;e<t;e++){var H=v(b[e],w[e],E);C(H.x,H.y,-G)}for(let e=0,t=_.length;e<t;e++){var W=_[e];A=T[e];for(let e=0,t=W.length;e<t;e++){var q=v(W[e],A[e],E);C(q.x,q.y,-G)}}}const E=n+s;for(let e=0;e<x;e++){var z=r?v(g[e],M[e],E):g[e];c?(u.copy(d.normals[0]).multiplyScalar(z.x),p.copy(d.binormals[0]).multiplyScalar(z.y),f.copy(l[0]).add(u).add(p),C(f.x,f.y,f.z)):C(z.x,z.y,0)}for(let t=1;t<=h;t++)for(let e=0;e<x;e++){var k=r?v(g[e],M[e],E):g[e];c?(u.copy(d.normals[t]).multiplyScalar(k.x),p.copy(d.binormals[t]).multiplyScalar(k.y),f.copy(l[t]).add(u).add(p),C(f.x,f.y,f.z)):C(k.x,k.y,i/h*t)}for(let e=m-1;0<=e;e--){var X=e/m,Y=t*Math.cos(X*Math.PI/2);const E=n*Math.sin(X*Math.PI/2)+s;for(let e=0,t=b.length;e<t;e++){var J=v(b[e],w[e],E);C(J.x,J.y,i+Y)}for(let e=0,t=_.length;e<t;e++){var K=_[e];A=T[e];for(let e=0,t=K.length;e<t;e++){var D=v(K[e],A[e],E);c?C(D.x,D.y+l[h-1].y,l[h-1].x+Y):C(D.x,D.y,i+Y)}}}function Z(e,a){let t=e.length;for(;0<=--t;){var n=t;let i=t-1;i<0&&(i=e.length-1);for(let e=0,t=h+2*m;e<t;e++){var s=x*e,r=x*(e+1),o=a+i+s,l=a+i+r,c=(u=p=d=c=void 0,a+n+s),d=o,p=l,u=a+n+r;R(c),R(d),R(u),R(d),R(p),R(u),c=ee.length/3,L((d=N.generateSideWallUV(Q,ee,c-6,c-3,c-2,c-1))[0]),L(d[1]),L(d[3]),L(d[1]),L(d[2]),L(d[3])}}}function C(e,t,i){a.push(e),a.push(t),a.push(i)}function P(e,t,i){R(e),R(t),R(i);e=ee.length/3,t=N.generateTopUV(Q,ee,e-3,e-2,e-1);L(t[0]),L(t[1]),L(t[2])}function R(e){ee.push(a[3*e+0]),ee.push(a[3*e+1]),ee.push(a[3*e+2])}function L(e){te.push(e.x),te.push(e.y)}(function(){var e,t=ee.length/3;if(r){let t=0*x;for(let e=0;e<S;e++){var i=y[e];P(i[2]+t,i[1]+t,i[0]+t)}e=h+2*m,t=x*e;for(let e=0;e<S;e++){var a=y[e];P(a[0]+t,a[1]+t,a[2]+t)}}else{for(let e=0;e<S;e++){var n=y[e];P(n[2],n[1],n[0])}for(let e=0;e<S;e++){var s=y[e];P(s[0]+x*h,s[1]+x*h,s[2]+x*h)}}Q.addGroup(t,ee.length/3-t,0)})(),function(){var e=ee.length/3;let i=0;Z(b,i),i+=b.length;for(let e=0,t=_.length;e<t;e++){var a=_[e];Z(a,i),i+=a.length}Q.addGroup(e,ee.length/3-e,1)}()}(i[e]);this.setAttribute("position",new G(ee,3)),this.setAttribute("uv",new G(te,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){var e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options,a=t,t=i,n=e;if(n.shapes=[],Array.isArray(a))for(let e=0,t=a.length;e<t;e++){var s=a[e];n.shapes.push(s.uuid)}else n.shapes.push(a.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}static fromJSON(i,a){var n=[];for(let e=0,t=i.shapes.length;e<t;e++){var s=a[i.shapes[e]];n.push(s)}var e=i.options.extrudePath;return void 0!==e&&(i.options.extrudePath=(new hr[e.type]).fromJSON(e)),new Gr(n,i.options)}}const Hr={generateTopUV:function(e,t,i,a,n){var s=t[3*i],i=t[3*i+1],r=t[3*a],a=t[3*a+1],o=t[3*n],t=t[3*n+1];return[new ie(s,i),new ie(r,a),new ie(o,t)]},generateSideWallUV:function(e,t,i,a,n,s){var r=t[3*i],o=t[3*i+1],i=t[3*i+2],l=t[3*a],c=t[3*a+1],a=t[3*a+2],d=t[3*n],p=t[3*n+1],n=t[3*n+2],u=t[3*s],h=t[3*s+1],t=t[3*s+2];return Math.abs(o-c)<Math.abs(r-l)?[new ie(r,1-i),new ie(l,1-a),new ie(d,1-n),new ie(u,1-t)]:[new ie(o,1-i),new ie(c,1-a),new ie(p,1-n),new ie(h,1-t)]}};class Wr extends xr{constructor(e=1,t=0){var i=(1+Math.sqrt(5))/2;super([-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wr(e.radius,e.detail)}}class qr extends xr{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qr(e.radius,e.detail)}}class Xr extends C{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};var n=e/2,s=t/2,r=Math.floor(i),o=Math.floor(a),l=r+1,c=o+1,d=e/r,p=t/o,u=[],h=[],m=[],f=[];for(let t=0;t<c;t++){var g=t*p-s;for(let e=0;e<l;e++){var _=e*d-n;h.push(_,-g,0),m.push(0,0,1),f.push(e/r),f.push(1-t/o)}}for(let t=0;t<o;t++)for(let e=0;e<r;e++){var y=e+l*t,b=e+l*(t+1),v=e+1+l*(t+1),x=e+1+l*t;u.push(y,b,x),u.push(b,v,x)}this.setIndex(u),this.setAttribute("position",new G(h,3)),this.setAttribute("normal",new G(m,3)),this.setAttribute("uv",new G(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xr(e.width,e.height,e.widthSegments,e.heightSegments)}}class Yr extends C{constructor(e=.5,t=1,i=32,a=1,n=0,s=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:n,thetaLength:s},i=Math.max(3,i);var r=[],o=[],l=[],c=[];let d=e;var p=(t-e)/(a=Math.max(1,a)),u=new Je,h=new ie;for(let e=0;e<=a;e++){for(let e=0;e<=i;e++){var m=n+e/i*s;u.x=d*Math.cos(m),u.y=d*Math.sin(m),o.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(u.x/t+1)/2,h.y=(u.y/t+1)/2,c.push(h.x,h.y)}d+=p}for(let e=0;e<a;e++){var f=e*(i+1);for(let e=0;e<i;e++){var g=e+f,_=g+i+1,y=g+i+2,b=g+1;r.push(g,_,b),r.push(_,y,b)}}this.setIndex(r),this.setAttribute("position",new G(o,3)),this.setAttribute("normal",new G(l,3)),this.setAttribute("uv",new G(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yr(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Jr extends C{constructor(t=new wr([new ie(0,.5),new ie(-.5,-.5),new ie(.5,-.5)]),u=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:u};const h=[],m=[],f=[],g=[];let i=0,_=0;if(!1===Array.isArray(t))a(t);else for(let e=0;e<t.length;e++)a(t[e]),this.addGroup(i,_,e),i+=_,_=0;function a(e){var i=m.length/3,e=e.extractPoints(u);let a=e.shape;var n=e.holes;!1===Ur.isClockWise(a)&&(a=a.reverse());for(let e=0,t=n.length;e<t;e++){var s=n[e];!0===Ur.isClockWise(s)&&(n[e]=s.reverse())}var r=Ur.triangulateShape(a,n);for(let e=0,t=n.length;e<t;e++){var o=n[e];a=a.concat(o)}for(let e=0,t=a.length;e<t;e++){var l=a[e];m.push(l.x,l.y,0),f.push(0,0,1),g.push(l.x,l.y)}for(let e=0,t=r.length;e<t;e++){var c=r[e],d=c[0]+i,p=c[1]+i,c=c[2]+i;h.push(d,p,c),_+=3}}this.setIndex(h),this.setAttribute("position",new G(m,3)),this.setAttribute("normal",new G(f,3)),this.setAttribute("uv",new G(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){var e=super.toJSON(),i=this.parameters.shapes,a=e;if(a.shapes=[],Array.isArray(i))for(let e=0,t=i.length;e<t;e++){var n=i[e];a.shapes.push(n.uuid)}else a.shapes.push(i.uuid);return a}static fromJSON(i,a){var n=[];for(let e=0,t=i.shapes.length;e<t;e++){var s=a[i.shapes[e]];n.push(s)}return new Jr(n,i.curveSegments)}}class Kr extends C{constructor(i=1,a=32,n=16,s=0,r=2*Math.PI,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:i,widthSegments:a,heightSegments:n,phiStart:s,phiLength:r,thetaStart:o,thetaLength:l},a=Math.max(3,Math.floor(a)),n=Math.max(2,Math.floor(n));var c=Math.min(o+l,Math.PI);let d=0;var p=[],u=new Je,h=new Je,m=[],f=[],g=[],_=[];for(let e=0;e<=n;e++){var y=[],b=e/n;let t=0;0===e&&0===o?t=.5/a:e===n&&c===Math.PI&&(t=-.5/a);for(let e=0;e<=a;e++){var v=e/a;u.x=-i*Math.cos(s+v*r)*Math.sin(o+b*l),u.y=i*Math.cos(o+b*l),u.z=i*Math.sin(s+v*r)*Math.sin(o+b*l),f.push(u.x,u.y,u.z),h.copy(u).normalize(),g.push(h.x,h.y,h.z),_.push(v+t,1-b),y.push(d++)}p.push(y)}for(let t=0;t<n;t++)for(let e=0;e<a;e++){var x=p[t][e+1],S=p[t][e],w=p[t+1][e],T=p[t+1][e+1];(0!==t||0<o)&&m.push(x,S,T),(t!==n-1||c<Math.PI)&&m.push(S,w,T)}this.setIndex(m),this.setAttribute("position",new G(f,3)),this.setAttribute("normal",new G(g,3)),this.setAttribute("uv",new G(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kr(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Zr extends xr{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zr(e.radius,e.detail)}}class $r extends C{constructor(i=1,a=.4,n=12,s=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:i,tube:a,radialSegments:n,tubularSegments:s,arc:r},n=Math.floor(n),s=Math.floor(s);var o=[],l=[],c=[],d=[],p=new Je,u=new Je,h=new Je;for(let t=0;t<=n;t++)for(let e=0;e<=s;e++){var m=e/s*r,f=t/n*Math.PI*2;u.x=(i+a*Math.cos(f))*Math.cos(m),u.y=(i+a*Math.cos(f))*Math.sin(m),u.z=a*Math.sin(f),l.push(u.x,u.y,u.z),p.x=i*Math.cos(m),p.y=i*Math.sin(m),h.subVectors(u,p).normalize(),c.push(h.x,h.y,h.z),d.push(e/s),d.push(t/n)}for(let t=1;t<=n;t++)for(let e=1;e<=s;e++){var g=(s+1)*t+e-1,_=(s+1)*(t-1)+e-1,y=(s+1)*(t-1)+e,b=(s+1)*t+e;o.push(g,_,b),o.push(_,y,b)}this.setIndex(o),this.setAttribute("position",new G(l,3)),this.setAttribute("normal",new G(c,3)),this.setAttribute("uv",new G(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $r(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Qr extends C{constructor(e=1,i=.4,a=64,n=8,s=2,r=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:i,tubularSegments:a,radialSegments:n,p:s,q:r},a=Math.floor(a),n=Math.floor(n);var o=[],l=[],c=[],d=[],p=new Je,u=new Je,h=new Je,m=new Je,f=new Je,g=new Je,_=new Je;for(let t=0;t<=a;++t){var y=t/a*s*Math.PI*2;A(y,s,r,e,h),A(.01+y,s,r,e,m),g.subVectors(m,h),_.addVectors(m,h),f.crossVectors(g,_),_.crossVectors(f,g),f.normalize(),_.normalize();for(let e=0;e<=n;++e){var b=e/n*Math.PI*2,v=-i*Math.cos(b),b=i*Math.sin(b);p.x=h.x+(v*_.x+b*f.x),p.y=h.y+(v*_.y+b*f.y),p.z=h.z+(v*_.z+b*f.z),l.push(p.x,p.y,p.z),u.subVectors(p,h).normalize(),c.push(u.x,u.y,u.z),d.push(t/a),d.push(e/n)}}for(let t=1;t<=a;t++)for(let e=1;e<=n;e++){var x=(n+1)*(t-1)+(e-1),S=(n+1)*t+(e-1),w=(n+1)*t+e,T=(n+1)*(t-1)+e;o.push(x,S,T),o.push(S,w,T)}function A(e,t,i,a,n){var s=Math.cos(e),r=Math.sin(e),i=i/t*e,t=Math.cos(i);n.x=a*(2+t)*.5*s,n.y=a*(2+t)*r*.5,n.z=a*Math.sin(i)*.5}this.setIndex(o),this.setAttribute("position",new G(l,3)),this.setAttribute("normal",new G(c,3)),this.setAttribute("uv",new G(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qr(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class eo extends C{constructor(s=new pr(new Je(-1,-1,0),new Je(-1,1,0),new Je(1,1,0)),r=64,o=1,l=8,e=!1){super(),this.type="TubeGeometry",this.parameters={path:s,tubularSegments:r,radius:o,radialSegments:l,closed:e};const c=s.computeFrenetFrames(r,e),d=(this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals,new Je),p=new Je,i=new ie;let u=new Je;const h=[],m=[],a=[],n=[];for(let e=0;e<r;e++)t(e);t(!1===e?r:0);for(let t=0;t<=r;t++)for(let e=0;e<=l;e++)i.x=t/r,i.y=e/l,a.push(i.x,i.y);for(let t=1;t<=r;t++)for(let e=1;e<=l;e++){var f=(l+1)*(t-1)+(e-1),g=(l+1)*t+(e-1),_=(l+1)*t+e,y=(l+1)*(t-1)+e;n.push(f,g,y),n.push(g,_,y)}function t(e){u=s.getPointAt(e/r,u);var t=c.normals[e],i=c.binormals[e];for(let e=0;e<=l;e++){var a=e/l*Math.PI*2,n=Math.sin(a),a=-Math.cos(a);p.x=a*t.x+n*i.x,p.y=a*t.y+n*i.y,p.z=a*t.z+n*i.z,p.normalize(),m.push(p.x,p.y,p.z),d.x=u.x+o*p.x,d.y=u.y+o*p.y,d.z=u.z+o*p.z,h.push(d.x,d.y,d.z)}}this.setIndex(n),this.setAttribute("position",new G(h,3)),this.setAttribute("normal",new G(m,3)),this.setAttribute("uv",new G(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){var e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new eo((new hr[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}(class extends C{});En,_r,yr,vr,br,Sr,Gr,Wr,gr,qr,Xr,xr,Yr,Jr,Kr,Zr,$r,Qr,eo;(class extends k{});(class extends Pn{});class to extends k{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vt,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ga,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class io extends to{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return I(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ze(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){0<this._anisotropy!=0<e&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){0<this._clearcoat!=0<e&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){0<this._iridescence!=0<e&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){0<this._dispersion!=0<e&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){0<this._sheen!=0<e&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){0<this._transmission!=0<e&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ao extends k{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ze(16777215),this.specular=new Ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vt,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ga,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}(class extends k{});(class extends k{});(class extends k{});class no extends k{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class so extends k{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}(class extends k{});(class extends Ms{});function ro(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function oo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lo(i){var t=i.length,a=new Array(t);for(let e=0;e!==t;++e)a[e]=e;return a.sort(function(e,t){return i[e]-i[t]}),a}function co(i,a,n){var s=i.length,r=new i.constructor(s);for(let e=0,t=0;t!==s;++e){var o=n[e]*a;for(let e=0;e!==a;++e)r[t++]=i[o+e]}return r}function po(t,i,a,n){let s=1,r=t[0];for(;void 0!==r&&void 0===r[n];)r=t[s++];if(void 0!==r){let e=r[n];if(void 0!==e)if(Array.isArray(e))for(;void 0!==(e=r[n])&&(i.push(r.time),a.push(...e)),void 0!==(r=t[s++]););else if(void 0!==e.toArray)for(;void 0!==(e=r[n])&&(i.push(r.time),e.toArray(a,a.length)),void 0!==(r=t[s++]););else for(;void 0!==(e=r[n])&&(i.push(r.time),a.push(e)),void 0!==(r=t[s++]););}}class uo{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){var i=this.parameterPositions;let a=this._cachedIndex,n=i[a],s=i[a-1];e:{t:{let e;i:{a:if(!(t<n)){for(var r=a+2;;){if(void 0===n){if(t<s)break a;return a=i.length,this._cachedIndex=a,this.copySampleValue_(a-1)}if(a===r)break;if(s=n,t<(n=i[++a]))break t}e=i.length;break i}if(t>=s)break e;var o=i[1];t<o&&(a=2,s=o);for(var l=a-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(a===l)break;if(n=s,t>=(s=i[--a-1]))break t}e=a,a=0}for(;a<e;){var c=a+e>>>1;t<i[c]?e=c:a=1+c}if(n=i[a],void 0===(s=i[a-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===n)return a=i.length,this._cachedIndex=a,this.copySampleValue_(a-1)}this._cachedIndex=a,this.intervalChanged_(a,s,n)}return this.interpolate_(a,s,t,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){var t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,n=e*a;for(let e=0;e!==a;++e)t[e]=i[n+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ho extends uo{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){var a=this.parameterPositions;let n=e-2,s=e+1,r=a[n],o=a[s];if(void 0===r)switch(this.getSettings_().endingStart){case 2401:n=e,r=2*t-i;break;case 2402:n=a.length-2,r=t+a[n]-a[n+1];break;default:n=e,r=i}if(void 0===o)switch(this.getSettings_().endingEnd){case 2401:s=e,o=2*i-t;break;case 2402:s=1,o=i+a[1]-a[0];break;default:s=e-1,o=t}var l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-r),this._weightNext=l/(o-i),this._offsetPrev=n*c,this._offsetNext=s*c}interpolate_(e,t,i,a){var n=this.resultBuffer,s=this.sampleValues,r=this.valueSize,o=e*r,l=o-r,c=this._offsetPrev,d=this._offsetNext,e=this._weightPrev,p=this._weightNext,i=(i-t)/(a-t),a=i*i,t=a*i,u=-e*t+2*e*a-e*i,h=(1+e)*t+(-1.5-2*e)*a+(-.5+e)*i+1,m=(-1-p)*t+(1.5+p)*a+.5*i,f=p*t-p*a;for(let e=0;e!==r;++e)n[e]=u*s[c+e]+h*s[l+e]+m*s[o+e]+f*s[d+e];return n}}class mo extends uo{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){var n=this.resultBuffer,s=this.sampleValues,r=this.valueSize,o=e*r,l=o-r,c=(i-t)/(a-t),d=1-c;for(let e=0;e!==r;++e)n[e]=s[l+e]*d+s[o+e]*c;return n}}class fo extends uo{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class go{constructor(e,t,i,a){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ro(t,this.TimeBufferType),this.values=ro(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){var t=e.constructor;let i;return t.toJSON!==this.toJSON?i=t.toJSON(e):(i={name:e.name,times:ro(e.times,Array),values:ro(e.values,Array)},(t=e.getInterpolation())!==e.DefaultInterpolation&&(i.interpolation=t)),i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new fo(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mo(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ho(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",i)}else this.createInterpolant=t;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(i){if(0!==i){var a=this.times;for(let e=0,t=a.length;e!==t;++e)a[e]+=i}return this}scale(i){if(1!==i){var a=this.times;for(let e=0,t=a.length;e!==t;++e)a[e]*=i}return this}trim(e,t){var i,a=this.times,n=a.length;let s=0,r=n-1;for(;s!==n&&a[s]<e;)++s;for(;-1!==r&&a[r]>t;)--r;return++r,0===s&&r===n||(s>=r&&(r=Math.max(r,1),s=r-1),i=this.getValueSize(),this.times=a.slice(s,r),this.values=this.values.slice(s*i,r*i)),this}validate(){let i=!0;var e=this.getValueSize(),t=(e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),i=!1),this.times),a=this.values,n=t.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),i=!1);let s=null;for(let e=0;e!==n;e++){var r=t[e];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,r),i=!1;break}if(null!==s&&s>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,r,s),i=!1;break}s=r}if(void 0!==a&&oo(a))for(let e=0,t=a.length;e!==t;++e){var o=a[e];if(isNaN(o)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,o),i=!1;break}}return i}optimize(){var i=this.times.slice(),a=this.values.slice(),n=this.getValueSize(),s=2302===this.getInterpolation(),r=i.length-1;let o=1;for(let e=1;e<r;++e){let t=!1;var l=i[e];if(l!==i[e+1]&&(1!==e||l!==i[0]))if(s)t=!0;else{var c=e*n,d=c-n,p=c+n;for(let e=0;e!==n;++e){var u=a[c+e];if(u!==a[d+e]||u!==a[p+e]){t=!0;break}}}if(t){if(e!==o){i[o]=i[e];var h=e*n,m=o*n;for(let e=0;e!==n;++e)a[m+e]=a[h+e]}++o}}if(0<r){i[o]=i[r];for(let e=r*n,t=o*n,i=0;i!==n;++i)a[t+i]=a[e+i];++o}return o!==i.length?(this.times=i.slice(0,o),this.values=a.slice(0,o*n)):(this.times=i,this.values=a),this}clone(){var e=this.times.slice(),t=this.values.slice(),e=new this.constructor(this.name,e,t);return e.createInterpolant=this.createInterpolant,e}}go.prototype.TimeBufferType=Float32Array,go.prototype.ValueBufferType=Float32Array,go.prototype.DefaultInterpolation=2301;class _o extends go{constructor(e,t,i){super(e,t,i)}}_o.prototype.ValueTypeName="bool",_o.prototype.ValueBufferType=Array,_o.prototype.DefaultInterpolation=2300,_o.prototype.InterpolantFactoryMethodLinear=void 0,_o.prototype.InterpolantFactoryMethodSmooth=void 0;class yo extends go{}yo.prototype.ValueTypeName="color";class bo extends go{}bo.prototype.ValueTypeName="number";class vo extends uo{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){var n=this.resultBuffer,s=this.sampleValues,r=this.valueSize,o=(i-t)/(a-t);let l=e*r;for(var c=l+r;l!==c;l+=4)m.slerpFlat(n,0,s,l-r,s,l,o);return n}}class xo extends go{InterpolantFactoryMethodLinear(e){return new vo(this.times,this.values,this.getValueSize(),e)}}xo.prototype.ValueTypeName="quaternion",xo.prototype.InterpolantFactoryMethodSmooth=void 0;class So extends go{constructor(e,t,i){super(e,t,i)}}So.prototype.ValueTypeName="string",So.prototype.ValueBufferType=Array,So.prototype.DefaultInterpolation=2300,So.prototype.InterpolantFactoryMethodLinear=void 0,So.prototype.InterpolantFactoryMethodSmooth=void 0;class wo extends go{}class To{constructor(e="",t=-1,i=[],a=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=oi(),this.duration<0&&this.resetDuration()}static parse(e){var i=[],a=e.tracks,n=1/(e.fps||1);for(let e=0,t=a.length;e!==t;++e)i.push(function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bo;case"vector":case"vector2":case"vector3":case"vector4":return wo;case"color":return yo;case"quaternion":return xo;case"bool":case"boolean":return _o;case"string":return So}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);{var i,a;void 0===e.times&&(po(e.keys,i=[],a=[],"value"),e.times=i,e.values=a)}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}(a[e]).scale(n));var t=new this(e.name,e.duration,i,e.blendMode);return t.uuid=e.uuid,t}static toJSON(e){var i=[],a=e.tracks,e={name:e.name,duration:e.duration,tracks:i,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,t=a.length;e!==t;++e)i.push(go.toJSON(a[e]));return e}static CreateFromMorphTargetSequence(e,a,n,s){var r=a.length,o=[];for(let i=0;i<r;i++){let e=[],t=[];e.push((i+r-1)%r,i,(i+1)%r),t.push(0,1,0);var l=lo(e);e=co(e,1,l),t=co(t,1,l),s||0!==e[0]||(e.push(r),t.push(t[0])),o.push(new bo(".morphTargetInfluences["+a[i].name+"]",e,t).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let e=0;e<i.length;e++)if(i[e].name===t)return i[e];return null}static CreateClipsFromMorphTargetSequences(i,e,t){var a={},n=/^([\w-]*?)([\d]+)$/;for(let e=0,t=i.length;e<t;e++){var s=i[e],r=s.name.match(n);if(r&&1<r.length){r=r[1];let e=a[r];e||(a[r]=e=[]),e.push(s)}}var o=[];for(const l in a)o.push(this.CreateFromMorphTargetSequence(l,a[l],e,t));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;function i(e,t,i,a,n){var s;0!==i.length&&(po(i,i=[],s=[],a),0!==i.length)&&n.push(new e(t,i,s))}var a=[],n=e.name||"default",s=e.fps||30,r=e.blendMode;let o=e.length||-1;var l=e.hierarchy||[];for(let e=0;e<l.length;e++){var c=l[e].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={};let t;for(t=0;t<c.length;t++)if(c[t].morphTargets)for(let e=0;e<c[t].morphTargets.length;e++)d[c[t].morphTargets[e]]=-1;for(const f in d){var p=[],u=[];for(let e=0;e!==c[t].morphTargets.length;++e){var h=c[t];p.push(h.time),u.push(h.morphTarget===f?1:0)}a.push(new bo(".morphTargetInfluence["+f+"]",p,u))}o=d.length*s}else{var m=".bones["+t[e].name+"]";i(wo,m+".position",c,"pos",a),i(xo,m+".quaternion",c,"rot",a),i(wo,m+".scale",c,"scl",a)}}return 0===a.length?null:new this(n,o,a,r)}resetDuration(){let i=0;for(let e=0,t=this.tracks.length;e!==t;++e){var a=this.tracks[e];i=Math.max(i,a.times[a.times.length-1])}return this.duration=i,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){var t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const Ao={enabled:!(wo.prototype.ValueTypeName="vector"),files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Mo{constructor(e,t,i){const a=this;let n=!1,s=0,r=0,o=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){r++,!1===n&&void 0!==a.onStart&&a.onStart(e,s,r),n=!0},this.itemEnd=function(e){s++,void 0!==a.onProgress&&a.onProgress(e,s,r),s===r&&(n=!1,void 0!==a.onLoad)&&a.onLoad()},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return o?o(e):e},this.setURLModifier=function(e){return o=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){e=l.indexOf(e);return-1!==e&&l.splice(e,2),this},this.getHandler=function(i){for(let e=0,t=l.length;e<t;e+=2){var a=l[e],n=l[e+1];if(a.global&&(a.lastIndex=0),a.test(i))return n}return null}}}const Io=new Mo;class Eo{constructor(e){this.manager=void 0!==e?e:Io,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,a){const n=this;return new Promise(function(e,t){n.load(i,e,a,t)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Eo.DEFAULT_MATERIAL_NAME="__DEFAULT";const zo={};class ko extends Error{constructor(e,t){super(e),this.response=t}}class Do extends Eo{constructor(e){super(e)}load(s,e,t,i){void 0===s&&(s=""),void 0!==this.path&&(s=this.path+s),s=this.manager.resolveURL(s);const a=Ao.get(s);if(void 0!==a)return this.manager.itemStart(s),setTimeout(()=>{e&&e(a),this.manager.itemEnd(s)},0),a;if(void 0!==zo[s])zo[s].push({onLoad:e,onProgress:t,onError:i});else{zo[s]=[],zo[s].push({onLoad:e,onProgress:t,onError:i});t=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});const n=this.mimeType,r=this.responseType;fetch(t).then(e=>{if(200!==e.status&&0!==e.status)throw new ko(`fetch for "${e.url}" responded with ${e.status}: `+e.statusText,e);{if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const o=zo[s],t=e.body.getReader();e=e.headers.get("X-File-Size")||e.headers.get("Content-Length");const l=e?parseInt(e):0,c=0!==l;let r=0;e=new ReadableStream({start(s){!function n(){t.read().then(({done:e,value:t})=>{if(e)s.close();else{r+=t.byteLength;const i=new ProgressEvent("progress",{lengthComputable:c,loaded:r,total:l});for(let e=0,t=o.length;e<t;e++){const a=o[e];a.onProgress&&a.onProgress(i)}s.enqueue(t),n()}},e=>{s.error(e)})}()}});return new Response(e)}}).then(e=>{switch(r){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>{return(new DOMParser).parseFromString(e,n)});case"json":return e.json();default:if(void 0===n)return e.text();{var t=/charset="?([^;"\s]*)"?/i.exec(n),t=t&&t[1]?t[1].toLowerCase():void 0;const i=new TextDecoder(t);return e.arrayBuffer().then(e=>i.decode(e))}}}).then(i=>{Ao.add(s,i);var a=zo[s];delete zo[s];for(let e=0,t=a.length;e<t;e++){var n=a[e];n.onLoad&&n.onLoad(i)}}).catch(i=>{var a=zo[s];if(void 0===a)throw this.manager.itemError(s),i;delete zo[s];for(let e=0,t=a.length;e<t;e++){var n=a[e];n.onError&&n.onError(i)}this.manager.itemError(s)}).finally(()=>{this.manager.itemEnd(s)}),this.manager.itemStart(s)}}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}(class extends Eo{});(class extends Eo{});class Co extends Eo{constructor(e){super(e)}load(t,e,i,a){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=this,s=Ao.get(t);if(void 0!==s)return n.manager.itemStart(t),setTimeout(function(){e&&e(s),n.manager.itemEnd(t)},0),s;const r=mi("img");function o(){c(),Ao.add(t,this),e&&e(this),n.manager.itemEnd(t)}function l(e){c(),a&&a(e),n.manager.itemError(t),n.manager.itemEnd(t)}function c(){r.removeEventListener("load",o,!1),r.removeEventListener("error",l,!1)}return r.addEventListener("load",o,!1),r.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),n.manager.itemStart(t),r.src=t,r}}(class extends Eo{});(class extends Eo{});class Po extends Eo{constructor(e){super(e)}load(e,t,i,a){const n=new d;var s=new Co(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(e){n.image=e,n.needsUpdate=!0,void 0!==t&&t(n)},i,a),n}}class Ro extends f{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){e=super.toJSON(e);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}const Lo=new Ke,Oo=new Je,No=new Je;class jo{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new As,this._frameExtents=new ie(1,1),this._viewportCount=1,this._viewports=[new Ye(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){var t=this.camera,i=this.matrix;Oo.setFromMatrixPosition(e.matrixWorld),t.position.copy(Oo),No.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(No),t.updateMatrixWorld(),Lo.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Lo),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Lo)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){var e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Fo extends jo{constructor(){super(new jn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){var t=this.camera,i=2*ri*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;i===t.fov&&a===t.aspect&&n===t.far||(t.fov=i,t.aspect=a,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Uo extends Ro{constructor(e,t,i=0,a=Math.PI/3,n=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(f.DEFAULT_UP),this.updateMatrix(),this.target=new f,this.distance=i,this.angle=a,this.penumbra=n,this.decay=s,this.map=null,this.shadow=new Fo}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Bo=new Ke,Vo=new Je,Go=new Je;class Ho extends jo{constructor(){super(new jn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ie(4,2),this._viewportCount=6,this._viewports=[new Ye(2,1,1,1),new Ye(0,1,1,1),new Ye(3,1,1,1),new Ye(1,1,1,1),new Ye(3,0,1,1),new Ye(1,0,1,1)],this._cubeDirections=[new Je(1,0,0),new Je(-1,0,0),new Je(0,0,1),new Je(0,0,-1),new Je(0,1,0),new Je(0,-1,0)],this._cubeUps=[new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,1,0),new Je(0,0,1),new Je(0,0,-1)]}updateMatrices(e,t=0){var i=this.camera,a=this.matrix,n=e.distance||i.far;n!==i.far&&(i.far=n,i.updateProjectionMatrix()),Vo.setFromMatrixPosition(e.matrixWorld),i.position.copy(Vo),Go.copy(i.position),Go.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Go),i.updateMatrixWorld(),a.makeTranslation(-Vo.x,-Vo.y,-Vo.z),Bo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bo)}}class Wo extends Ro{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new Ho}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class qo extends Rn{constructor(e=-1,t=1,i=1,a=-1,n=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=n,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,n,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=n,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let n=i-e,s=i+e,r=a+t,o=a-t;null!==this.view&&this.view.enabled&&(i=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,n+=i*this.view.offsetX,s=n+i*this.view.width,r-=e*this.view.offsetY,o=r-e*this.view.height),this.projectionMatrix.makeOrthographic(n,s,r,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){e=super.toJSON(e);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}class Xo extends jo{constructor(){super(new qo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Yo extends Ro{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(f.DEFAULT_UP),this.updateMatrix(),this.target=new f,this.shadow=new Xo}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}(class extends Eo{});class Jo{static decodeText(i){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(i);let a="";for(let e=0,t=i.length;e<t;e++)a+=String.fromCharCode(i[e]);try{return decodeURIComponent(escape(a))}catch(e){return a}}static extractUrlBase(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Ko extends C{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){var e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}(class extends Eo{});(class extends Eo{});N,j,c,p,Ce,H,W,q,Pe,Re,Le,V,Oe,tt;class Zo extends Eo{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(t,i,e,a){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=this,s=Ao.get(t);if(void 0!==s)return n.manager.itemStart(t),s.then?void s.then(e=>{i&&i(e),n.manager.itemEnd(t)}).catch(e=>{a&&a(e)}):(setTimeout(function(){i&&i(s),n.manager.itemEnd(t)},0),s);var r={},r=(r.credentials="anonymous"===this.crossOrigin?"same-origin":"include",r.headers=this.requestHeader,fetch(t,r).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(n.options,{colorSpaceConversion:"none"}))}).then(function(e){return Ao.add(t,e),i&&i(e),n.manager.itemEnd(t),e}).catch(function(e){a&&a(e),Ao.remove(t),n.manager.itemError(t),n.manager.itemEnd(t)}));Ao.add(t,r),n.manager.itemStart(t)}}let $o;class Qo{static getContext(){return $o=void 0===$o?new(window.AudioContext||window.webkitAudioContext):$o}static setContext(e){$o=e}}class el extends Eo{constructor(e){super(e)}load(t,i,e,a){const n=this;var s=new Do(this.manager);function r(e){a?a(e):console.error(e),n.manager.itemError(t)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(e){try{var t=e.slice(0);Qo.getContext().decodeAudioData(t,function(e){i(e)}).catch(r)}catch(e){r(e)}},e,a)}}class tl extends jn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class il{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=al(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;var t;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(t=al(),e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e),e)}}function al(){return performance.now()}const nl=new Je,sl=new m,rl=new Je,ol=new Je;class ll extends f{constructor(){super(),this.type="AudioListener",this.context=Qo.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new il}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return(null!==this.filter?(this.gain.disconnect(this.filter),this.filter):this.gain).disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);var t,e=this.context.listener,i=this.up;this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nl,sl,rl),ol.set(0,0,-1).applyQuaternion(sl),e.positionX?(t=this.context.currentTime+this.timeDelta,e.positionX.linearRampToValueAtTime(nl.x,t),e.positionY.linearRampToValueAtTime(nl.y,t),e.positionZ.linearRampToValueAtTime(nl.z,t),e.forwardX.linearRampToValueAtTime(ol.x,t),e.forwardY.linearRampToValueAtTime(ol.y,t),e.forwardZ.linearRampToValueAtTime(ol.z,t),e.upX.linearRampToValueAtTime(i.x,t),e.upY.linearRampToValueAtTime(i.y,t),e.upZ.linearRampToValueAtTime(i.z,t)):(e.setPosition(nl.x,nl.y,nl.z),e.setOrientation(ol.x,ol.y,ol.z,i.x,i.y,i.z))}}class cl extends f{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+e,(e=this.context.createBufferSource()).buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e=e||[],!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?console.warn("THREE.Audio: Audio source type cannot be copied."):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice()),this}clone(e){return new this.constructor(this.listener).copy(this,e)}}cl;class dl{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,n,s;switch(t){case"quaternion":a=this._slerp,n=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":a=this._select,n=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:a=this._lerp,n=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=n,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){var i=this.buffer,a=this.valueSize,n=e*a+a;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==a;++e)i[n+e]=i[e];s=t}else{e=t/(s+=t);this._mixBufferRegion(i,n,0,e,a)}this.cumulativeWeight=s}accumulateAdditive(e){var t=this.buffer,i=this.valueSize,a=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){var t,i=this.valueSize,a=this.buffer,n=e*i+i,e=this.cumulativeWeight,s=this.cumulativeWeightAdditive,r=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,e<1&&(t=i*this._origIndex,this._mixBufferRegion(a,n,t,1-e,i)),0<s&&this._mixBufferRegionAdditive(a,n,this._addIndex*i,1,i);for(let e=i,t=i+i;e!==t;++e)if(a[e]!==a[e+i]){r.setValue(a,n);break}}saveOriginalState(){var e=this.binding,i=this.buffer,a=this.valueSize,n=a*this._origIndex;e.getValue(i,n);for(let e=a,t=n;e!==t;++e)i[e]=i[n+e%a];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){var t=this._addIndex*this.valueSize,i=t+this.valueSize;for(let e=t;e<i;e++)this.buffer[e]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){var t=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let e=0;e<this.valueSize;e++)this.buffer[i+e]=this.buffer[t+e]}_select(t,i,a,e,n){if(.5<=e)for(let e=0;e!==n;++e)t[i+e]=t[a+e]}_slerp(e,t,i,a){m.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,n){n=this._workIndex*n;m.multiplyQuaternionsFlat(e,n,e,t,e,i),m.slerpFlat(e,t,e,t,e,n,a)}_lerp(t,i,a,n,s){var r=1-n;for(let e=0;e!==s;++e){var o=i+e;t[o]=t[o]*r+t[a+e]*n}}_lerpAdditive(t,i,a,n,s){for(let e=0;e!==s;++e){var r=i+e;t[r]=t[r]+t[a+e]*n}}}var pl="\\[\\]\\.:\\/";const ul=new RegExp("["+pl+"]","g");var e="[^"+pl+"]",pl="[^"+pl.replace("\\.","")+"]";const hl=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",e)+/(WCOD+)?/.source.replace("WCOD",pl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e)+"$"),ml=["material","materials","bones","map"];class h{constructor(e,t,i){this.path=t,this.parsedPath=i||h.parseTrackName(t),this.node=h.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return new(e&&e.isAnimationObjectGroup?h.Composite:h)(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ul,"")}static parseTrackName(e){var t=hl.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var i,t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==a&&-1!==a&&(i=t.nodeName.substring(a+1),-1!==ml.indexOf(i))&&(t.nodeName=t.nodeName.substring(0,a),t.objectName=i),null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t}static findNode(e,a){if(void 0===a||""===a||"."===a||-1===a||a===e.name||a===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(a);if(void 0!==t)return t}if(e.children){const n=function(t){for(let e=0;e<t.length;e++){var i=t[e];if(i.name===a||i.uuid===a)return i;i=n(i.children);if(i)return i}return null};t=n(e.children);if(t)return t}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(i,a){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)i[a++]=n[e]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,a){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=i[a++]}_setValue_array_setNeedsUpdate(i,a){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=i[a++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,a){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=i[a++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let i=this.node;var e=this.parsedPath,a=e.objectName,n=e.propertyName;let s=e.propertyIndex;if(i||(i=h.findNode(this.rootNode,e.nodeName),this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,i){if(a){let t=e.objectIndex;switch(a){case"materials":if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);i=i.material.materials;break;case"bones":if(!i.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);i=i.skeleton.bones;for(let e=0;e<i.length;e++)if(i[e].name===t){t=e;break}break;case"map":if("map"in i)i=i.map;else{if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);i=i.material.map}break;default:if(void 0===i[a])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);i=i[a]}if(void 0!==t){if(void 0===i[t])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);i=i[t]}}var r=i[n];if(void 0===r)e=e.nodeName,console.error("THREE.PropertyBinding: Trying to update property for track: "+e+"."+n+" but it wasn't found.",i);else{let e=this.Versioning.None,t=(!0===(this.targetObject=i).isMaterial?e=this.Versioning.NeedsUpdate:!0===i.isObject3D&&(e=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==s){if("morphTargetInfluences"===n){if(!i.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!i.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==i.morphTargetDictionary[s]&&(s=i.morphTargetDictionary[s])}t=this.BindingType.ArrayElement,this.resolvedProperty=r,this.propertyIndex=s}else void 0!==r.fromArray&&void 0!==r.toArray?(t=this.BindingType.HasFromToArray,this.resolvedProperty=r):Array.isArray(r)?(t=this.BindingType.EntireArray,this.resolvedProperty=r):this.propertyName=n;this.getValue=this.GetterByBindingType[t],this.setValue=this.SetterByBindingTypeAndVersioning[t][e]}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}h.Composite=class{constructor(e,t,i){i=i||h.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,i=this._bindings[i];void 0!==i&&i.getValue(e,t)}setValue(i,a){var n=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=n.length;e!==t;++e)n[e].setValue(i,a)}bind(){var i=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=i.length;e!==t;++e)i[e].bind()}unbind(){var i=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=i.length;e!==t;++e)i[e].unbind()}},h.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},h.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},h.prototype.GetterByBindingType=[h.prototype._getValue_direct,h.prototype._getValue_array,h.prototype._getValue_arrayElement,h.prototype._getValue_toArray],h.prototype.SetterByBindingTypeAndVersioning=[[h.prototype._setValue_direct,h.prototype._setValue_direct_setNeedsUpdate,h.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[h.prototype._setValue_array,h.prototype._setValue_array_setNeedsUpdate,h.prototype._setValue_array_setMatrixWorldNeedsUpdate],[h.prototype._setValue_arrayElement,h.prototype._setValue_arrayElement_setNeedsUpdate,h.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[h.prototype._setValue_fromArray,h.prototype._setValue_fromArray_setNeedsUpdate,h.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class fl{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;var n=t.tracks,s=n.length,r=new Array(s),o={endingStart:2400,endingEnd:2400};for(let e=0;e!==s;++e){var l=n[e].createInterpolant(null);(r[e]=l).settings=o}this._interpolantSettings=o,this._interpolants=r,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){var a,n;return e.fadeOut(t),this.fadeIn(t),i&&(n=(i=this._clip.duration)/(a=e._clip.duration),e.warp(1,a/i,t),this.warp(n,1,t)),this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){var a=this._mixer,n=a.time,s=this.timeScale;let r=this._timeScaleInterpolant;null===r&&(r=a._lendControlInterpolant(),this._timeScaleInterpolant=r);var a=r.parameterPositions,o=r.sampleValues;return a[0]=n,a[1]=n+i,o[0]=e/s,o[1]=t/s,this}stopWarping(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(this.enabled){var n=this._startTime,s=(null!==n&&(t=(n=(e-n)*i)<0||0===i?0:(this._startTime=null,i*n)),t*=this._updateTimeScale(e),this._updateTime(t)),r=this._updateWeight(e);if(0<r){var o=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let e=0,t=o.length;e!==t;++e)o[e].evaluate(s),l[e].accumulateAdditive(r);else for(let e=0,t=o.length;e!==t;++e)o[e].evaluate(s),l[e].accumulate(a,r)}}else this._updateWeight(e)}_updateWeight(e){let t=0;var i,a;return this.enabled&&(t=this.weight,null!==(i=this._weightInterpolant))&&(a=i.evaluate(e)[0],t*=a,e>i.parameterPositions[1])&&(this.stopFading(),0===a)&&(this.enabled=!1),this._effectiveWeight=t}_updateTimeScale(e){let t=0;var i,a;return this.paused||(t=this.timeScale,null!==(i=this._timeScaleInterpolant)&&(a=i.evaluate(e)[0],t*=a,e>i.parameterPositions[1])&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)),this._effectiveTimeScale=t}_updateTime(e){var t=this._clip.duration,i=this.loop;let a=this.time+e,n=this._loopCount;var s,r=2202===i;if(0===e)return-1!==n&&r&&1==(1&n)?t-a:a;if(2200===i){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else{if(!(a<0)){this.time=a;break e}a=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else if(-1===n&&(0<=e?(n=0,this._setEndings(!0,0===this.repetitions,r)):this._setEndings(0===this.repetitions,!0,r)),a>=t||a<0?(i=Math.floor(a/t),a-=t*i,n+=Math.abs(i),(s=this.repetitions-n)<=0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=0<e?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1==s?this._setEndings(s=e<0,!s,r):this._setEndings(!1,!1,r),this._loopCount=n,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i}))):this.time=a,r&&1==(1&n))return t-a;return a}_setEndings(e,t,i){var a=this._interpolantSettings;i?(a.endingStart=2401,a.endingEnd=2401):(a.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,a.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,t,i){var a=this._mixer,n=a.time;let s=this._weightInterpolant;null===s&&(s=a._lendControlInterpolant(),this._weightInterpolant=s);var a=s.parameterPositions,r=s.sampleValues;return a[0]=n,r[0]=t,a[1]=n+e,r[1]=i,this}}const gl=new Float32Array(1);class _l extends ii{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,i){var a=e._localRoot||this._root,n=e._clip.tracks,s=n.length,r=e._propertyBindings,o=e._interpolants,l=a.uuid,e=this._bindingsByRootAndName;let c=e[l];void 0===c&&(c={},e[l]=c);for(let t=0;t!==s;++t){var d=n[t],p=d.name;let e=c[p];if(void 0!==e)++e.referenceCount;else{if(void 0!==(e=r[t])){null===e._cacheIndex&&(++e.referenceCount,this._addInactiveBinding(e,l,p));continue}var u=i&&i._propertyBindings[t].binding.parsedPath;++(e=new dl(h.create(a,p,u),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(e,l,p)}r[t]=e,o[t].resultBuffer=e.buffer}}_activateAction(e){if(!this._isActiveAction(e)){null===e._cacheIndex&&(t=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i],this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,t));var t,i,a,n=e._propertyBindings;for(let e=0,t=n.length;e!==t;++e){var s=n[e];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){var i=e._propertyBindings;for(let e=0,t=i.length;e!==t;++e){var a=i[e];0==--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){e=e._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(e,t,i){var a=this._actions,n=this._actionsByClip;let s=n[t];void 0===s?(s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=s):(n=s.knownActions,e._byClipCacheIndex=n.length,n.push(e)),e._cacheIndex=a.length,a.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){var t=this._actions,i=t[t.length-1],a=e._cacheIndex,a=(t[i._cacheIndex=a]=i,t.pop(),e._cacheIndex=null,e._clip.uuid),i=this._actionsByClip,t=i[a],n=t.knownActions,s=n[n.length-1],r=e._byClipCacheIndex;n[s._byClipCacheIndex=r]=s,n.pop(),e._byClipCacheIndex=null,delete t.actionByRoot[(e._localRoot||this._root).uuid],0===n.length&&delete i[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){var i=e._propertyBindings;for(let e=0,t=i.length;e!==t;++e){var a=i[e];0==--a.referenceCount&&this._removeInactiveBinding(a)}}_lendAction(e){var t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,n=t[a];t[e._cacheIndex=a]=e,t[n._cacheIndex=i]=n}_takeBackAction(e){var t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,n=t[a];t[e._cacheIndex=a]=e,t[n._cacheIndex=i]=n}_addInactiveBinding(e,t,i){var a=this._bindingsByRootAndName,n=this._bindings;let s=a[t];void 0===s&&(s={},a[t]=s),(s[i]=e)._cacheIndex=n.length,n.push(e)}_removeInactiveBinding(e){var t=this._bindings,i=e.binding,a=i.rootNode.uuid,i=i.path,n=this._bindingsByRootAndName,s=n[a],r=t[t.length-1],e=e._cacheIndex;t[r._cacheIndex=e]=r,t.pop(),delete s[i],0===Object.keys(s).length&&delete n[a]}_lendBinding(e){var t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,n=t[a];t[e._cacheIndex=a]=e,t[n._cacheIndex=i]=n}_takeBackBinding(e){var t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,n=t[a];t[e._cacheIndex=a]=e,t[n._cacheIndex=i]=n}_lendControlInterpolant(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return void 0===i&&(e[(i=new mo(new Float32Array(2),new Float32Array(2),1,gl)).__cacheIndex=t]=i),i}_takeBackControlInterpolant(e){var t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,n=t[a];t[e.__cacheIndex=a]=e,t[n.__cacheIndex=i]=n}clipAction(e,t,i){var a=t||this._root,n=a.uuid;let s="string"==typeof e?To.findByName(a,e):e;a=null!==s?s.uuid:e,e=this._actionsByClip[a];let r=null;if(void 0===i&&(i=null!==s?s.blendMode:2500),void 0!==e){var o=e.actionByRoot[n];if(void 0!==o&&o.blendMode===i)return o;r=e.knownActions[0],null===s&&(s=r._clip)}return null===s?null:(o=new fl(this,s,t,i),this._bindAction(o,r),this._addInactiveAction(o,a,n),o)}existingAction(e,t){var t=t||this._root,i=t.uuid,t="string"==typeof e?To.findByName(t,e):e,t=t?t.uuid:e,e=this._actionsByClip[t];return void 0!==e&&e.actionByRoot[i]||null}stopAllAction(){var t=this._actions;for(let e=this._nActiveActions-1;0<=e;--e)t[e].stop();return this}update(t){t*=this.timeScale;var i=this._actions,a=this._nActiveActions,n=this.time+=t,s=Math.sign(t),r=this._accuIndex^=1;for(let e=0;e!==a;++e)i[e]._update(n,t,s,r);var o=this._bindings,l=this._nActiveBindings;for(let e=0;e!==l;++e)o[e].apply(r);return this}setTime(e){for(let e=this.time=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){var i=this._actions,e=e.uuid,t=this._actionsByClip,a=t[e];if(void 0!==a){var n=a.knownActions;for(let e=0,t=n.length;e!==t;++e){var s=n[e],r=(this._deactivateAction(s),s._cacheIndex),o=i[i.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,i[o._cacheIndex=r]=o,i.pop(),this._removeInactiveBindingsForAction(s)}delete t[e]}}uncacheRoot(e){var t=e.uuid,i=this._actionsByClip;for(const r in i){var a=i[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var n=this._bindingsByRootAndName[t];if(void 0!==n)for(const o in n){var s=n[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){e=this.existingAction(e,t);null!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}}(class extends ii{});qn;const yl=new Ke;class bl{constructor(e,t,i=0,a=1/0){this.ray=new ra(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new _a,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return yl.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(yl),this}intersectObject(e,t=!0,i=[]){return xl(e,this,i,t),i.sort(vl),i}intersectObjects(i,a=!0,n=[]){for(let e=0,t=i.length;e<t;e++)xl(i[e],this,n,a);return n.sort(vl),n}}function vl(e,t){return e.distance-t.distance}function xl(e,i,a,t){let n=!0;if(!0===(n=e.layers.test(i.layers)&&!1===e.raycast(i,a)?!1:n)&&!0===t){var s=e.children;for(let e=0,t=s.length;e<t;e++)xl(s[e],i,a,!0)}}class Sl{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=I(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(I(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}(class extends f{});js;(class extends P{});(class extends f{});js;js;(class extends f{});js;js;js;Rs;(class extends f{});js;class wl extends ii{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Tl(e,t,i,a){var n=function(e){switch(e){case it:case g:return{byteLength:1,components:1};case at:case y:case st:return{byteLength:2,components:1};case rt:case ot:return{byteLength:2,components:4};case nt:case Ne:case je:return{byteLength:4,components:1};case b:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(a);switch(i){case v:case w:return e*t;case F:return e*t*2;case U:case ct:return e*t/n.components*n.byteLength;case B:case dt:return e*t*2/n.components*n.byteLength;case S:return e*t*3/n.components*n.byteLength;case Fe:case pt:return e*t*4/n.components*n.byteLength;case Ve:case Ge:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case He:case ut:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case mt:case gt:return Math.max(e,16)*Math.max(t,8)/4;case ht:case ft:return Math.max(e,8)*Math.max(t,8)/2;case _t:case yt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case bt:case vt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case xt:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case St:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case wt:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Tt:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case At:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Mt:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case It:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Et:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case zt:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case kt:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Dt:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case Ct:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Pt:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Rt:case Lt:case Ot:return Math.ceil(e/4)*Math.ceil(t/4)*16;case Nt:case jt:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Ft:case Ut:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function Al(){let i=null,e=!1,a=null,n=null;function s(e,t){a(e,t),n=i.requestAnimationFrame(s)}return{start:function(){!0!==e&&null!==a&&(n=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(e){a=e},setContext:function(e){i=e}}}function Ml(p){const u=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),u.get(e)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var t=u.get(e);t&&(p.deleteBuffer(t.buffer),u.delete(e))},update:function(e,t){if((e=e.isInterleavedBufferAttribute?e.data:e).isGLBufferAttribute)(!(i=u.get(e))||i.version<e.version)&&u.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version});else{var i=u.get(e);if(void 0===i)u.set(e,function(e,t){var i=e.array,a=e.usage,n=i.byteLength,s=p.createBuffer();p.bindBuffer(t,s),p.bufferData(t,i,a),e.onUploadCallback();let r;if(i instanceof Float32Array)r=p.FLOAT;else if(i instanceof Uint16Array)r=e.isFloat16BufferAttribute?p.HALF_FLOAT:p.UNSIGNED_SHORT;else if(i instanceof Int16Array)r=p.SHORT;else if(i instanceof Uint32Array)r=p.UNSIGNED_INT;else if(i instanceof Int32Array)r=p.INT;else if(i instanceof Int8Array)r=p.BYTE;else{if(!(i instanceof Uint8Array||i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);r=p.UNSIGNED_BYTE}return{buffer:s,type:r,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version,size:n}}(e,t));else if(i.version<e.version){if(i.size!==e.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");var a=i.buffer,n=e,s=t,r=n.array,o=n.updateRanges;if(p.bindBuffer(s,a),0===o.length)p.bufferSubData(s,0,r);else{o.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<o.length;e++){var l=o[t],c=o[e];c.start<=l.start+l.count+1?l.count=Math.max(l.count,c.start+c.count-l.start):o[++t]=c}o.length=t+1;for(let e=0,t=o.length;e<t;e++){var d=o[e];p.bufferSubData(s,d.start*r.BYTES_PER_ELEMENT,r,d.start,d.count)}n.clearUpdateRanges()}n.onUploadCallback(),i.version=e.version}}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"174"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="174");const A={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},z={common:{diffuse:{value:new Ze(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _},alphaMap:{value:null},alphaMapTransform:{value:new _},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _}},envmap:{envMap:{value:null},envMapRotation:{value:new _},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _},normalScale:{value:new ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _},alphaTest:{value:0},uvTransform:{value:new _}},sprite:{diffuse:{value:new Ze(16777215)},opacity:{value:1},center:{value:new ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _},alphaMap:{value:null},alphaMapTransform:{value:new _},alphaTest:{value:0}}},Il={basic:{uniforms:kn([z.common,z.specularmap,z.envmap,z.aomap,z.lightmap,z.fog]),vertexShader:A.meshbasic_vert,fragmentShader:A.meshbasic_frag},lambert:{uniforms:kn([z.common,z.specularmap,z.envmap,z.aomap,z.lightmap,z.emissivemap,z.bumpmap,z.normalmap,z.displacementmap,z.fog,z.lights,{emissive:{value:new Ze(0)}}]),vertexShader:A.meshlambert_vert,fragmentShader:A.meshlambert_frag},phong:{uniforms:kn([z.common,z.specularmap,z.envmap,z.aomap,z.lightmap,z.emissivemap,z.bumpmap,z.normalmap,z.displacementmap,z.fog,z.lights,{emissive:{value:new Ze(0)},specular:{value:new Ze(1118481)},shininess:{value:30}}]),vertexShader:A.meshphong_vert,fragmentShader:A.meshphong_frag},standard:{uniforms:kn([z.common,z.envmap,z.aomap,z.lightmap,z.emissivemap,z.bumpmap,z.normalmap,z.displacementmap,z.roughnessmap,z.metalnessmap,z.fog,z.lights,{emissive:{value:new Ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:A.meshphysical_vert,fragmentShader:A.meshphysical_frag},toon:{uniforms:kn([z.common,z.aomap,z.lightmap,z.emissivemap,z.bumpmap,z.normalmap,z.displacementmap,z.gradientmap,z.fog,z.lights,{emissive:{value:new Ze(0)}}]),vertexShader:A.meshtoon_vert,fragmentShader:A.meshtoon_frag},matcap:{uniforms:kn([z.common,z.bumpmap,z.normalmap,z.displacementmap,z.fog,{matcap:{value:null}}]),vertexShader:A.meshmatcap_vert,fragmentShader:A.meshmatcap_frag},points:{uniforms:kn([z.points,z.fog]),vertexShader:A.points_vert,fragmentShader:A.points_frag},dashed:{uniforms:kn([z.common,z.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:A.linedashed_vert,fragmentShader:A.linedashed_frag},depth:{uniforms:kn([z.common,z.displacementmap]),vertexShader:A.depth_vert,fragmentShader:A.depth_frag},normal:{uniforms:kn([z.common,z.bumpmap,z.normalmap,z.displacementmap,{opacity:{value:1}}]),vertexShader:A.meshnormal_vert,fragmentShader:A.meshnormal_frag},sprite:{uniforms:kn([z.sprite,z.fog]),vertexShader:A.sprite_vert,fragmentShader:A.sprite_frag},background:{uniforms:{uvTransform:{value:new _},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:A.background_vert,fragmentShader:A.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _}},vertexShader:A.backgroundCube_vert,fragmentShader:A.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:A.cube_vert,fragmentShader:A.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:A.equirect_vert,fragmentShader:A.equirect_frag},distanceRGBA:{uniforms:kn([z.common,z.displacementmap,{referencePosition:{value:new Je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:A.distanceRGBA_vert,fragmentShader:A.distanceRGBA_frag},shadow:{uniforms:kn([z.lights,z.fog,{color:{value:new Ze(0)},opacity:{value:1}}]),vertexShader:A.shadow_vert,fragmentShader:A.shadow_frag}},El=(Il.physical={uniforms:kn([Il.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _},clearcoatNormalScale:{value:new ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _},sheen:{value:0},sheenColor:{value:new Ze(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _},transmissionSamplerSize:{value:new ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _},attenuationDistance:{value:0},attenuationColor:{value:new Ze(0)},specularColor:{value:new Ze(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _},anisotropyVector:{value:new ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _}}]),vertexShader:A.meshphysical_vert,fragmentShader:A.meshphysical_frag},{r:0,b:0,g:0}),zl=new ga,kl=new Ke;function Dl(a,i,n,s,r,e,o){const l=new Ze(0);let c=!0===e?0:1,d,p,u=null,h=0,m=null;function f(e){let t=!0===e.isScene?e.background:null;return t&&t.isTexture&&(e=0<e.backgroundBlurriness,t=(e?n:i).get(t)),t}function g(e,t){e.getRGB(El,Dn(a)),s.buffers.color.setClear(El.r,El.g,El.b,t,o)}return{getClearColor:function(){return l},setClearColor:function(e,t=1){l.set(e),c=t,g(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,g(l,c)},render:function(e){let t=!1;null===(e=f(e))?g(l,c):e&&e.isColor&&(g(e,1),t=!0),"additive"===(e=a.xr.getEnvironmentBlendMode())?s.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===e&&s.buffers.color.setClear(0,0,0,0,o),(a.autoClear||t)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil))},addToRenderList:function(e,t){var i=f(t);i&&(i.isCubeTexture||i.mapping===Ce)?(void 0===p&&((p=new P(new En(1,1,1),new Pn({name:"BackgroundCubeMaterial",uniforms:zn(Il.backgroundCube.uniforms),vertexShader:Il.backgroundCube.vertexShader,fragmentShader:Il.backgroundCube.fragmentShader,side:Qe,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(e,t,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),zl.copy(t.backgroundRotation),zl.x*=-1,zl.y*=-1,zl.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(zl.y*=-1,zl.z*=-1),p.material.uniforms.envMap.value=i,p.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,p.material.uniforms.backgroundBlurriness.value=t.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=t.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(kl.makeRotationFromEuler(zl)),p.material.toneMapped=Xe.getTransfer(i.colorSpace)!==me,u===i&&h===i.version&&m===a.toneMapping||(p.material.needsUpdate=!0,u=i,h=i.version,m=a.toneMapping),p.layers.enableAll(),e.unshift(p,p.geometry,p.material,0,0,null)):i&&i.isTexture&&(void 0===d&&((d=new P(new Xr(2,2),new Pn({name:"BackgroundMaterial",uniforms:zn(Il.background.uniforms),vertexShader:Il.background.vertexShader,fragmentShader:Il.background.fragmentShader,side:$e,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=i,d.material.uniforms.backgroundIntensity.value=t.backgroundIntensity,d.material.toneMapped=Xe.getTransfer(i.colorSpace)!==me,!0===i.matrixAutoUpdate&&i.updateMatrix(),d.material.uniforms.uvTransform.value.copy(i.matrix),u===i&&h===i.version&&m===a.toneMapping||(d.material.needsUpdate=!0,u=i,h=i.version,m=a.toneMapping),d.layers.enableAll(),e.unshift(d,d.geometry,d.material,0,0,null))},dispose:function(){void 0!==p&&(p.geometry.dispose(),p.material.dispose(),p=void 0),void 0!==d&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}}}function Cl(C,P){const n=C.getParameter(C.MAX_VERTEX_ATTRIBS),R={},e=j(null);let L=e,O=!1;function N(e){C.bindVertexArray(e)}function s(e){C.deleteVertexArray(e)}function j(e){var t=[],i=[],a=[];for(let e=0;e<n;e++)t[e]=0,i[e]=0,a[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:a,object:e,attributes:{},index:null}}function F(){var i=L.newAttributes;for(let e=0,t=i.length;e<t;e++)i[e]=0}function U(e){B(e,0)}function B(e,t){var i=L.newAttributes,a=L.enabledAttributes,n=L.attributeDivisors;i[e]=1,0===a[e]&&(C.enableVertexAttribArray(e),a[e]=1),n[e]!==t&&(C.vertexAttribDivisor(e,t),n[e]=t)}function V(){var i=L.newAttributes,a=L.enabledAttributes;for(let e=0,t=a.length;e<t;e++)a[e]!==i[e]&&(C.disableVertexAttribArray(e),a[e]=0)}function G(e,t,i,a,n,s,r){!0===r?C.vertexAttribIPointer(e,t,i,n,s):C.vertexAttribPointer(e,t,i,a,n,s)}function r(){t(),O=!0,L!==e&&N((L=e).object)}function t(){e.geometry=null,e.program=null,e.wireframe=!1}return{setup:function(e,t,i,a,n){var s=function(e,t,i){i=!0===i.wireframe;let a=R[e.id];void 0===a&&(a={},R[e.id]=a);let n=a[t.id];void 0===n&&(n={},a[t.id]=n);let s=n[i];void 0===s&&(s=j(C.createVertexArray()),n[i]=s);return s}(a,i,t);if(L!==s&&N((L=s).object),s=function(t,e,i,a){var n=L.attributes,s=e.attributes;let r=0;var o=i.getAttributes();for(const c in o)if(0<=o[c].location){var l=n[c];let e=s[c];if(void 0===e&&("instanceMatrix"===c&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===c)&&t.instanceColor&&(e=t.instanceColor),void 0===l)return!0;if(l.attribute!==e)return!0;if(e&&l.data!==e.data)return!0;r++}return L.attributesNum!==r||L.index!==a}(e,a,i,n)){var r=e,o=i,l=n,c={},d=a.attributes;let t=0;var p=o.getAttributes();for(const k in p)if(0<=p[k].location){let e=d[k];void 0===e&&("instanceMatrix"===k&&r.instanceMatrix&&(e=r.instanceMatrix),"instanceColor"===k)&&r.instanceColor&&(e=r.instanceColor);var u={};(u.attribute=e)&&e.data&&(u.data=e.data),c[k]=u,t++}L.attributes=c,L.attributesNum=t,L.index=l}if(null!==n&&P.update(n,C.ELEMENT_ARRAY_BUFFER),s||O){O=!1;var h=e,o=t,l=i,m=a,f=(F(),m.attributes),g=l.getAttributes(),_=o.defaultAttributeValues;for(const D in g){var y=g[D];if(0<=y.location){let t=f[D];if(void 0!==(t=void 0===t&&("instanceMatrix"===D&&h.instanceMatrix&&(t=h.instanceMatrix),"instanceColor"===D)&&h.instanceColor?h.instanceColor:t)){var b=t.normalized,v=t.itemSize,x=P.get(t);if(void 0!==x){var S=x.buffer,w=x.type,T=x.bytesPerElement,A=w===C.INT||w===C.UNSIGNED_INT||t.gpuType===Ne;if(t.isInterleavedBufferAttribute){var M=t.data,I=M.stride,E=t.offset;if(M.isInstancedInterleavedBuffer){for(let e=0;e<y.locationSize;e++)B(y.location+e,M.meshPerAttribute);!0!==h.isInstancedMesh&&void 0===m._maxInstanceCount&&(m._maxInstanceCount=M.meshPerAttribute*M.count)}else for(let e=0;e<y.locationSize;e++)U(y.location+e);C.bindBuffer(C.ARRAY_BUFFER,S);for(let e=0;e<y.locationSize;e++)G(y.location+e,v/y.locationSize,w,b,I*T,(E+v/y.locationSize*e)*T,A)}else{if(t.isInstancedBufferAttribute){for(let e=0;e<y.locationSize;e++)B(y.location+e,t.meshPerAttribute);!0!==h.isInstancedMesh&&void 0===m._maxInstanceCount&&(m._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<y.locationSize;e++)U(y.location+e);C.bindBuffer(C.ARRAY_BUFFER,S);for(let e=0;e<y.locationSize;e++)G(y.location+e,v/y.locationSize,w,b,v*T,v/y.locationSize*e*T,A)}}}else if(void 0!==_){var z=_[D];if(void 0!==z)switch(z.length){case 2:C.vertexAttrib2fv(y.location,z);break;case 3:C.vertexAttrib3fv(y.location,z);break;case 4:C.vertexAttrib4fv(y.location,z);break;default:C.vertexAttrib1fv(y.location,z)}}}}V(),null!==n&&C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,P.get(n).buffer)}},reset:r,resetDefaultState:t,dispose:function(){r();for(const i in R){var e=R[i];for(const a in e){var t=e[a];for(const n in t)s(t[n].object),delete t[n];delete e[a]}delete R[i]}},releaseStatesOfGeometry:function(e){if(void 0!==R[e.id]){var t=R[e.id];for(const a in t){var i=t[a];for(const n in i)s(i[n].object),delete i[n];delete t[a]}delete R[e.id]}},releaseStatesOfProgram:function(e){for(const a in R){var t=R[a];if(void 0!==t[e.id]){var i=t[e.id];for(const n in i)s(i[n].object),delete i[n];delete t[e.id]}}},initAttributes:F,enableAttribute:U,disableUnusedAttributes:V}}function Pl(a,r,o){let l;function t(e,t,i){0!==i&&(a.drawArraysInstanced(l,e,t,i),o.update(t,l,i))}this.setMode=function(e){l=e},this.render=function(e,t){a.drawArrays(l,e,t),o.update(t,l,1)},this.renderInstances=t,this.renderMultiDraw=function(e,i,a){if(0!==a){r.get("WEBGL_multi_draw").multiDrawArraysWEBGL(l,e,0,i,0,a);let t=0;for(let e=0;e<a;e++)t+=i[e];o.update(t,l,1)}},this.renderMultiDrawInstances=function(i,a,n,s){if(0!==n){var e=r.get("WEBGL_multi_draw");if(null===e)for(let e=0;e<i.length;e++)t(i[e],a[e],s[e]);else{e.multiDrawArraysInstancedWEBGL(l,i,0,a,0,s,0,n);let t=0;for(let e=0;e<n;e++)t+=a[e]*s[e];o.update(t,l,1)}}}}function Rl(i,a,e,n){let t;function s(e){if("highp"===e){if(0<i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision&&0<i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision&&0<i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision?"mediump":"lowp"}let r=void 0!==e.precision?e.precision:"highp";var o=s(r),o=(o!==r&&(console.warn("THREE.WebGLRenderer:",r,"not supported, using",o,"instead."),r=o),!0===e.logarithmicDepthBuffer),e=!0===e.reverseDepthBuffer&&a.has("EXT_clip_control"),l=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),c=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=i.getParameter(i.MAX_TEXTURE_SIZE),p=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),u=i.getParameter(i.MAX_VERTEX_ATTRIBS),h=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),m=i.getParameter(i.MAX_VARYING_VECTORS),f=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),g=0<c,_=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:function(){var e;return t=void 0===t?!0===a.has("EXT_texture_filter_anisotropic")?(e=a.get("EXT_texture_filter_anisotropic"),i.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:t},getMaxPrecision:s,textureFormatReadable:function(e){return e===Fe||n.convert(e)===i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(e){var t=e===st&&(a.has("EXT_color_buffer_half_float")||a.has("EXT_color_buffer_float"));return!(e!==it&&n.convert(e)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&e!==je&&!t)},precision:r,logarithmicDepthBuffer:o,reverseDepthBuffer:e,maxTextures:l,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:p,maxAttributes:u,maxVertexUniforms:h,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:g,maxSamples:_}}function Ll(l){const c=this;let d=null,p=0,u=!1,h=!1;const o=new Ss,m=new _,f={value:null,needsUpdate:!1};function g(i,e,a,t){var n=null!==i?i.length:0;let s=null;if(0!==n){if(s=f.value,!0!==t||null===s){var t=a+4*n,r=e.matrixWorldInverse;m.getNormalMatrix(r),(null===s||s.length<t)&&(s=new Float32Array(t));for(let e=0,t=a;e!==n;++e,t+=4)o.copy(i[e]).applyMatrix4(r,m),o.normal.toArray(s,t),s[t+3]=o.constant}f.value=s,f.needsUpdate=!0}return c.numPlanes=n,c.numIntersection=0,s}this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var i=0!==e.length||t||0!==p||u;return u=t,p=e.length,i},this.beginShadows=function(){h=!0,g(null)},this.endShadows=function(){h=!1},this.setGlobalState=function(e,t){d=g(e,t,0)},this.setState=function(e,t,i){var a=e.clippingPlanes,n=e.clipIntersection,s=e.clipShadows,e=l.get(e);if(!u||null===a||0===a.length||h&&!s)h?g(null):(f.value!==d&&(f.value=d,f.needsUpdate=0<p),c.numPlanes=p,c.numIntersection=0);else{var s=h?0:p,r=4*s,o=e.clippingState||null;f.value=o,o=g(a,t,r,i);for(let e=0;e!==r;++e)o[e]=d[e];e.clippingState=o,this.numIntersection=n?this.numPlanes:0,this.numPlanes+=s}}}function Ol(i){let a=new WeakMap;function n(e,t){return t===c?e.mapping=N:t===p&&(e.mapping=j),e}function s(e){var e=e.target,t=(e.removeEventListener("dispose",s),a.get(e));void 0!==t&&(a.delete(e),t.dispose())}return{get:function(e){if(e&&e.isTexture){var t=e.mapping;if(t===c||t===p)return a.has(e)?n(a.get(e).texture,e.mapping):(t=e.image)&&0<t.height?((t=new Bn(t.height)).fromEquirectangularTexture(i,e),a.set(e,t),e.addEventListener("dispose",s),n(t.texture,e.mapping)):null}return e},dispose:function(){a=new WeakMap}}}const Nl=[.125,.215,.35,.446,.526,.582],jl=new qo,Fl=new Ze;let Ul=null,Bl=0,Vl=0,Gl=!1;pl=(1+Math.sqrt(5))/2,e=1/pl;const Hl=[new Je(-pl,e,0),new Je(pl,e,0),new Je(-e,0,pl),new Je(e,0,pl),new Je(0,pl,-e),new Je(0,pl,e),new Je(-1,1,-1),new Je(1,1,-1),new Je(-1,1,1),new Je(1,1,1)],Wl=new Je;class ql{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,a=100,n={}){var{size:n=256,position:s=Wl}=n,n=(Ul=this._renderer.getRenderTarget(),Bl=this._renderer.getActiveCubeFace(),Vl=this._renderer.getActiveMipmapLevel(),Gl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(n),this._allocateTargets());return n.depthBuffer=!0,this._sceneToCubeUV(e,i,a,n,s),0<t&&this._blur(n,0,0,t),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Kl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Jl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ul,Bl,Vl),this._renderer.xr.enabled=Gl,e.scissorTest=!1,Yl(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===N||e.mapping===j?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ul=this._renderer.getRenderTarget(),Bl=this._renderer.getActiveCubeFace(),Vl=this._renderer.getActiveMipmapLevel(),Gl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;t=t||this._allocateTargets();return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(){var e,t,i=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,n={magFilter:V,minFilter:V,generateMipmaps:!1,type:st,format:Fe,colorSpace:Wt,depthBuffer:!1},s=Xl(i,a,n);return null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.width===i&&this._pingPongRenderTarget.height===a||(null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Xl(i,a,n),n=this["_lodMax"],{sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(i){var a=[],n=[],s=[];let r=i;var e=i-4+1+Nl.length;for(let t=0;t<e;t++){var o=Math.pow(2,r);n.push(o);let e=1/o;t>i-4?e=Nl[t-i+4-1]:0===t&&(e=0),s.push(e);var o=1/(o-2),l=-o,o=1+o,c=[l,l,o,l,o,o,l,l,o,o,l,o],d=new Float32Array(108),p=new Float32Array(72),u=new Float32Array(36);for(let e=0;e<6;e++){var h=e%3*2/3-1,m=2<e?0:-1,h=(d.set([h,m,0,h+2/3,m,0,h+2/3,1+m,0,h,m,0,h+2/3,1+m,0,h,1+m,0],18*e),p.set(c,12*e),[e,e,e,e,e,e]);u.set(h,6*e)}l=new C;l.setAttribute("position",new D(d,3)),l.setAttribute("uv",new D(p,2)),l.setAttribute("faceIndex",new D(u,1)),a.push(l),4<r&&r--}return{lodPlanes:a,sizeLods:n,sigmas:s}}(n),this._blurMaterial=(n=n,i=i,a=a,e=new Float32Array(20),t=new Je(0,1,0),i=new Pn({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:n+".0"},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:Zl(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:K,depthTest:!1,depthWrite:!1}))),s}_compileMaterial(e){e=new P(this._lodPlanes[0],e);this._renderer.compile(e,jl)}_sceneToCubeUV(t,e,i,a,n){var s=new jn(90,1,e,i),r=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,e=l.autoClear,i=l.toneMapping,c=(l.getClearColor(Fl),l.toneMapping=et,l.autoClear=!1,new T({name:"PMREM.Background",side:Qe,depthWrite:!1,depthTest:!1})),d=new P(new En,c);let p=!1;var u=t.background;u?u.isColor&&(c.color.copy(u),t.background=null,p=!0):(c.color.copy(Fl),p=!0);for(let e=0;e<6;e++){var h=e%3,m=(0==h?(s.up.set(0,r[e],0),s.position.set(n.x,n.y,n.z),s.lookAt(n.x+o[e],n.y,n.z)):1==h?(s.up.set(0,0,r[e]),s.position.set(n.x,n.y,n.z),s.lookAt(n.x,n.y+o[e],n.z)):(s.up.set(0,r[e],0),s.position.set(n.x,n.y,n.z),s.lookAt(n.x,n.y,n.z+o[e])),this._cubeSize);Yl(a,h*m,2<e?m:0,m,m),l.setRenderTarget(a),p&&l.render(d,s),l.render(t,s)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=i,l.autoClear=e,t.background=u}_textureToCubeUV(e,t){var i=this._renderer,a=e.mapping===N||e.mapping===j,a=(a?(null===this._cubemapMaterial&&(this._cubemapMaterial=Kl()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Jl()),a?this._cubemapMaterial:this._equirectMaterial),n=new P(this._lodPlanes[0],a),a=(a.uniforms.envMap.value=e,this._cubeSize);Yl(t,0,0,3*a,2*a),i.setRenderTarget(t),i.render(n,jl)}_applyPMREM(t){var e=this._renderer,i=e.autoClear,a=(e.autoClear=!1,this._lodPlanes.length);for(let e=1;e<a;e++){var n=Math.sqrt(this._sigmas[e]*this._sigmas[e]-this._sigmas[e-1]*this._sigmas[e-1]),s=Hl[(a-e-1)%Hl.length];this._blur(t,e-1,e,n,s)}e.autoClear=i}_blur(e,t,i,a,n){var s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,a,"latitudinal",n),this._halfBlur(s,e,i,i,a,"longitudinal",n)}_halfBlur(e,t,i,a,n,s,r){var o=this._renderer,l=this._blurMaterial,c=("latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!"),new P(this._lodPlanes[a],l)),l=l.uniforms,d=this._sizeLods[i]-1,d=isFinite(n)?Math.PI/(2*d):2*Math.PI/39,p=n/d,u=isFinite(n)?1+Math.floor(3*p):20,h=(20<u&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${u} samples when the maximum is set to 20`),[]);let m=0;for(let e=0;e<20;++e){const g=e/p;var f=Math.exp(-g*g/2);h.push(f),0===e?m+=f:e<u&&(m+=2*f)}for(let e=0;e<h.length;e++)h[e]=h[e]/m;l.envMap.value=e.texture,l.samples.value=u,l.weights.value=h,l.latitudinal.value="latitudinal"===s,r&&(l.poleAxis.value=r);n=this._lodMax,l.dTheta.value=d,l.mipInt.value=n-i,e=this._sizeLods[a];const g=3*e*(n-4<a?a-n+4:0);s=4*(this._cubeSize-e);Yl(t,g,s,3*e,2*e),o.setRenderTarget(t),o.render(c,jl)}}function Xl(e,t,i){e=new zi(e,t,i);return e.texture.mapping=Ce,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Yl(e,t,i,a,n){e.viewport.set(t,i,a,n),e.scissor.set(t,i,a,n)}function Jl(){return new Pn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Zl(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:K,depthTest:!1,depthWrite:!1})}function Kl(){return new Pn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Zl(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:K,depthTest:!1,depthWrite:!1})}function Zl(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $l(s){let r=new WeakMap,o=null;function l(e){var e=e.target,t=(e.removeEventListener("dispose",l),r.get(e));void 0!==t&&(r.delete(e),t.dispose())}return{get:function(t){if(t&&t.isTexture){var i=t.mapping,a=i===c||i===p,i=i===N||i===j;if(a||i){let e=r.get(t);var n=void 0!==e?e.texture.pmremVersion:0;return t.isRenderTargetTexture&&t.pmremVersion!==n?(null===o&&(o=new ql(s)),(e=a?o.fromEquirectangular(t,e):o.fromCubemap(t,e)).texture.pmremVersion=t.pmremVersion,r.set(t,e),e.texture):void 0!==e?e.texture:(n=t.image,a&&n&&0<n.height||i&&n&&function(t){let i=0;for(let e=0;e<6;e++)void 0!==t[e]&&i++;return 6===i}(n)?(null===o&&(o=new ql(s)),(e=a?o.fromEquirectangular(t):o.fromCubemap(t)).texture.pmremVersion=t.pmremVersion,r.set(t,e),t.addEventListener("dispose",l),e.texture):null)}}return t},dispose:function(){r=new WeakMap,null!==o&&(o.dispose(),o=null)}}}function Ql(i){const a={};function n(e){if(void 0!==a[e])return a[e];let t;switch(e){case"WEBGL_depth_texture":t=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:t=i.getExtension(e)}return a[e]=t}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){var t=n(e);return null===t&&gi("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function ec(a,u,n,s){const r={},h=new WeakMap;function o(e){var t=e.target;null!==t.index&&u.remove(t.index);for(const i in t.attributes)u.remove(t.attributes[i]);t.removeEventListener("dispose",o),delete r[t.id];e=h.get(t);e&&(u.remove(e),h.delete(t)),s.releaseStatesOfGeometry(t),!0===t.isInstancedBufferGeometry&&delete t._maxInstanceCount,n.memory.geometries--}function l(e){var i=[],a=e.index,t=e.attributes.position;let n=0;if(null!==a){var s=a.array;n=a.version;for(let e=0,t=s.length;e<t;e+=3){var r=s[e+0],o=s[e+1],l=s[e+2];i.push(r,o,o,l,l,r)}}else{if(void 0===t)return;a=t.array;n=t.version;for(let e=0,t=a.length/3-1;e<t;e+=3){var c=e+0,d=e+1,p=e+2;i.push(c,d,d,p,p,c)}}t=new(hi(i)?ln:on)(i,1),t.version=n,a=h.get(e);a&&u.remove(a),h.set(e,t)}return{get:function(e,t){return!0!==r[t.id]&&(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var t=e.attributes;for(const i in t)u.update(t[i],a.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t,i=h.get(e);return(!i||null!==(t=e.index)&&i.version<t.version)&&l(e),h.get(e)}}}function tc(a,r,o){let l;let c,d;function t(e,t,i){0!==i&&(a.drawElementsInstanced(l,t,c,e*d,i),o.update(t,l,i))}this.setMode=function(e){l=e},this.setIndex=function(e){c=e.type,d=e.bytesPerElement},this.render=function(e,t){a.drawElements(l,t,c,e*d),o.update(t,l,1)},this.renderInstances=t,this.renderMultiDraw=function(e,i,a){if(0!==a){r.get("WEBGL_multi_draw").multiDrawElementsWEBGL(l,i,0,c,e,0,a);let t=0;for(let e=0;e<a;e++)t+=i[e];o.update(t,l,1)}},this.renderMultiDrawInstances=function(i,a,n,s){if(0!==n){var e=r.get("WEBGL_multi_draw");if(null===e)for(let e=0;e<i.length;e++)t(i[e]/d,a[e],s[e]);else{e.multiDrawElementsInstancedWEBGL(l,a,0,c,i,0,s,0,n);let t=0;for(let e=0;e<n;e++)t+=a[e]*s[e];o.update(t,l,1)}}}}function ic(a){const n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function(){n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function(e,t,i){switch(n.calls++,t){case a.TRIANGLES:n.triangles+=i*(e/3);break;case a.LINES:n.lines+=i*(e/2);break;case a.LINE_STRIP:n.lines+=i*(e-1);break;case a.LINE_LOOP:n.lines+=i*e;break;case a.POINTS:n.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t)}}}}function ac(S,w,t){const T=new WeakMap,A=new Ye;return{update:function(e,a,i){var n=e.morphTargetInfluences,s=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,r=void 0!==s?s.length:0;let o=T.get(a);if(void 0===o||o.count!==r){void 0!==o&&o.texture.dispose();var l=void 0!==a.morphAttributes.position,c=void 0!==a.morphAttributes.normal,d=void 0!==a.morphAttributes.color,p=a.morphAttributes.position||[],u=a.morphAttributes.normal||[],h=a.morphAttributes.color||[];let e=!0==d?3:!0==c?2:!0==l?1:0,t=a.attributes.position.count*e,i=1;t>w.maxTextureSize&&(i=Math.ceil(t/w.maxTextureSize),t=w.maxTextureSize);var m=new Float32Array(t*i*4*r);const x=new ki(m,t,i,r);x.type=je,x.needsUpdate=!0;var f=4*e;for(let e=0;e<r;e++){var g=p[e],_=u[e],y=h[e],b=t*i*4*e;for(let e=0;e<g.count;e++){var v=e*f;!0==l&&(A.fromBufferAttribute(g,e),m[b+v]=A.x,m[b+v+1]=A.y,m[b+v+2]=A.z,m[b+v+3]=0),!0==c&&(A.fromBufferAttribute(_,e),m[b+v+4]=A.x,m[b+v+5]=A.y,m[b+v+6]=A.z,m[b+v+7]=0),!0==d&&(A.fromBufferAttribute(y,e),m[b+v+8]=A.x,m[b+v+9]=A.y,m[b+v+10]=A.z,m[b+v+11]=4===y.itemSize?A.w:1)}}o={count:r,texture:x,size:new ie(t,i)},T.set(a,o),a.addEventListener("dispose",function e(){x.dispose(),T.delete(a),a.removeEventListener("dispose",e)})}if(!0===e.isInstancedMesh&&null!==e.morphTexture)i.getUniforms().setValue(S,"morphTexture",e.morphTexture,t);else{let t=0;for(let e=0;e<n.length;e++)t+=n[e];s=a.morphTargetsRelative?1:1-t;i.getUniforms().setValue(S,"morphTargetBaseInfluence",s),i.getUniforms().setValue(S,"morphTargetInfluences",n)}i.getUniforms().setValue(S,"morphTargetsTexture",o.texture,t),i.getUniforms().setValue(S,"morphTargetsTextureSize",o.size)}}}function nc(a,n,s,r){let o=new WeakMap;function l(e){e=e.target;e.removeEventListener("dispose",l),s.remove(e.instanceMatrix),null!==e.instanceColor&&s.remove(e.instanceColor)}return{update:function(e){var t=r.render.frame,i=e.geometry,i=n.get(e,i);return o.get(i)!==t&&(n.update(i),o.set(i,t)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",l)&&e.addEventListener("dispose",l),o.get(e)!==t)&&(s.update(e.instanceMatrix,a.ARRAY_BUFFER),null!==e.instanceColor&&s.update(e.instanceColor,a.ARRAY_BUFFER),o.set(e,t)),e.isSkinnedMesh&&(e=e.skeleton,o.get(e)!==t)&&(e.update(),o.set(e,t)),i},dispose:function(){o=new WeakMap}}}const sc=new d,rc=new Ks(1,1),oc=new ki,lc=new Di,cc=new Un,dc=[],pc=[],uc=new Float32Array(16),hc=new Float32Array(9),mc=new Float32Array(4);function fc(i,a,n){var e=i[0];if(e<=0||0<e)return i;var t=a*n;let s=dc[t];if(void 0===s&&(s=new Float32Array(t),dc[t]=s),0!==a){e.toArray(s,0);for(let e=1,t=0;e!==a;++e)t+=n,i[e].toArray(s,t)}return s}function gc(i,a){if(i.length===a.length){for(let e=0,t=i.length;e<t;e++)if(i[e]!==a[e])return;return 1}}function _c(i,a){for(let e=0,t=a.length;e<t;e++)i[e]=a[e]}function yc(t,i){let a=pc[i];void 0===a&&(a=new Int32Array(i),pc[i]=a);for(let e=0;e!==i;++e)a[e]=t.allocateTextureUnit();return a}function bc(e,t){var i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function vc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y):gc(i,t)||(e.uniform2fv(this.addr,t),_c(i,t))}function xc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z):void 0!==t.r?i[0]===t.r&&i[1]===t.g&&i[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b):gc(i,t)||(e.uniform3fv(this.addr,t),_c(i,t))}function Sc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w):gc(i,t)||(e.uniform4fv(this.addr,t),_c(i,t))}function wc(e,t){var i=this.cache,a=t.elements;void 0===a?gc(i,t)||(e.uniformMatrix2fv(this.addr,!1,t),_c(i,t)):gc(i,a)||(mc.set(a),e.uniformMatrix2fv(this.addr,!1,mc),_c(i,a))}function Tc(e,t){var i=this.cache,a=t.elements;void 0===a?gc(i,t)||(e.uniformMatrix3fv(this.addr,!1,t),_c(i,t)):gc(i,a)||(hc.set(a),e.uniformMatrix3fv(this.addr,!1,hc),_c(i,a))}function Ac(e,t){var i=this.cache,a=t.elements;void 0===a?gc(i,t)||(e.uniformMatrix4fv(this.addr,!1,t),_c(i,t)):gc(i,a)||(uc.set(a),e.uniformMatrix4fv(this.addr,!1,uc),_c(i,a))}function Mc(e,t){var i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function Ic(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y):gc(i,t)||(e.uniform2iv(this.addr,t),_c(i,t))}function Ec(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z):gc(i,t)||(e.uniform3iv(this.addr,t),_c(i,t))}function zc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w):gc(i,t)||(e.uniform4iv(this.addr,t),_c(i,t))}function kc(e,t){var i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function Dc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y):gc(i,t)||(e.uniform2uiv(this.addr,t),_c(i,t))}function Cc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z):gc(i,t)||(e.uniform3uiv(this.addr,t),_c(i,t))}function Pc(e,t){var i=this.cache;void 0!==t.x?i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w):gc(i,t)||(e.uniform4uiv(this.addr,t),_c(i,t))}function Rc(e,t,i){var a=this.cache,n=i.allocateTextureUnit();a[0]!==n&&(e.uniform1i(this.addr,n),a[0]=n);let s;s=this.type===e.SAMPLER_2D_SHADOW?(rc.compareFunction=Kt,rc):sc,i.setTexture2D(t||s,n)}function Lc(e,t,i){var a=this.cache,n=i.allocateTextureUnit();a[0]!==n&&(e.uniform1i(this.addr,n),a[0]=n),i.setTexture3D(t||lc,n)}function Oc(e,t,i){var a=this.cache,n=i.allocateTextureUnit();a[0]!==n&&(e.uniform1i(this.addr,n),a[0]=n),i.setTextureCube(t||cc,n)}function Nc(e,t,i){var a=this.cache,n=i.allocateTextureUnit();a[0]!==n&&(e.uniform1i(this.addr,n),a[0]=n),i.setTexture2DArray(t||oc,n)}function jc(e,t){e.uniform1fv(this.addr,t)}function Fc(e,t){t=fc(t,this.size,2);e.uniform2fv(this.addr,t)}function Uc(e,t){t=fc(t,this.size,3);e.uniform3fv(this.addr,t)}function Bc(e,t){t=fc(t,this.size,4);e.uniform4fv(this.addr,t)}function Vc(e,t){t=fc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function Gc(e,t){t=fc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function Hc(e,t){t=fc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function Wc(e,t){e.uniform1iv(this.addr,t)}function qc(e,t){e.uniform2iv(this.addr,t)}function Xc(e,t){e.uniform3iv(this.addr,t)}function Yc(e,t){e.uniform4iv(this.addr,t)}function Jc(e,t){e.uniform1uiv(this.addr,t)}function Kc(e,t){e.uniform2uiv(this.addr,t)}function Zc(e,t){e.uniform3uiv(this.addr,t)}function $c(e,t){e.uniform4uiv(this.addr,t)}function Qc(e,t,i){var a=this.cache,n=t.length,s=yc(i,n);gc(a,s)||(e.uniform1iv(this.addr,s),_c(a,s));for(let e=0;e!==n;++e)i.setTexture2D(t[e]||sc,s[e])}function ed(e,t,i){var a=this.cache,n=t.length,s=yc(i,n);gc(a,s)||(e.uniform1iv(this.addr,s),_c(a,s));for(let e=0;e!==n;++e)i.setTexture3D(t[e]||lc,s[e])}function td(e,t,i){var a=this.cache,n=t.length,s=yc(i,n);gc(a,s)||(e.uniform1iv(this.addr,s),_c(a,s));for(let e=0;e!==n;++e)i.setTextureCube(t[e]||cc,s[e])}function id(e,t,i){var a=this.cache,n=t.length,s=yc(i,n);gc(a,s)||(e.uniform1iv(this.addr,s),_c(a,s));for(let e=0;e!==n;++e)i.setTexture2DArray(t[e]||oc,s[e])}class ad{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return bc;case 35664:return vc;case 35665:return xc;case 35666:return Sc;case 35674:return wc;case 35675:return Tc;case 35676:return Ac;case 5124:case 35670:return Mc;case 35667:case 35671:return Ic;case 35668:case 35672:return Ec;case 35669:case 35673:return zc;case 5125:return kc;case 36294:return Dc;case 36295:return Cc;case 36296:return Pc;case 35678:case 36198:case 36298:case 36306:case 35682:return Rc;case 35679:case 36299:case 36307:return Lc;case 35680:case 36300:case 36308:case 36293:return Oc;case 36289:case 36303:case 36311:case 36292:return Nc}}(t.type)}}class nd{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return jc;case 35664:return Fc;case 35665:return Uc;case 35666:return Bc;case 35674:return Vc;case 35675:return Gc;case 35676:return Hc;case 5124:case 35670:return Wc;case 35667:case 35671:return qc;case 35668:case 35672:return Xc;case 35669:case 35673:return Yc;case 5125:return Jc;case 36294:return Kc;case 36295:return Zc;case 36296:return $c;case 35678:case 36198:case 36298:case 36306:case 35682:return Qc;case 35679:case 36299:case 36307:return ed;case 35680:case 36300:case 36308:case 36293:return td;case 36289:case 36303:case 36311:case 36292:return id}}(t.type)}}class sd{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(i,a,n){var s=this.seq;for(let e=0,t=s.length;e!==t;++e){var r=s[e];r.setValue(i,a[r.id],n)}}}const rd=/(\w+)(\])?(\[|\.)?/g;function od(e,t){e.seq.push(t),e.map[t.id]=t}class ld{constructor(t,i){this.seq=[],this.map={};var a=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let e=0;e<a;++e){var n=t.getActiveUniform(i,e),s=t.getUniformLocation(i,n.name),r=(h=u=p=d=c=l=o=r=void 0,n),o=s,l=this,c=r.name,d=c.length;for(rd.lastIndex=0;;){var p=rd.exec(c),u=rd.lastIndex;let t=p[1];var h="]"===p[2],p=p[3];if(h&&(t|=0),void 0===p||"["===p&&u+2===d){od(l,new(void 0===p?ad:nd)(t,r,o));break}{let e=l.map[t];void 0===e&&od(l,e=new sd(t)),l=e}}}}setValue(e,t,i,a){t=this.map[t];void 0!==t&&t.setValue(e,i,a)}setOptional(e,t,i){t=t[i];void 0!==t&&this.setValue(e,i,t)}static upload(i,a,n,s){for(let e=0,t=a.length;e!==t;++e){var r=a[e],o=n[r.id];!1!==o.needsUpdate&&r.setValue(i,o.value,s)}}static seqWithValue(i,a){var n=[];for(let e=0,t=i.length;e!==t;++e){var s=i[e];s.id in a&&n.push(s)}return n}}function cd(e,t,i){t=e.createShader(t);return e.shaderSource(t,i),e.compileShader(t),t}const dd=37297;let pd=0;const ud=new _;function hd(e,t,i){var a=e.getShaderParameter(t,e.COMPILE_STATUS),n=e.getShaderInfoLog(t).trim();return a&&""===n?"":(a=/ERROR: 0:(\d+)/.exec(n))?(a=parseInt(a[1]),i.toUpperCase()+"\n\n"+n+"\n\n"+function(t,i){var a=t.split("\n"),n=[],t=Math.max(i-6,0),s=Math.min(i+6,a.length);for(let e=t;e<s;e++){var r=e+1;n.push(`${r===i?">":" "} ${r}: `+a[e])}return n.join("\n")}(e.getShaderSource(t),a)):n}function md(e,t){t=function(e){Xe._getMatrix(ud,Xe.workingColorSpace,e);var t=`mat3( ${ud.elements.map(e=>e.toFixed(4))} )`;switch(Xe.getTransfer(e)){case qt:return[t,"LinearTransferOETF"];case me:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}const fd=new Je;function gd(e){return""!==e}function _d(e,t){var i=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function yd(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const bd=/^[ \t]*#include +<([\w\d./]+)>/gm;function vd(e){return e.replace(bd,Sd)}const xd=new Map;function Sd(e,t){let i=A[t];if(void 0===i){var a=xd.get(t);if(void 0===a)throw new Error("Can not resolve #include <"+t+">");i=A[a],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,a)}return vd(i)}const wd=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Td(e){return e.replace(wd,Ad)}function Ad(e,t,i,a){let n="";for(let e=parseInt(t);e<parseInt(i);e++)n+=a.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return n}function Md(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Id(l,e,t,i){const c=l.getContext();var a=t.defines,n=t.vertexShader,s=t.fragmentShader,r=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===L?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===O&&(t="SHADOWMAP_TYPE_VSM"),t}(t),o=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case N:case j:t="ENVMAP_TYPE_CUBE";break;case Ce:t="ENVMAP_TYPE_CUBE_UV"}return t}(t),d=function(e){let t="ENVMAP_MODE_REFLECTION";return t=e.envMap&&e.envMapMode===j?"ENVMAP_MODE_REFRACTION":t}(t),p=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(t),u=null===(u=(u=t).envMapCubeUVHeight)?null:(h=Math.log2(u)-2,u=1/u,{texelWidth:1/(3*Math.max(Math.pow(2,h),112)),texelHeight:u,maxMip:h}),h=[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(gd).join("\n"),a=function(e){var t=[];for(const a in e){var i=e[a];!1!==i&&t.push("#define "+a+" "+i)}return t.join("\n")}(a);const m=c.createProgram();let f,g,_=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(0<(f=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,a].filter(gd).join("\n")).length&&(f+="\n"),0<(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,a].filter(gd).join("\n")).length&&(g+="\n")):(f=[Md(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,a,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",0<t.morphTargetsCount?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",0<t.morphTargetsCount?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+r:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",0<t.numLightProbes?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(gd).join("\n"),g=[Md(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,a,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+o:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+r:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",0<t.numLightProbes?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==et?"#define TONE_MAPPING":"",t.toneMapping!==et?A.tonemapping_pars_fragment:"",t.toneMapping!==et?function(e,t){let i;switch(t){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Cineon";break;case 4:i="ACESFilmic";break;case 6:i="AgX";break;case 7:i="Neutral";break;case 5:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",A.colorspace_pars_fragment,md("linearToOutputTexel",t.outputColorSpace),(Xe.getLuminanceCoefficients(fd),["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${fd.x.toFixed(4)}, ${fd.y.toFixed(4)}, ${fd.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(gd).join("\n")),n=yd(_d(vd(n),t),t),s=yd(_d(vd(s),t),t),n=Td(n),s=Td(s),!0!==t.isRawShaderMaterial&&(_="#version 300 es\n",f=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+f,g=["#define varying in",t.glslVersion===ti?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ti?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);a=_+f+n,o=_+g+s;const y=cd(c,c.VERTEX_SHADER,a),b=cd(c,c.FRAGMENT_SHADER,o);function v(i){if(l.debug.checkShaderErrors){var a,n,s=c.getProgramInfoLog(m).trim(),r=c.getShaderInfoLog(y).trim(),o=c.getShaderInfoLog(b).trim();let e=!0,t=!0;!1===c.getProgramParameter(m,c.LINK_STATUS)?(e=!1,"function"==typeof l.debug.onShaderError?l.debug.onShaderError(c,m,y,b):(a=hd(c,y,"vertex"),n=hd(c,b,"fragment"),console.error("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(m,c.VALIDATE_STATUS)+"\n\nMaterial Name: "+i.name+"\nMaterial Type: "+i.type+"\n\nProgram Info Log: "+s+"\n"+a+"\n"+n))):""!==s?console.warn("THREE.WebGLProgram: Program Info Log:",s):""!==r&&""!==o||(t=!1),t&&(i.diagnostics={runnable:e,programLog:s,vertexShader:{log:r,prefix:f},fragmentShader:{log:o,prefix:g}})}c.deleteShader(y),c.deleteShader(b),x=new ld(c,m),S=function(i,a){var n={},e=i.getProgramParameter(a,i.ACTIVE_ATTRIBUTES);for(let t=0;t<e;t++){var s=i.getActiveAttrib(a,t),r=s.name;let e=1;s.type===i.FLOAT_MAT2&&(e=2),s.type===i.FLOAT_MAT3&&(e=3),s.type===i.FLOAT_MAT4&&(e=4),n[r]={type:s.type,location:i.getAttribLocation(a,r),locationSize:e}}return n}(c,m)}c.attachShader(m,y),c.attachShader(m,b),void 0!==t.index0AttributeName?c.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&c.bindAttribLocation(m,0,"position"),c.linkProgram(m);let x;this.getUniforms=function(){return void 0===x&&v(this),x};let S,w=!(this.getAttributes=function(){return void 0===S&&v(this),S})===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return w=!1===w?c.getProgramParameter(m,dd):w},this.destroy=function(){i.releaseStatesOfProgram(this),c.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=pd++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=y,this.fragmentShader=b,this}let Ed=0;class zd{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){var t=e.vertexShader,i=e.fragmentShader,t=this._getShaderStage(t),i=this._getShaderStage(i),e=this._getShaderCacheForMaterial(e);return!1===e.has(t)&&(e.add(t),t.usedTimes++),!1===e.has(i)&&(e.add(i),i.usedTimes++),this}remove(e){for(const t of this.materialCache.get(e))t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){var t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){var t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new kd(e),t.set(e,i)),i}}class kd{constructor(e){this.id=Ed++,this.code=e,this.usedTimes=0}}function Dd(te,ie,ae,ne,se,t,re){const s=new _a,oe=new zd,le=new Set,r=[],ce=se.logarithmicDepthBuffer,de=se.vertexTextures;let pe=se.precision;const ue={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function he(e){return le.add(e),0===e?"uv":"uv"+e}return{getParameters:function(e,t,O,i,a){var n=i.fog,s=a.geometry,i=e.isMeshStandardMaterial?i.environment:null,N=(i=(e.isMeshStandardMaterial?ae:ie).get(e.envMap||i))&&i.mapping===Ce?i.image.height:null,r=ue[e.type];null!==e.precision&&(pe=se.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",pe,"instead.");var o=void 0!==(o=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color)?o.length:0;let l=0;void 0!==s.morphAttributes.position&&(l=1),void 0!==s.morphAttributes.normal&&(l=2),void 0!==s.morphAttributes.color&&(l=3);let c,d,p,u;r?(h=Il[r],c=h.vertexShader,d=h.fragmentShader):(c=e.vertexShader,d=e.fragmentShader,oe.update(e),p=oe.getVertexShaderID(e),u=oe.getFragmentShaderID(e));var h=te.getRenderTarget(),j=te.state.buffers.depth.getReversed(),m=!0===a.isInstancedMesh,f=!0===a.isBatchedMesh,g=!!e.map,F=!!e.matcap,_=!!i,y=!!e.aoMap,b=!!e.lightMap,v=!!e.bumpMap,x=!!e.normalMap,S=!!e.displacementMap,w=!!e.emissiveMap,T=!!e.metalnessMap,A=!!e.roughnessMap,M=0<e.anisotropy,I=0<e.clearcoat,U=0<e.dispersion,E=0<e.iridescence,z=0<e.sheen,k=0<e.transmission,D=M&&!!e.anisotropyMap,C=I&&!!e.clearcoatMap,P=I&&!!e.clearcoatNormalMap,R=I&&!!e.clearcoatRoughnessMap,B=E&&!!e.iridescenceMap,V=E&&!!e.iridescenceThicknessMap,G=z&&!!e.sheenColorMap,H=z&&!!e.sheenRoughnessMap,W=!!e.specularMap,q=!!e.specularColorMap,X=!!e.specularIntensityMap,Y=k&&!!e.transmissionMap,J=k&&!!e.thicknessMap,K=!!e.gradientMap,L=!!e.alphaMap,Z=0<e.alphaTest,$=!!e.alphaHash,Q=!!e.extensions;let ee=et;return!e.toneMapped||null!==h&&!0!==h.isXRRenderTarget||(ee=te.toneMapping),(r={shaderID:r,shaderType:e.type,shaderName:e.name,vertexShader:c,fragmentShader:d,defines:e.defines,customVertexShaderID:p,customFragmentShaderID:u,isRawShaderMaterial:!0===e.isRawShaderMaterial,glslVersion:e.glslVersion,precision:pe,batching:f,batchingColor:f&&null!==a._colorsTexture,instancing:m,instancingColor:m&&null!==a.instanceColor,instancingMorph:m&&null!==a.morphTexture,supportsVertexTextures:de,outputColorSpace:null===h?te.outputColorSpace:!0===h.isXRRenderTarget?h.texture.colorSpace:Wt,alphaToCoverage:!!e.alphaToCoverage,map:g,matcap:F,envMap:_,envMapMode:_&&i.mapping,envMapCubeUVHeight:N,aoMap:y,lightMap:b,bumpMap:v,normalMap:x,displacementMap:de&&S,emissiveMap:w,normalMapObjectSpace:x&&e.normalMapType===Gt,normalMapTangentSpace:x&&e.normalMapType===Vt,metalnessMap:T,roughnessMap:A,anisotropy:M,anisotropyMap:D,clearcoat:I,clearcoatMap:C,clearcoatNormalMap:P,clearcoatRoughnessMap:R,dispersion:U,iridescence:E,iridescenceMap:B,iridescenceThicknessMap:V,sheen:z,sheenColorMap:G,sheenRoughnessMap:H,specularMap:W,specularColorMap:q,specularIntensityMap:X,transmission:k,transmissionMap:Y,thicknessMap:J,gradientMap:K,opaque:!1===e.transparent&&e.blending===fe&&!1===e.alphaToCoverage,alphaMap:L,alphaTest:Z,alphaHash:$,combine:e.combine,mapUv:g&&he(e.map.channel),aoMapUv:y&&he(e.aoMap.channel),lightMapUv:b&&he(e.lightMap.channel),bumpMapUv:v&&he(e.bumpMap.channel),normalMapUv:x&&he(e.normalMap.channel),displacementMapUv:S&&he(e.displacementMap.channel),emissiveMapUv:w&&he(e.emissiveMap.channel),metalnessMapUv:T&&he(e.metalnessMap.channel),roughnessMapUv:A&&he(e.roughnessMap.channel),anisotropyMapUv:D&&he(e.anisotropyMap.channel),clearcoatMapUv:C&&he(e.clearcoatMap.channel),clearcoatNormalMapUv:P&&he(e.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:R&&he(e.clearcoatRoughnessMap.channel),iridescenceMapUv:B&&he(e.iridescenceMap.channel),iridescenceThicknessMapUv:V&&he(e.iridescenceThicknessMap.channel),sheenColorMapUv:G&&he(e.sheenColorMap.channel),sheenRoughnessMapUv:H&&he(e.sheenRoughnessMap.channel),specularMapUv:W&&he(e.specularMap.channel),specularColorMapUv:q&&he(e.specularColorMap.channel),specularIntensityMapUv:X&&he(e.specularIntensityMap.channel),transmissionMapUv:Y&&he(e.transmissionMap.channel),thicknessMapUv:J&&he(e.thicknessMap.channel),alphaMapUv:L&&he(e.alphaMap.channel),vertexTangents:!!s.attributes.tangent&&(x||M),vertexColors:e.vertexColors,vertexAlphas:!0===e.vertexColors&&!!s.attributes.color&&4===s.attributes.color.itemSize,pointsUvs:!0===a.isPoints&&!!s.attributes.uv&&(g||L),fog:!!n,useFog:!0===e.fog,fogExp2:!!n&&n.isFogExp2,flatShading:!0===e.flatShading,sizeAttenuation:!0===e.sizeAttenuation,logarithmicDepthBuffer:ce,reverseDepthBuffer:j,skinning:!0===a.isSkinnedMesh,morphTargets:void 0!==s.morphAttributes.position,morphNormals:void 0!==s.morphAttributes.normal,morphColors:void 0!==s.morphAttributes.color,morphTargetsCount:o,morphTextureStride:l,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numSpotLightMaps:t.spotLightMap.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numDirLightShadows:t.directionalShadowMap.length,numPointLightShadows:t.pointShadowMap.length,numSpotLightShadows:t.spotShadowMap.length,numSpotLightShadowsWithMaps:t.numSpotLightShadowsWithMaps,numLightProbes:t.numLightProbes,numClippingPlanes:re.numPlanes,numClipIntersection:re.numIntersection,dithering:e.dithering,shadowMapEnabled:te.shadowMap.enabled&&0<O.length,shadowMapType:te.shadowMap.type,toneMapping:ee,decodeVideoTexture:g&&!0===e.map.isVideoTexture&&Xe.getTransfer(e.map.colorSpace)===me,decodeVideoTextureEmissive:w&&!0===e.emissiveMap.isVideoTexture&&Xe.getTransfer(e.emissiveMap.colorSpace)===me,premultipliedAlpha:e.premultipliedAlpha,doubleSided:e.side===We,flipSided:e.side===Qe,useDepthPacking:0<=e.depthPacking,depthPacking:e.depthPacking||0,index0AttributeName:e.index0AttributeName,extensionClipCullDistance:Q&&!0===e.extensions.clipCullDistance&&ne.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Q&&!0===e.extensions.multiDraw||f)&&ne.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:ne.has("KHR_parallel_shader_compile"),customProgramCacheKey:e.customProgramCacheKey()}).vertexUv1s=le.has(1),r.vertexUv2s=le.has(2),r.vertexUv3s=le.has(3),le.clear(),r},getProgramCacheKey:function(e){var t,i,a=[];if(e.shaderID?a.push(e.shaderID):(a.push(e.customVertexShaderID),a.push(e.customFragmentShaderID)),void 0!==e.defines)for(const n in e.defines)a.push(n),a.push(e.defines[n]);return!1===e.isRawShaderMaterial&&((t=a).push((i=e).precision),t.push(i.outputColorSpace),t.push(i.envMapMode),t.push(i.envMapCubeUVHeight),t.push(i.mapUv),t.push(i.alphaMapUv),t.push(i.lightMapUv),t.push(i.aoMapUv),t.push(i.bumpMapUv),t.push(i.normalMapUv),t.push(i.displacementMapUv),t.push(i.emissiveMapUv),t.push(i.metalnessMapUv),t.push(i.roughnessMapUv),t.push(i.anisotropyMapUv),t.push(i.clearcoatMapUv),t.push(i.clearcoatNormalMapUv),t.push(i.clearcoatRoughnessMapUv),t.push(i.iridescenceMapUv),t.push(i.iridescenceThicknessMapUv),t.push(i.sheenColorMapUv),t.push(i.sheenRoughnessMapUv),t.push(i.specularMapUv),t.push(i.specularColorMapUv),t.push(i.specularIntensityMapUv),t.push(i.transmissionMapUv),t.push(i.thicknessMapUv),t.push(i.combine),t.push(i.fogExp2),t.push(i.sizeAttenuation),t.push(i.morphTargetsCount),t.push(i.morphAttributeCount),t.push(i.numDirLights),t.push(i.numPointLights),t.push(i.numSpotLights),t.push(i.numSpotLightMaps),t.push(i.numHemiLights),t.push(i.numRectAreaLights),t.push(i.numDirLightShadows),t.push(i.numPointLightShadows),t.push(i.numSpotLightShadows),t.push(i.numSpotLightShadowsWithMaps),t.push(i.numLightProbes),t.push(i.shadowMapType),t.push(i.toneMapping),t.push(i.numClippingPlanes),t.push(i.numClipIntersection),t.push(i.depthPacking),t=a,i=e,s.disableAll(),i.supportsVertexTextures&&s.enable(0),i.instancing&&s.enable(1),i.instancingColor&&s.enable(2),i.instancingMorph&&s.enable(3),i.matcap&&s.enable(4),i.envMap&&s.enable(5),i.normalMapObjectSpace&&s.enable(6),i.normalMapTangentSpace&&s.enable(7),i.clearcoat&&s.enable(8),i.iridescence&&s.enable(9),i.alphaTest&&s.enable(10),i.vertexColors&&s.enable(11),i.vertexAlphas&&s.enable(12),i.vertexUv1s&&s.enable(13),i.vertexUv2s&&s.enable(14),i.vertexUv3s&&s.enable(15),i.vertexTangents&&s.enable(16),i.anisotropy&&s.enable(17),i.alphaHash&&s.enable(18),i.batching&&s.enable(19),i.dispersion&&s.enable(20),i.batchingColor&&s.enable(21),t.push(s.mask),s.disableAll(),i.fog&&s.enable(0),i.useFog&&s.enable(1),i.flatShading&&s.enable(2),i.logarithmicDepthBuffer&&s.enable(3),i.reverseDepthBuffer&&s.enable(4),i.skinning&&s.enable(5),i.morphTargets&&s.enable(6),i.morphNormals&&s.enable(7),i.morphColors&&s.enable(8),i.premultipliedAlpha&&s.enable(9),i.shadowMapEnabled&&s.enable(10),i.doubleSided&&s.enable(11),i.flipSided&&s.enable(12),i.useDepthPacking&&s.enable(13),i.dithering&&s.enable(14),i.transmission&&s.enable(15),i.sheen&&s.enable(16),i.opaque&&s.enable(17),i.pointsUvs&&s.enable(18),i.decodeVideoTexture&&s.enable(19),i.decodeVideoTextureEmissive&&s.enable(20),i.alphaToCoverage&&s.enable(21),t.push(s.mask),a.push(te.outputColorSpace)),a.push(e.customProgramCacheKey),a.join()},getUniforms:function(e){var t=ue[e.type];let i;return i=t?(t=Il[t],Cn.clone(t.uniforms)):e.uniforms},acquireProgram:function(e,i){let a;for(let e=0,t=r.length;e<t;e++){var n=r[e];if(n.cacheKey===i){++(a=n).usedTimes;break}}return void 0===a&&(a=new Id(te,i,e,t),r.push(a)),a},releaseProgram:function(e){var t;0==--e.usedTimes&&(t=r.indexOf(e),r[t]=r[r.length-1],r.pop(),e.destroy())},releaseShaderCache:function(e){oe.remove(e)},programs:r,dispose:function(){oe.dispose()}}}function Cd(){let a=new WeakMap;return{has:function(e){return a.has(e)},get:function(e){let t=a.get(e);return void 0===t&&(t={},a.set(e,t)),t},remove:function(e){a.delete(e)},update:function(e,t,i){a.get(e)[t]=i},dispose:function(){a=new WeakMap}}}function Pd(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Rd(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ld(){const o=[];let l=0;const r=[],c=[],d=[];function p(e,t,i,a,n,s){let r=o[l];return void 0===r?(r={id:e.id,object:e,geometry:t,material:i,groupOrder:a,renderOrder:e.renderOrder,z:n,group:s},o[l]=r):(r.id=e.id,r.object=e,r.geometry=t,r.material=i,r.groupOrder=a,r.renderOrder=e.renderOrder,r.z=n,r.group=s),l++,r}return{opaque:r,transmissive:c,transparent:d,init:function(){l=0,r.length=0,c.length=0,d.length=0},push:function(e,t,i,a,n,s){e=p(e,t,i,a,n,s),(0<i.transmission?c:!0===i.transparent?d:r).push(e)},unshift:function(e,t,i,a,n,s){e=p(e,t,i,a,n,s),(0<i.transmission?c:!0===i.transparent?d:r).unshift(e)},finish:function(){for(let e=l,t=o.length;e<t;e++){var i=o[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){1<r.length&&r.sort(e||Pd),1<c.length&&c.sort(t||Rd),1<d.length&&d.sort(t||Rd)}}}function Od(){let n=new WeakMap;return{get:function(e,t){var i=n.get(e);let a;return void 0===i?(a=new Ld,n.set(e,[a])):t>=i.length?(a=new Ld,i.push(a)):a=i[t],a},dispose:function(){n=new WeakMap}}}function Nd(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Je,color:new Ze};break;case"SpotLight":t={position:new Je,direction:new Je,color:new Ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Je,color:new Ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Je,skyColor:new Ze,groundColor:new Ze};break;case"RectAreaLight":t={color:new Ze,position:new Je,halfWidth:new Je,halfHeight:new Je}}return i[e.id]=t}}}let jd=0;function Fd(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Ud(t){const M=new Nd,I=function(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie,shadowCameraNear:1,shadowCameraFar:1e3}}return i[e.id]=t}}}(),E={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)E.probe.push(new Je);const h=new Je,m=new Ke,f=new Ke;return{setup:function(i){let a=0,n=0,s=0;for(let e=0;e<9;e++)E.probe[e].set(0,0,0);let r=0,o=0,l=0,c=0,d=0,p=0,u=0,h=0,m=0,f=0,g=0;i.sort(Fd);for(let e=0,t=i.length;e<t;e++){var _,y,b,v,x=i[e],S=x.color,w=x.intensity,T=x.distance,A=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)a+=S.r*w,n+=S.g*w,s+=S.b*w;else if(x.isLightProbe){for(let e=0;e<9;e++)E.probe[e].addScaledVector(x.sh.coefficients[e],w);g++}else x.isDirectionalLight?((b=M.get(x)).color.copy(x.color).multiplyScalar(x.intensity),x.castShadow&&(_=x.shadow,(y=I.get(x)).shadowIntensity=_.intensity,y.shadowBias=_.bias,y.shadowNormalBias=_.normalBias,y.shadowRadius=_.radius,y.shadowMapSize=_.mapSize,E.directionalShadow[r]=y,E.directionalShadowMap[r]=A,E.directionalShadowMatrix[r]=x.shadow.matrix,p++),E.directional[r]=b,r++):x.isSpotLight?((_=M.get(x)).position.setFromMatrixPosition(x.matrixWorld),_.color.copy(S).multiplyScalar(w),_.distance=T,_.coneCos=Math.cos(x.angle),_.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),_.decay=x.decay,E.spot[l]=_,y=x.shadow,x.map&&(E.spotLightMap[m]=x.map,m++,y.updateMatrices(x),x.castShadow)&&f++,E.spotLightMatrix[l]=y.matrix,x.castShadow&&((b=I.get(x)).shadowIntensity=y.intensity,b.shadowBias=y.bias,b.shadowNormalBias=y.normalBias,b.shadowRadius=y.radius,b.shadowMapSize=y.mapSize,E.spotShadow[l]=b,E.spotShadowMap[l]=A,h++),l++):x.isRectAreaLight?((T=M.get(x)).color.copy(S).multiplyScalar(w),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),E.rectArea[c]=T,c++):x.isPointLight?((S=M.get(x)).color.copy(x.color).multiplyScalar(x.intensity),S.distance=x.distance,S.decay=x.decay,x.castShadow&&(T=x.shadow,(v=I.get(x)).shadowIntensity=T.intensity,v.shadowBias=T.bias,v.shadowNormalBias=T.normalBias,v.shadowRadius=T.radius,v.shadowMapSize=T.mapSize,v.shadowCameraNear=T.camera.near,v.shadowCameraFar=T.camera.far,E.pointShadow[o]=v,E.pointShadowMap[o]=A,E.pointShadowMatrix[o]=x.shadow.matrix,u++),E.point[o]=S,o++):x.isHemisphereLight&&((T=M.get(x)).skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),E.hemi[d]=T,d++)}0<c&&(!0===t.has("OES_texture_float_linear")?(E.rectAreaLTC1=z.LTC_FLOAT_1,E.rectAreaLTC2=z.LTC_FLOAT_2):(E.rectAreaLTC1=z.LTC_HALF_1,E.rectAreaLTC2=z.LTC_HALF_2)),E.ambient[0]=a,E.ambient[1]=n,E.ambient[2]=s;var e=E.hash;e.directionalLength===r&&e.pointLength===o&&e.spotLength===l&&e.rectAreaLength===c&&e.hemiLength===d&&e.numDirectionalShadows===p&&e.numPointShadows===u&&e.numSpotShadows===h&&e.numSpotMaps===m&&e.numLightProbes===g||(E.directional.length=r,E.spot.length=l,E.rectArea.length=c,E.point.length=o,E.hemi.length=d,E.directionalShadow.length=p,E.directionalShadowMap.length=p,E.pointShadow.length=u,E.pointShadowMap.length=u,E.spotShadow.length=h,E.spotShadowMap.length=h,E.directionalShadowMatrix.length=p,E.pointShadowMatrix.length=u,E.spotLightMatrix.length=h+m-f,E.spotLightMap.length=m,E.numSpotLightShadowsWithMaps=f,E.numLightProbes=g,e.directionalLength=r,e.pointLength=o,e.spotLength=l,e.rectAreaLength=c,e.hemiLength=d,e.numDirectionalShadows=p,e.numPointShadows=u,e.numSpotShadows=h,e.numSpotMaps=m,e.numLightProbes=g,E.version=jd++)},setupView:function(i,e){let a=0,n=0,s=0,r=0,o=0;var l=e.matrixWorldInverse;for(let e=0,t=i.length;e<t;e++){var c,d,p,u=i[e];u.isDirectionalLight?((c=E.directional[a]).direction.setFromMatrixPosition(u.matrixWorld),h.setFromMatrixPosition(u.target.matrixWorld),c.direction.sub(h),c.direction.transformDirection(l),a++):u.isSpotLight?((c=E.spot[s]).position.setFromMatrixPosition(u.matrixWorld),c.position.applyMatrix4(l),c.direction.setFromMatrixPosition(u.matrixWorld),h.setFromMatrixPosition(u.target.matrixWorld),c.direction.sub(h),c.direction.transformDirection(l),s++):u.isRectAreaLight?((d=E.rectArea[r]).position.setFromMatrixPosition(u.matrixWorld),d.position.applyMatrix4(l),f.identity(),m.copy(u.matrixWorld),m.premultiply(l),f.extractRotation(m),d.halfWidth.set(.5*u.width,0,0),d.halfHeight.set(0,.5*u.height,0),d.halfWidth.applyMatrix4(f),d.halfHeight.applyMatrix4(f),r++):u.isPointLight?((d=E.point[n]).position.setFromMatrixPosition(u.matrixWorld),d.position.applyMatrix4(l),n++):u.isHemisphereLight&&((p=E.hemi[o]).direction.setFromMatrixPosition(u.matrixWorld),p.direction.transformDirection(l),o++)}},state:E}}function Bd(e){const t=new Ud(e),i=[],a=[];const n={lightsArray:i,shadowsArray:a,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){n.camera=e,i.length=0,a.length=0},state:n,setupLights:function(){t.setup(i)},setupLightsView:function(e){t.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){a.push(e)}}}function Vd(n){let s=new WeakMap;return{get:function(e,t=0){var i=s.get(e);let a;return void 0===i?(a=new Bd(n),s.set(e,[a])):t>=i.length?(a=new Bd(n),i.push(a)):a=i[t],a},dispose:function(){s=new WeakMap}}}const Gd="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Hd="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Wd(g,_,e){let y=new As;const b=new ie,v=new ie,x=new Ye,r=new no({depthPacking:Bt}),o=new so,l={},S=e.maxTextureSize,c={[$e]:Qe,[Qe]:$e,[We]:We},w=new Pn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ie},radius:{value:4}},vertexShader:Gd,fragmentShader:Hd}),T=w.clone();T.defines.HORIZONTAL_PASS=1;e=new C;e.setAttribute("position",new D(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new P(e,w),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=L;let I=this.type;function E(i,a,e,t){let n=null;i=!0===e.isPointLight?i.customDistanceMaterial:i.customDepthMaterial;if(void 0!==i)n=i;else if(n=!0===e.isPointLight?o:r,g.localClippingEnabled&&!0===a.clipShadows&&Array.isArray(a.clippingPlanes)&&0!==a.clippingPlanes.length||a.displacementMap&&0!==a.displacementScale||a.alphaMap&&0<a.alphaTest||a.map&&0<a.alphaTest){var i=n.uuid,s=a.uuid;let e=l[i],t=(void 0===e&&(e={},l[i]=e),e[s]);void 0===t&&(t=n.clone(),e[s]=t,a.addEventListener("dispose",d)),n=t}return n.visible=a.visible,n.wireframe=a.wireframe,t===O?n.side=null!==a.shadowSide?a.shadowSide:a.side:n.side=null!==a.shadowSide?a.shadowSide:c[a.side],n.alphaMap=a.alphaMap,n.alphaTest=a.alphaTest,n.map=a.map,n.clipShadows=a.clipShadows,n.clippingPlanes=a.clippingPlanes,n.clipIntersection=a.clipIntersection,n.displacementMap=a.displacementMap,n.displacementScale=a.displacementScale,n.displacementBias=a.displacementBias,n.wireframeLinewidth=a.wireframeLinewidth,n.linewidth=a.linewidth,!0===e.isPointLight&&!0===n.isMeshDistanceMaterial&&(g.properties.get(n).light=e),n}function d(e){e.target.removeEventListener("dispose",d);for(const a in l){var t=l[a],i=e.target.uuid;i in t&&(t[i].dispose(),delete t[i])}}this.render=function(i,a,n){if(!1!==M.enabled&&(!1!==M.autoUpdate||!1!==M.needsUpdate)&&0!==i.length){var e=g.getRenderTarget(),t=g.getActiveCubeFace(),s=g.getActiveMipmapLevel(),r=g.state,o=(r.setBlending(K),r.buffers.color.setClear(1,1,1,1),r.buffers.depth.setTest(!0),r.setScissorTest(!1),I!==O&&this.type===O),l=I===O&&this.type!==O;for(let e=0,t=i.length;e<t;e++){var c=i[e],d=c.shadow;if(void 0===d)console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");else if(!1!==d.autoUpdate||!1!==d.needsUpdate){b.copy(d.mapSize);var p,u,h=d.getFrameExtents(),m=(b.multiply(h),v.copy(d.mapSize),(b.x>S||b.y>S)&&(b.x>S&&(v.x=Math.floor(S/h.x),b.x=v.x*h.x,d.mapSize.x=v.x),b.y>S)&&(v.y=Math.floor(S/h.y),b.y=v.y*h.y,d.mapSize.y=v.y),null!==d.map&&!0!=o&&!0!=l||(h=this.type!==O?{minFilter:Pe,magFilter:Pe}:{},null!==d.map&&d.map.dispose(),d.map=new zi(b.x,b.y,h),d.map.texture.name=c.name+".shadowMap",d.camera.updateProjectionMatrix()),g.setRenderTarget(d.map),g.clear(),d.getViewportCount());for(let e=0;e<m;e++){var f=d.getViewport(e);x.set(v.x*f.x,v.y*f.y,v.x*f.z,v.y*f.w),r.viewport(x),d.updateMatrices(c,e),y=d.getFrustum(),!function i(a,n,s,r,o){if(!1===a.visible)return;const e=a.layers.test(n.layers);if(e&&(a.isMesh||a.isLine||a.isPoints)&&(a.castShadow||a.receiveShadow&&o===O)&&(!a.frustumCulled||y.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,a.matrixWorld);const c=_.update(a),d=a.material;if(Array.isArray(d)){const p=c.groups;for(let e=0,t=p.length;e<t;e++){const u=p[e],h=d[u.materialIndex];if(h&&h.visible){const m=E(a,h,r,o);a.onBeforeShadow(g,a,n,s,c,m,u),g.renderBufferDirect(s,null,c,m,a,u),a.onAfterShadow(g,a,n,s,c,m,u)}}}else if(d.visible){const t=E(a,d,r,o);a.onBeforeShadow(g,a,n,s,c,t,null),g.renderBufferDirect(s,null,c,t,a,null),a.onAfterShadow(g,a,n,s,c,t,null)}}const l=a.children;for(let e=0,t=l.length;e<t;e++)i(l[e],n,s,r,o)}(a,n,d.camera,c,this.type)}!0!==d.isPointLightShadow&&this.type===O&&(u=p=h=void 0,h=d,p=n,u=_.update(A),w.defines.VSM_SAMPLES!==h.blurSamples&&(w.defines.VSM_SAMPLES=h.blurSamples,T.defines.VSM_SAMPLES=h.blurSamples,w.needsUpdate=!0,T.needsUpdate=!0),null===h.mapPass&&(h.mapPass=new zi(b.x,b.y)),w.uniforms.shadow_pass.value=h.map.texture,w.uniforms.resolution.value=h.mapSize,w.uniforms.radius.value=h.radius,g.setRenderTarget(h.mapPass),g.clear(),g.renderBufferDirect(p,null,u,w,A,null),T.uniforms.shadow_pass.value=h.mapPass.texture,T.uniforms.resolution.value=h.mapSize,T.uniforms.radius.value=h.radius,g.setRenderTarget(h.map),g.clear(),g.renderBufferDirect(p,null,u,T,A,null)),d.needsUpdate=!1}}I=this.type,M.needsUpdate=!1,g.setRenderTarget(e,t,s)}}}const qd={[Te]:Ae,[Me]:ke,[Ee]:De,[Ie]:ze,[Ae]:Te,[ke]:Me,[De]:Ee,[ze]:Ie};function Xd(d,O){const a=new function(){let t=!1;const s=new Ye;let i=null;const r=new Ye(0,0,0,0);return{setMask:function(e){i===e||t||(d.colorMask(e,e,e,e),i=e)},setLocked:function(e){t=e},setClear:function(e,t,i,a,n){!0===n&&(e*=a,t*=a,i*=a),s.set(e,t,i,a),!1===r.equals(s)&&(d.clearColor(e,t,i,a),r.copy(s))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},n=new function(){let t=!1,i=!1,a=null,n=null,s=null;return{setReversed:function(e){var t;i!==e&&(t=O.get("EXT_clip_control"),i?t.clipControlEXT(t.LOWER_LEFT_EXT,t.ZERO_TO_ONE_EXT):t.clipControlEXT(t.LOWER_LEFT_EXT,t.NEGATIVE_ONE_TO_ONE_EXT),t=s,s=null,this.setClear(t)),i=e},getReversed:function(){return i},setTest:function(e){(e?D:C)(d.DEPTH_TEST)},setMask:function(e){a===e||t||(d.depthMask(e),a=e)},setFunc:function(e){if(i&&(e=qd[e]),n!==e){switch(e){case Te:d.depthFunc(d.NEVER);break;case Ae:d.depthFunc(d.ALWAYS);break;case Me:d.depthFunc(d.LESS);break;case Ie:d.depthFunc(d.LEQUAL);break;case Ee:d.depthFunc(d.EQUAL);break;case ze:d.depthFunc(d.GEQUAL);break;case ke:d.depthFunc(d.GREATER);break;case De:d.depthFunc(d.NOTEQUAL);break;default:d.depthFunc(d.LEQUAL)}n=e}},setLocked:function(e){t=e},setClear:function(e){s!==e&&(i&&(e=1-e),d.clearDepth(e),s=e)},reset:function(){t=!1,a=null,n=null,s=null,i=!1}}},s=new function(){let t=!1,i=null,a=null,n=null,s=null,r=null,o=null,l=null,c=null;return{setTest:function(e){t||(e?D:C)(d.STENCIL_TEST)},setMask:function(e){i===e||t||(d.stencilMask(e),i=e)},setFunc:function(e,t,i){a===e&&n===t&&s===i||(d.stencilFunc(e,t,i),a=e,n=t,s=i)},setOp:function(e,t,i){r===e&&o===t&&l===i||(d.stencilOp(e,t,i),r=e,o=t,l=i)},setLocked:function(e){t=e},setClear:function(e){c!==e&&(d.clearStencil(e),c=e)},reset:function(){t=!1,i=null,a=null,n=null,s=null,r=null,o=null,l=null,c=null}}},N=new WeakMap,r=new WeakMap;let t={},i={},o=new WeakMap,j=[],l=null,p=!1,u=null,h=null,m=null,f=null,g=null,_=null,y=null,b=new Ze(0,0,0),v=0,x=!1,c=null,S=null,w=null,T=null,A=null;const F=d.getParameter(d.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,e=0;var M=d.getParameter(d.VERSION);-1!==M.indexOf("WebGL")?(e=parseFloat(/^WebGL (\d)/.exec(M)[1]),U=1<=e):-1!==M.indexOf("OpenGL ES")&&(e=parseFloat(/^OpenGL ES (\d)/.exec(M)[1]),U=2<=e);let I=null,E={};var M=d.getParameter(d.SCISSOR_BOX),B=d.getParameter(d.VIEWPORT);const V=(new Ye).fromArray(M),G=(new Ye).fromArray(B);function z(t,i,a,n){var s=new Uint8Array(4),e=d.createTexture();d.bindTexture(t,e),d.texParameteri(t,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(t,d.TEXTURE_MAG_FILTER,d.NEAREST);for(let e=0;e<a;e++)t===d.TEXTURE_3D||t===d.TEXTURE_2D_ARRAY?d.texImage3D(i,0,d.RGBA,1,1,n,0,d.RGBA,d.UNSIGNED_BYTE,s):d.texImage2D(i+e,0,d.RGBA,1,1,0,d.RGBA,d.UNSIGNED_BYTE,s);return e}const k={};function D(e){!0!==t[e]&&(d.enable(e),t[e]=!0)}function C(e){!1!==t[e]&&(d.disable(e),t[e]=!1)}k[d.TEXTURE_2D]=z(d.TEXTURE_2D,d.TEXTURE_2D,1),k[d.TEXTURE_CUBE_MAP]=z(d.TEXTURE_CUBE_MAP,d.TEXTURE_CUBE_MAP_POSITIVE_X,6),k[d.TEXTURE_2D_ARRAY]=z(d.TEXTURE_2D_ARRAY,d.TEXTURE_2D_ARRAY,1,1),k[d.TEXTURE_3D]=z(d.TEXTURE_3D,d.TEXTURE_3D,1,1),a.setClear(0,0,0,1),n.setClear(1),s.setClear(0),D(d.DEPTH_TEST),n.setFunc(Ie),H(!1),W(Y),D(d.CULL_FACE),L(K);const P={[te]:d.FUNC_ADD,[ae]:d.FUNC_SUBTRACT,[ne]:d.FUNC_REVERSE_SUBTRACT},R=(P[se]=d.MIN,P[re]=d.MAX,{[oe]:d.ZERO,[le]:d.ONE,[ce]:d.SRC_COLOR,[pe]:d.SRC_ALPHA,[be]:d.SRC_ALPHA_SATURATE,[_e]:d.DST_COLOR,[he]:d.DST_ALPHA,[de]:d.ONE_MINUS_SRC_COLOR,[ue]:d.ONE_MINUS_SRC_ALPHA,[ye]:d.ONE_MINUS_DST_COLOR,[ge]:d.ONE_MINUS_DST_ALPHA,[ve]:d.CONSTANT_COLOR,[xe]:d.ONE_MINUS_CONSTANT_COLOR,[Se]:d.CONSTANT_ALPHA,[we]:d.ONE_MINUS_CONSTANT_ALPHA});function L(e,t,i,a,n,s,r,o,l,c){if(e===K)!0===p&&(C(d.BLEND),p=!1);else if(!1===p&&(D(d.BLEND),p=!0),e!==ee){if(e!==u||c!==x){if(h===te&&g===te||(d.blendEquation(d.FUNC_ADD),h=te,g=te),c)switch(e){case fe:d.blendFuncSeparate(d.ONE,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case Z:d.blendFunc(d.ONE,d.ONE);break;case $:d.blendFuncSeparate(d.ZERO,d.ONE_MINUS_SRC_COLOR,d.ZERO,d.ONE);break;case Q:d.blendFuncSeparate(d.ZERO,d.SRC_COLOR,d.ZERO,d.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case fe:d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case Z:d.blendFunc(d.SRC_ALPHA,d.ONE);break;case $:d.blendFuncSeparate(d.ZERO,d.ONE_MINUS_SRC_COLOR,d.ZERO,d.ONE);break;case Q:d.blendFunc(d.ZERO,d.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}m=null,f=null,_=null,y=null,b.set(0,0,0),v=0,u=e,x=c}}else n=n||t,s=s||i,r=r||a,t===h&&n===g||(d.blendEquationSeparate(P[t],P[n]),h=t,g=n),i===m&&a===f&&s===_&&r===y||(d.blendFuncSeparate(R[i],R[a],R[s],R[r]),m=i,f=a,_=s,y=r),!1!==o.equals(b)&&l===v||(d.blendColor(o.r,o.g,o.b,l),b.copy(o),v=l),u=e,x=!1}function H(e){c!==e&&(e?d.frontFace(d.CW):d.frontFace(d.CCW),c=e)}function W(e){e!==X?(D(d.CULL_FACE),e!==S&&(e===Y?d.cullFace(d.BACK):e===J?d.cullFace(d.FRONT):d.cullFace(d.FRONT_AND_BACK))):C(d.CULL_FACE),S=e}function q(e,t,i){e?(D(d.POLYGON_OFFSET_FILL),T===t&&A===i||(d.polygonOffset(t,i),T=t,A=i)):C(d.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:n,stencil:s},enable:D,disable:C,bindFramebuffer:function(e,t){return i[e]!==t&&(d.bindFramebuffer(e,t),i[e]=t,e===d.DRAW_FRAMEBUFFER&&(i[d.FRAMEBUFFER]=t),e===d.FRAMEBUFFER&&(i[d.DRAW_FRAMEBUFFER]=t),!0)},drawBuffers:function(e,i){let a=j,t=!1;if(e){void 0===(a=o.get(i))&&(a=[],o.set(i,a));i=e.textures;if(a.length!==i.length||a[0]!==d.COLOR_ATTACHMENT0){for(let e=0,t=i.length;e<t;e++)a[e]=d.COLOR_ATTACHMENT0+e;a.length=i.length,t=!0}}else a[0]!==d.BACK&&(a[0]=d.BACK,t=!0);t&&d.drawBuffers(a)},useProgram:function(e){return l!==e&&(d.useProgram(e),l=e,!0)},setBlending:L,setMaterial:function(e,t){(e.side===We?C:D)(d.CULL_FACE);let i=e.side===Qe;H(i=t?!i:i),e.blending===fe&&!1===e.transparent?L(K):L(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),n.setFunc(e.depthFunc),n.setTest(e.depthTest),n.setMask(e.depthWrite),a.setMask(e.colorWrite),t=e.stencilWrite,s.setTest(t),t&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),q(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),(!0===e.alphaToCoverage?D:C)(d.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:H,setCullFace:W,setLineWidth:function(e){e!==w&&(U&&d.lineWidth(e),w=e)},setPolygonOffset:q,setScissorTest:function(e){(e?D:C)(d.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=d.TEXTURE0+F-1),I!==e&&(d.activeTexture(e),I=e)},bindTexture:function(e,t,i){void 0===i&&(i=null===I?d.TEXTURE0+F-1:I);let a=E[i];void 0===a&&(a={type:void 0,texture:void 0},E[i]=a),a.type===e&&a.texture===t||(I!==i&&(d.activeTexture(i),I=i),d.bindTexture(e,t||k[e]),a.type=e,a.texture=t)},unbindTexture:function(){var e=E[I];void 0!==e&&void 0!==e.type&&(d.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{d.compressedTexImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{d.compressedTexImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{d.texImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{d.texImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(e,t){let i=r.get(t);void 0===i&&(i=new WeakMap,r.set(t,i)),void 0===i.get(e)&&(t=d.getUniformBlockIndex(t,e.name),i.set(e,t))},uniformBlockBinding:function(e,t){var i=r.get(t).get(e);N.get(t)!==i&&(d.uniformBlockBinding(t,i,e.__bindingPointIndex),N.set(t,i))},texStorage2D:function(){try{d.texStorage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{d.texStorage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{d.texSubImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{d.texSubImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{d.compressedTexSubImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{d.compressedTexSubImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===V.equals(e)&&(d.scissor(e.x,e.y,e.z,e.w),V.copy(e))},viewport:function(e){!1===G.equals(e)&&(d.viewport(e.x,e.y,e.z,e.w),G.copy(e))},reset:function(){d.disable(d.BLEND),d.disable(d.CULL_FACE),d.disable(d.DEPTH_TEST),d.disable(d.POLYGON_OFFSET_FILL),d.disable(d.SCISSOR_TEST),d.disable(d.STENCIL_TEST),d.disable(d.SAMPLE_ALPHA_TO_COVERAGE),d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO),d.blendFuncSeparate(d.ONE,d.ZERO,d.ONE,d.ZERO),d.blendColor(0,0,0,0),d.colorMask(!0,!0,!0,!0),d.clearColor(0,0,0,0),d.depthMask(!0),d.depthFunc(d.LESS),n.setReversed(!1),d.clearDepth(1),d.stencilMask(4294967295),d.stencilFunc(d.ALWAYS,0,4294967295),d.stencilOp(d.KEEP,d.KEEP,d.KEEP),d.clearStencil(0),d.cullFace(d.BACK),d.frontFace(d.CCW),d.polygonOffset(0,0),d.activeTexture(d.TEXTURE0),d.bindFramebuffer(d.FRAMEBUFFER,null),d.bindFramebuffer(d.DRAW_FRAMEBUFFER,null),d.bindFramebuffer(d.READ_FRAMEBUFFER,null),d.useProgram(null),d.lineWidth(1),d.scissor(0,0,d.canvas.width,d.canvas.height),d.viewport(0,0,d.canvas.width,d.canvas.height),t={},I=null,E={},i={},o=new WeakMap,j=[],l=null,p=!1,u=null,h=null,m=null,f=null,g=null,_=null,y=null,b=new Ze(0,0,0),v=0,x=!1,c=null,S=null,w=null,T=null,A=null,V.set(0,0,d.canvas.width,d.canvas.height),G.set(0,0,d.canvas.width,d.canvas.height),a.reset(),n.reset(),s.reset()}}}function Yd(w,r,T,A,M,I,u){const p=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,h="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),t=new ie,s=new WeakMap;let o;const l=new WeakMap;let i=!1;try{i="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function c(e,t){return i?new OffscreenCanvas(e,t):mi("canvas")}function E(e,t,i){let a=1;var n,s=O(e);return(a=s.width>i||s.height>i?i/Math.max(s.width,s.height):a)<1?"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(i=Math.floor(a*s.width),n=Math.floor(a*s.height),void 0===o&&(o=c(i,n)),(t=t?c(i,n):o).width=i,t.height=n,t.getContext("2d").drawImage(e,0,0,i,n),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+s.width+"x"+s.height+") to ("+i+"x"+n+")."),t):("data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+s.width+"x"+s.height+")."),e):e}function z(e){return e.generateMipmaps}function k(e){w.generateMipmap(e)}function D(e,t,i,a,n=!1){if(null!==e){if(void 0!==w[e])return w[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let s=t;return t===w.RED&&(i===w.FLOAT&&(s=w.R32F),i===w.HALF_FLOAT&&(s=w.R16F),i===w.UNSIGNED_BYTE)&&(s=w.R8),t===w.RED_INTEGER&&(i===w.UNSIGNED_BYTE&&(s=w.R8UI),i===w.UNSIGNED_SHORT&&(s=w.R16UI),i===w.UNSIGNED_INT&&(s=w.R32UI),i===w.BYTE&&(s=w.R8I),i===w.SHORT&&(s=w.R16I),i===w.INT)&&(s=w.R32I),t===w.RG&&(i===w.FLOAT&&(s=w.RG32F),i===w.HALF_FLOAT&&(s=w.RG16F),i===w.UNSIGNED_BYTE)&&(s=w.RG8),t===w.RG_INTEGER&&(i===w.UNSIGNED_BYTE&&(s=w.RG8UI),i===w.UNSIGNED_SHORT&&(s=w.RG16UI),i===w.UNSIGNED_INT&&(s=w.RG32UI),i===w.BYTE&&(s=w.RG8I),i===w.SHORT&&(s=w.RG16I),i===w.INT)&&(s=w.RG32I),t===w.RGB_INTEGER&&(i===w.UNSIGNED_BYTE&&(s=w.RGB8UI),i===w.UNSIGNED_SHORT&&(s=w.RGB16UI),i===w.UNSIGNED_INT&&(s=w.RGB32UI),i===w.BYTE&&(s=w.RGB8I),i===w.SHORT&&(s=w.RGB16I),i===w.INT)&&(s=w.RGB32I),t===w.RGBA_INTEGER&&(i===w.UNSIGNED_BYTE&&(s=w.RGBA8UI),i===w.UNSIGNED_SHORT&&(s=w.RGBA16UI),i===w.UNSIGNED_INT&&(s=w.RGBA32UI),i===w.BYTE&&(s=w.RGBA8I),i===w.SHORT&&(s=w.RGBA16I),i===w.INT)&&(s=w.RGBA32I),t===w.RGB&&i===w.UNSIGNED_INT_5_9_9_9_REV&&(s=w.RGB9_E5),(s=t===w.RGBA&&(e=n?qt:Xe.getTransfer(a),i===w.FLOAT&&(s=w.RGBA32F),i===w.HALF_FLOAT&&(s=w.RGBA16F),i===w.UNSIGNED_BYTE&&(s=e===me?w.SRGB8_ALPHA8:w.RGBA8),i===w.UNSIGNED_SHORT_4_4_4_4&&(s=w.RGBA4),i===w.UNSIGNED_SHORT_5_5_5_1)?w.RGB5_A1:s)!==w.R16F&&s!==w.R32F&&s!==w.RG16F&&s!==w.RG32F&&s!==w.RGBA16F&&s!==w.RGBA32F||r.get("EXT_color_buffer_float"),s}function C(e,t){let i;return e?null===t||t===nt||t===lt?i=w.DEPTH24_STENCIL8:t===je?i=w.DEPTH32F_STENCIL8:t===at&&(i=w.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===t||t===nt||t===lt?i=w.DEPTH_COMPONENT24:t===je?i=w.DEPTH_COMPONENT32F:t===at&&(i=w.DEPTH_COMPONENT16),i}function P(e,t){return!0===z(e)||e.isFramebufferTexture&&e.minFilter!==Pe&&e.minFilter!==V?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&0<e.mipmaps.length?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function d(e){var t,i,a,n,e=e.target;e.removeEventListener("dispose",d),t=e,void 0!==(i=A.get(t)).__webglInit&&(a=t.source,(n=l.get(a))&&((i=n[i.__cacheKey]).usedTimes--,0===i.usedTimes&&f(t),0===Object.keys(n).length)&&l.delete(a),A.remove(t)),e.isVideoTexture&&s.delete(e)}function m(e){var e=e.target,i=(e.removeEventListener("dispose",m),A.get(e));if(e.depthTexture&&(e.depthTexture.dispose(),A.remove(e.depthTexture)),e.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(i.__webglFramebuffer[t]))for(let e=0;e<i.__webglFramebuffer[t].length;e++)w.deleteFramebuffer(i.__webglFramebuffer[t][e]);else w.deleteFramebuffer(i.__webglFramebuffer[t]);i.__webglDepthbuffer&&w.deleteRenderbuffer(i.__webglDepthbuffer[t])}else{if(Array.isArray(i.__webglFramebuffer))for(let e=0;e<i.__webglFramebuffer.length;e++)w.deleteFramebuffer(i.__webglFramebuffer[e]);else w.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&w.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&w.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let e=0;e<i.__webglColorRenderbuffer.length;e++)i.__webglColorRenderbuffer[e]&&w.deleteRenderbuffer(i.__webglColorRenderbuffer[e]);i.__webglDepthRenderbuffer&&w.deleteRenderbuffer(i.__webglDepthRenderbuffer)}var a=e.textures;for(let e=0,t=a.length;e<t;e++){var n=A.get(a[e]);n.__webglTexture&&(w.deleteTexture(n.__webglTexture),u.memory.textures--),A.remove(a[e])}A.remove(e)}function f(e){var t=A.get(e),e=(w.deleteTexture(t.__webglTexture),e.source);delete l.get(e)[t.__cacheKey],u.memory.textures--}let a=0;function N(e,t){var i,a=A.get(e);if(e.isVideoTexture&&(i=e,n=u.render.frame,s.get(i)!==n)&&(s.set(i,n),i.update()),!1===e.isRenderTargetTexture&&0<e.version&&a.__version!==e.version){var n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void g(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}T.bindTexture(w.TEXTURE_2D,a.__webglTexture,w.TEXTURE0+t)}const n={[H]:w.REPEAT,[W]:w.CLAMP_TO_EDGE,[q]:w.MIRRORED_REPEAT},j={[Pe]:w.NEAREST,[Re]:w.NEAREST_MIPMAP_NEAREST,[Le]:w.NEAREST_MIPMAP_LINEAR,[V]:w.LINEAR,[Oe]:w.LINEAR_MIPMAP_NEAREST,[tt]:w.LINEAR_MIPMAP_LINEAR},F={[Xt]:w.NEVER,[ei]:w.ALWAYS,[Yt]:w.LESS,[Kt]:w.LEQUAL,[Jt]:w.EQUAL,[Qt]:w.GEQUAL,[Zt]:w.GREATER,[$t]:w.NOTEQUAL};function R(e,t){var i;t.type!==je||!1!==r.has("OES_texture_float_linear")||t.magFilter!==V&&t.magFilter!==Oe&&t.magFilter!==Le&&t.magFilter!==tt&&t.minFilter!==V&&t.minFilter!==Oe&&t.minFilter!==Le&&t.minFilter!==tt||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),w.texParameteri(e,w.TEXTURE_WRAP_S,n[t.wrapS]),w.texParameteri(e,w.TEXTURE_WRAP_T,n[t.wrapT]),e!==w.TEXTURE_3D&&e!==w.TEXTURE_2D_ARRAY||w.texParameteri(e,w.TEXTURE_WRAP_R,n[t.wrapR]),w.texParameteri(e,w.TEXTURE_MAG_FILTER,j[t.magFilter]),w.texParameteri(e,w.TEXTURE_MIN_FILTER,j[t.minFilter]),t.compareFunction&&(w.texParameteri(e,w.TEXTURE_COMPARE_MODE,w.COMPARE_REF_TO_TEXTURE),w.texParameteri(e,w.TEXTURE_COMPARE_FUNC,F[t.compareFunction])),!0!==r.has("EXT_texture_filter_anisotropic")||t.magFilter===Pe||t.minFilter!==Le&&t.minFilter!==tt||t.type===je&&!1===r.has("OES_texture_float_linear")||(1<t.anisotropy||A.get(t).__currentAnisotropy)&&(i=r.get("EXT_texture_filter_anisotropic"),w.texParameterf(e,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,M.getMaxAnisotropy())),A.get(t).__currentAnisotropy=t.anisotropy)}function U(e,t){let i=!1;void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",d));var a=t.source;let n=l.get(a);void 0===n&&(n={},l.set(a,n));(a=[]).push((s=t).wrapS),a.push(s.wrapT),a.push(s.wrapR||0),a.push(s.magFilter),a.push(s.minFilter),a.push(s.anisotropy),a.push(s.internalFormat),a.push(s.format),a.push(s.type),a.push(s.generateMipmaps),a.push(s.premultiplyAlpha),a.push(s.flipY),a.push(s.unpackAlignment),a.push(s.colorSpace);var s=a.join();return s!==e.__cacheKey&&(void 0===n[s]&&(n[s]={texture:w.createTexture(),usedTimes:0},u.memory.textures++,i=!0),n[s].usedTimes++,void 0!==(a=n[e.__cacheKey])&&(n[e.__cacheKey].usedTimes--,0===a.usedTimes)&&f(t),e.__cacheKey=s,e.__webglTexture=n[s].texture),i}function g(e,n,t){let s=w.TEXTURE_2D;(n.isDataArrayTexture||n.isCompressedArrayTexture)&&(s=w.TEXTURE_2D_ARRAY),n.isData3DTexture&&(s=w.TEXTURE_3D);var r=U(e,n),o=n.source,l=(T.bindTexture(s,e.__webglTexture,w.TEXTURE0+t),A.get(o));if(o.version!==l.__version||!0===r){T.activeTexture(w.TEXTURE0+t);var t=Xe.getPrimaries(Xe.workingColorSpace),c=n.colorSpace===Ht?null:Xe.getPrimaries(n.colorSpace),t=n.colorSpace===Ht||t===c?w.NONE:w.BROWSER_DEFAULT_WEBGL;w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,n.flipY),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),w.pixelStorei(w.UNPACK_ALIGNMENT,n.unpackAlignment),w.pixelStorei(w.UNPACK_COLORSPACE_CONVERSION_WEBGL,t);var d=B(n,d=E(n.image,!1,M.maxTextureSize)),p=I.convert(n.format,n.colorSpace),u=I.convert(n.type);let a=D(n.internalFormat,p,u,n.colorSpace,n.isVideoTexture);R(s,n);let i;var h=n.mipmaps,m=!0!==n.isVideoTexture,c=void 0===l.__version||!0===r,f=o.dataReady,g=P(n,d);if(n.isDepthTexture)a=C(n.format===Be,n.type),c&&(m?T.texStorage2D(w.TEXTURE_2D,1,a,d.width,d.height):T.texImage2D(w.TEXTURE_2D,0,a,d.width,d.height,0,p,u,null));else if(n.isDataTexture)if(0<h.length){m&&c&&T.texStorage2D(w.TEXTURE_2D,g,a,h[0].width,h[0].height);for(let e=0,t=h.length;e<t;e++)i=h[e],m?f&&T.texSubImage2D(w.TEXTURE_2D,e,0,0,i.width,i.height,p,u,i.data):T.texImage2D(w.TEXTURE_2D,e,a,i.width,i.height,0,p,u,i.data);n.generateMipmaps=!1}else m?(c&&T.texStorage2D(w.TEXTURE_2D,g,a,d.width,d.height),f&&T.texSubImage2D(w.TEXTURE_2D,0,0,0,d.width,d.height,p,u,d.data)):T.texImage2D(w.TEXTURE_2D,0,a,d.width,d.height,0,p,u,d.data);else if(n.isCompressedTexture)if(n.isCompressedArrayTexture){m&&c&&T.texStorage3D(w.TEXTURE_2D_ARRAY,g,a,h[0].width,h[0].height,d.depth);for(let e=0,t=h.length;e<t;e++)if(i=h[e],n.format!==Fe)if(null!==p)if(m){if(f)if(0<n.layerUpdates.size){var _=Tl(i.width,i.height,n.format,n.type);for(const x of n.layerUpdates){var y=i.data.subarray(x*_/i.data.BYTES_PER_ELEMENT,(x+1)*_/i.data.BYTES_PER_ELEMENT);T.compressedTexSubImage3D(w.TEXTURE_2D_ARRAY,e,0,0,x,i.width,i.height,1,p,y)}n.clearLayerUpdates()}else T.compressedTexSubImage3D(w.TEXTURE_2D_ARRAY,e,0,0,0,i.width,i.height,d.depth,p,i.data)}else T.compressedTexImage3D(w.TEXTURE_2D_ARRAY,e,a,i.width,i.height,d.depth,0,i.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else m?f&&T.texSubImage3D(w.TEXTURE_2D_ARRAY,e,0,0,0,i.width,i.height,d.depth,p,u,i.data):T.texImage3D(w.TEXTURE_2D_ARRAY,e,a,i.width,i.height,d.depth,0,p,u,i.data)}else{m&&c&&T.texStorage2D(w.TEXTURE_2D,g,a,h[0].width,h[0].height);for(let e=0,t=h.length;e<t;e++)i=h[e],n.format!==Fe?null!==p?m?f&&T.compressedTexSubImage2D(w.TEXTURE_2D,e,0,0,i.width,i.height,p,i.data):T.compressedTexImage2D(w.TEXTURE_2D,e,a,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):m?f&&T.texSubImage2D(w.TEXTURE_2D,e,0,0,i.width,i.height,p,u,i.data):T.texImage2D(w.TEXTURE_2D,e,a,i.width,i.height,0,p,u,i.data)}else if(n.isDataArrayTexture)if(m){if(c&&T.texStorage3D(w.TEXTURE_2D_ARRAY,g,a,d.width,d.height,d.depth),f)if(0<n.layerUpdates.size){var b=Tl(d.width,d.height,n.format,n.type);for(const S of n.layerUpdates){var v=d.data.subarray(S*b/d.data.BYTES_PER_ELEMENT,(S+1)*b/d.data.BYTES_PER_ELEMENT);T.texSubImage3D(w.TEXTURE_2D_ARRAY,0,0,0,S,d.width,d.height,1,p,u,v)}n.clearLayerUpdates()}else T.texSubImage3D(w.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,p,u,d.data)}else T.texImage3D(w.TEXTURE_2D_ARRAY,0,a,d.width,d.height,d.depth,0,p,u,d.data);else if(n.isData3DTexture)m?(c&&T.texStorage3D(w.TEXTURE_3D,g,a,d.width,d.height,d.depth),f&&T.texSubImage3D(w.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,p,u,d.data)):T.texImage3D(w.TEXTURE_3D,0,a,d.width,d.height,d.depth,0,p,u,d.data);else if(n.isFramebufferTexture){if(c)if(m)T.texStorage2D(w.TEXTURE_2D,g,a,d.width,d.height);else{let t=d.width,i=d.height;for(let e=0;e<g;e++)T.texImage2D(w.TEXTURE_2D,e,a,t,i,0,p,u,null),t>>=1,i>>=1}}else if(0<h.length){m&&c&&(t=O(h[0]),T.texStorage2D(w.TEXTURE_2D,g,a,t.width,t.height));for(let e=0,t=h.length;e<t;e++)i=h[e],m?f&&T.texSubImage2D(w.TEXTURE_2D,e,0,0,p,u,i):T.texImage2D(w.TEXTURE_2D,e,a,p,u,i);n.generateMipmaps=!1}else m?(c&&(r=O(d),T.texStorage2D(w.TEXTURE_2D,g,a,r.width,r.height)),f&&T.texSubImage2D(w.TEXTURE_2D,0,0,0,p,u,d)):T.texImage2D(w.TEXTURE_2D,0,a,p,u,d);z(n)&&k(s),l.__version=o.version,n.onUpdate&&n.onUpdate(n)}e.__version=n.version}function _(e,t,i,a,n,s){var r,o=I.convert(i.format,i.colorSpace),l=I.convert(i.type),c=D(i.internalFormat,o,l,i.colorSpace),d=A.get(t),i=A.get(i);i.__renderTarget=t,d.__hasExternalTextures||(d=Math.max(1,t.width>>s),r=Math.max(1,t.height>>s),n===w.TEXTURE_3D||n===w.TEXTURE_2D_ARRAY?T.texImage3D(n,s,c,d,r,t.depth,0,o,l,null):T.texImage2D(n,s,c,d,r,0,o,l,null)),T.bindFramebuffer(w.FRAMEBUFFER,e),L(t)?p.framebufferTexture2DMultisampleEXT(w.FRAMEBUFFER,a,n,i.__webglTexture,0,S(t)):(n===w.TEXTURE_2D||n>=w.TEXTURE_CUBE_MAP_POSITIVE_X&&n<=w.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&w.framebufferTexture2D(w.FRAMEBUFFER,a,n,i.__webglTexture,s),T.bindFramebuffer(w.FRAMEBUFFER,null)}function y(e,t,i){if(w.bindRenderbuffer(w.RENDERBUFFER,e),t.depthBuffer){var a=t.depthTexture,a=a&&a.isDepthTexture?a.type:null,a=C(t.stencilBuffer,a),n=t.stencilBuffer?w.DEPTH_STENCIL_ATTACHMENT:w.DEPTH_ATTACHMENT,s=S(t);L(t)?p.renderbufferStorageMultisampleEXT(w.RENDERBUFFER,s,a,t.width,t.height):i?w.renderbufferStorageMultisample(w.RENDERBUFFER,s,a,t.width,t.height):w.renderbufferStorage(w.RENDERBUFFER,a,t.width,t.height),w.framebufferRenderbuffer(w.FRAMEBUFFER,n,w.RENDERBUFFER,e)}else{var r=t.textures;for(let e=0;e<r.length;e++){var o=r[e],l=I.convert(o.format,o.colorSpace),c=I.convert(o.type),l=D(o.internalFormat,l,c,o.colorSpace),c=S(t);i&&!1===L(t)?w.renderbufferStorageMultisample(w.RENDERBUFFER,c,l,t.width,t.height):L(t)?p.renderbufferStorageMultisampleEXT(w.RENDERBUFFER,c,l,t.width,t.height):w.renderbufferStorage(w.RENDERBUFFER,l,t.width,t.height)}}w.bindRenderbuffer(w.RENDERBUFFER,null)}function b(t){const i=A.get(t);var a,n,e=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const l=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),l){const c=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,l.removeEventListener("dispose",c)};l.addEventListener("dispose",c),i.__depthDisposeCallback=c}i.__boundDepthTexture=l}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(e)throw new Error("target.depthTexture not supported in Cube render targets");var s=i.__webglFramebuffer,r=t;if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(T.bindFramebuffer(w.FRAMEBUFFER,s),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(s=A.get(r.depthTexture)).__renderTarget=r,s.__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),N(r.depthTexture,0);var s=s.__webglTexture,o=S(r);if(r.depthTexture.format===Ue)L(r)?p.framebufferTexture2DMultisampleEXT(w.FRAMEBUFFER,w.DEPTH_ATTACHMENT,w.TEXTURE_2D,s,0,o):w.framebufferTexture2D(w.FRAMEBUFFER,w.DEPTH_ATTACHMENT,w.TEXTURE_2D,s,0);else{if(r.depthTexture.format!==Be)throw new Error("Unknown depthTexture format");L(r)?p.framebufferTexture2DMultisampleEXT(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.TEXTURE_2D,s,0,o):w.framebufferTexture2D(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.TEXTURE_2D,s,0)}}else if(e){i.__webglDepthbuffer=[];for(let e=0;e<6;e++)T.bindFramebuffer(w.FRAMEBUFFER,i.__webglFramebuffer[e]),void 0===i.__webglDepthbuffer[e]?(i.__webglDepthbuffer[e]=w.createRenderbuffer(),y(i.__webglDepthbuffer[e],t,!1)):(a=t.stencilBuffer?w.DEPTH_STENCIL_ATTACHMENT:w.DEPTH_ATTACHMENT,n=i.__webglDepthbuffer[e],w.bindRenderbuffer(w.RENDERBUFFER,n),w.framebufferRenderbuffer(w.FRAMEBUFFER,a,w.RENDERBUFFER,n))}else T.bindFramebuffer(w.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer?(i.__webglDepthbuffer=w.createRenderbuffer(),y(i.__webglDepthbuffer,t,!1)):(r=t.stencilBuffer?w.DEPTH_STENCIL_ATTACHMENT:w.DEPTH_ATTACHMENT,o=i.__webglDepthbuffer,w.bindRenderbuffer(w.RENDERBUFFER,o),w.framebufferRenderbuffer(w.FRAMEBUFFER,r,w.RENDERBUFFER,o));T.bindFramebuffer(w.FRAMEBUFFER,null)}const v=[],x=[];function S(e){return Math.min(M.maxSamples,e.samples)}function L(e){var t=A.get(e);return 0<e.samples&&!0===r.has("WEBGL_multisampled_render_to_texture")&&!1!==t.__useRenderToTexture}function B(e,t){var i=e.colorSpace,a=e.format,n=e.type;return!0!==e.isCompressedTexture&&!0!==e.isVideoTexture&&i!==Wt&&i!==Ht&&(Xe.getTransfer(i)===me?a===Fe&&n===it||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",i)),t}function O(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(t.width=e.naturalWidth||e.width,t.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(t.width=e.displayWidth,t.height=e.displayHeight):(t.width=e.width,t.height=e.height),t}this.allocateTextureUnit=function(){var e=a;return e>=M.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+M.maxTextures),a+=1,e},this.resetTextureUnits=function(){a=0},this.setTexture2D=N,this.setTexture2DArray=function(e,t){var i=A.get(e);0<e.version&&i.__version!==e.version?g(i,e,t):T.bindTexture(w.TEXTURE_2D_ARRAY,i.__webglTexture,w.TEXTURE0+t)},this.setTexture3D=function(e,t){var i=A.get(e);0<e.version&&i.__version!==e.version?g(i,e,t):T.bindTexture(w.TEXTURE_3D,i.__webglTexture,w.TEXTURE0+t)},this.setTextureCube=function(t,e){var i=A.get(t);if(0<t.version&&i.__version!==t.version){var a=i,n=t,t=e;if(6===n.image.length){var s=U(a,n),r=n.source,o=(T.bindTexture(w.TEXTURE_CUBE_MAP,a.__webglTexture,w.TEXTURE0+t),A.get(r));if(r.version!==o.__version||!0===s){T.activeTexture(w.TEXTURE0+t);var t=Xe.getPrimaries(Xe.workingColorSpace),l=n.colorSpace===Ht?null:Xe.getPrimaries(n.colorSpace),t=n.colorSpace===Ht||t===l?w.NONE:w.BROWSER_DEFAULT_WEBGL,c=(w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,n.flipY),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),w.pixelStorei(w.UNPACK_ALIGNMENT,n.unpackAlignment),w.pixelStorei(w.UNPACK_COLORSPACE_CONVERSION_WEBGL,t),n.isCompressedTexture||n.image[0].isCompressedTexture),d=n.image[0]&&n.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=c||d?d?n.image[e].image:n.image[e]:E(n.image[e],!0,M.maxCubemapSize),p[e]=B(n,p[e]);var l=p[0],u=I.convert(n.format,n.colorSpace),h=I.convert(n.type),m=D(n.internalFormat,u,h,n.colorSpace),f=!0!==n.isVideoTexture,t=void 0===o.__version||!0===s,g=r.dataReady;let e=P(n,l);R(w.TEXTURE_CUBE_MAP,n);let i;if(c){f&&t&&T.texStorage2D(w.TEXTURE_CUBE_MAP,e,m,l.width,l.height);for(let t=0;t<6;t++){i=p[t].mipmaps;for(let e=0;e<i.length;e++){var _=i[e];n.format!==Fe?null!==u?f?g&&T.compressedTexSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e,0,0,_.width,_.height,u,_.data):T.compressedTexImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e,m,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):f?g&&T.texSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e,0,0,_.width,_.height,u,h,_.data):T.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e,m,_.width,_.height,0,u,h,_.data)}}}else{i=n.mipmaps,f&&t&&(0<i.length&&e++,s=O(p[0]),T.texStorage2D(w.TEXTURE_CUBE_MAP,e,m,s.width,s.height));for(let t=0;t<6;t++)if(d){f?g&&T.texSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,u,h,p[t].data):T.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,m,p[t].width,p[t].height,0,u,h,p[t].data);for(let e=0;e<i.length;e++){var y=i[e].image[t].image;f?g&&T.texSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e+1,0,0,y.width,y.height,u,h,y.data):T.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e+1,m,y.width,y.height,0,u,h,y.data)}}else{f?g&&T.texSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,u,h,p[t]):T.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,m,u,h,p[t]);for(let e=0;e<i.length;e++){var b=i[e];f?g&&T.texSubImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e+1,0,0,u,h,b.image[t]):T.texImage2D(w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e+1,m,u,h,b.image[t])}}}z(n)&&k(w.TEXTURE_CUBE_MAP),o.__version=r.version,n.onUpdate&&n.onUpdate(n)}a.__version=n.version}}else T.bindTexture(w.TEXTURE_CUBE_MAP,i.__webglTexture,w.TEXTURE0+e)},this.rebindTextures=function(e,t,i){var a=A.get(e);void 0!==t&&_(a.__webglFramebuffer,e,e.texture,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,0),void 0!==i&&b(e)},this.setupRenderTarget=function(i){const a=i.texture;var n=A.get(i),e=A.get(a),s=(i.addEventListener("dispose",m),i.textures),t=!0===i.isWebGLCubeRenderTarget,r=1<s.length;if(r||(void 0===e.__webglTexture&&(e.__webglTexture=w.createTexture()),e.__version=a.version,u.memory.textures++),t){n.__webglFramebuffer=[];for(let t=0;t<6;t++)if(a.mipmaps&&0<a.mipmaps.length){n.__webglFramebuffer[t]=[];for(let e=0;e<a.mipmaps.length;e++)n.__webglFramebuffer[t][e]=w.createFramebuffer()}else n.__webglFramebuffer[t]=w.createFramebuffer()}else{if(a.mipmaps&&0<a.mipmaps.length){n.__webglFramebuffer=[];for(let e=0;e<a.mipmaps.length;e++)n.__webglFramebuffer[e]=w.createFramebuffer()}else n.__webglFramebuffer=w.createFramebuffer();if(r)for(let e=0,t=s.length;e<t;e++){var o=A.get(s[e]);void 0===o.__webglTexture&&(o.__webglTexture=w.createTexture(),u.memory.textures++)}if(0<i.samples&&!1===L(i)){n.__webglMultisampledFramebuffer=w.createFramebuffer(),n.__webglColorRenderbuffer=[],T.bindFramebuffer(w.FRAMEBUFFER,n.__webglMultisampledFramebuffer);for(let e=0;e<s.length;e++){const a=s[e];n.__webglColorRenderbuffer[e]=w.createRenderbuffer(),w.bindRenderbuffer(w.RENDERBUFFER,n.__webglColorRenderbuffer[e]);var l=I.convert(a.format,a.colorSpace),c=I.convert(a.type),l=D(a.internalFormat,l,c,a.colorSpace,!0===i.isXRRenderTarget),c=S(i);w.renderbufferStorageMultisample(w.RENDERBUFFER,c,l,i.width,i.height),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0+e,w.RENDERBUFFER,n.__webglColorRenderbuffer[e])}w.bindRenderbuffer(w.RENDERBUFFER,null),i.depthBuffer&&(n.__webglDepthRenderbuffer=w.createRenderbuffer(),y(n.__webglDepthRenderbuffer,i,!0)),T.bindFramebuffer(w.FRAMEBUFFER,null)}}if(t){T.bindTexture(w.TEXTURE_CUBE_MAP,e.__webglTexture),R(w.TEXTURE_CUBE_MAP,a);for(let t=0;t<6;t++)if(a.mipmaps&&0<a.mipmaps.length)for(let e=0;e<a.mipmaps.length;e++)_(n.__webglFramebuffer[t][e],i,a,w.COLOR_ATTACHMENT0,w.TEXTURE_CUBE_MAP_POSITIVE_X+t,e);else _(n.__webglFramebuffer[t],i,a,w.COLOR_ATTACHMENT0,w.TEXTURE_CUBE_MAP_POSITIVE_X+t,0);z(a)&&k(w.TEXTURE_CUBE_MAP)}else if(r)for(let e=0,t=s.length;e<t;e++){var d=s[e],p=A.get(d);T.bindTexture(w.TEXTURE_2D,p.__webglTexture),R(w.TEXTURE_2D,d),_(n.__webglFramebuffer,i,d,w.COLOR_ATTACHMENT0+e,w.TEXTURE_2D,0),z(d)&&k(w.TEXTURE_2D)}else{let t=w.TEXTURE_2D;if((i.isWebGL3DRenderTarget||i.isWebGLArrayRenderTarget)&&(t=i.isWebGL3DRenderTarget?w.TEXTURE_3D:w.TEXTURE_2D_ARRAY),T.bindTexture(t,e.__webglTexture),R(t,a),a.mipmaps&&0<a.mipmaps.length)for(let e=0;e<a.mipmaps.length;e++)_(n.__webglFramebuffer[e],i,a,w.COLOR_ATTACHMENT0,t,e);else _(n.__webglFramebuffer,i,a,w.COLOR_ATTACHMENT0,t,0);z(a)&&k(t)}T.unbindTexture(),i.depthBuffer&&b(i)},this.updateRenderTargetMipmap=function(i){var a=i.textures;for(let e=0,t=a.length;e<t;e++){var n,s=a[e];z(s)&&(n=(n=i).isWebGLCubeRenderTarget?w.TEXTURE_CUBE_MAP:n.isWebGL3DRenderTarget?w.TEXTURE_3D:n.isWebGLArrayRenderTarget||n.isCompressedArrayTexture?w.TEXTURE_2D_ARRAY:w.TEXTURE_2D,s=A.get(s).__webglTexture,T.bindTexture(n,s),k(n),T.unbindTexture())}},this.updateMultisampleRenderTarget=function(i){if(0<i.samples)if(!1===L(i)){var a=i.textures,n=i.width,s=i.height;let t=w.COLOR_BUFFER_BIT;var r,o=i.stencilBuffer?w.DEPTH_STENCIL_ATTACHMENT:w.DEPTH_ATTACHMENT,l=A.get(i),c=1<a.length;if(c)for(let e=0;e<a.length;e++)T.bindFramebuffer(w.FRAMEBUFFER,l.__webglMultisampledFramebuffer),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0+e,w.RENDERBUFFER,null),T.bindFramebuffer(w.FRAMEBUFFER,l.__webglFramebuffer),w.framebufferTexture2D(w.DRAW_FRAMEBUFFER,w.COLOR_ATTACHMENT0+e,w.TEXTURE_2D,null,0);T.bindFramebuffer(w.READ_FRAMEBUFFER,l.__webglMultisampledFramebuffer),T.bindFramebuffer(w.DRAW_FRAMEBUFFER,l.__webglFramebuffer);for(let e=0;e<a.length;e++)i.resolveDepthBuffer&&(i.depthBuffer&&(t|=w.DEPTH_BUFFER_BIT),i.stencilBuffer)&&i.resolveStencilBuffer&&(t|=w.STENCIL_BUFFER_BIT),c&&(w.framebufferRenderbuffer(w.READ_FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.RENDERBUFFER,l.__webglColorRenderbuffer[e]),r=A.get(a[e]).__webglTexture,w.framebufferTexture2D(w.DRAW_FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,r,0)),w.blitFramebuffer(0,0,n,s,0,0,n,s,t,w.NEAREST),!0===h&&(v.length=0,x.length=0,v.push(w.COLOR_ATTACHMENT0+e),i.depthBuffer&&!1===i.resolveDepthBuffer&&(v.push(o),x.push(o),w.invalidateFramebuffer(w.DRAW_FRAMEBUFFER,x)),w.invalidateFramebuffer(w.READ_FRAMEBUFFER,v));if(T.bindFramebuffer(w.READ_FRAMEBUFFER,null),T.bindFramebuffer(w.DRAW_FRAMEBUFFER,null),c)for(let e=0;e<a.length;e++){T.bindFramebuffer(w.FRAMEBUFFER,l.__webglMultisampledFramebuffer),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0+e,w.RENDERBUFFER,l.__webglColorRenderbuffer[e]);var d=A.get(a[e]).__webglTexture;T.bindFramebuffer(w.FRAMEBUFFER,l.__webglFramebuffer),w.framebufferTexture2D(w.DRAW_FRAMEBUFFER,w.COLOR_ATTACHMENT0+e,w.TEXTURE_2D,d,0)}T.bindFramebuffer(w.DRAW_FRAMEBUFFER,l.__webglMultisampledFramebuffer)}else{var e;i.depthBuffer&&!1===i.resolveDepthBuffer&&h&&(e=i.stencilBuffer?w.DEPTH_STENCIL_ATTACHMENT:w.DEPTH_ATTACHMENT,w.invalidateFramebuffer(w.DRAW_FRAMEBUFFER,[e]))}},this.setupDepthRenderbuffer=b,this.setupFrameBufferTexture=_,this.useMultisampledRTT=L}function Jd(a,n){return{convert:function(e,t=Ht){let i;if(t=Xe.getTransfer(t),e===it)return a.UNSIGNED_BYTE;if(e===rt)return a.UNSIGNED_SHORT_4_4_4_4;if(e===ot)return a.UNSIGNED_SHORT_5_5_5_1;if(e===b)return a.UNSIGNED_INT_5_9_9_9_REV;if(e===g)return a.BYTE;if(e===y)return a.SHORT;if(e===at)return a.UNSIGNED_SHORT;if(e===Ne)return a.INT;if(e===nt)return a.UNSIGNED_INT;if(e===je)return a.FLOAT;if(e===st)return a.HALF_FLOAT;if(e===v)return a.ALPHA;if(e===S)return a.RGB;if(e===Fe)return a.RGBA;if(e===w)return a.LUMINANCE;if(e===F)return a.LUMINANCE_ALPHA;if(e===Ue)return a.DEPTH_COMPONENT;if(e===Be)return a.DEPTH_STENCIL;if(e===U)return a.RED;if(e===ct)return a.RED_INTEGER;if(e===B)return a.RG;if(e===dt)return a.RG_INTEGER;if(e===pt)return a.RGBA_INTEGER;if(e===Ve||e===Ge||e===He||e===ut)if(t===me){if(null===(i=n.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===Ve)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Ge)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===He)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===ut)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=n.get("WEBGL_compressed_texture_s3tc")))return null;if(e===Ve)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ge)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===He)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ut)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ht||e===mt||e===ft||e===gt){if(null===(i=n.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===ht)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===mt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ft)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===gt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===_t||e===yt||e===bt){if(null===(i=n.get("WEBGL_compressed_texture_etc")))return null;if(e===_t||e===yt)return t===me?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(e===bt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(e===vt||e===xt||e===St||e===wt||e===Tt||e===At||e===Mt||e===It||e===Et||e===zt||e===kt||e===Dt||e===Ct||e===Pt){if(null===(i=n.get("WEBGL_compressed_texture_astc")))return null;if(e===vt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===xt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===St)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===wt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Tt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===At)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===Mt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===It)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===Et)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===zt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===kt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Dt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Ct)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Pt)return t===me?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===Rt||e===Lt||e===Ot){if(null===(i=n.get("EXT_texture_compression_bptc")))return null;if(e===Rt)return t===me?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(e===Lt)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(e===Ot)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(e===Nt||e===jt||e===Ft||e===Ut){if(null===(i=n.get("EXT_texture_compression_rgtc")))return null;if(e===Rt)return i.COMPRESSED_RED_RGTC1_EXT;if(e===jt)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===Ft)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===Ut)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return e===lt?a.UNSIGNED_INT_24_8:void 0!==a[e]?a[e]:null}}}class Kd{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){var a;null===this.texture&&(a=new d,e.properties.get(a).__webglTexture=t.texture,t.depthNear===i.depthNear&&t.depthFar===i.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=a)}getMesh(e){return null!==this.texture&&null===this.mesh&&(e=e.cameras[0].viewport,e=new Pn({vertexShader:`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,fragmentShader:`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}}),this.mesh=new P(new Xr(20,20),e)),this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Zd extends ii{constructor(l,n){super();const c=this;let _=null,s=1,d=null,t="local-floor",i=1,p=null,u=null,h=null,m=null,f=null,g=null;const y=new Kd,r=n.getContextAttributes();let e=null,b=null;const v=[],x=[],o=new ie;let S=null;const w=new jn,T=(w.viewport=new Ye,new jn),A=(T.viewport=new Ye,[w,T]),M=new tl;let I=null,E=null;function z(e){var t=x.indexOf(e.inputSource);-1!==t&&void 0!==(t=v[t])&&(t.update(e.inputSource,e.frame,p||d),t.dispatchEvent({type:e.type,data:e.inputSource}))}function k(){_.removeEventListener("select",z),_.removeEventListener("selectstart",z),_.removeEventListener("selectend",z),_.removeEventListener("squeeze",z),_.removeEventListener("squeezestart",z),_.removeEventListener("squeezeend",z),_.removeEventListener("end",k),_.removeEventListener("inputsourceschange",D);for(let e=0;e<v.length;e++){var t=x[e];null!==t&&(x[e]=null,v[e].disconnect(t))}I=null,E=null,y.reset(),l.setRenderTarget(e),f=null,m=null,h=null,_=null,b=null,O.stop(),c.isPresenting=!1,l.setPixelRatio(S),l.setSize(o.width,o.height,!1),c.dispatchEvent({type:"sessionend"})}function D(i){for(let e=0;e<i.removed.length;e++){var t=i.removed[e],a=x.indexOf(t);0<=a&&(x[a]=null,v[a].disconnect(t))}for(let e=0;e<i.added.length;e++){var n=i.added[e];let t=x.indexOf(n);if(-1===t){for(let e=0;e<v.length;e++){if(e>=x.length){x.push(n),t=e;break}if(null===x[e]){x[e]=n,t=e;break}}if(-1===t)break}var s=v[t];s&&s.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new Hn,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new Hn,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new Hn,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){s=e,!0===c.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){t=e,!0===c.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||d},this.setReferenceSpace=function(e){p=e},this.getBaseLayer=function(){return null!==m?m:f},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return _},this.setSession=async function(a){if(null!==(_=a)){if(e=l.getRenderTarget(),_.addEventListener("select",z),_.addEventListener("selectstart",z),_.addEventListener("selectend",z),_.addEventListener("squeeze",z),_.addEventListener("squeezestart",z),_.addEventListener("squeezeend",z),_.addEventListener("end",k),_.addEventListener("inputsourceschange",D),!0!==r.xrCompatible&&await n.makeXRCompatible(),S=l.getPixelRatio(),l.getSize(o),"undefined"!=typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let e=null,t=null,i=null;r.depth&&(i=r.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,e=r.stencil?Be:Ue,t=r.stencil?lt:nt);a={colorFormat:n.RGBA8,depthFormat:i,scaleFactor:s};h=new XRWebGLBinding(_,n),m=h.createProjectionLayer(a),_.updateRenderState({layers:[m]}),l.setPixelRatio(1),l.setSize(m.textureWidth,m.textureHeight,!1),b=new zi(m.textureWidth,m.textureHeight,{format:Fe,type:it,depthTexture:new Ks(m.textureWidth,m.textureHeight,t,void 0,void 0,void 0,void 0,void 0,void 0,e),stencilBuffer:r.stencil,colorSpace:l.outputColorSpace,samples:r.antialias?4:0,resolveDepthBuffer:!1===m.ignoreDepthValues,resolveStencilBuffer:!1===m.ignoreDepthValues})}else{a={antialias:r.antialias,alpha:!0,depth:r.depth,stencil:r.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(_,n,a),_.updateRenderState({baseLayer:f}),l.setPixelRatio(1),l.setSize(f.framebufferWidth,f.framebufferHeight,!1),b=new zi(f.framebufferWidth,f.framebufferHeight,{format:Fe,type:it,colorSpace:l.outputColorSpace,stencilBuffer:r.stencil,resolveDepthBuffer:!1===f.ignoreDepthValues,resolveStencilBuffer:!1===f.ignoreDepthValues})}b.isXRRenderTarget=!0,this.setFoveation(i),p=null,d=await _.requestReferenceSpace(t),O.setContext(_),O.start(),c.isPresenting=!0,c.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==_)return _.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};const C=new Je,P=new Je;function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(i){if(null!==_){let e=i.near,t=i.far;null!==y.texture&&(0<y.depthNear&&(e=y.depthNear),0<y.depthFar)&&(t=y.depthFar),M.near=T.near=w.near=e,M.far=T.far=w.far=t,I===M.near&&E===M.far||(_.updateRenderState({depthNear:M.near,depthFar:M.far}),I=M.near,E=M.far),w.layers.mask=2|i.layers.mask,T.layers.mask=4|i.layers.mask,M.layers.mask=w.layers.mask|T.layers.mask;var a,n,s,r,o,l,c,d,p,u=i.parent,h=M.cameras;R(M,u);for(let e=0;e<h.length;e++)R(h[e],u);2===h.length?(a=M,n=w,s=T,C.setFromMatrixPosition(n.matrixWorld),P.setFromMatrixPosition(s.matrixWorld),f=C.distanceTo(P),r=n.projectionMatrix.elements,s=s.projectionMatrix.elements,o=r[14]/(r[10]-1),l=r[14]/(r[10]+1),c=(r[9]+1)/r[5],d=(r[9]-1)/r[5],g=(r[8]-1)/r[0],s=(s[8]+1)/s[0],m=o*g,p=o*s,g=(s=f/(s-g))*-g,n.matrixWorld.decompose(a.position,a.quaternion,a.scale),a.translateX(g),a.translateZ(s),a.matrixWorld.compose(a.position,a.quaternion,a.scale),a.matrixWorldInverse.copy(a.matrixWorld).invert(),-1===r[10]?(a.projectionMatrix.copy(n.projectionMatrix),a.projectionMatrixInverse.copy(n.projectionMatrixInverse)):(a.projectionMatrix.makePerspective(m-g,f-g+p,c*l/(r=l+s)*(n=o+s),d*l/r*n,n,r),a.projectionMatrixInverse.copy(a.projectionMatrix).invert())):M.projectionMatrix.copy(w.projectionMatrix);var m=i,f=M,g=u;null===g?m.matrix.copy(f.matrixWorld):(m.matrix.copy(g.matrixWorld),m.matrix.invert(),m.matrix.multiply(f.matrixWorld)),m.matrix.decompose(m.position,m.quaternion,m.scale),m.updateMatrixWorld(!0),m.projectionMatrix.copy(f.projectionMatrix),m.projectionMatrixInverse.copy(f.projectionMatrixInverse),m.isPerspectiveCamera&&(m.fov=2*ri*Math.atan(1/m.projectionMatrix.elements[5]),m.zoom=1)}},this.getCamera=function(){return M},this.getFoveation=function(){if(null!==m||null!==f)return i},this.setFoveation=function(e){i=e,null!==m&&(m.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==y.texture},this.getDepthSensingMesh=function(){return y.getMesh(M)};let L=null;const O=new Al;O.setAnimationLoop(function(e,t){if(u=t.getViewerPose(p||d),g=t,null!==u){var n=u.views;null!==f&&(l.setRenderTargetFramebuffer(b,f.framebuffer),l.setRenderTarget(b));let a=!1;n.length!==M.cameras.length&&(M.cameras.length=0,a=!0);for(let i=0;i<n.length;i++){var s,r=n[i];let e=null,t=(null!==f?e=f.getViewport(r):(s=h.getViewSubImage(m,r),e=s.viewport,0===i&&(l.setRenderTargetTextures(b,s.colorTexture,m.ignoreDepthValues?void 0:s.depthStencilTexture),l.setRenderTarget(b))),A[i]);void 0===t&&((t=new jn).layers.enable(i),t.viewport=new Ye,A[i]=t),t.matrix.fromArray(r.transform.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale),t.projectionMatrix.fromArray(r.projectionMatrix),t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),t.viewport.set(e.x,e.y,e.width,e.height),0===i&&(M.matrix.copy(t.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===a&&M.cameras.push(t)}var i=_.enabledFeatures;i&&i.includes("depth-sensing")&&"gpu-optimized"==_.depthUsage&&h&&(i=h.getDepthInformation(n[0]))&&i.isValid&&i.texture&&y.init(l,i,_.renderState)}for(let e=0;e<v.length;e++){var a=x[e],o=v[e];null!==a&&void 0!==o&&o.update(a,t,p||d)}L&&L(e,t),t.detectedPlanes&&c.dispatchEvent({type:"planesdetected",data:t}),g=null}),this.setAnimationLoop=function(e){L=e},this.dispose=function(){}}}const $d=new ga,Qd=new Ke;function ep(i,p){function u(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function h(e,t){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map,u(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,u(t.alphaMap,e.alphaMapTransform)),t.bumpMap&&(e.bumpMap.value=t.bumpMap,u(t.bumpMap,e.bumpMapTransform),e.bumpScale.value=t.bumpScale,t.side===Qe)&&(e.bumpScale.value*=-1),t.normalMap&&(e.normalMap.value=t.normalMap,u(t.normalMap,e.normalMapTransform),e.normalScale.value.copy(t.normalScale),t.side===Qe)&&e.normalScale.value.negate(),t.displacementMap&&(e.displacementMap.value=t.displacementMap,u(t.displacementMap,e.displacementMapTransform),e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap,u(t.emissiveMap,e.emissiveMapTransform)),t.specularMap&&(e.specularMap.value=t.specularMap,u(t.specularMap,e.specularMapTransform)),0<t.alphaTest&&(e.alphaTest.value=t.alphaTest);var i=p.get(t),a=i.envMap,i=i.envMapRotation;a&&(e.envMap.value=a,$d.copy(i),$d.x*=-1,$d.y*=-1,$d.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&($d.y*=-1,$d.z*=-1),e.envMapRotation.value.setFromMatrix4(Qd.makeRotationFromEuler($d)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=t.reflectivity,e.ior.value=t.ior,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity,u(t.lightMap,e.lightMapTransform)),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity,u(t.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(e,t){t.color.getRGB(e.fogColor.value,Dn(i)),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,t,i,a,n){var s,r,o,l,c,d;t.isMeshBasicMaterial||t.isMeshLambertMaterial?h(e,t):t.isMeshToonMaterial?(h(e,t),c=e,(d=t).gradientMap&&(c.gradientMap.value=d.gradientMap)):t.isMeshPhongMaterial?(h(e,t),c=t,(d=e).specular.value.copy(c.specular),d.shininess.value=Math.max(c.shininess,1e-4)):t.isMeshStandardMaterial?(h(e,t),o=t,(l=e).metalness.value=o.metalness,o.metalnessMap&&(l.metalnessMap.value=o.metalnessMap,u(o.metalnessMap,l.metalnessMapTransform)),l.roughness.value=o.roughness,o.roughnessMap&&(l.roughnessMap.value=o.roughnessMap,u(o.roughnessMap,l.roughnessMapTransform)),o.envMap&&(l.envMapIntensity.value=o.envMapIntensity),t.isMeshPhysicalMaterial&&(l=t,o=n,(n=e).ior.value=l.ior,0<l.sheen&&(n.sheenColor.value.copy(l.sheenColor).multiplyScalar(l.sheen),n.sheenRoughness.value=l.sheenRoughness,l.sheenColorMap&&(n.sheenColorMap.value=l.sheenColorMap,u(l.sheenColorMap,n.sheenColorMapTransform)),l.sheenRoughnessMap)&&(n.sheenRoughnessMap.value=l.sheenRoughnessMap,u(l.sheenRoughnessMap,n.sheenRoughnessMapTransform)),0<l.clearcoat&&(n.clearcoat.value=l.clearcoat,n.clearcoatRoughness.value=l.clearcoatRoughness,l.clearcoatMap&&(n.clearcoatMap.value=l.clearcoatMap,u(l.clearcoatMap,n.clearcoatMapTransform)),l.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap.value=l.clearcoatRoughnessMap,u(l.clearcoatRoughnessMap,n.clearcoatRoughnessMapTransform)),l.clearcoatNormalMap)&&(n.clearcoatNormalMap.value=l.clearcoatNormalMap,u(l.clearcoatNormalMap,n.clearcoatNormalMapTransform),n.clearcoatNormalScale.value.copy(l.clearcoatNormalScale),l.side===Qe)&&n.clearcoatNormalScale.value.negate(),0<l.dispersion&&(n.dispersion.value=l.dispersion),0<l.iridescence&&(n.iridescence.value=l.iridescence,n.iridescenceIOR.value=l.iridescenceIOR,n.iridescenceThicknessMinimum.value=l.iridescenceThicknessRange[0],n.iridescenceThicknessMaximum.value=l.iridescenceThicknessRange[1],l.iridescenceMap&&(n.iridescenceMap.value=l.iridescenceMap,u(l.iridescenceMap,n.iridescenceMapTransform)),l.iridescenceThicknessMap)&&(n.iridescenceThicknessMap.value=l.iridescenceThicknessMap,u(l.iridescenceThicknessMap,n.iridescenceThicknessMapTransform)),0<l.transmission&&(n.transmission.value=l.transmission,n.transmissionSamplerMap.value=o.texture,n.transmissionSamplerSize.value.set(o.width,o.height),l.transmissionMap&&(n.transmissionMap.value=l.transmissionMap,u(l.transmissionMap,n.transmissionMapTransform)),n.thickness.value=l.thickness,l.thicknessMap&&(n.thicknessMap.value=l.thicknessMap,u(l.thicknessMap,n.thicknessMapTransform)),n.attenuationDistance.value=l.attenuationDistance,n.attenuationColor.value.copy(l.attenuationColor)),0<l.anisotropy&&(n.anisotropyVector.value.set(l.anisotropy*Math.cos(l.anisotropyRotation),l.anisotropy*Math.sin(l.anisotropyRotation)),l.anisotropyMap)&&(n.anisotropyMap.value=l.anisotropyMap,u(l.anisotropyMap,n.anisotropyMapTransform)),n.specularIntensity.value=l.specularIntensity,n.specularColor.value.copy(l.specularColor),l.specularColorMap&&(n.specularColorMap.value=l.specularColorMap,u(l.specularColorMap,n.specularColorMapTransform)),l.specularIntensityMap)&&(n.specularIntensityMap.value=l.specularIntensityMap,u(l.specularIntensityMap,n.specularIntensityMapTransform))):t.isMeshMatcapMaterial?(h(e,t),o=e,(l=t).matcap&&(o.matcap.value=l.matcap)):t.isMeshDepthMaterial?h(e,t):t.isMeshDistanceMaterial?(h(e,t),n=e,r=t,r=p.get(r).light,n.referencePosition.value.setFromMatrixPosition(r.matrixWorld),n.nearDistance.value=r.shadow.camera.near,n.farDistance.value=r.shadow.camera.far):t.isMeshNormalMaterial?h(e,t):t.isLineBasicMaterial?(n=t,(r=e).diffuse.value.copy(n.color),r.opacity.value=n.opacity,n.map&&(r.map.value=n.map,u(n.map,r.mapTransform)),t.isLineDashedMaterial&&(n=t,(s=e).dashSize.value=n.dashSize,s.totalSize.value=n.dashSize+n.gapSize,s.scale.value=n.scale)):t.isPointsMaterial?(s=t,n=i,i=a,(a=e).diffuse.value.copy(s.color),a.opacity.value=s.opacity,a.size.value=s.size*n,a.scale.value=.5*i,s.map&&(a.map.value=s.map,u(s.map,a.uvTransform)),s.alphaMap&&(a.alphaMap.value=s.alphaMap,u(s.alphaMap,a.alphaMapTransform)),0<s.alphaTest&&(a.alphaTest.value=s.alphaTest)):t.isSpriteMaterial?(n=t,(i=e).diffuse.value.copy(n.color),i.opacity.value=n.opacity,i.rotation.value=n.rotation,n.map&&(i.map.value=n.map,u(n.map,i.mapTransform)),n.alphaMap&&(i.alphaMap.value=n.alphaMap,u(n.alphaMap,i.alphaMapTransform)),0<n.alphaTest&&(i.alphaTest.value=n.alphaTest)):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}}}function tp(w,T,e,A){let M={},I={},E=[];const z=w.getParameter(w.MAX_UNIFORM_BUFFER_BINDINGS);function k(e){var t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function D(e){var e=e.target,t=(e.removeEventListener("dispose",D),E.indexOf(e.__bindingPointIndex));E.splice(t,1),w.deleteBuffer(M[e.id]),delete M[e.id],delete I[e.id]}return{bind:function(e,t){t=t.program,A.uniformBlockBinding(e,t)},update:function(e,t){var i;if(void 0===(i=M[e.id])){{var a=e;var n=a.uniforms;let i=0;for(let e=0,t=n.length;e<t;e++){var s=Array.isArray(n[e])?n[e]:[n[e]];for(let e=0,t=s.length;e<t;e++){var r=s[e],o=Array.isArray(r.value)?r.value:[r.value];for(let e=0,t=o.length;e<t;e++){var l=k(o[e]);const S=i%16;var c=S%l.boundary,d=S+c;i+=c,0!=d&&16-d<l.storage&&(i+=16-d),r.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),r.__offset=i,i+=l.storage}}}const S=i%16;0<S&&(i+=16-S);a.__size=i,a.__cache={}}a=e,u=function(){for(let e=0;e<z;e++)if(-1===E.indexOf(e))return E.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}(),a.__bindingPointIndex=u,h=w.createBuffer(),p=a.__size,a=a.usage,w.bindBuffer(w.UNIFORM_BUFFER,h),w.bufferData(w.UNIFORM_BUFFER,p,a),w.bindBuffer(w.UNIFORM_BUFFER,null),w.bindBufferBase(w.UNIFORM_BUFFER,u,h),i=h,M[e.id]=i,e.addEventListener("dispose",D)}var p=t.program,a=(A.updateUBOMapping(e,p),T.render.frame);if(I[e.id]!==a){var u=e,h=M[u.id],m=u.uniforms,f=u.__cache;w.bindBuffer(w.UNIFORM_BUFFER,h);for(let i=0,e=m.length;i<e;i++){var g=Array.isArray(m[i])?m[i]:[m[i]];for(let e=0,t=g.length;e<t;e++){var _=g[e];if(!0===function(e,t,i,a){e=e.value,t=t+"_"+i;{if(void 0===a[t])return a[t]="number"==typeof e||"boolean"==typeof e?e:e.clone(),!0;i=a[t];if("number"==typeof e||"boolean"==typeof e){if(i!==e)return a[t]=e,!0}else if(!1===i.equals(e))return i.copy(e),!0}return!1}(_,i,e,f)){var y=_.__offset,b=Array.isArray(_.value)?_.value:[_.value];let t=0;for(let e=0;e<b.length;e++){var v=b[e],x=k(v);"number"==typeof v||"boolean"==typeof v?(_.__data[0]=v,w.bufferSubData(w.UNIFORM_BUFFER,y+t,_.__data)):v.isMatrix3?(_.__data[0]=v.elements[0],_.__data[1]=v.elements[1],_.__data[2]=v.elements[2],_.__data[3]=0,_.__data[4]=v.elements[3],_.__data[5]=v.elements[4],_.__data[6]=v.elements[5],_.__data[7]=0,_.__data[8]=v.elements[6],_.__data[9]=v.elements[7],_.__data[10]=v.elements[8],_.__data[11]=0):(v.toArray(_.__data,t),t+=x.storage/Float32Array.BYTES_PER_ELEMENT)}w.bufferSubData(w.UNIFORM_BUFFER,y,_.__data)}}}w.bindBuffer(w.UNIFORM_BUFFER,null),I[e.id]=a}},dispose:function(){for(const e in M)w.deleteBuffer(M[e]);E=[],M={},I={}}}}class ip{constructor(e={}){const{canvas:a=(X=mi("canvas"),X.style.display="block",X),context:i=null,depth:r=!0,stencil:S=!1,alpha:w=!1,antialias:T=!1,premultipliedAlpha:V=!0,preserveDrawingBuffer:G=!1,powerPreference:H="default",failIfMajorPerformanceCaveat:W=!1,reverseDepthBuffer:q=!1}=e;var X;this.isWebGLRenderer=!0;let Y;if(null!==i){if("undefined"!=typeof WebGLRenderingContext&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Y=i.getContextAttributes().alpha}else Y=w;const l=new Uint32Array(4),c=new Int32Array(4);let u=null,A=null;const o=[],d=[],M=(this.domElement=a,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=qe,this.toneMapping=et,this.toneMappingExposure=1,this);let J=!1,K=0,Z=0,I=null,E=-1,z=null;const h=new Ye,$=new Ye;let Q=null;const ee=new Ze(0);let te=0,n=a.width,k=a.height,D=1,ie=null,ae=null;const ne=new Ye(0,0,n,k),se=new Ye(0,0,n,k);let re=!1;const oe=new As;let C=!1,le=!1;this.transmissionResolutionScale=1;const ce=new Ke,de=new Ke,pe=new Je,m=new Ye,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let he=!1;function me(){return null===I?D:1}let P=i;function fe(e,t){return a.getContext(e,t)}try{var ge={alpha:!0,depth:r,stencil:S,antialias:T,premultipliedAlpha:V,preserveDrawingBuffer:G,powerPreference:H,failIfMajorPerformanceCaveat:W};if("setAttribute"in a&&a.setAttribute("data-engine","three.js r174"),a.addEventListener("webglcontextlost",Me,!1),a.addEventListener("webglcontextrestored",Ie,!1),a.addEventListener("webglcontextcreationerror",Ee,!1),null===P)if(null===(P=fe("webgl2",ge)))throw fe("webgl2")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}let g,R,L,s,O,N,j,F,_,_e,f,p,ye,be,ve,U,y,b,xe,Se,we,B,v,Te;function Ae(){(g=new Ql(P)).init(),B=new Jd(P,g),R=new Rl(P,g,e,B),L=new Xd(P,g),R.reverseDepthBuffer&&q&&L.buffers.depth.setReversed(!0),s=new ic(P),O=new Cd,N=new Yd(P,g,L,O,R,B,s),j=new Ol(M),F=new $l(M),_=new Ml(P),v=new Cl(P,_),_e=new ec(P,_,s,v),f=new nc(P,_e,_,s),xe=new ac(P,R,N),U=new Ll(O),p=new Dd(M,j,F,g,R,v,U),ye=new ep(M,O),be=new Od,ve=new Vd(g),b=new Dl(M,j,F,L,f,Y,V),y=new Wd(M,f,R),Te=new tp(P,s,R,L),Se=new Pl(P,g,s),we=new tc(P,g,s),s.programs=p.programs,M.capabilities=R,M.extensions=g,M.properties=O,M.renderLists=be,M.shadowMap=y,M.state=L,M.info=s}Ae();const x=new Zd(M,P);function Me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),J=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),J=!1;var e=s.autoReset,t=y.enabled,i=y.autoUpdate,a=y.needsUpdate,n=y.type;Ae(),s.autoReset=e,y.enabled=t,y.autoUpdate=i,y.needsUpdate=a,y.type=n}function Ee(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function ze(e){var e=e.target,t=(e.removeEventListener("dispose",ze),e=e),i=O.get(t).programs;void 0!==i&&(i.forEach(function(e){p.releaseProgram(e)}),t.isShaderMaterial)&&p.releaseShaderCache(t),O.remove(e)}function ke(e,t,i){!0===e.transparent&&e.side===We&&!1===e.forceSinglePass?(e.side=Qe,e.needsUpdate=!0,Fe(e,t,i),e.side=$e,e.needsUpdate=!0,Fe(e,t,i),e.side=We):Fe(e,t,i)}this.xr=x,this.getContext=function(){return P},this.getContextAttributes=function(){return P.getContextAttributes()},this.forceContextLoss=function(){var e=g.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=g.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(e){void 0!==e&&(D=e,this.setSize(n,k,!1))},this.getSize=function(e){return e.set(n,k)},this.setSize=function(e,t,i=!0){x.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(n=e,k=t,a.width=Math.floor(e*D),a.height=Math.floor(t*D),!0===i&&(a.style.width=e+"px",a.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(n*D,k*D).floor()},this.setDrawingBufferSize=function(e,t,i){n=e,k=t,D=i,a.width=Math.floor(e*i),a.height=Math.floor(t*i),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(h)},this.getViewport=function(e){return e.copy(ne)},this.setViewport=function(e,t,i,a){e.isVector4?ne.set(e.x,e.y,e.z,e.w):ne.set(e,t,i,a),L.viewport(h.copy(ne).multiplyScalar(D).round())},this.getScissor=function(e){return e.copy(se)},this.setScissor=function(e,t,i,a){e.isVector4?se.set(e.x,e.y,e.z,e.w):se.set(e,t,i,a),L.scissor($.copy(se).multiplyScalar(D).round())},this.getScissorTest=function(){return re},this.setScissorTest=function(e){L.setScissorTest(re=e)},this.setOpaqueSort=function(e){ie=e},this.setTransparentSort=function(e){ae=e},this.getClearColor=function(e){return e.copy(b.getClearColor())},this.setClearColor=function(){b.setClearColor(...arguments)},this.getClearAlpha=function(){return b.getClearAlpha()},this.setClearAlpha=function(){b.setClearAlpha(...arguments)},this.clear=function(t=!0,e=!0,i=!0){let a=0;if(t){let e=!1;var n,s,r,o;null!==I&&(t=I.texture.format,e=t===pt||t===dt||t===ct),e?(t=(t=I.texture.type)===it||t===nt||t===at||t===lt||t===rt||t===ot,o=b.getClearColor(),n=b.getClearAlpha(),s=o.r,r=o.g,o=o.b,t?(l[0]=s,l[1]=r,l[2]=o,l[3]=n,P.clearBufferuiv(P.COLOR,0,l)):(c[0]=s,c[1]=r,c[2]=o,c[3]=n,P.clearBufferiv(P.COLOR,0,c))):a|=P.COLOR_BUFFER_BIT}e&&(a|=P.DEPTH_BUFFER_BIT),i&&(a|=P.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),P.clear(a)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Me,!1),a.removeEventListener("webglcontextrestored",Ie,!1),a.removeEventListener("webglcontextcreationerror",Ee,!1),b.dispose(),be.dispose(),ve.dispose(),O.dispose(),j.dispose(),F.dispose(),f.dispose(),v.dispose(),Te.dispose(),p.dispose(),x.dispose(),x.removeEventListener("sessionstart",Ce),x.removeEventListener("sessionend",Pe),t.stop()},this.renderBufferDirect=function(e,i,a,n,s,r){null===i&&(i=ue);var o=s.isMesh&&s.matrixWorld.determinant()<0,e=function(e,t,i,a,n){!0!==t.isScene&&(t=ue);N.resetTextureUnits();var s=t.fog,r=a.isMeshStandardMaterial?t.environment:null,o=null===I?M.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:Wt,r=(a.isMeshStandardMaterial?F:j).get(a.envMap||r),l=!0===a.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,c=!!i.attributes.tangent&&(!!a.normalMap||0<a.anisotropy),d=!!i.morphAttributes.position,p=!!i.morphAttributes.normal,u=!!i.morphAttributes.color;let h=et;!a.toneMapped||null!==I&&!0!==I.isXRRenderTarget||(h=M.toneMapping);var m=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,m=void 0!==m?m.length:0,f=O.get(a),g=A.state.lights;!0!==C||!0!==le&&e===z||(S=e===z&&a.id===E,U.setState(a,e,S));let _=!1;a.version===f.__version?(f.needsLights&&f.lightsStateVersion!==g.state.version||f.outputColorSpace!==o||n.isBatchedMesh&&!1===f.batching||!n.isBatchedMesh&&!0===f.batching||n.isBatchedMesh&&!0===f.batchingColor&&null===n.colorTexture||n.isBatchedMesh&&!1===f.batchingColor&&null!==n.colorTexture||n.isInstancedMesh&&!1===f.instancing||!n.isInstancedMesh&&!0===f.instancing||n.isSkinnedMesh&&!1===f.skinning||!n.isSkinnedMesh&&!0===f.skinning||n.isInstancedMesh&&!0===f.instancingColor&&null===n.instanceColor||n.isInstancedMesh&&!1===f.instancingColor&&null!==n.instanceColor||n.isInstancedMesh&&!0===f.instancingMorph&&null===n.morphTexture||n.isInstancedMesh&&!1===f.instancingMorph&&null!==n.morphTexture||f.envMap!==r||!0===a.fog&&f.fog!==s||void 0!==f.numClippingPlanes&&(f.numClippingPlanes!==U.numPlanes||f.numIntersection!==U.numIntersection)||f.vertexAlphas!==l||f.vertexTangents!==c||f.morphTargets!==d||f.morphNormals!==p||f.morphColors!==u||f.toneMapping!==h||f.morphTargetsCount!==m)&&(_=!0):(_=!0,f.__version=a.version);let y=f.currentProgram;!0===_&&(y=Fe(a,t,n));let b=!1,v=!1,x=!1;var S=y.getUniforms(),g=f.uniforms;L.useProgram(y.program)&&(b=!0,v=!0,x=!0);a.id!==E&&(E=a.id,v=!0);!b&&z===e||(L.buffers.depth.getReversed()?(ce.copy(e.projectionMatrix),function(e){(e=e.elements)[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(ce),function(e){-1===(e=e.elements)[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(ce),S.setValue(P,"projectionMatrix",ce)):S.setValue(P,"projectionMatrix",e.projectionMatrix),S.setValue(P,"viewMatrix",e.matrixWorldInverse),void 0!==(o=S.map.cameraPosition)&&o.setValue(P,pe.setFromMatrixPosition(e.matrixWorld)),R.logarithmicDepthBuffer&&S.setValue(P,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial)&&S.setValue(P,"isOrthographic",!0===e.isOrthographicCamera),z===e)||(z=e,v=!0,x=!0);n.isSkinnedMesh&&(S.setOptional(P,n,"bindMatrix"),S.setOptional(P,n,"bindMatrixInverse"),l=n.skeleton)&&(null===l.boneTexture&&l.computeBoneTexture(),S.setValue(P,"boneTexture",l.boneTexture,N));n.isBatchedMesh&&(S.setOptional(P,n,"batchingTexture"),S.setValue(P,"batchingTexture",n._matricesTexture,N),S.setOptional(P,n,"batchingIdTexture"),S.setValue(P,"batchingIdTexture",n._indirectTexture,N),S.setOptional(P,n,"batchingColorTexture"),null!==n._colorsTexture)&&S.setValue(P,"batchingColorTexture",n._colorsTexture,N);c=i.morphAttributes;void 0===c.position&&void 0===c.normal&&void 0===c.color||xe.update(n,i,y);!v&&f.receiveShadow===n.receiveShadow||(f.receiveShadow=n.receiveShadow,S.setValue(P,"receiveShadow",n.receiveShadow));a.isMeshGouraudMaterial&&null!==a.envMap&&(g.envMap.value=r,g.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1);a.isMeshStandardMaterial&&null===a.envMap&&null!==t.environment&&(g.envMapIntensity.value=t.environmentIntensity);v&&(S.setValue(P,"toneMappingExposure",M.toneMappingExposure),f.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(g,x),s&&!0===a.fog&&ye.refreshFogUniforms(g,s),ye.refreshMaterialUniforms(g,a,D,k,A.state.transmissionRenderTarget[e.id]),ld.upload(P,Ue(f),g,N));a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(ld.upload(P,Ue(f),g,N),a.uniformsNeedUpdate=!1);a.isSpriteMaterial&&S.setValue(P,"center",n.center);if(S.setValue(P,"modelViewMatrix",n.modelViewMatrix),S.setValue(P,"normalMatrix",n.normalMatrix),S.setValue(P,"modelMatrix",n.matrixWorld),a.isShaderMaterial||a.isRawShaderMaterial){var w=a.uniformsGroups;for(let e=0,t=w.length;e<t;e++){var T=w[e];Te.update(T,y),Te.bind(T,y)}}return y}(e,i,a,n,s);L.setMaterial(n,o);let l=a.index,t=1;if(!0===n.wireframe){if(void 0===(l=_e.getWireframeAttribute(a)))return;t=2}var i=a.drawRange,o=a.attributes.position;let c=i.start*t,d=(i.start+i.count)*t;null!==r&&(c=Math.max(c,r.start*t),d=Math.min(d,(r.start+r.count)*t)),null!==l?(c=Math.max(c,0),d=Math.min(d,l.count)):null!=o&&(c=Math.max(c,0),d=Math.min(d,o.count));const p=d-c;if(!(p<0||p===1/0)){v.setup(s,n,e,a,l);let t=Se;if(null!==l&&(i=_.get(l),(t=we).setIndex(i)),s.isMesh)!0===n.wireframe?(L.setLineWidth(n.wireframeLinewidth*me()),t.setMode(P.LINES)):t.setMode(P.TRIANGLES);else if(s.isLine){let e=n.linewidth;void 0===e&&(e=1),L.setLineWidth(e*me()),s.isLineSegments?t.setMode(P.LINES):s.isLineLoop?t.setMode(P.LINE_LOOP):t.setMode(P.LINE_STRIP)}else s.isPoints?t.setMode(P.POINTS):s.isSprite&&t.setMode(P.TRIANGLES);if(s.isBatchedMesh)if(null!==s._multiDrawInstances)gi("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),t.renderMultiDrawInstances(s._multiDrawStarts,s._multiDrawCounts,s._multiDrawCount,s._multiDrawInstances);else if(g.get("WEBGL_multi_draw"))t.renderMultiDraw(s._multiDrawStarts,s._multiDrawCounts,s._multiDrawCount);else{var u=s._multiDrawStarts,h=s._multiDrawCounts;const p=s._multiDrawCount;var m=l?_.get(l).bytesPerElement:1,f=O.get(n).currentProgram.getUniforms();for(let e=0;e<p;e++)f.setValue(P,"_gl_DrawID",e),t.render(u[e]/m,h[e])}else s.isInstancedMesh?t.renderInstances(c,p,s.count):a.isInstancedBufferGeometry?(r=void 0!==a._maxInstanceCount?a._maxInstanceCount:1/0,o=Math.min(a.instanceCount,r),t.renderInstances(c,p,o)):t.render(c,p)}},this.compile=function(e,t,n=null){null===n&&(n=e),(A=ve.get(n)).init(t),d.push(A),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow)&&A.pushShadow(e)}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow)&&A.pushShadow(e)}),A.setupLights();const s=new Set;return e.traverse(function(t){if(t.isMesh||t.isPoints||t.isLine||t.isSprite){var i=t.material;if(i)if(Array.isArray(i))for(let e=0;e<i.length;e++){var a=i[e];ke(a,n,t),s.add(a)}else ke(i,n,t),s.add(i)}}),A=d.pop(),s},this.compileAsync=function(i,e,t=null){const a=this.compile(i,e,t);return new Promise(e=>{function t(){a.forEach(function(e){O.get(e).currentProgram.isReady()&&a.delete(e)}),0===a.size?e(i):setTimeout(t,10)}null!==g.get("KHR_parallel_shader_compile")?t():setTimeout(t,10)})};let De=null;function Ce(){t.stop()}function Pe(){t.start()}const t=new Al;function Re(i,a,n,s){if(!1!==i.visible){var e,t;if(i.layers.test(a.layers))if(i.isGroup)n=i.renderOrder;else if(i.isLOD)!0===i.autoUpdate&&i.update(a);else if(i.isLight)A.pushLight(i),i.castShadow&&A.pushShadow(i);else if(i.isSprite)i.frustumCulled&&!oe.intersectsSprite(i)||(s&&m.setFromMatrixPosition(i.matrixWorld).applyMatrix4(de),e=f.update(i),(t=i.material).visible&&u.push(i,e,t,n,m.z,null));else if((i.isMesh||i.isLine||i.isPoints)&&(!i.frustumCulled||oe.intersectsObject(i))){var r=f.update(i),o=i.material;if(s&&(void 0!==i.boundingSphere?(null===i.boundingSphere&&i.computeBoundingSphere(),m.copy(i.boundingSphere.center)):(null===r.boundingSphere&&r.computeBoundingSphere(),m.copy(r.boundingSphere.center)),m.applyMatrix4(i.matrixWorld).applyMatrix4(de)),Array.isArray(o)){var l=r.groups;for(let e=0,t=l.length;e<t;e++){var c=l[e],d=o[c.materialIndex];d&&d.visible&&u.push(i,r,d,n,m.z,c)}}else o.visible&&u.push(i,r,o,n,m.z,null)}var p=i.children;for(let e=0,t=p.length;e<t;e++)Re(p[e],a,n,s)}}function Le(e,t,i,a){var n=e.opaque,s=e.transmissive,e=e.transparent;A.setupLightsView(i),!0===C&&U.setGlobalState(M.clippingPlanes,i),a&&L.viewport(h.copy(a)),0<n.length&&Ne(n,t,i),0<s.length&&Ne(s,t,i),0<e.length&&Ne(e,t,i),L.buffers.depth.setTest(!0),L.buffers.depth.setMask(!0),L.buffers.color.setMask(!0),L.setPolygonOffset(!1)}function Oe(e,a,n,s){var t=!0===n.isScene?n.overrideMaterial:null;if(null===t){void 0===A.state.transmissionRenderTarget[s.id]&&(A.state.transmissionRenderTarget[s.id]=new zi(1,1,{generateMipmaps:!0,type:g.has("EXT_color_buffer_half_float")||g.has("EXT_color_buffer_float")?st:it,minFilter:tt,samples:4,stencilBuffer:S,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xe.workingColorSpace}));var t=A.state.transmissionRenderTarget[s.id],i=s.viewport||h,i=(t.setSize(i.z*M.transmissionResolutionScale,i.w*M.transmissionResolutionScale),M.getRenderTarget()),r=(M.setRenderTarget(t),M.getClearColor(ee),(te=M.getClearAlpha())<1&&M.setClearColor(16777215,.5),M.clear(),he&&b.render(n),M.toneMapping),o=(M.toneMapping=et,s.viewport);if(void 0!==s.viewport&&(s.viewport=void 0),A.setupLightsView(s),!0===C&&U.setGlobalState(M.clippingPlanes,s),Ne(e,n,s),N.updateMultisampleRenderTarget(t),N.updateRenderTargetMipmap(t),!1===g.has("WEBGL_multisampled_render_to_texture")){let i=!1;for(let e=0,t=a.length;e<t;e++){var l,c=a[e],d=c.object,p=c.geometry,u=c.material,c=c.group;u.side===We&&d.layers.test(s.layers)&&(l=u.side,u.side=Qe,u.needsUpdate=!0,je(d,n,s,p,u,c),u.side=l,u.needsUpdate=!0,i=!0)}!0===i&&(N.updateMultisampleRenderTarget(t),N.updateRenderTargetMipmap(t))}M.setRenderTarget(i),M.setClearColor(ee,te),void 0!==o&&(s.viewport=o),M.toneMapping=r}}function Ne(i,a,n){var s=!0===a.isScene?a.overrideMaterial:null;for(let e=0,t=i.length;e<t;e++){var r=i[e],o=r.object,l=r.geometry,c=null===s?r.material:s,r=r.group;o.layers.test(n.layers)&&je(o,a,n,l,c,r)}}function je(e,t,i,a,n,s){e.onBeforeRender(M,t,i,a,n,s),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),n.onBeforeRender(M,t,i,a,e,s),!0===n.transparent&&n.side===We&&!1===n.forceSinglePass?(n.side=Qe,n.needsUpdate=!0,M.renderBufferDirect(i,t,a,n,e,s),n.side=$e,n.needsUpdate=!0,M.renderBufferDirect(i,t,a,n,e,s),n.side=We):M.renderBufferDirect(i,t,a,n,e,s),e.onAfterRender(M,t,i,a,n,s)}function Fe(e,t,i){!0!==t.isScene&&(t=ue);var a=O.get(e),n=A.state.lights,s=A.state.shadowsArray,r=n.state.version,s=p.getParameters(e,n.state,s,t,i),i=p.getProgramCacheKey(s);let o=a.programs,l=(a.environment=e.isMeshStandardMaterial?t.environment:null,a.fog=t.fog,a.envMap=(e.isMeshStandardMaterial?F:j).get(e.envMap||a.environment),a.envMapRotation=null!==a.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===o&&(e.addEventListener("dispose",ze),o=new Map,a.programs=o),o.get(i));if(void 0!==l){if(a.currentProgram===l&&a.lightsStateVersion===r)return Be(e,s),l}else s.uniforms=p.getUniforms(e),e.onBeforeCompile(s,M),l=p.acquireProgram(s,i),o.set(i,l),a.uniforms=s.uniforms;t=a.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(t.clippingPlanes=U.uniform),Be(e,s),a.needsLights=(i=e).isMeshLambertMaterial||i.isMeshToonMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isShadowMaterial||i.isShaderMaterial&&!0===i.lights,a.lightsStateVersion=r,a.needsLights&&(t.ambientLightColor.value=n.state.ambient,t.lightProbe.value=n.state.probe,t.directionalLights.value=n.state.directional,t.directionalLightShadows.value=n.state.directionalShadow,t.spotLights.value=n.state.spot,t.spotLightShadows.value=n.state.spotShadow,t.rectAreaLights.value=n.state.rectArea,t.ltc_1.value=n.state.rectAreaLTC1,t.ltc_2.value=n.state.rectAreaLTC2,t.pointLights.value=n.state.point,t.pointLightShadows.value=n.state.pointShadow,t.hemisphereLights.value=n.state.hemi,t.directionalShadowMap.value=n.state.directionalShadowMap,t.directionalShadowMatrix.value=n.state.directionalShadowMatrix,t.spotShadowMap.value=n.state.spotShadowMap,t.spotLightMatrix.value=n.state.spotLightMatrix,t.spotLightMap.value=n.state.spotLightMap,t.pointShadowMap.value=n.state.pointShadowMap,t.pointShadowMatrix.value=n.state.pointShadowMatrix),a.currentProgram=l,a.uniformsList=null,l}function Ue(e){var t;return null===e.uniformsList&&(t=e.currentProgram.getUniforms(),e.uniformsList=ld.seqWithValue(t.seq,e.uniforms)),e.uniformsList}function Be(e,t){e=O.get(e);e.outputColorSpace=t.outputColorSpace,e.batching=t.batching,e.batchingColor=t.batchingColor,e.instancing=t.instancing,e.instancingColor=t.instancingColor,e.instancingMorph=t.instancingMorph,e.skinning=t.skinning,e.morphTargets=t.morphTargets,e.morphNormals=t.morphNormals,e.morphColors=t.morphColors,e.morphTargetsCount=t.morphTargetsCount,e.numClippingPlanes=t.numClippingPlanes,e.numIntersection=t.numClipIntersection,e.vertexAlphas=t.vertexAlphas,e.vertexTangents=t.vertexTangents,e.toneMapping=t.toneMapping}t.setAnimationLoop(function(e){De&&De(e)}),"undefined"!=typeof self&&t.setContext(self),this.setAnimationLoop=function(e){De=e,x.setAnimationLoop(e),null===e?t.stop():t.start()},x.addEventListener("sessionstart",Ce),x.addEventListener("sessionend",Pe),this.render=function(i,e){if(void 0!==e&&!0!==e.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==J){!0===i.matrixWorldAutoUpdate&&i.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===x.enabled&&!0===x.isPresenting&&(!0===x.cameraAutoUpdate&&x.updateCamera(e),e=x.getCamera()),!0===i.isScene&&i.onBeforeRender(M,i,e,I),(A=ve.get(i,d.length)).init(e),d.push(A),de.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),oe.setFromProjectionMatrix(de),le=this.localClippingEnabled,C=U.init(this.clippingPlanes,le),(u=be.get(i,o.length)).init(),o.push(u),!0===x.enabled&&!0===x.isPresenting&&null!==(t=M.xr.getDepthSensingMesh())&&Re(t,e,-1/0,M.sortObjects),Re(i,e,0,M.sortObjects),u.finish(),!0===M.sortObjects&&u.sort(ie,ae),(he=!1===x.enabled||!1===x.isPresenting||!1===x.hasDepthSensing())&&b.addToRenderList(u,i),this.info.render.frame++,!0===C&&U.beginShadows();var t=A.state.shadowsArray,a=(y.render(t,i,e),!0===C&&U.endShadows(),!0===this.info.autoReset&&this.info.reset(),u.opaque),n=u.transmissive;if(A.setupLights(),e.isArrayCamera){var s=e.cameras;if(0<n.length)for(let e=0,t=s.length;e<t;e++)Oe(a,n,i,s[e]);he&&b.render(i);for(let e=0,t=s.length;e<t;e++){var r=s[e];Le(u,i,r,r.viewport)}}else 0<n.length&&Oe(a,n,i,e),he&&b.render(i),Le(u,i,e);null!==I&&0===Z&&(N.updateMultisampleRenderTarget(I),N.updateRenderTargetMipmap(I)),!0===i.isScene&&i.onAfterRender(M,i,e),v.resetDefaultState(),E=-1,z=null,d.pop(),0<d.length?(A=d[d.length-1],!0===C&&U.setGlobalState(M.clippingPlanes,A.state.camera)):A=null,o.pop(),u=0<o.length?o[o.length-1]:null}},this.getActiveCubeFace=function(){return K},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(e,t,i){O.get(e.texture).__webglTexture=t,O.get(e.depthTexture).__webglTexture=i;t=O.get(e);t.__hasExternalTextures=!0,t.__autoAllocateDepthBuffer=void 0===i,t.__autoAllocateDepthBuffer||!0===g.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),t.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){e=O.get(e);e.__webglFramebuffer=t,e.__useDefaultFramebuffer=void 0===t};const Ve=P.createFramebuffer(),Ge=(this.setRenderTarget=function(e,t=0,i=0){I=e,K=t,Z=i;let a=!0,n=null,s=!1,r=!1;if(e){var o=O.get(e);if(void 0!==o.__useDefaultFramebuffer)L.bindFramebuffer(P.FRAMEBUFFER,null),a=!1;else if(void 0===o.__webglFramebuffer)N.setupRenderTarget(e);else if(o.__hasExternalTextures)N.rebindTextures(e,O.get(e.texture).__webglTexture,O.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){var l=e.depthTexture;if(o.__boundDepthTexture!==l){if(null!==l&&O.has(l)&&(e.width!==l.image.width||e.height!==l.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");N.setupDepthRenderbuffer(e)}}o=e.texture,l=((o.isData3DTexture||o.isDataArrayTexture||o.isCompressedArrayTexture)&&(r=!0),O.get(e).__webglFramebuffer);e.isWebGLCubeRenderTarget?(n=Array.isArray(l[t])?l[t][i]:l[t],s=!0):n=0<e.samples&&!1===N.useMultisampledRTT(e)?O.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[i]:l,h.copy(e.viewport),$.copy(e.scissor),Q=e.scissorTest}else h.copy(ne).multiplyScalar(D).floor(),$.copy(se).multiplyScalar(D).floor(),Q=re;0!==i&&(n=Ve),L.bindFramebuffer(P.FRAMEBUFFER,n)&&a&&L.drawBuffers(e,n),L.viewport(h),L.scissor($),L.setScissorTest(Q),s?(o=O.get(e.texture),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+t,o.__webglTexture,i)):r?(l=O.get(e.texture),o=t,P.framebufferTextureLayer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,l.__webglTexture,i,o)):null!==e&&0!==i&&(t=O.get(e.texture),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,t.__webglTexture,i)),E=-1},this.readRenderTargetPixels=function(t,i,a,n,s,r,o){if(t&&t.isWebGLRenderTarget){let e=O.get(t).__webglFramebuffer;if(e=t.isWebGLCubeRenderTarget&&void 0!==o?e[o]:e){L.bindFramebuffer(P.FRAMEBUFFER,e);try{var l=t.texture,c=l.format,d=l.type;R.textureFormatReadable(c)?R.textureTypeReadable(d)?0<=i&&i<=t.width-n&&0<=a&&a<=t.height-s&&P.readPixels(i,a,n,s,B.convert(c),B.convert(d),r):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.")}finally{const e=null!==I?O.get(I).__webglFramebuffer:null;L.bindFramebuffer(P.FRAMEBUFFER,e)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.readRenderTargetPixelsAsync=async function(e,t,i,a,n,s,r){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=O.get(e).__webglFramebuffer;if(o=e.isWebGLCubeRenderTarget&&void 0!==r?o[r]:o){var r=e.texture,l=r.format,r=r.type;if(!R.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!R.textureTypeReadable(r))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(0<=t&&t<=e.width-a&&0<=i&&i<=e.height-n)return L.bindFramebuffer(P.FRAMEBUFFER,o),e=P.createBuffer(),P.bindBuffer(P.PIXEL_PACK_BUFFER,e),P.bufferData(P.PIXEL_PACK_BUFFER,s.byteLength,P.STREAM_READ),P.readPixels(t,i,a,n,B.convert(l),B.convert(r),0),t=null!==I?O.get(I).__webglFramebuffer:null,L.bindFramebuffer(P.FRAMEBUFFER,t),i=P.fenceSync(P.SYNC_GPU_COMMANDS_COMPLETE,0),P.flush(),c=P,d=i,p=4,await new Promise(function(t,i){setTimeout(function e(){switch(c.clientWaitSync(d,c.SYNC_FLUSH_COMMANDS_BIT,0)){case c.WAIT_FAILED:i();break;case c.TIMEOUT_EXPIRED:setTimeout(e,p);break;default:t()}},p)}),P.bindBuffer(P.PIXEL_PACK_BUFFER,e),P.getBufferSubData(P.PIXEL_PACK_BUFFER,0,s),P.deleteBuffer(e),P.deleteSync(i),s;throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}var c,d,p},this.copyFramebufferToTexture=function(e,t=null,i=0){!0!==e.isTexture&&(gi("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);var a=Math.pow(2,-i),n=Math.floor(e.image.width*a),a=Math.floor(e.image.height*a),s=null!==t?t.x:0,t=null!==t?t.y:0;N.setTexture2D(e,0),P.copyTexSubImage2D(P.TEXTURE_2D,i,0,0,s,t,n,a),L.unbindTexture()},P.createFramebuffer()),He=P.createFramebuffer();this.copyTextureToTexture=function(t,i,e=null,a=null,n=0,s=null){!0!==t.isTexture&&(gi("WebGLRenderer: copyTextureToTexture function signature has changed."),a=arguments[0]||null,t=arguments[1],i=arguments[2],s=arguments[3]||0,e=null),null===s&&(0!==n?(gi("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),s=n,n=0):s=0);let r,o,l,c,d,p,u,h,m;var f=t.isCompressedTexture?t.mipmaps[s]:t.image,e=(p=null!==e?(r=e.max.x-e.min.x,o=e.max.y-e.min.y,l=e.isBox3?e.max.z-e.min.z:1,c=e.min.x,d=e.min.y,e.isBox3?e.min.z:0):(e=Math.pow(2,-n),r=Math.floor(f.width*e),o=Math.floor(f.height*e),l=t.isDataArrayTexture?f.depth:t.isData3DTexture?Math.floor(f.depth*e):1,c=0,d=0),m=null!==a?(u=a.x,h=a.y,a.z):(u=0,h=0),B.convert(i.format)),a=B.convert(i.type);let g;g=i.isData3DTexture?(N.setTexture3D(i,0),P.TEXTURE_3D):i.isDataArrayTexture||i.isCompressedArrayTexture?(N.setTexture2DArray(i,0),P.TEXTURE_2D_ARRAY):(N.setTexture2D(i,0),P.TEXTURE_2D),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,i.flipY),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),P.pixelStorei(P.UNPACK_ALIGNMENT,i.unpackAlignment);var _=P.getParameter(P.UNPACK_ROW_LENGTH),y=P.getParameter(P.UNPACK_IMAGE_HEIGHT),b=P.getParameter(P.UNPACK_SKIP_PIXELS),v=P.getParameter(P.UNPACK_SKIP_ROWS),x=P.getParameter(P.UNPACK_SKIP_IMAGES),S=(P.pixelStorei(P.UNPACK_ROW_LENGTH,f.width),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,f.height),P.pixelStorei(P.UNPACK_SKIP_PIXELS,c),P.pixelStorei(P.UNPACK_SKIP_ROWS,d),P.pixelStorei(P.UNPACK_SKIP_IMAGES,p),t.isDataArrayTexture||t.isData3DTexture),w=i.isDataArrayTexture||i.isData3DTexture;if(t.isDepthTexture){var T=O.get(t),A=O.get(i),T=O.get(T.__renderTarget),A=O.get(A.__renderTarget);L.bindFramebuffer(P.READ_FRAMEBUFFER,T.__webglFramebuffer),L.bindFramebuffer(P.DRAW_FRAMEBUFFER,A.__webglFramebuffer);for(let e=0;e<l;e++)S&&(P.framebufferTextureLayer(P.READ_FRAMEBUFFER,P.COLOR_ATTACHMENT0,O.get(t).__webglTexture,n,p+e),P.framebufferTextureLayer(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0,O.get(i).__webglTexture,s,m+e)),P.blitFramebuffer(c,d,r,o,u,h,r,o,P.DEPTH_BUFFER_BIT,P.NEAREST);L.bindFramebuffer(P.READ_FRAMEBUFFER,null),L.bindFramebuffer(P.DRAW_FRAMEBUFFER,null)}else if(0!==n||t.isRenderTargetTexture||O.has(t)){var M=O.get(t),I=O.get(i);L.bindFramebuffer(P.READ_FRAMEBUFFER,Ge),L.bindFramebuffer(P.DRAW_FRAMEBUFFER,He);for(let e=0;e<l;e++)S?P.framebufferTextureLayer(P.READ_FRAMEBUFFER,P.COLOR_ATTACHMENT0,M.__webglTexture,n,p+e):P.framebufferTexture2D(P.READ_FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,M.__webglTexture,n),w?P.framebufferTextureLayer(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0,I.__webglTexture,s,m+e):P.framebufferTexture2D(P.DRAW_FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,I.__webglTexture,s),0!==n?P.blitFramebuffer(c,d,r,o,u,h,r,o,P.COLOR_BUFFER_BIT,P.NEAREST):w?P.copyTexSubImage3D(g,s,u,h,m+e,c,d,r,o):P.copyTexSubImage2D(g,s,u,h,c,d,r,o);L.bindFramebuffer(P.READ_FRAMEBUFFER,null),L.bindFramebuffer(P.DRAW_FRAMEBUFFER,null)}else w?t.isDataTexture||t.isData3DTexture?P.texSubImage3D(g,s,u,h,m,r,o,l,e,a,f.data):i.isCompressedArrayTexture?P.compressedTexSubImage3D(g,s,u,h,m,r,o,l,e,f.data):P.texSubImage3D(g,s,u,h,m,r,o,l,e,a,f):t.isDataTexture?P.texSubImage2D(P.TEXTURE_2D,s,u,h,r,o,e,a,f.data):t.isCompressedTexture?P.compressedTexSubImage2D(P.TEXTURE_2D,s,u,h,f.width,f.height,e,f.data):P.texSubImage2D(P.TEXTURE_2D,s,u,h,r,o,e,a,f);P.pixelStorei(P.UNPACK_ROW_LENGTH,_),P.pixelStorei(P.UNPACK_IMAGE_HEIGHT,y),P.pixelStorei(P.UNPACK_SKIP_PIXELS,b),P.pixelStorei(P.UNPACK_SKIP_ROWS,v),P.pixelStorei(P.UNPACK_SKIP_IMAGES,x),0===s&&i.generateMipmaps&&P.generateMipmap(g),L.unbindTexture()},this.copyTextureToTexture3D=function(e,t,i=null,a=null,n=0){return!0!==e.isTexture&&(gi("WebGLRenderer: copyTextureToTexture3D function signature has changed."),i=arguments[0]||null,a=arguments[1]||null,e=arguments[2],t=arguments[3],n=arguments[4]||0),gi('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,i,a,n)},this.initRenderTarget=function(e){void 0===O.get(e).__webglFramebuffer&&N.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?N.setTextureCube(e,0):e.isData3DTexture?N.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?N.setTexture2DArray(e,0):N.setTexture2D(e,0),L.unbindTexture()},this.resetState=function(){K=0,Z=0,I=null,L.reset(),v.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2e3}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorspace=Xe._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xe._getUnpackColorSpace()}}const M=class D0{static refWidth=854;static frustumSize=480;static showLetsPlay=!1;static debug1=!1;static debug2=!1;static webbrowser_gameplay=!0;static myapp=!1;static data_capture_alerts=!1;static startLevel=0;static firstLevel=0;static end_level=0;static presentationLevel=0;static enable_transalate_animation=!0;static audioInstructionOnlyOnReplay=!1;static game_unique_id="cvc-word-Spelling";static assetIsLoading=!1;static audioIsLoading=!1;static webAudio=!1;static getUniqueKeyFor(e){return D0.game_unique_id+e}},E=JSON.parse('{"start_level":0,"game_unique_id":"","end_level":0}');const ap=class{constructor(){this.data=null,E.end_level&&(E.end_level=parseInt(E.end_level)),console.log("ExportConfig: ",E),localStorage.removeItem(M.getUniqueKeyFor("progressbar_level1")),localStorage.removeItem(M.getUniqueKeyFor("progressbar_level2")),localStorage.removeItem(M.getUniqueKeyFor("progressbar_level3")),localStorage.removeItem(M.getUniqueKeyFor("progressbar_level4")),this.levelDetails={currentLevel:{level:0,presentationCompleted:0},level0:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0}},level1:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level2:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level3:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level4:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0}},this.resetLevelCompletionProgress(),console.log("Config: ",M),M.webbrowser_gameplay&&(this.message={data:{}},this.message.data={learningTrackid:1,gameId:1,gameVersion:"string",predGameId:0,gamePath:"https://kreedo-game-upload-poc.s3.us-east-2.amazonaws.com/701_LearningTeens.zip",isActive:!0,isblocked:!1,isGameDownloadComplete:!0,gameName:"Place Value Quantities",attemptId:0,totalRewards:0,completedCount:0,startDateTime:"",endDateTime:"",completed:0,isMusic:!0,levelDetails:{currentLevel:{level:0,presentationCompleted:0},level0:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0}},level1:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level2:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level3:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0},level4:{presentation:{completed:0,playCount:0,completedCount:0,timeSpent:0},completed:0,playCount:0,completedCount:0,timeSpent:0,correctAttempts:0,incorrectAttempts:0}}},this.data=this.message.data),"kreedo"===E.company&&document.addEventListener("message",this.handleEvent)}handleEvent=e=>{"kreedo"===E.company&&(this.data=M.myapp?JSON.parse(e.data):e.data,M.data_capture_alerts&&alert(JSON.stringify(this.data)),this.resetAllTimespent(),this.resetLevelCompletionProgress(),e=new Event("update_progressbars"),document.dispatchEvent(e))};resetLevelCompletionProgress=()=>{"kreedo"===E.company&&(this.data&&this.data.levelDetails.level4.completed?(localStorage.setItem(M.getUniqueKeyFor("progressbar_level1"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level2"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level3"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level4"),1)):(this.data&&this.data.levelDetails.level3.completed?(localStorage.setItem(M.getUniqueKeyFor("progressbar_level1"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level2"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level3"),1)):(this.data&&this.data.levelDetails.level2.completed?(localStorage.setItem(M.getUniqueKeyFor("progressbar_level1"),1),localStorage.setItem(M.getUniqueKeyFor("progressbar_level2"),1)):(this.data&&this.data.levelDetails.level1.completed?localStorage.setItem(M.getUniqueKeyFor("progressbar_level1"),1):localStorage.setItem(M.getUniqueKeyFor("progressbar_level1"),0),localStorage.setItem(M.getUniqueKeyFor("progressbar_level2"),0)),localStorage.setItem(M.getUniqueKeyFor("progressbar_level3"),0)),localStorage.setItem(M.getUniqueKeyFor("progressbar_level4"),0)))};resetAllTimespent=()=>{"kreedo"===E.company&&(this.data.levelDetails.level0.presentation.timeSpent=0,this.data.levelDetails.level1.presentation.timeSpent=0,this.data.levelDetails.level2.presentation.timeSpent=0,this.data.levelDetails.level3.presentation.timeSpent=0,this.data.levelDetails.level4.presentation.timeSpent=0,this.data.levelDetails.level1.timeSpent=0,this.data.levelDetails.level2.timeSpent=0,this.data.levelDetails.level3.timeSpent=0,this.data.levelDetails.level4.timeSpent=0)};setLevelStarted=e=>{if("kreedo"===E.company&&null!=this.data){switch(e){case 1:this.data.levelDetails.level1.presentation.playCount+=1;break;case 2:this.data.levelDetails.level2.presentation.playCount+=1;break;case 3:this.data.levelDetails.level3.presentation.playCount+=1;break;case 4:this.data.levelDetails.level4.presentation.playCount+=1}this.sendToApp()}};getCurrentLevel=()=>"kreedo"!==E.company?0:this.data.levelDetails.currentLevel.level;setPlaycount=e=>{if("kreedo"===E.company){switch(e){case 0:this.data.levelDetails.level0.presentation.playCount+=1;break;case 1:this.data.levelDetails.level1.playCount+=1;break;case 2:this.data.levelDetails.level2.playCount+=1;break;case 3:this.data.levelDetails.level3.playCount+=1;break;case 4:this.data.levelDetails.level4.playCount+=1}this.sendToApp()}};setLevelCompleted=(e,t,i=!1)=>{if("kreedo"===E.company){switch(i&&this.addRewardPoints(this.getRewardPointsPerLevel()),e){case 0:e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.level=1,0==this.data.levelDetails.level1.presentation.completed)&&(this.data.levelDetails.currentLevel.presentationCompleted=0),this.data.levelDetails.level0.presentation.completed=1,this.data.levelDetails.level0.presentation.completedCount+=1,this.data.levelDetails.level0.presentation.timeSpent+=t;break;case 1:e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.level=2,0==this.data.levelDetails.level2.presentation.completed)&&(this.data.levelDetails.currentLevel.presentationCompleted=0),this.data.levelDetails.level1.completedCount+=1,this.data.levelDetails.level1.completed=1,this.data.levelDetails.level1.timeSpent+=t,1===E.end_level&&(this.data.completed=1,this.data.isGameCompleted="completed");break;case 2:e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.level=3,0==this.data.levelDetails.level3.presentation.completed)&&(this.data.levelDetails.currentLevel.presentationCompleted=0),this.data.levelDetails.level2.completedCount+=1,this.data.levelDetails.level2.completed=1,this.data.levelDetails.level2.timeSpent+=t,2===E.end_level&&(this.data.completed=1,this.data.isGameCompleted="completed");break;case 3:e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.level=4,0==this.data.levelDetails.level4.presentation.completed)&&(this.data.levelDetails.currentLevel.presentationCompleted=0),this.data.levelDetails.level3.completedCount+=1,this.data.levelDetails.level3.completed=1,this.data.levelDetails.level3.timeSpent+=t,3===E.end_level&&(this.data.completed=1,this.data.isGameCompleted="completed");break;case 4:e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.level=1),this.data.levelDetails.level4.completedCount+=1,this.data.levelDetails.level4.completed=1,this.data.levelDetails.level4.timeSpent+=t,this.data.completed=1,this.data.isGameCompleted="completed"}M.data_capture_alerts&&alert(JSON.stringify(this.data)),this.sendToApp()}};setLevelPresenationCompleted=e=>{"kreedo"===E.company&&e==this.data.levelDetails.currentLevel.level&&(this.data.levelDetails.currentLevel.presentationCompleted=1)};setPresentationCompleted=(e,t)=>{if("kreedo"===E.company){switch(e){case 1:this.data.levelDetails.level1.presentation.completedCount+=1,this.data.levelDetails.level1.presentation.completed=1,this.data.levelDetails.level1.presentation.timeSpent=parseInt(this.data.levelDetails.level1.presentation.timeSpent)+t;break;case 2:this.data.levelDetails.level2.presentation.completedCount+=1,this.data.levelDetails.level2.presentation.completed=1,this.data.levelDetails.level2.presentation.timeSpent=parseInt(this.data.levelDetails.level2.presentation.timeSpent)+t;break;case 3:this.data.levelDetails.level3.presentation.completedCount+=1,this.data.levelDetails.level3.presentation.completed=1,this.data.levelDetails.level3.presentation.timeSpent=parseInt(this.data.levelDetails.level3.presentation.timeSpent)+t;break;case 4:this.data.levelDetails.level4.presentation.completedCount+=1,this.data.levelDetails.level4.presentation.completed=1,this.data.levelDetails.level4.presentation.timeSpent=parseInt(this.data.levelDetails.level4.presentation.timeSpent)+t}this.sendToApp()}};addTimespentWhenJumpedOut=(e,t)=>{if("kreedo"===E.company){switch(e){case 0:this.data.levelDetails.level0.presentation.timeSpent+=t;break;case 1:this.data.levelDetails.level1.timeSpent+=t;break;case 2:this.data.levelDetails.level2.timeSpent+=t;break;case 3:this.data.levelDetails.level3.timeSpent+=t;break;case 4:this.data.levelDetails.level4.timeSpent+=t}this.sendToApp()}};addTimespentWhenJumpedOutPresentation=(e,t)=>{if("kreedo"===E.company){switch(e){case 1:this.data.levelDetails.level1.presentation.timeSpent+=t;break;case 2:this.data.levelDetails.level2.presentation.timeSpent+=t;break;case 3:this.data.levelDetails.level3.presentation.timeSpent+=t;break;case 4:this.data.levelDetails.level4.presentation.timeSpent+=t}this.sendToApp()}};setCorrectAttempts=e=>{if("kreedo"===E.company){switch(e){case 1:this.data.levelDetails.level1.correctAttempts+=1;break;case 2:this.data.levelDetails.level2.correctAttempts+=1;break;case 3:this.data.levelDetails.level3.correctAttempts+=1;break;case 4:this.data.levelDetails.level4.correctAttempts+=1}this.sendToApp()}};setWrongAttempts=e=>{if("kreedo"===E.company){switch(e){case 1:this.data.levelDetails.level1.incorrectAttempts+=1;break;case 2:this.data.levelDetails.level2.incorrectAttempts+=1;break;case 3:this.data.levelDetails.level3.incorrectAttempts+=1;break;case 4:this.data.levelDetails.level4.incorrectAttempts+=1}this.sendToApp()}};setMusicButtonClicked=e=>{"kreedo"===E.company&&(this.data.isMusic=e?1:0,this.sendToApp())};addRewardPoints=e=>{"kreedo"===E.company&&(this.data.totalRewards+=e)};getPresentationCompleteForLevel=e=>{if("kreedo"===E.company&&null!=this.data)return 0===e?this.data.levelDetails.level0.presentation.completed:1===e?this.data.levelDetails.level1.presentation.completed:2===e?this.data.levelDetails.level2.presentation.completed:3===e?this.data.levelDetails.level3.presentation.completed:4===e?this.data.levelDetails.level4.presentation.completed:void 0};getIfLevelIsCompleted=e=>{if("kreedo"===E.company)return null!=this.data&&(0===e?this.data.levelDetails.level0.presentation.completed:1===e?this.data.levelDetails.level1.completed:2===e?this.data.levelDetails.level2.completed:3===e?this.data.levelDetails.level3.completed:4===e?this.data.levelDetails.level4.completed:void 0)};getPresentationTimespent=e=>{if("kreedo"===E.company)return 0===e?this.data.levelDetails.level0.presentation.timeSpent:1===e?this.data.levelDetails.level1.presentation.timeSpent:2===e?this.data.levelDetails.level2.presentation.timeSpent:3===e?this.data.levelDetails.level3.presentation.timeSpent:4===e?this.data.levelDetails.level4.presentation.timeSpent:void 0};getTotalRewardPoints=()=>"kreedo"!==E.company?0:this.data.totalRewards;getRewardPointsPerLevel=()=>10;sendToApp=()=>{if("kreedo"===E.company){console.log(JSON.stringify(this.data));try{JSON.parse(JSON.stringify(this.data)),window&&window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify(this.data))}catch(e){console.log("Send App"),console.log(e)}}};saveDataOnExit=()=>{"kreedo"===E.company&&(console.log(JSON.stringify(this.data)),window)&&window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({home:1,gameData:this.data}))}},np=new Je,sp=new m,rp=new Je;(class extends f{});const op=new Ke,lp=new Ke;class cp{constructor(e={}){const c=this;let r,o,l,d;const p={camera:{style:""},objects:new WeakMap},i=void 0!==e.element?e.element:document.createElement("div"),u=(i.style.overflow="hidden",this.domElement=i,document.createElement("div")),h=(u.style.transformOrigin="0 0",u.style.pointerEvents="none",i.appendChild(u),document.createElement("div"));function m(e){return Math.abs(e)<1e-10?0:e}function f(e){e=e.elements;return"matrix3d("+m(e[0])+","+m(-e[1])+","+m(e[2])+","+m(e[3])+","+m(e[4])+","+m(-e[5])+","+m(e[6])+","+m(e[7])+","+m(e[8])+","+m(-e[9])+","+m(e[10])+","+m(e[11])+","+m(e[12])+","+m(-e[13])+","+m(e[14])+","+m(e[15])+")"}function g(e){e=e.elements;return"translate(-50%,-50%)"+("matrix3d("+m(e[0])+","+m(e[1])+","+m(e[2])+","+m(e[3])+","+m(-e[4])+","+m(-e[5])+","+m(-e[6])+","+m(-e[7])+","+m(e[8])+","+m(e[9])+","+m(e[10])+","+m(e[11])+","+m(e[12])+","+m(e[13])+","+m(e[14])+","+m(e[15])+")")}function _(i){i.isCSS3DObject&&(i.element.style.display="none");for(let e=0,t=i.children.length;e<t;e++)_(i.children[e])}h.style.transformStyle="preserve-3d",u.appendChild(h),this.getSize=function(){return{width:r,height:o}},this.render=function(e,t){var i=t.projectionMatrix.elements[5]*d;t.view&&t.view.enabled?(u.style.transform=`translate( ${-t.view.offsetX*(r/t.view.width)}px, ${-t.view.offsetY*(o/t.view.height)}px )`,u.style.transform+=`scale( ${t.view.fullWidth/t.view.width}, ${t.view.fullHeight/t.view.height} )`):u.style.transform="",!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld();let a,n;t.isOrthographicCamera&&(a=-(t.right+t.left)/2,n=(t.top+t.bottom)/2);var s=t.view&&t.view.enabled?t.view.height/t.view.fullHeight:1,s=t.isOrthographicCamera?`scale( ${s} )`+"scale("+i+")translate("+m(a)+"px,"+m(n)+"px)"+f(t.matrixWorldInverse):`scale( ${s} )`+"translateZ("+i+"px)"+f(t.matrixWorldInverse),i=(t.isPerspectiveCamera?"perspective("+i+"px) ":"")+s+"translate("+l+"px,"+d+"px)";p.camera.style!==i&&(h.style.transform=i,p.camera.style=i),function i(a,n,s,r){if(!1===a.visible)return void _(a);if(a.isCSS3DObject){const e=!0===a.layers.test(s.layers),t=a.element;if(t.style.display=!0==e?"":"none",!0==e){a.onBeforeRender(c,n,s);let e;e=a.isCSS3DSprite?(op.copy(s.matrixWorldInverse),op.transpose(),0!==a.rotation2D&&op.multiply(lp.makeRotationZ(a.rotation2D)),a.matrixWorld.decompose(np,sp,rp),op.setPosition(np),op.scale(rp),op.elements[3]=0,op.elements[7]=0,op.elements[11]=0,op.elements[15]=1,g(op)):g(a.matrixWorld);const o=p.objects.get(a);if(void 0===o||o.style!==e){const l={style:t.style.transform=e};p.objects.set(a,l)}t.parentNode!==h&&h.appendChild(t),a.onAfterRender(c,n,s)}}for(let e=0,t=a.children.length;e<t;e++)i(a.children[e],n,s,r)}(e,e,t,s)},this.setSize=function(e,t){r=e,o=t,l=r/2,d=o/2,i.style.width=e+"px",i.style.height=t+"px",u.style.width=e+"px",u.style.height=t+"px",h.style.width=e+"px",h.style.height=t+"px"}}}const dp={type:"change"},pp={type:"start"},up={type:"end"},hp=new ra,mp=new Ss,fp=Math.cos(70*pi.DEG2RAD),gp=new Je,_p=2*Math.PI,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};class yp extends wl{constructor(e,t=null){super(e,t),this.state=r.NONE,this.enabled=!0,this.target=new Je,this.cursor=new Je,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:o.ROTATE,MIDDLE:o.DOLLY,RIGHT:o.PAN},this.touches={ONE:l.ROTATE,TWO:l.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Je,this._lastQuaternion=new m,this._lastTargetPosition=new Je,this._quat=(new m).setFromUnitVectors(e.up,new Je(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Sl,this._sphericalDelta=new Sl,this._scale=1,this._panOffset=new Je,this._rotateStart=new ie,this._rotateEnd=new ie,this._rotateDelta=new ie,this._panStart=new ie,this._panEnd=new ie,this._panDelta=new ie,this._dollyStart=new ie,this._dollyEnd=new ie,this._dollyDelta=new ie,this._dollyDirection=new Je,this._mouse=new ie,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=function(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}.bind(this),this._onPointerDown=function(e){!1===this.enabled||(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e))||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e))}.bind(this),this._onPointerUp=function(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(up),this.state=r.NONE;break;case 1:var t=this._pointers[0],i=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:i.x,pageY:i.y})}}.bind(this),this._onContextMenu=function(e){!1!==this.enabled&&e.preventDefault()}.bind(this),this._onMouseWheel=function(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===r.NONE&&(e.preventDefault(),this.dispatchEvent(pp),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(up))}.bind(this),this._onKeyDown=function(e){!1!==this.enabled&&this._handleKeyDown(e)}.bind(this),this._onTouchStart=function(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case l.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=r.TOUCH_ROTATE;break;case l.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=r.TOUCH_PAN;break;default:this.state=r.NONE}break;case 2:switch(this.touches.TWO){case l.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=r.TOUCH_DOLLY_PAN;break;case l.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=r.TOUCH_DOLLY_ROTATE;break;default:this.state=r.NONE}break;default:this.state=r.NONE}this.state!==r.NONE&&this.dispatchEvent(pp)}.bind(this),this._onTouchMove=function(e){switch(this._trackPointer(e),this.state){case r.TOUCH_ROTATE:!1!==this.enableRotate&&(this._handleTouchMoveRotate(e),this.update());break;case r.TOUCH_PAN:!1!==this.enablePan&&(this._handleTouchMovePan(e),this.update());break;case r.TOUCH_DOLLY_PAN:!1===this.enableZoom&&!1===this.enablePan||(this._handleTouchMoveDollyPan(e),this.update());break;case r.TOUCH_DOLLY_ROTATE:!1===this.enableZoom&&!1===this.enableRotate||(this._handleTouchMoveDollyRotate(e),this.update());break;default:this.state=r.NONE}}.bind(this),this._onMouseDown=function(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case o.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=r.DOLLY;break;case o.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=r.PAN}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=r.ROTATE}break;case o.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=r.ROTATE}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=r.PAN}break;default:this.state=r.NONE}this.state!==r.NONE&&this.dispatchEvent(pp)}.bind(this),this._onMouseMove=function(e){switch(this.state){case r.ROTATE:!1!==this.enableRotate&&this._handleMouseMoveRotate(e);break;case r.DOLLY:!1!==this.enableZoom&&this._handleMouseMoveDolly(e);break;case r.PAN:!1!==this.enablePan&&this._handleMouseMovePan(e)}}.bind(this),this._interceptControlDown=function(e){"Control"===e.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}.bind(this),this._interceptControlUp=function(e){"Control"===e.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(dp),this.update(),this.state=r.NONE}update(t=null){var i=this.object.position;gp.copy(i).sub(this.target),gp.applyQuaternion(this._quat),this._spherical.setFromVector3(gp),this.autoRotate&&this.state===r.NONE&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let e=this.minAzimuthAngle,a=this.maxAzimuthAngle,n=(isFinite(e)&&isFinite(a)&&(e<-Math.PI?e+=_p:e>Math.PI&&(e-=_p),a<-Math.PI?a+=_p:a>Math.PI&&(a-=_p),e<=a?this._spherical.theta=Math.max(e,Math.min(a,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(e+a)/2?Math.max(e,this._spherical.theta):Math.min(a,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor),!1);if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera?this._spherical.radius=this._clampDistance(this._spherical.radius):(t=this._spherical.radius,this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),n=t!=this._spherical.radius),gp.setFromSpherical(this._spherical),gp.applyQuaternion(this._quatInverse),i.copy(this.target).add(gp),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let e=null;this.object.isPerspectiveCamera?(i=(t=gp.length())-(e=this._clampDistance(t*this._scale)),this.object.position.addScaledVector(this._dollyDirection,i),this.object.updateMatrixWorld(),n=!!i):this.object.isOrthographicCamera?((t=new Je(this._mouse.x,this._mouse.y,0)).unproject(this.object),i=this.object.zoom,this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),n=i!==this.object.zoom,(i=new Je(this._mouse.x,this._mouse.y,0)).unproject(this.object),this.object.position.sub(i).add(t),this.object.updateMatrixWorld(),e=gp.length()):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1),null!==e&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(e).add(this.object.position):(hp.origin.copy(this.object.position),hp.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(hp.direction))<fp?this.object.lookAt(this.target):(mp.setFromNormalAndCoplanarPoint(this.object.up,this.target),hp.intersectPlane(mp,this.target))))}else this.object.isOrthographicCamera&&(i=this.object.zoom,this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),i!==this.object.zoom)&&(this.object.updateProjectionMatrix(),n=!0);return this._scale=1,this._performCursorZoom=!1,!!(n||1e-6<this._lastPosition.distanceToSquared(this.object.position)||1e-6<8*(1-this._lastQuaternion.dot(this.object.quaternion))||1e-6<this._lastTargetPosition.distanceToSquared(this.target))&&(this.dispatchEvent(dp),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?_p/60*this.autoRotateSpeed*e:_p/60/60*this.autoRotateSpeed}_getZoomScale(e){e=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){gp.setFromMatrixColumn(t,0),gp.multiplyScalar(-e),this._panOffset.add(gp)}_panUp(e,t){!0===this.screenSpacePanning?gp.setFromMatrixColumn(t,1):(gp.setFromMatrixColumn(t,0),gp.crossVectors(this.object.up,gp)),gp.multiplyScalar(e),this._panOffset.add(gp)}_pan(e,t){var i,a=this.domElement;this.object.isPerspectiveCamera?(i=this.object.position,gp.copy(i).sub(this.target),i=gp.length(),i*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*i/a.clientHeight,this.object.matrix),this._panUp(2*t*i/a.clientHeight,this.object.matrix)):this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/a.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/a.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){var i,a;this.zoomToCursor&&(this._performCursorZoom=!0,i=e-(e=this.domElement.getBoundingClientRect()).left,t=t-e.top,a=e.width,e=e.height,this._mouse.x=i/a*2-1,this._mouse.y=-t/e*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize())}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);e=this.domElement;this._rotateLeft(_p*this._rotateDelta.x/e.clientHeight),this._rotateUp(_p*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),0<this._dollyDelta.y?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):0<e.deltaY&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(_p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-_p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(_p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-_p*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){var t,i;1===this._pointers.length?this._rotateStart.set(e.pageX,e.pageY):(t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),e=.5*(e.pageY+t.y),this._rotateStart.set(i,e))}_handleTouchStartPan(e){var t,i;1===this._pointers.length?this._panStart.set(e.pageX,e.pageY):(t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),e=.5*(e.pageY+t.y),this._panStart.set(i,e))}_handleTouchStartDolly(e){var t=this._getSecondPointerPosition(e),i=e.pageX-t.x,e=e.pageY-t.y,t=Math.sqrt(i*i+e*e);this._dollyStart.set(0,t)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){1==this._pointers.length?this._rotateEnd.set(e.pageX,e.pageY):(i=this._getSecondPointerPosition(e),t=.5*(e.pageX+i.x),e=.5*(e.pageY+i.y),this._rotateEnd.set(t,e)),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);var t,i=this.domElement;this._rotateLeft(_p*this._rotateDelta.x/i.clientHeight),this._rotateUp(_p*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){var t,i;1===this._pointers.length?this._panEnd.set(e.pageX,e.pageY):(t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),e=.5*(e.pageY+t.y),this._panEnd.set(i,e)),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){var t=this._getSecondPointerPosition(e),i=e.pageX-t.x,a=e.pageY-t.y,i=Math.sqrt(i*i+a*a),a=(this._dollyEnd.set(0,i),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),.5*(e.pageX+t.x)),i=.5*(e.pageY+t.y);this._updateZoomParameters(a,i)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return void this._pointers.splice(e,1)}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new ie,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){e=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[e]}_customWheelEvent(e){var t=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}const bp={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class vp{constructor(e,t,i){const a=this;let n=!1,s=0,r=0,o=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){r++,!1===n&&void 0!==a.onStart&&a.onStart(e,s,r),n=!0},this.itemEnd=function(e){s++,void 0!==a.onProgress&&a.onProgress(e,s,r),s===r&&(n=!1,void 0!==a.onLoad)&&a.onLoad()},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return o?o(e):e},this.setURLModifier=function(e){return o=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){e=l.indexOf(e);return-1!==e&&l.splice(e,2),this},this.getHandler=function(i){for(let e=0,t=l.length;e<t;e+=2){var a=l[e],n=l[e+1];if(a.global&&(a.lastIndex=0),a.test(i))return n}return null}}}const xp=new vp;class Sp{constructor(e){this.manager=void 0!==e?e:xp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,a){const n=this;return new Promise(function(e,t){n.load(i,e,a,t)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Sp.DEFAULT_MATERIAL_NAME="__DEFAULT";const wp={};class Tp extends Error{constructor(e,t){super(e),this.response=t}}class Ap extends Sp{constructor(e){super(e)}load(s,e,t,i){void 0===s&&(s=""),void 0!==this.path&&(s=this.path+s),s=this.manager.resolveURL(s);const a=bp.get(s);if(void 0!==a)return this.manager.itemStart(s),setTimeout(()=>{e&&e(a),this.manager.itemEnd(s)},0),a;if(void 0!==wp[s])wp[s].push({onLoad:e,onProgress:t,onError:i});else{wp[s]=[],wp[s].push({onLoad:e,onProgress:t,onError:i});t=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});const n=this.mimeType,r=this.responseType;fetch(t).then(e=>{if(200!==e.status&&0!==e.status)throw new Tp(`fetch for "${e.url}" responded with ${e.status}: `+e.statusText,e);{if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const o=wp[s],t=e.body.getReader();e=e.headers.get("X-File-Size")||e.headers.get("Content-Length");const l=e?parseInt(e):0,c=0!==l;let r=0;e=new ReadableStream({start(s){!function n(){t.read().then(({done:e,value:t})=>{if(e)s.close();else{r+=t.byteLength;const i=new ProgressEvent("progress",{lengthComputable:c,loaded:r,total:l});for(let e=0,t=o.length;e<t;e++){const a=o[e];a.onProgress&&a.onProgress(i)}s.enqueue(t),n()}},e=>{s.error(e)})}()}});return new Response(e)}}).then(e=>{switch(r){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>{return(new DOMParser).parseFromString(e,n)});case"json":return e.json();default:if(void 0===n)return e.text();{var t=/charset="?([^;"\s]*)"?/i.exec(n),t=t&&t[1]?t[1].toLowerCase():void 0;const i=new TextDecoder(t);return e.arrayBuffer().then(e=>i.decode(e))}}}).then(i=>{bp.add(s,i);var a=wp[s];delete wp[s];for(let e=0,t=a.length;e<t;e++){var n=a[e];n.onLoad&&n.onLoad(i)}}).catch(i=>{var a=wp[s];if(void 0===a)throw this.manager.itemError(s),i;delete wp[s];for(let e=0,t=a.length;e<t;e++){var n=a[e];n.onError&&n.onError(i)}this.manager.itemError(s)}).finally(()=>{this.manager.itemEnd(s)}),this.manager.itemStart(s)}}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}const Mp=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Ip=Math.PI/180,Ep=180/Math.PI;function zp(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,a=4294967295*Math.random()|0;return(Mp[255&e]+Mp[e>>8&255]+Mp[e>>16&255]+Mp[e>>24&255]+"-"+Mp[255&t]+Mp[t>>8&255]+"-"+Mp[t>>16&15|64]+Mp[t>>24&255]+"-"+Mp[63&i|128]+Mp[i>>8&255]+"-"+Mp[i>>16&255]+Mp[i>>24&255]+Mp[255&a]+Mp[a>>8&255]+Mp[a>>16&255]+Mp[a>>24&255]).toLowerCase()}function kp(e,t,i){return Math.max(t,Math.min(i,e))}Ip,Ep;class Dp{constructor(e=0,t=0){Dp.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){var t=this.x,i=this.y,e=e.elements;return this.x=e[0]*t+e[3]*i+e[6],this.y=e[1]*t+e[4]*i+e[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=kp(this.x,e.x,t.x),this.y=kp(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=kp(this.x,e,t),this.y=kp(this.y,e,t),this}clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(kp(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(kp(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){var i=Math.cos(t),t=Math.sin(t),a=this.x-e.x,n=this.y-e.y;return this.x=a*i-n*t+e.x,this.y=a*t+n*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cp{constructor(e,t,i,a,n,s,r,o,l){Cp.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,a,n,s,r,o,l)}set(e,t,i,a,n,s,r,o,l){var c=this.elements;return c[0]=e,c[1]=a,c[2]=r,c[3]=t,c[4]=n,c[5]=o,c[6]=i,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){var e=e.elements,t=t.elements,i=this.elements,a=e[0],n=e[3],s=e[6],r=e[1],o=e[4],l=e[7],c=e[2],d=e[5],e=e[8],p=t[0],u=t[3],h=t[6],m=t[1],f=t[4],g=t[7],_=t[2],y=t[5],t=t[8];return i[0]=a*p+n*m+s*_,i[3]=a*u+n*f+s*y,i[6]=a*h+n*g+s*t,i[1]=r*p+o*m+l*_,i[4]=r*u+o*f+l*y,i[7]=r*h+o*g+l*t,i[2]=c*p+d*m+e*_,i[5]=c*u+d*f+e*y,i[8]=c*h+d*g+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){var e=this.elements,t=e[0],i=e[1],a=e[2],n=e[3],s=e[4],r=e[5],o=e[6],l=e[7],e=e[8];return t*s*e-t*r*l-i*n*e+i*r*o+a*n*l-a*s*o}invert(){var e=this.elements,t=e[0],i=e[1],a=e[2],n=e[3],s=e[4],r=e[5],o=e[6],l=e[7],c=e[8],d=c*s-r*l,p=r*o-c*n,u=l*n-s*o,h=t*d+i*p+a*u;return 0==h?this.set(0,0,0,0,0,0,0,0,0):(e[0]=d*(d=1/h),e[1]=(a*l-c*i)*d,e[2]=(r*i-a*s)*d,e[3]=p*d,e[4]=(c*t-a*o)*d,e[5]=(a*n-r*t)*d,e[6]=u*d,e[7]=(i*o-l*t)*d,e[8]=(s*t-i*n)*d,this)}transpose(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,n,s,r){var o=Math.cos(n),n=Math.sin(n);return this.set(i*o,i*n,-i*(o*s+n*r)+s+e,-a*n,a*o,-a*(-n*s+o*r)+r+t,0,0,1),this}scale(e,t){return this.premultiply(Pp.makeScale(e,t)),this}rotate(e){return this.premultiply(Pp.makeRotation(-e)),this}translate(e,t){return this.premultiply(Pp.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,e,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){var t=this.elements,i=e.elements;for(let e=0;e<9;e++)if(t[e]!==i[e])return!1;return!0}fromArray(t,i=0){for(let e=0;e<9;e++)this.elements[e]=t[e+i];return this}toArray(e=[],t=0){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Pp=new Cp;Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Rp(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Lp(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}let Op;class Np{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;var i;return(t=e instanceof HTMLCanvasElement?e:((Op=void 0===Op?Rp("canvas"):Op).width=e.width,Op.height=e.height,i=Op.getContext("2d"),e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),Op)).toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var t=Rp("canvas"),i=(t.width=e.width,t.height=e.height,t.getContext("2d")),a=(i.drawImage(e,0,0,e.width,e.height),i.getImageData(0,0,e.width,e.height)),n=a.data;for(let e=0;e<n.length;e++)n[e]=255*Lp(n[e]/255);return i.putImageData(a,0,0),t}if(e.data){var s=e.data.slice(0);for(let e=0;e<s.length;e++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[e]=Math.floor(255*Lp(s[e]/255)):s[e]=Lp(s[e]);return{data:s,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jp=0;class Fp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jp++}),this.uuid=zp(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var a={uuid:this.uuid,url:""},n=this.data;if(null!==n){let i;if(Array.isArray(n)){i=[];for(let e=0,t=n.length;e<t;e++)n[e].isDataTexture?i.push(Up(n[e].image)):i.push(Up(n[e]))}else i=Up(n);a.url=i}return t||(e.images[this.uuid]=a),a}}function Up(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Np.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Bp=0;class Vp extends class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){var i=this._listeners;return void 0!==i&&void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){var i,a=this._listeners;void 0!==a&&void 0!==(a=a[e])&&-1!==(i=a.indexOf(t))&&a.splice(i,1)}dispatchEvent(i){var e=this._listeners;if(void 0!==e){e=e[i.type];if(void 0!==e){i.target=this;var a=e.slice(0);for(let e=0,t=a.length;e<t;e++)a[e].call(this,i);i.target=null}}}}{constructor(e=Vp.DEFAULT_IMAGE,t=Vp.DEFAULT_MAPPING,i=1001,a=1001,n=1006,s=1008,r=1023,o=1009,l=Vp.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Bp++}),this.uuid=zp(),this.name="",this.source=new Fp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=n,this.minFilter=s,this.anisotropy=l,this.format=r,this.internalFormat=null,this.type=o,this.offset=new Dp(0,0),this.repeat=new Dp(1,1),this.center=new Dp(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cp,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){var t,i=void 0===e||"string"==typeof e;return i||void 0===e.textures[this.uuid]?(t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(t.userData=this.userData),i||(e.textures[this.uuid]=t),t):e.textures[this.uuid]}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Vp.DEFAULT_IMAGE=null,Vp.DEFAULT_MAPPING=300,Vp.DEFAULT_ANISOTROPY=1;class Gp extends Vp{constructor(e,t,i,a,n,s,r,o,l){super(e,t,i,a,n,s,r,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hp extends Gp{constructor(e,t,i,a,n,s,r,o,l){super(e,t,i,a,n,s,r,o,l),this.needsUpdate=!1}setReader(e){this.reader=e,this.image=document.createElement("canvas"),this.image.width=e.width,this.image.height=e.height,this.context=this.image.getContext("2d",{willReadFrequently:!0}),this.meshWidth=e.width,this.meshHeight=e.height,this.frameNumber=0,this.previousFrameInfo=null,this.speed=1,this.previousFrameDrawTime=0,this.nextFrameDrawDuration=0,this.time=0}reset(){this.time=0,this.previousFrameDrawTime=this.time,this.frameNumber=0}draw(e,t){var i,a,n,s,r;this.reader&&(this.time+=t,this.time-this.previousFrameDrawTime<this.nextFrameDrawDuration||({reader:t,image:r,context:i}=this,{width:r,height:a}=r,n=this.frameNumber%t.numFrames(),s=t.frameInfo(n),++this.frameNumber,0==n?i.clearRect(0,0,r,a):this.previousFrameInfo&&2===this.previousFrameInfo.disposal&&i.clearRect(this.previousFrameInfo.x,this.previousFrameInfo.y,this.previousFrameInfo.width,this.previousFrameInfo.height),r=i.getImageData(0,0,r,a),t.decodeAndBlitFrameRGBA(n,r.data),i.putImageData(r,0,0),this.needsUpdate=!0,this.previousFrameInfo=s,this.previousFrameDrawTime=this.time,this.nextFrameDrawDuration=s.delay/(100*this.speed)))}}var Wp=R0(399);class qp{constructor(e){this.manager=e||xp,this.crossOrigin="anonymous"}loadFileAsync(e,a,n){return new Promise((t,i)=>{e.load(n,e=>t(e),a,e=>i(e))})}async load(e,t,i,a){var n=new Hp,s=new Ap(this.manager);s.setResponseType("arraybuffer");try{var r=await this.loadFileAsync(s,i,e),o=new Uint8Array(r),l=new Wp.u(o);n.setReader(l),t&&t(l)}catch(e){console.error("An error happened:",e)}return n}}const Xp=/^[og]\s*(.+)?/,Yp=/^mtllib /,Jp=/^usemtl /,Kp=/^usemap /,Zp=/\s+/,$p=new Je,Qp=new Je,eu=new Je,tu=new Je,iu=new Je,au=new Ze;function nu(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){var i;this.object&&!1===this.object.fromDeclaration?(this.object.name=e,this.object.fromDeclaration=!1!==t):(i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0,this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){var i=this._finalize(!1),e=(i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1),{index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&0<t.length?t[t.length-1]:"",smooth:(void 0!==i?i:this).smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){e={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}});return this.materials.push(e),e},currentMaterial:function(){if(0<this.materials.length)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&1<this.materials.length)for(let e=this.materials.length-1;0<=e;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},i&&i.name&&"function"==typeof i.clone&&((e=i.clone(0)).inherited=!0,this.object.materials.push(e)),this.objects.push(this.object))},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){e=parseInt(e,10);return 3*(0<=e?e-1:e+t/3)},parseNormalIndex:function(e,t){e=parseInt(e,10);return 3*(0<=e?e-1:e+t/3)},parseUVIndex:function(e,t){e=parseInt(e,10);return 2*(0<=e?e-1:e+t/2)},addVertex:function(e,t,i){var a=this.vertices,n=this.object.geometry.vertices;n.push(a[e+0],a[e+1],a[e+2]),n.push(a[t+0],a[t+1],a[t+2]),n.push(a[i+0],a[i+1],a[i+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,i){var a=this.normals,n=this.object.geometry.normals;n.push(a[e+0],a[e+1],a[e+2]),n.push(a[t+0],a[t+1],a[t+2]),n.push(a[i+0],a[i+1],a[i+2])},addFaceNormal:function(e,t,i){var a=this.vertices,n=this.object.geometry.normals;$p.fromArray(a,e),Qp.fromArray(a,t),eu.fromArray(a,i),iu.subVectors(eu,Qp),tu.subVectors($p,Qp),iu.cross(tu),iu.normalize(),n.push(iu.x,iu.y,iu.z),n.push(iu.x,iu.y,iu.z),n.push(iu.x,iu.y,iu.z)},addColor:function(e,t,i){var a=this.colors,n=this.object.geometry.colors;void 0!==a[e]&&n.push(a[e+0],a[e+1],a[e+2]),void 0!==a[t]&&n.push(a[t+0],a[t+1],a[t+2]),void 0!==a[i]&&n.push(a[i+0],a[i+1],a[i+2])},addUV:function(e,t,i){var a=this.uvs,n=this.object.geometry.uvs;n.push(a[e+0],a[e+1]),n.push(a[t+0],a[t+1]),n.push(a[i+0],a[i+1])},addDefaultUV:function(){var e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,i,a,n,s,r,o,l){var c=this.vertices.length;let d=this.parseVertexIndex(e,c),p=this.parseVertexIndex(t,c),u=this.parseVertexIndex(i,c);this.addVertex(d,p,u),this.addColor(d,p,u),void 0!==r&&""!==r?(e=this.normals.length,d=this.parseNormalIndex(r,e),p=this.parseNormalIndex(o,e),u=this.parseNormalIndex(l,e),this.addNormal(d,p,u)):this.addFaceNormal(d,p,u),void 0!==a&&""!==a?(t=this.uvs.length,d=this.parseUVIndex(a,t),p=this.parseUVIndex(n,t),u=this.parseUVIndex(s,t),this.addUV(d,p,u),this.object.geometry.hasUVIndices=!0):this.addDefaultUV()},addPointGeometry:function(i){this.object.geometry.type="Points";var a=this.vertices.length;for(let e=0,t=i.length;e<t;e++){var n=this.parseVertexIndex(i[e],a);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(i,a){this.object.geometry.type="Line";var n=this.vertices.length,s=this.uvs.length;for(let e=0,t=i.length;e<t;e++)this.addVertexLine(this.parseVertexIndex(i[e],n));for(let e=0,t=a.length;e<t;e++)this.addUVLine(this.parseUVIndex(a[e],s))}};return e.startObject("",!1),e}class su extends Eo{constructor(e){super(e),this.materials=null}load(t,i,e,a){const n=this;var s=new Do(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(e){try{i(n.parse(e))}catch(e){a?a(e):console.error(e),n.manager.itemError(t)}},e,a)}setMaterials(e){return this.materials=e,this}parse(e){var a=new nu,i=(e=-1!==(e=-1!==e.indexOf("\r\n")?e.replace(/\r\n/g,"\n"):e).indexOf("\\\n")?e.replace(/\\\n/g,""):e).split("\n");let n=[];for(let e=0,t=i.length;e<t;e++){var s=i[e].trimStart();if(0!==s.length){var r,o=s.charAt(0);if("#"!==o)if("v"===o){var l=s.split(Zp);switch(l[0]){case"v":a.vertices.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])),7<=l.length?(au.setRGB(parseFloat(l[4]),parseFloat(l[5]),parseFloat(l[6]),qe),a.colors.push(au.r,au.g,au.b)):a.colors.push(void 0,void 0,void 0);break;case"vn":a.normals.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));break;case"vt":a.uvs.push(parseFloat(l[1]),parseFloat(l[2]))}}else if("f"===o){var c=s.slice(1).trim().split(Zp),d=[];for(let e=0,t=c.length;e<t;e++){var p=c[e];0<p.length&&(p=p.split("/"),d.push(p))}var u=d[0];for(let e=1,t=d.length-1;e<t;e++){var h=d[e],m=d[e+1];a.addFace(u[0],h[0],m[0],u[1],h[1],m[1],u[2],h[2],m[2])}}else if("l"===o){var f=s.substring(1).trim().split(" ");let i=[];var g=[];if(-1===s.indexOf("/"))i=f;else for(let e=0,t=f.length;e<t;e++){var _=f[e].split("/");""!==_[0]&&i.push(_[0]),""!==_[1]&&g.push(_[1])}a.addLineGeometry(i,g)}else"p"===o?(r=s.slice(1).trim().split(" "),a.addPointGeometry(r)):null!==(n=Xp.exec(s))?(r=(" "+n[0].slice(1).trim()).slice(1),a.startObject(r)):Jp.test(s)?a.object.startMaterial(s.substring(7).trim(),a.materialLibraries):Yp.test(s)?a.materialLibraries.push(s.substring(7).trim()):Kp.test(s)?console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.'):"s"===o?(1<(n=s.split(" ")).length?(o=n[1].trim().toLowerCase(),a.object.smooth="0"!==o&&"off"!==o):a.object.smooth=!0,(o=a.object.currentMaterial())&&(o.smooth=a.object.smooth)):"\0"!==s&&console.warn('THREE.OBJLoader: Unexpected line: "'+s+'"')}}a.finalize();var t,y=new Vn,e=(y.materialLibraries=[].concat(a.materialLibraries),!(1===a.objects.length&&0===a.objects[0].geometry.vertices.length));if(!0==e)for(let e=0,t=a.objects.length;e<t;e++){var b=a.objects[e],v=b.geometry,x=b.materials,S="Line"===v.type,w="Points"===v.type;let i=!1;if(0!==v.vertices.length){var T=new C,A=(T.setAttribute("position",new G(v.vertices,3)),0<v.normals.length&&T.setAttribute("normal",new G(v.normals,3)),0<v.colors.length&&(i=!0,T.setAttribute("color",new G(v.colors,3))),!0===v.hasUVIndices&&T.setAttribute("uv",new G(v.uvs,2)),[]);for(let t=0,e=x.length;t<e;t++){var M,I=x[t],E=I.name+"_"+I.smooth+"_"+i;let e=a.materials[E];null!==this.materials&&(e=this.materials.create(I.name),!S||!e||e instanceof Ms?!w||!e||e instanceof Us||(M=new Us({size:10,sizeAttenuation:!1}),k.prototype.copy.call(M,e),M.color.copy(e.color),M.map=e.map,e=M):(M=new Ms,k.prototype.copy.call(M,e),M.color.copy(e.color),e=M)),void 0===e&&((e=S?new Ms:w?new Us({size:1,sizeAttenuation:!1}):new ao).name=I.name,e.flatShading=!I.smooth,e.vertexColors=i,a.materials[E]=e),A.push(e)}let e;if(1<A.length){for(let e=0,t=x.length;e<t;e++){var z=x[e];T.addGroup(z.groupStart,z.groupCount,e)}e=new(S?js:w?Ws:P)(T,A)}else e=new(S?js:w?Ws:P)(T,A[0]);e.name=b.name,y.add(e)}}else 0<a.vertices.length&&(e=new Us({size:1,sizeAttenuation:!1}),(t=new C).setAttribute("position",new G(a.vertices,3)),0<a.colors.length&&void 0!==a.colors[0]&&(t.setAttribute("color",new G(a.colors,3)),e.vertexColors=!0),t=new Ws(t,e),y.add(t));return y}}function ru(e,i){if(0===i)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(2!==i&&1!==i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",i),e;{let t=e.getIndex();if(null===t){var a=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)a.push(e);e.setIndex(a),t=e.getIndex()}var s=t.count-2,r=[];if(2===i)for(let e=1;e<=s;e++)r.push(t.getX(0)),r.push(t.getX(e)),r.push(t.getX(e+1));else for(let e=0;e<s;e++)e%2==0?(r.push(t.getX(e)),r.push(t.getX(e+1)),r.push(t.getX(e+2))):(r.push(t.getX(e+2)),r.push(t.getX(e+1)),r.push(t.getX(e)));r.length/3!=s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");i=e.clone();return i.setIndex(r),i.clearGroups(),i}}class ou extends Eo{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new uu(e)}),this.register(function(e){return new hu(e)}),this.register(function(e){return new Su(e)}),this.register(function(e){return new wu(e)}),this.register(function(e){return new Tu(e)}),this.register(function(e){return new fu(e)}),this.register(function(e){return new gu(e)}),this.register(function(e){return new _u(e)}),this.register(function(e){return new yu(e)}),this.register(function(e){return new pu(e)}),this.register(function(e){return new bu(e)}),this.register(function(e){return new mu(e)}),this.register(function(e){return new xu(e)}),this.register(function(e){return new vu(e)}),this.register(function(e){return new cu(e)}),this.register(function(e){return new Au(e)}),this.register(function(e){return new Mu(e)})}load(t,i,e,a){const n=this;let s;s=""!==this.resourcePath?this.resourcePath:""!==this.path?(o=Jo.extractUrlBase(t),Jo.resolveURL(o,this.path)):Jo.extractUrlBase(t),this.manager.itemStart(t);function r(e){a?a(e):console.error(e),n.manager.itemError(t),n.manager.itemEnd(t)}var o=new Do(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(e){try{n.parse(e,s,function(e){i(e),n.manager.itemEnd(t)},r)}catch(e){r(e)}},e,r)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,a){let n;var s={},r={},o=new TextDecoder;if("string"==typeof e)n=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o.decode(new Uint8Array(e,0,4))===Iu){try{s[u.KHR_BINARY_GLTF]=new zu(e)}catch(e){return void(a&&a(e))}n=JSON.parse(s[u.KHR_BINARY_GLTF].content)}else n=JSON.parse(o.decode(e));else n=e;if(void 0===n.asset||n.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new Ku(n,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){var c=this.pluginCallbacks[e](l);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[(r[c.name]=c).name]=!0}if(n.extensionsUsed)for(let e=0;e<n.extensionsUsed.length;++e){var d=n.extensionsUsed[e],p=n.extensionsRequired||[];switch(d){case u.KHR_MATERIALS_UNLIT:s[d]=new du;break;case u.KHR_DRACO_MESH_COMPRESSION:s[d]=new ku(n,this.dracoLoader);break;case u.KHR_TEXTURE_TRANSFORM:s[d]=new Du;break;case u.KHR_MESH_QUANTIZATION:s[d]=new Cu;break;default:0<=p.indexOf(d)&&void 0===r[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(s),l.setPlugins(r),l.parse(i,a)}}parseAsync(i,a){const n=this;return new Promise(function(e,t){n.parse(i,a,e,t)})}}function lu(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const u={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class cu{constructor(e){this.parser=e,this.name=u.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){var i=this.parser,a=this.parser.json.nodes||[];for(let e=0,t=a.length;e<t;e++){var n=a[e];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&i._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(t){var i=this.parser,a="light:"+t,n=i.cache.get(a);if(!n){var s=i.json,r=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t];let e;var o=new Ze(16777215),l=(void 0!==r.color&&o.setRGB(r.color[0],r.color[1],r.color[2],Wt),void 0!==r.range?r.range:0);switch(r.type){case"directional":(e=new Yo(o)).target.position.set(0,0,-1),e.add(e.target);break;case"point":(e=new Wo(o)).distance=l;break;case"spot":(e=new Uo(o)).distance=l,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,e.angle=r.spot.outerConeAngle,e.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,e.target.position.set(0,0,-1),e.add(e.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}e.position.set(0,0,0),qu(e,r),void 0!==r.intensity&&(e.intensity=r.intensity),e.name=i.createUniqueName(r.name||"light_"+t),n=Promise.resolve(e),i.cache.add(a,n)}return n}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser;e=i.json.nodes[e];const a=(e.extensions&&e.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(e){return i._getNodeRef(t.cache,a,e)})}}class du{constructor(){this.name=u.KHR_MATERIALS_UNLIT}getMaterialType(){return T}extendParams(e,t,i){var a,n=[],t=(e.color=new Ze(1,1,1),e.opacity=1,t.pbrMetallicRoughness);return t&&(Array.isArray(t.baseColorFactor)&&(a=t.baseColorFactor,e.color.setRGB(a[0],a[1],a[2],Wt),e.opacity=a[3]),void 0!==t.baseColorTexture)&&n.push(i.assignTexture(e,"map",t.baseColorTexture,qe)),Promise.all(n)}}class pu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&void 0!==(e=e.extensions[this.name].emissiveStrength)&&(t.emissiveIntensity=e),Promise.resolve()}}class uu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],void 0!==(e=e.extensions[this.name]).clearcoatFactor&&(t.clearcoat=e.clearcoatFactor),void 0!==e.clearcoatTexture&&i.push(a.assignTexture(t,"clearcoatMap",e.clearcoatTexture)),void 0!==e.clearcoatRoughnessFactor&&(t.clearcoatRoughness=e.clearcoatRoughnessFactor),void 0!==e.clearcoatRoughnessTexture&&i.push(a.assignTexture(t,"clearcoatRoughnessMap",e.clearcoatRoughnessTexture)),void 0!==e.clearcoatNormalTexture&&(i.push(a.assignTexture(t,"clearcoatNormalMap",e.clearcoatNormalTexture)),void 0!==e.clearcoatNormalTexture.scale)&&(a=e.clearcoatNormalTexture.scale,t.clearcoatNormalScale=new ie(a,a)),Promise.all(i)):Promise.resolve()}}class hu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_DISPERSION}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&(e=e.extensions[this.name],t.dispersion=void 0!==e.dispersion?e.dispersion:0),Promise.resolve()}}class mu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],void 0!==(e=e.extensions[this.name]).iridescenceFactor&&(t.iridescence=e.iridescenceFactor),void 0!==e.iridescenceTexture&&i.push(a.assignTexture(t,"iridescenceMap",e.iridescenceTexture)),void 0!==e.iridescenceIor&&(t.iridescenceIOR=e.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==e.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=e.iridescenceThicknessMinimum),void 0!==e.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=e.iridescenceThicknessMaximum),void 0!==e.iridescenceThicknessTexture&&i.push(a.assignTexture(t,"iridescenceThicknessMap",e.iridescenceThicknessTexture)),Promise.all(i)):Promise.resolve()}}class fu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_SHEEN}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a,n=this.parser,e=n.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],t.sheenColor=new Ze(0,0,0),t.sheenRoughness=0,t.sheen=1,void 0!==(e=e.extensions[this.name]).sheenColorFactor&&(a=e.sheenColorFactor,t.sheenColor.setRGB(a[0],a[1],a[2],Wt)),void 0!==e.sheenRoughnessFactor&&(t.sheenRoughness=e.sheenRoughnessFactor),void 0!==e.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",e.sheenColorTexture,qe)),void 0!==e.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",e.sheenRoughnessTexture)),Promise.all(i)):Promise.resolve()}}class gu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],void 0!==(e=e.extensions[this.name]).transmissionFactor&&(t.transmission=e.transmissionFactor),void 0!==e.transmissionTexture&&i.push(a.assignTexture(t,"transmissionMap",e.transmissionTexture)),Promise.all(i)):Promise.resolve()}}class _u{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_VOLUME}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],e=e.extensions[this.name],t.thickness=void 0!==e.thicknessFactor?e.thicknessFactor:0,void 0!==e.thicknessTexture&&i.push(a.assignTexture(t,"thicknessMap",e.thicknessTexture)),t.attenuationDistance=e.attenuationDistance||1/0,a=e.attenuationColor||[1,1,1],t.attenuationColor=(new Ze).setRGB(a[0],a[1],a[2],Wt),Promise.all(i)):Promise.resolve()}}class yu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_IOR}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]&&(e=e.extensions[this.name],t.ior=void 0!==e.ior?e.ior:1.5),Promise.resolve()}}class bu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_SPECULAR}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a,n=this.parser,e=n.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],e=e.extensions[this.name],t.specularIntensity=void 0!==e.specularFactor?e.specularFactor:1,void 0!==e.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",e.specularTexture)),a=e.specularColorFactor||[1,1,1],t.specularColor=(new Ze).setRGB(a[0],a[1],a[2],Wt),void 0!==e.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",e.specularColorTexture,qe)),Promise.all(i)):Promise.resolve()}}class vu{constructor(e){this.parser=e,this.name=u.EXT_MATERIALS_BUMP}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],e=e.extensions[this.name],t.bumpScale=void 0!==e.bumpFactor?e.bumpFactor:1,void 0!==e.bumpTexture&&i.push(a.assignTexture(t,"bumpMap",e.bumpTexture)),Promise.all(i)):Promise.resolve()}}class xu{constructor(e){this.parser=e,this.name=u.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){e=this.parser.json.materials[e];return e.extensions&&e.extensions[this.name]?io:null}extendMaterialParams(e,t){var i,a=this.parser,e=a.json.materials[e];return e.extensions&&e.extensions[this.name]?(i=[],void 0!==(e=e.extensions[this.name]).anisotropyStrength&&(t.anisotropy=e.anisotropyStrength),void 0!==e.anisotropyRotation&&(t.anisotropyRotation=e.anisotropyRotation),void 0!==e.anisotropyTexture&&i.push(a.assignTexture(t,"anisotropyMap",e.anisotropyTexture)),Promise.all(i)):Promise.resolve()}}class Su{constructor(e){this.parser=e,this.name=u.KHR_TEXTURE_BASISU}loadTexture(e){var t=this.parser,i=t.json,a=i.textures[e];if(a.extensions&&a.extensions[this.name]){var a=a.extensions[this.name],n=t.options.ktx2Loader;if(n)return t.loadTextureImage(e,a.source,n);if(i.extensionsRequired&&0<=i.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return null}}class wu{constructor(e){this.parser=e,this.name=u.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const i=this.name,a=this.parser,n=a.json;var e=n.textures[t];if(!e.extensions||!e.extensions[i])return null;const s=e.extensions[i];var e=n.images[s.source];let r=a.textureLoader;return e.uri&&null!==(e=a.options.manager.getHandler(e.uri))&&(r=e),this.detectSupport().then(function(e){if(e)return a.loadTextureImage(t,s.source,r);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(i))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return a.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class Tu{constructor(e){this.parser=e,this.name=u.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const i=this.name,a=this.parser,n=a.json;var e=n.textures[t];if(!e.extensions||!e.extensions[i])return null;const s=e.extensions[i];var e=n.images[s.source];let r=a.textureLoader;return e.uri&&null!==(e=a.options.manager.getHandler(e.uri))&&(r=e),this.detectSupport().then(function(e){if(e)return a.loadTextureImage(t,s.source,r);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(i))throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return a.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class Au{constructor(e){this.name=u.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){var t=this.parser.json,e=t.bufferViews[e];if(e.extensions&&e.extensions[this.name]){const r=e.extensions[this.name];e=this.parser.getDependency("buffer",r.buffer);const o=this.parser.options.meshoptDecoder;if(o&&o.supported)return e.then(function(e){var t=r.byteOffset||0,i=r.byteLength||0;const a=r.count,n=r.byteStride,s=new Uint8Array(e,t,i);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(a,n,s,r.mode,r.filter).then(function(e){return e.buffer}):o.ready.then(function(){var e=new ArrayBuffer(a*n);return o.decodeGltfBuffer(new Uint8Array(e),a,n,s,r.mode,r.filter),e})});if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return null}}class Mu{constructor(e){this.name=u.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){var t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;for(const s of t.meshes[i.mesh].primitives)if(s.mode!==Ou.TRIANGLES&&s.mode!==Ou.TRIANGLE_STRIP&&s.mode!==Ou.TRIANGLE_FAN&&void 0!==s.mode)return null;var a=i.extensions[this.name].attributes,n=[];const h={};for(const r in a)n.push(this.parser.getDependency("accessor",a[r]).then(e=>(h[r]=e,h[r])));return n.length<1?null:(n.push(this.parser.createNodeMesh(e)),Promise.all(n).then(e=>{var t=e.pop(),i=t.isGroup?t.children:[t],a=e[0].count,n=[];for(const p of i){var s,r=new Ke,o=new Je,l=new m,c=new Je(1,1,1),d=new ys(p.geometry,p.material,a);for(let e=0;e<a;e++)h.TRANSLATION&&o.fromBufferAttribute(h.TRANSLATION,e),h.ROTATION&&l.fromBufferAttribute(h.ROTATION,e),h.SCALE&&c.fromBufferAttribute(h.SCALE,e),d.setMatrixAt(e,r.compose(o,l,c));for(const u in h)"_COLOR_0"===u?(s=h[u],d.instanceColor=new ds(s.array,s.itemSize,s.normalized)):"TRANSLATION"!==u&&"ROTATION"!==u&&"SCALE"!==u&&p.geometry.setAttribute(u,h[u]);f.prototype.copy.call(d,p),this.parser.assignFinalMaterial(d),n.push(d)}return t.isGroup?(t.clear(),t.add(...n),t):n[0]}))}}const Iu="glTF",Eu={JSON:1313821514,BIN:5130562};class zu{constructor(e){this.name=u.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Iu)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");var a=this.header.length-12,n=new DataView(e,12);let s=0;for(;s<a;){var r,o=n.getUint32(s,!0),l=(s+=4,n.getUint32(s,!0));s+=4,l===Eu.JSON?(r=new Uint8Array(e,12+s,o),this.content=i.decode(r)):l===Eu.BIN&&(r=12+s,this.body=e.slice(r,r+o)),s+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ku{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=u.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){var i=this.json;const a=this.dracoLoader;var n=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes;const r={},o={},l={};for(const h in s){var c=Bu[h]||h.toLowerCase();r[c]=s[h]}for(const m in e.attributes){var d,p,u=Bu[m]||m.toLowerCase();void 0!==s[m]&&(d=i.accessors[e.attributes[m]],p=Nu[d.componentType],l[u]=p.name,o[u]=!0===d.normalized)}return t.getDependency("bufferView",n).then(function(t){return new Promise(function(n,e){a.decodeDracoFile(t,function(e){for(const a in e.attributes){var t=e.attributes[a],i=o[a];void 0!==i&&(t.normalized=i)}n(e)},r,l,Wt,e)})})}}class Du{constructor(){this.name=u.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale)&&(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Cu{constructor(){this.name=u.KHR_MESH_QUANTIZATION}}class Pu extends uo{constructor(e,t,i,a){super(e,t,i,a)}copySampleValue_(e){var t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,n=e*a*3+a;for(let e=0;e!==a;e++)t[e]=i[n+e];return t}interpolate_(e,t,i,a){var n=this.resultBuffer,s=this.sampleValues,r=this.valueSize,o=2*r,l=3*r,c=a-t,a=(i-t)/c,i=a*a,t=i*a,d=e*l,p=d-l,u=-2*t+3*i,h=t-i,m=1-u,f=h-i+a;for(let e=0;e!==r;e++){var g=s[p+e+r],_=s[p+e+o]*c,y=s[d+e+r],b=s[d+e]*c;n[e]=m*g+f*_+u*y+h*b}return n}}const Ru=new m;class Lu extends Pu{interpolate_(e,t,i,a){e=super.interpolate_(e,t,i,a);return Ru.fromArray(e).normalize().toArray(e),e}}const Ou={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Nu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ju={9728:Pe,9729:V,9984:Re,9985:Oe,9986:Le,9987:tt},Fu={33071:W,33648:q,10497:H},Uu={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Bu={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Vu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Gu={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},Hu={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Wu(e,t,i){for(const a in i.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=i.extensions[a])}function qu(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Xu(i){let a="";var n=Object.keys(i).sort();for(let e=0,t=n.length;e<t;e++)a+=n[e]+":"+i[n[e]]+";";return a}function Yu(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Ju=new Ke;class Ku{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new lu,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={};let i=!(this.nodeNamesUsed={}),a=-1,n=!1,s=-1;"undefined"!=typeof navigator&&(e=navigator.userAgent,i=!0===/^((?!chrome|android).)*safari/i.test(e),t=e.match(/Version\/(\d+)/),a=i&&t?parseInt(t[1],10):-1,n=-1<e.indexOf("Firefox"),s=n?e.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i&&a<17||n&&s<98?this.textureLoader=new Po(this.options.manager):this.textureLoader=new Zo(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Do(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(i,e){const a=this,n=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([a.getDependencies("scene"),a.getDependencies("animation"),a.getDependencies("camera")])}).then(function(e){const t={scene:e[0][n.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:n.asset,parser:a,userData:{}};return Wu(s,t,n),qu(t,n),Promise.all(a._invokeAll(function(e){return e.afterRoot&&e.afterRoot(t)})).then(function(){for(const e of t.scenes)e.updateMatrixWorld();i(t)})}).catch(e)}_markDefs(){var i=this.json.nodes||[],a=this.json.skins||[],n=this.json.meshes||[];for(let e=0,t=a.length;e<t;e++){var s=a[e].joints;for(let e=0,t=s.length;e<t;e++)i[s[e]].isBone=!0}for(let e=0,t=i.length;e<t;e++){var r=i[e];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin)&&(n[r.mesh].isSkinnedMesh=!0),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;var a=i.clone();const s=(e,t)=>{var i,a,n=this.associations.get(e);null!=n&&this.associations.set(t,n);for([i,a]of e.children.entries())s(a,t.children[i])};return s(i,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(t){var i=Object.values(this.plugins);i.push(this);for(let e=0;e<i.length;e++){var a=t(i[e]);if(a)return a}return null}_invokeAll(t){var i=Object.values(this.plugins),a=(i.unshift(this),[]);for(let e=0;e<i.length;e++){var n=t(i[e]);n&&a.push(n)}return a}getDependency(t,i){var e=t+":"+i;let a=this.cache.get(e);if(!a){switch(t){case"scene":a=this.loadScene(i);break;case"node":a=this._invokeOne(function(e){return e.loadNode&&e.loadNode(i)});break;case"mesh":a=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(i)});break;case"accessor":a=this.loadAccessor(i);break;case"bufferView":a=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(i)});break;case"buffer":a=this.loadBuffer(i);break;case"material":a=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(i)});break;case"texture":a=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(i)});break;case"skin":a=this.loadSkin(i);break;case"animation":a=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(i)});break;case"camera":a=this.loadCamera(i);break;default:if(a=this._invokeOne(function(e){return e!=this&&e.getDependency&&e.getDependency(t,i)}))break;throw new Error("Unknown type: "+t)}this.cache.add(e,a)}return a}getDependencies(i){let e=this.cache.get(i);if(!e){const a=this;var t=this.json[i+("mesh"===i?"es":"s")]||[];e=Promise.all(t.map(function(e,t){return a.getDependency(i,t)})),this.cache.add(i,e)}return e}loadBuffer(e){const i=this.json.buffers[e],a=this.fileLoader;if(i.type&&"arraybuffer"!==i.type)throw new Error("THREE.GLTFLoader: "+i.type+" buffer type is not supported.");if(void 0===i.uri&&0===e)return Promise.resolve(this.extensions[u.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(e,t){a.load(Jo.resolveURL(i.uri,n.path),e,void 0,function(){t(new Error('THREE.GLTFLoader: Failed to load buffer "'+i.uri+'".'))})})}loadBufferView(e){const a=this.json.bufferViews[e];return this.getDependency("buffer",a.buffer).then(function(e){var t=a.byteLength||0,i=a.byteOffset||0;return e.slice(i,i+t)})}loadAccessor(e){const f=this,g=this.json,_=this.json.accessors[e];var t,i;return void 0===_.bufferView&&void 0===_.sparse?(e=Uu[_.type],i=Nu[_.componentType],t=!0===_.normalized,i=new i(_.count*e),Promise.resolve(new D(i,e,t))):(i=[],void 0!==_.bufferView?i.push(this.getDependency("bufferView",_.bufferView)):i.push(null),void 0!==_.sparse&&(i.push(this.getDependency("bufferView",_.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",_.sparse.values.bufferView))),Promise.all(i).then(function(e){var t=e[0],i=Uu[_.type],a=Nu[_.componentType],n=a.BYTES_PER_ELEMENT,s=n*i,r=_.byteOffset||0,o=void 0!==_.bufferView?g.bufferViews[_.bufferView].byteStride:void 0,l=!0===_.normalized;let c,d;if(o&&o!==s){var s=Math.floor(r/o),p="InterleavedBuffer:"+_.bufferView+":"+_.componentType+":"+s+":"+_.count;let e=f.cache.get(p);e||(c=new a(t,s*o,_.count*o/n),e=new qn(c,o/n),f.cache.add(p,e)),d=new Yn(e,i,r%o/n,l)}else c=null===t?new a(_.count*i):new a(t,r,_.count*i),d=new D(c,i,l);if(void 0!==_.sparse){var s=Uu.SCALAR,p=Nu[_.sparse.indices.componentType],o=_.sparse.indices.byteOffset||0,n=_.sparse.values.byteOffset||0,u=new p(e[1],o,_.sparse.count*s),h=new a(e[2],n,_.sparse.count*i);(d=null!==t?new D(d.array.slice(),d.itemSize,d.normalized):d).normalized=!1;for(let e=0,t=u.length;e<t;e++){var m=u[e];if(d.setX(m,h[e*i]),2<=i&&d.setY(m,h[e*i+1]),3<=i&&d.setZ(m,h[e*i+2]),4<=i&&d.setW(m,h[e*i+3]),5<=i)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}d.normalized=l}return d}))}loadTexture(e){var t=this.json,i=this.options,a=t.textures[e].source,t=t.images[a];let n=this.textureLoader;return t.uri&&null!==(i=i.manager.getHandler(t.uri))&&(n=i),this.loadTextureImage(e,a,n)}loadTextureImage(i,e,t){const a=this,n=this.json,s=n.textures[i],r=n.images[e];var o=(r.uri||r.bufferView)+":"+s.sampler;return this.textureCache[o]||(e=this.loadImageSource(e,t).then(function(e){e.flipY=!1,e.name=s.name||r.name||"",""===e.name&&"string"==typeof r.uri&&!1===r.uri.startsWith("data:image/")&&(e.name=r.uri);var t=(n.samplers||{})[s.sampler]||{};return e.magFilter=ju[t.magFilter]||V,e.minFilter=ju[t.minFilter]||tt,e.wrapS=Fu[t.wrapS]||H,e.wrapT=Fu[t.wrapT]||H,e.generateMipmaps=!e.isCompressedTexture&&e.minFilter!==Pe&&e.minFilter!==V,a.associations.set(e,{textures:i}),e}).catch(function(){return null}),this.textureCache[o]=e)}loadImageSource(e,n){var t=this.json;const s=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());const i=t.images[e],a=self.URL||self.webkitURL;let r=i.uri||"",o=!1;if(void 0!==i.bufferView)r=this.getDependency("bufferView",i.bufferView).then(function(e){o=!0;e=new Blob([e],{type:i.mimeType});return r=a.createObjectURL(e)});else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");t=Promise.resolve(r).then(function(a){return new Promise(function(t,e){let i=t;!0===n.isImageBitmapLoader&&(i=function(e){e=new d(e);e.needsUpdate=!0,t(e)}),n.load(Jo.resolveURL(a,s.path),i,void 0,e)})}).then(function(e){var t;return!0===o&&a.revokeObjectURL(r),qu(e,i),e.userData.mimeType=i.mimeType||(0<(t=i.uri).search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":0<t.search(/\.webp($|\?)/i)||0===t.search(/^data\:image\/webp/)?"image/webp":0<t.search(/\.ktx2($|\?)/i)||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",r),e});return this.sourceCache[e]=t}assignTexture(a,n,s,r){const o=this;return this.getDependency("texture",s.index).then(function(e){var t,i;return e?(void 0!==s.texCoord&&0<s.texCoord&&((e=e.clone()).channel=s.texCoord),o.extensions[u.KHR_TEXTURE_TRANSFORM]&&(t=void 0!==s.extensions?s.extensions[u.KHR_TEXTURE_TRANSFORM]:void 0)&&(i=o.associations.get(e),e=o.extensions[u.KHR_TEXTURE_TRANSFORM].extendTexture(e,t),o.associations.set(e,i)),void 0!==r&&(e.colorSpace=r),a[n]=e):null})}assignFinalMaterial(e){var i=e.geometry;let a=e.material;var n=void 0===i.attributes.tangent,s=void 0!==i.attributes.color,i=void 0===i.attributes.normal;if(e.isPoints){var t="PointsMaterial:"+a.uuid;let e=this.cache.get(t);e||(e=new Us,k.prototype.copy.call(e,a),e.color.copy(a.color),e.map=a.map,e.sizeAttenuation=!1,this.cache.add(t,e)),a=e}else if(e.isLine){t="LineBasicMaterial:"+a.uuid;let e=this.cache.get(t);e||(e=new Ms,k.prototype.copy.call(e,a),e.color.copy(a.color),e.map=a.map,this.cache.add(t,e)),a=e}if(n||s||i){let e="ClonedMaterial:"+a.uuid+":",t=(n&&(e+="derivative-tangents:"),s&&(e+="vertex-colors:"),i&&(e+="flat-shading:"),this.cache.get(e));t||(t=a.clone(),s&&(t.vertexColors=!0),i&&(t.flatShading=!0),n&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale)&&(t.clearcoatNormalScale.y*=-1),this.cache.add(e,t),this.associations.set(t,this.associations.get(a))),a=t}e.material=a}getMaterialType(){return to}loadMaterial(t){const i=this;var e=this.json;const a=this.extensions,n=e.materials[t];let s;const r={};var o,e=[],l=((n.extensions||{})[u.KHR_MATERIALS_UNLIT]?(o=a[u.KHR_MATERIALS_UNLIT],s=o.getMaterialType(),e.push(o.extendParams(r,n,i))):(o=n.pbrMetallicRoughness||{},r.color=new Ze(1,1,1),r.opacity=1,Array.isArray(o.baseColorFactor)&&(l=o.baseColorFactor,r.color.setRGB(l[0],l[1],l[2],Wt),r.opacity=l[3]),void 0!==o.baseColorTexture&&e.push(i.assignTexture(r,"map",o.baseColorTexture,qe)),r.metalness=void 0!==o.metallicFactor?o.metallicFactor:1,r.roughness=void 0!==o.roughnessFactor?o.roughnessFactor:1,void 0!==o.metallicRoughnessTexture&&(e.push(i.assignTexture(r,"metalnessMap",o.metallicRoughnessTexture)),e.push(i.assignTexture(r,"roughnessMap",o.metallicRoughnessTexture))),s=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),e.push(Promise.all(this._invokeAll(function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,r)})))),!0===n.doubleSided&&(r.side=We),n.alphaMode||Hu.OPAQUE);return l===Hu.BLEND?(r.transparent=!0,r.depthWrite=!1):(r.transparent=!1,l===Hu.MASK&&(r.alphaTest=void 0!==n.alphaCutoff?n.alphaCutoff:.5)),void 0!==n.normalTexture&&s!==T&&(e.push(i.assignTexture(r,"normalMap",n.normalTexture)),r.normalScale=new ie(1,1),void 0!==n.normalTexture.scale)&&(o=n.normalTexture.scale,r.normalScale.set(o,o)),void 0!==n.occlusionTexture&&s!==T&&(e.push(i.assignTexture(r,"aoMap",n.occlusionTexture)),void 0!==n.occlusionTexture.strength)&&(r.aoMapIntensity=n.occlusionTexture.strength),void 0!==n.emissiveFactor&&s!==T&&(l=n.emissiveFactor,r.emissive=(new Ze).setRGB(l[0],l[1],l[2],Wt)),void 0!==n.emissiveTexture&&s!==T&&e.push(i.assignTexture(r,"emissiveMap",n.emissiveTexture,qe)),Promise.all(e).then(function(){var e=new s(r);return n.name&&(e.name=n.name),qu(e,n),i.associations.set(e,{materials:t}),n.extensions&&Wu(a,e,n),e})}createUniqueName(e){e=h.sanitizeNodeName(e||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(i){const a=this,n=this.extensions;var s=this.primitiveCache;var r=[];for(let e=0,t=i.length;e<t;e++){var o=i[e],l=function(i){let a;var e=i.extensions&&i.extensions[u.KHR_DRACO_MESH_COMPRESSION];if(a=e?"draco:"+e.bufferView+":"+e.indices+":"+Xu(e.attributes):i.indices+":"+Xu(i.attributes)+":"+i.mode,void 0!==i.targets)for(let e=0,t=i.targets.length;e<t;e++)a+=":"+Xu(i.targets[e]);return a}(o),c=s[l];if(c)r.push(c.promise);else{let e;e=o.extensions&&o.extensions[u.KHR_DRACO_MESH_COMPRESSION]?function(t){return n[u.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,a).then(function(e){return Zu(e,t,a)})}(o):Zu(new C,o,a),s[l]={primitive:o,promise:e},r.push(e)}}return Promise.all(r)}loadMesh(u){const h=this;var e=this.json;const m=this.extensions,f=e.meshes[u],g=f.primitives;var i=[];for(let e=0,t=g.length;e<t;e++){var a=void 0===g[e].material?(void 0===(a=this.cache).DefaultMaterial&&(a.DefaultMaterial=new to({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$e})),a.DefaultMaterial):this.getDependency("material",g[e].material);i.push(a)}return i.push(h.loadGeometries(g)),Promise.all(i).then(function(e){var i=e.slice(0,e.length-1),a=e[e.length-1],n=[];for(let t=0,e=a.length;t<e;t++){var s=a[t],r=g[t];let e;var o=i[t];if(r.mode===Ou.TRIANGLES||r.mode===Ou.TRIANGLE_STRIP||r.mode===Ou.TRIANGLE_FAN||void 0===r.mode)!0===(e=new(!0===f.isSkinnedMesh?ns:P)(s,o)).isSkinnedMesh&&e.normalizeSkinWeights(),r.mode===Ou.TRIANGLE_STRIP?e.geometry=ru(e.geometry,1):r.mode===Ou.TRIANGLE_FAN&&(e.geometry=ru(e.geometry,2));else if(r.mode===Ou.LINES)e=new js(s,o);else if(r.mode===Ou.LINE_STRIP)e=new Rs(s,o);else if(r.mode===Ou.LINE_LOOP)e=new Fs(s,o);else{if(r.mode!==Ou.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+r.mode);e=new Ws(s,o)}if(0<Object.keys(e.geometry.morphAttributes).length){d=c=l=void 0;var l=e,c=f;if(l.updateMorphTargets(),void 0!==c.weights)for(let e=0,t=c.weights.length;e<t;e++)l.morphTargetInfluences[e]=c.weights[e];if(c.extras&&Array.isArray(c.extras.targetNames)){var d=c.extras.targetNames;if(l.morphTargetInfluences.length===d.length){l.morphTargetDictionary={};for(let e=0,t=d.length;e<t;e++)l.morphTargetDictionary[d[e]]=e}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}e.name=h.createUniqueName(f.name||"mesh_"+u),qu(e,f),r.extensions&&Wu(m,e,r),h.assignFinalMaterial(e),n.push(e)}for(let e=0,t=n.length;e<t;e++)h.associations.set(n[e],{meshes:u,primitives:e});if(1===n.length)return f.extensions&&Wu(m,n[0],f),n[0];var p=new Vn;f.extensions&&Wu(m,p,f),h.associations.set(p,{meshes:u});for(let e=0,t=n.length;e<t;e++)p.add(n[e]);return p})}loadCamera(e){let t;var e=this.json.cameras[e],i=e[e.type];if(i)return"perspective"===e.type?t=new jn(pi.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===e.type&&(t=new qo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),e.name&&(t.name=this.createUniqueName(e.name)),qu(t,e),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const o=this.json.skins[e];var i=[];for(let e=0,t=o.joints.length;e<t;e++)i.push(this._loadNodeShallow(o.joints[e]));return void 0!==o.inverseBindMatrices?i.push(this.getDependency("accessor",o.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(e){var i=e.pop(),a=e,n=[],s=[];for(let e=0,t=a.length;e<t;e++){var r=a[e];r?(n.push(r),r=new Ke,null!==i&&r.fromArray(i.array,16*e),s.push(r)):console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[e])}return new cs(n,s)})}loadAnimation(e){var t=this.json;const m=this;var i=t.animations[e];const f=i.name||"animation_"+e;var a=[],n=[],s=[],r=[],o=[];for(let e=0,t=i.channels.length;e<t;e++){var l=i.channels[e],c=i.samplers[l.sampler],l=l.target,d=l.node,p=void 0!==i.parameters?i.parameters[c.input]:c.input,u=void 0!==i.parameters?i.parameters[c.output]:c.output;void 0!==l.node&&(a.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",p)),s.push(this.getDependency("accessor",u)),r.push(c),o.push(l))}return Promise.all([Promise.all(a),Promise.all(n),Promise.all(s),Promise.all(r),Promise.all(o)]).then(function(e){var i=e[0],a=e[1],n=e[2],s=e[3],r=e[4],o=[];for(let e=0,t=i.length;e<t;e++){var l=i[e],c=a[e],d=n[e],p=s[e],u=r[e];if(void 0!==l){l.updateMatrix&&l.updateMatrix();var h=m._createAnimationTracks(l,c,d,p,u);if(h)for(let e=0;e<h.length;e++)o.push(h[e])}}return new To(f,void 0,o)})}createNodeMesh(e){var t=this.json;const i=this,a=t.nodes[e];return void 0===a.mesh?null:i.getDependency("mesh",a.mesh).then(function(e){e=i._getNodeRef(i.meshCache,a.mesh,e);return void 0!==a.weights&&e.traverse(function(i){if(i.isMesh)for(let e=0,t=a.weights.length;e<t;e++)i.morphTargetInfluences[e]=a.weights[e]}),e})}loadNode(e){var t=this.json.nodes[e],e=this._loadNodeShallow(e),i=[],a=t.children||[];for(let e=0,t=a.length;e<t;e++)i.push(this.getDependency("node",a[e]));t=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([e,Promise.all(i),t]).then(function(e){var i=e[0],a=e[1];const t=e[2];null!==t&&i.traverse(function(e){e.isSkinnedMesh&&e.bind(t,Ju)});for(let e=0,t=a.length;e<t;e++)i.add(a[e]);return i})}_loadNodeShallow(t){var e=this.json;const n=this.extensions,s=this;if(void 0===this.nodeCache[t]){const r=e.nodes[t],o=r.name?s.createUniqueName(r.name):"",i=[];e=s._invokeOne(function(e){return e.createNodeMesh&&e.createNodeMesh(t)});e&&i.push(e),void 0!==r.camera&&i.push(s.getDependency("camera",r.camera).then(function(e){return s._getNodeRef(s.cameraCache,r.camera,e)})),s._invokeAll(function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)}).forEach(function(e){i.push(e)}),this.nodeCache[t]=Promise.all(i).then(function(i){let a;if((a=!0===r.isBone?new ss:1<i.length?new Vn:1===i.length?i[0]:new f)!==i[0])for(let e=0,t=i.length;e<t;e++)a.add(i[e]);var e;return r.name&&(a.userData.name=r.name,a.name=o),qu(a,r),r.extensions&&Wu(n,a,r),void 0!==r.matrix?((e=new Ke).fromArray(r.matrix),a.applyMatrix4(e)):(void 0!==r.translation&&a.position.fromArray(r.translation),void 0!==r.rotation&&a.quaternion.fromArray(r.rotation),void 0!==r.scale&&a.scale.fromArray(r.scale)),s.associations.has(a)||s.associations.set(a,{}),s.associations.get(a).nodes=t,a})}return this.nodeCache[t]}loadScene(e){var t=this.extensions,e=this.json.scenes[e];const n=this,a=new Vn;e.name&&(a.name=n.createUniqueName(e.name)),qu(a,e),e.extensions&&Wu(t,a,e);var i=e.nodes||[],s=[];for(let e=0,t=i.length;e<t;e++)s.push(n.getDependency("node",i[e]));return Promise.all(s).then(function(i){for(let e=0,t=i.length;e<t;e++)a.add(i[e]);return n.associations=(e=>{const i=new Map;for(var[t,a]of n.associations)(t instanceof k||t instanceof d)&&i.set(t,a);return e.traverse(e=>{var t=n.associations.get(e);null!=t&&i.set(e,t)}),i})(a),a})}_createAnimationTracks(e,i,t,a,n){var s=[],r=e.name||e.uuid;const o=[];Vu[n.path]===Vu.weights?e.traverse(function(e){e.morphTargetInfluences&&o.push(e.name||e.uuid)}):o.push(r);let l;switch(Vu[n.path]){case Vu.weights:l=bo;break;case Vu.rotation:l=xo;break;case Vu.position:case Vu.scale:l=wo;break;default:l=1===t.itemSize?bo:wo}var c=void 0!==a.interpolation?Gu[a.interpolation]:2301,d=this._getArrayFromAccessor(t);for(let e=0,t=o.length;e<t;e++){var p=new l(o[e]+"."+Vu[n.path],i.array,d,c);"CUBICSPLINE"===a.interpolation&&this._createCubicSplineTrackInterpolant(p),s.push(p)}return s}_getArrayFromAccessor(e){let i=e.array;if(e.normalized){var a=Yu(i.constructor),n=new Float32Array(i.length);for(let e=0,t=i.length;e<t;e++)n[e]=i[e]*a;i=n}return i}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof xo?Lu:Pu)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Zu(m,e,f){var t=e.attributes,i=[];for(const b in t){var a=Bu[b]||b.toLowerCase();a in m.attributes||i.push(function(e,t){return f.getDependency("accessor",e).then(function(e){m.setAttribute(t,e)})}(t[b],a))}void 0===e.indices||m.index||(n=f.getDependency("accessor",e.indices).then(function(e){m.setIndex(e)}),i.push(n)),Xe.workingColorSpace!==Wt&&"COLOR_0"in t&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Xe.workingColorSpace}" not supported.`),qu(m,e);var n=m,s=e,r=f,o=s.attributes,l=new Ri;if(void 0!==o.POSITION){var o=r.json.accessors[o.POSITION],c=o.min,d=o.max;if(void 0===c||void 0===d)console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");else{l.set(new Je(c[0],c[1],c[2]),new Je(d[0],d[1],d[2])),o.normalized&&(c=Yu(Nu[o.componentType]),l.min.multiplyScalar(c),l.max.multiplyScalar(c));var p=s.targets;if(void 0!==p){var u=new Je,h=new Je;for(let e=0,t=p.length;e<t;e++){var g,_,y=p[e];void 0!==y.POSITION&&(_=(y=r.json.accessors[y.POSITION]).min,g=y.max,void 0!==_&&void 0!==g?(h.setX(Math.max(Math.abs(_[0]),Math.abs(g[0]))),h.setY(Math.max(Math.abs(_[1]),Math.abs(g[1]))),h.setZ(Math.max(Math.abs(_[2]),Math.abs(g[2]))),y.normalized&&(_=Yu(Nu[y.componentType]),h.multiplyScalar(_)),u.max(h)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}l.expandByVector(u)}n.boundingBox=l;d=new $i;l.getCenter(d.center),d.radius=l.min.distanceTo(l.max)/2,n.boundingSphere=d}}return Promise.all(i).then(function(){if(void 0===e.targets)return m;{var r=m,i=e.targets,o=f;let a=!1,n=!1,s=!1;for(let e=0,t=i.length;e<t;e++){var l=i[e];if(void 0!==l.POSITION&&(a=!0),void 0!==l.NORMAL&&(n=!0),void 0!==l.COLOR_0&&(s=!0),a&&n&&s)break}if(!a&&!n&&!s)return Promise.resolve(r);var c=[],d=[],p=[];for(let e=0,t=i.length;e<t;e++){var u,h=i[e];a&&(u=void 0!==h.POSITION?o.getDependency("accessor",h.POSITION):r.attributes.position,c.push(u)),n&&(u=void 0!==h.NORMAL?o.getDependency("accessor",h.NORMAL):r.attributes.normal,d.push(u)),s&&(h=void 0!==h.COLOR_0?o.getDependency("accessor",h.COLOR_0):r.attributes.color,p.push(h))}return Promise.all([Promise.all(c),Promise.all(d),Promise.all(p)]).then(function(e){var t=e[0],i=e[1],e=e[2];return a&&(r.morphAttributes.position=t),n&&(r.morphAttributes.normal=i),s&&(r.morphAttributes.color=e),r.morphTargetsRelative=!0,r})}})}let $u=Math.random();const Qu=class{constructor(){this.textures=[],this.gifTextures=[],this.materials=[],this.objModels=[],this.gltfModels=[],this.gos=[]}dispose(){for(let e=0;e<this.textures.length;++e)this.textures[e].dispose();for(let e=0;e<this.gifTextures.length;++e)this.gifTextures[e].dispose();for(let e=0;e<this.materials.length;++e)this.materials[e].dispose();for(let e=0;e<this.gos.length;++e)this.gos[e].dispose();try{this.textureLoader&&(this.textureLoader.manager=null),this.audioLoader&&(this.audioLoader.manager=null)}catch(e){}this.textureLoader=null,this.audioLoader=null,this.gos=[],this.textures=[],this.gifTextures=[],this.materials=[],this.objModels=[],this.gltfModels=[]}loadTextures=async(e,t,i,a)=>{this.textureLoader=new Po(e),this.textureLoader.setCrossOrigin(""),this.callback=a;try{var n=t.map(e=>{return this.textureLoader.loadAsync(e+"?random="+$u)});this.textures=await Promise.all(n),M.audioIsLoading=!1}catch(e){M.assetIsLoading||(console.log(e),M.audioIsLoading=!0,i&&i.saveDataOnExit(),this.callback&&this.callback.playAgain())}};getDummyTextureData=()=>{if(!this.dummyTextureData){this.dummyTextureData=new Uint8Array(4e4);for(let e=0;e<1e4;e++){var t=4*e;this.dummyTextureData[t]=0,this.dummyTextureData[1+t]=255,this.dummyTextureData[2+t]=0,this.dummyTextureData[3+t]=255}}return this.dummyTextureData};loadTextures2=async(e,t,i,a)=>{this.textureLoader=new Po(e),this.textureLoader.setCrossOrigin(""),this.callback=a;try{this.textures=[];var n=[];for(let i=0;i<t.length;++i){var s=(new Po).load(t[i]+"?random="+$u,e=>{e.index=i,this.textures.push(e),this.textures.sort(function(e,t){return e.index-t.index})},void 0,e=>{console.error("An error happened.");var t=new rs(this.getDummyTextureData(),100,100,Fe);t.needsUpdate=!0,t.index=i,this.textures.push(t),this.textures.sort(function(e,t){return e.index-t.index})});n.push(s)}M.audioIsLoading=!1}catch(e){if(M.assetIsLoading)return;console.log(e),M.audioIsLoading=!0}console.log("After LoadTextures 2")};loadTexture=(t,a)=>new Promise((i,e)=>{this.textureLoader.load(t+"?random="+$u,e=>{e.index=a,i(e)},void 0,e=>{console.error("An error happened while loading texture.");var t=new rs(this.getDummyTextureData(),100,100,Fe);t.needsUpdate=!0,t.index=a,i(t)})});loadObj=(a,n)=>new Promise((t,i)=>{this.objLoader.load(a.path+"?random="+$u,e=>{e.modeltype=a.modeltype,e.path=a.path,e.index=n,e.modelid=a.id,t(e)},void 0,e=>{console.error("An error happened while loading texture."),i("Error")})});loadGLTF=(a,n)=>new Promise((t,i)=>{(new ou).load(a.path+"?random="+$u,e=>{e.scene.modeltype=a.modeltype,e.scene.path=a.path,e.scene.index=n,e.scene.modelid=a.id,e.animations&&e.animations.length?e.scene.gltfAnimations=e.animations:console.warn("No animations found in GLTF file."),t(e.scene)},void 0,e=>{console.error("An error happened while loading GLTF model."),i("Error")})});loadAll=async(e,t,i,a,n,s,r,o,l,c)=>{this.textureLoader=new Po(e),this.textureLoader.setCrossOrigin(""),this.audioLoader=new el(e),this.objLoader=new su,this.callback=c,this.textures=[],this.gifTextures=[];try{var d=t.map((e,t)=>this.loadTexture(e,t)),p=a.map((e,t)=>this.loadGifTexture(e,t)),u=i.map((e,t)=>this.loadAudioFile(e,t)),h=n.map((e,t)=>this.loadObj(e,t)),m=s.map((e,t)=>this.loadGLTF(e,t)),f=o.map((e,t)=>this.loadFileAsUint8Array(e,t)),g=r.map((e,t)=>this.loadFontFile(e,t)),_=await Promise.all(d);this.textures=_.sort((e,t)=>e.index-t.index),this.gifTextures=await Promise.all(p),this.objModels=await Promise.all(h),this.gltfModels=await Promise.all(m),this.uInt8ArrayFiles=await Promise.all(f),console.log("Waiting for fonts to load..."),await Promise.all(g),console.log("All Fonts loaded successfully!"),await Promise.all(u),M.audioIsLoading=!1}catch(e){M.assetIsLoading||(console.log(e),M.audioIsLoading=!0)}};loadTextures3=async(e,t,i,a)=>{this.textureLoader=new Po(e),this.textureLoader.setCrossOrigin(""),this.callback=a;try{this.textures=[];var n=t.map((e,t)=>this.loadTexture(e,t)),s=await Promise.all(n);this.textures=s.sort((e,t)=>e.index-t.index),M.audioIsLoading=!1}catch(e){if(M.assetIsLoading)return;console.log(e),M.audioIsLoading=!0}console.log("After LoadTextures 2")};loadGifs=async(e,t)=>{try{this.gifTextures=[];var i=t.map((e,t)=>this.loadGifTexture(e,t));this.gifTextures=await Promise.all(i)}catch(e){throw console.error(e),e}return null};loadGifTexture=async(e,t)=>{e=await(new qp).load(e+"?random="+$u,e=>{console.log(e.numFrames())},function(e){},function(){console.error("An error happened.")});return e.colorSpace=qe,e.index=t,e};loadAudioFile=(t,i)=>{var e=t.path+"?random="+Math.random();return console.log(`Loading audio ${i}: `+e),this.audioLoader.loadAsync(e).then(e=>(t.buffer=e,console.log(`Audio ${i} loaded`),e))};loadAudioFiles=async(e,t,i,a)=>{this.callback=a,this.audioLoader=new el(e);try{console.log("Starting to load audio files...");var n=t.map((e,t)=>this.loadAudioFile(e,t));await Promise.all(n),console.log("All audio files loaded successfully"),M.assetIsLoading=!1}catch(e){console.error("An error happened while loading audio",e),alert("Not able to load audio files: Please check your internet"),M.assetIsLoading=!0,i.saveDataOnExit(),this.callback&&this.callback.playAgain()}};loadFileAsUint8Array=async(t,e)=>fetch(t.path).then(e=>{if(e.ok)return e.arrayBuffer();throw new Error(`Failed to fetch ${t.path}: `+e.statusText)}).then(e=>(t.buffer=new Uint8Array(e),console.log("Loaded file ",t.path),console.log("pathObj.buffer.length: ",t.buffer.length),t)).catch(e=>{throw console.error(`Error fetching ${t.path}:`,e),e});loadFontFile=async(e,t)=>this.preloadFont(e.path).then(()=>{console.log("Font Loaded Successfully!")}).catch(e=>console.error("Font Loading Error:",e));preloadFont=async a=>new Promise((e,t)=>{const i=new FontFace(a,`url(${a})`);i.load().then(()=>{document.fonts.add(i),e()}).catch(e=>{t(e)})});getTextureWithId=t=>{for(let e=0;e<this.textures.length;++e)if(this.textures[e].name===t)return this.textures[e]};getModelWithId=t=>{for(let e=0;e<this.objModels.length;++e)if(this.objModels[e].modelid===t)return this.objModels[e];for(let e=0;e<this.gltfModels.length;++e)if(this.gltfModels[e].modelid===t)return this.gltfModels[e];return null}};class eh{static orthogonalCameraDepth=1e3;static perspectiveCameraDepth=1e5;static getTexture=(e,t,i,a,n,s,r=null,o=null,l=null)=>{var c=th.get2DTexture(e,r),o=(o&&(c.wrapS=o),l&&(c.wrapT=l),c.needsUpdate=!0,c.colorSpace=qe,new T({map:c})),l=(o.transparent=i,null==r?1:r.x),c=null==r?1:r.y,i=new Xr(th.width(e)*l,th.height(e)*c),r=new P(i,o);return r.name=t,r.mat=o,r.position.x=a,r.position.y=n,r.position.z=s,r.dimx=th.width(e)*l,r.dimy=th.height(e)*c,r.rawAsset=e,i.dispose(),r};static getTextureFromAtlas=(e,t,i,a,n,s,r,o,l,c)=>{var d=new T({map:th.get2DTexture(e)}),i=(d.transparent=i,e.wrapS=e.wrapT=H,e.repeat.set(1/l,1/c),new P(new Xr(r,o),d));return i.name=t,i.position.x=a,i.position.y=n,i.position.z=s,i};static getLeftBorder=e=>(e||(console.trace("getLeftBorder: size is empty"),alert("Size is empty")),-e.width/2*(e.frustumSize/e.height));static getRightBorder=e=>(e||(console.trace("getRightBorder: size is empty"),alert("Size is empty")),e.width/2*(e.frustumSize/e.height));static getTopBorder=e=>(e||(console.trace("getTopBorder: size is empty"),alert("Size is empty")),e.frustumSize/2);static getBottomBorder=e=>(e||(console.trace("getBottomBorder: size is empty"),alert("Size is empty")),-e.frustumSize/2);static randomized=e=>{for(var t=[];0<e.length;){var i=Math.floor(Math.random()*e.length);t.push(e[i]),e.splice(i,1)}return t};static shuffleArray(e){for(var t=e.length-1;0<t;t--){var i=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[i],e[i]=a}return e}static isClickedOnDrag=(t,i)=>{if(t.image.texture.name===i)return!0;for(let e=0;e<t.followers.length;++e)if(t.followers[e].id===i)return!0;return!1};static isClickedOnDrag2=(t,i)=>{if(t.id===i)return!0;if(t.followers)for(let e=0;e<t.followers.length;++e)if(t.followers[e].id===i)return!0;return!1};static getColorString=e=>e.startsWith("#")?e:"#"+e;static isStringType=e=>"string"==typeof e||e instanceof String;static isArrayType=e=>"[object Array]"===Object.prototype.toString.call(e);static normalizeDegrees=e=>((e%=360)<0&&(e+=360),e);static degreeToRadian=e=>e*Math.PI/180;static angleDiff=(e,t)=>{return e=(e+360)%360,t=(t+360)%360,Math.min((t-e+360)%360,(e-t+360)%360)};static pointInRectangle=(e,t,i,a,n)=>e.x>=t&&e.x<=a&&e.y>=i&&e.y<=n;static getRandomInt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);static get2DLookAt=(e,t)=>(e.z=0,e.x=e.x-t.x,e.y=e.y-t.y,180*Math.atan2(e.y,e.x)/Math.PI);static deepClone(e,t=new WeakMap){if(null===e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var i=Array.isArray(e)?[]:{};t.set(e,i);for(const a in e)e.hasOwnProperty(a)&&(i[a]=eh.deepClone(e[a],t));return i}static getMovable=(e,t)=>{let i=null;var a=e.callback_getEnabledWithId(t);return(i=a?a.group_id?e.callback_getContainerWithId(a.group_id):a:i)||(a=e.callback_getModelWithId(t))&&(i=a),i||(a=e.getTextWithId(t))&&(i=a.group_id?e.callback_getContainerWithId(a.group_id):a),i||(a=e.callback_getContainerWithId(t))&&(i=a),i};static getPointsWithSinglePointDistance=t=>{var i=[];if(0<t.length){var a=[];for(let e=0;e<t.length;++e){var n=t[e];a.push(new Je(n.x,n.y,n.z))}i.push(a[0]);for(let e=0;e<a.length-1;++e){var s=a[e],r=a[e+1],o=s.distanceTo(r);for(let e=1;e<=o;e+=1){var l=e/o,c=new Je;c.lerpVectors(s,r,l),i.push(c)}}}return i};static getCSS3DObjectBoundingBox=e=>{e=e.element;return e?{width:e.offsetWidth||0,height:e.offsetHeight||0,depth:0}:{width:10,height:10,depth:1}};static getCanvasPointOfThreeJS=(e,t,i,a)=>{e=new Je(e.x,e.y,e.z);return e.project(t),{x:(.5*e.x+.5)*i,y:(-.5*e.y+.5)*a}}}const R=eh;const th=class C0{constructor(e,t,i,a,n){this.texture=e,this.sobj=e,this.xref=t,this.xdisp=i,this.yref=a,this.ydisp=n,this.mode=1,this.texture.stype="image"}dispose=()=>{this.texture&&(this.texture.gifTexture&&this.texture.gifTexture.dispose(),this.sobj=null)};clone=()=>{var e=this.texture.clone(!0),t=new C0(e,this.xref,this.xdisp,this.yref,this.ydisp);return e.dimx=this.texture.dimx,e.dimy=this.texture.dimy,e.mat=this.texture.mat.clone(),e.material=e.mat,t};setBorderMode=e=>{this.mode=e};setFreeMovement=e=>{this.freeMovement=e};updateForResize=e=>{if(!this.freeMovement){switch(this.xref){case 0:this.texture.position.x=this.xdisp;break;case-1:this.texture.position.x=R.getLeftBorder(e)+this.xdisp;break;case 1:this.texture.position.x=R.getRightBorder(e)+this.xdisp}switch(this.yref){case 0:this.texture.position.y=this.ydisp;break;case 1:this.texture.position.y=R.getTopBorder(e)+this.ydisp;break;case-1:this.texture.position.y=R.getBottomBorder(e)+this.ydisp}}};getWidth=()=>this.texture.geometry.parameters.width;getScaledSizeX(){return Math.abs(this.getWidth()*this.texture.scale.x)}getHeight=()=>this.texture.geometry.parameters.height;getScaledSizeY(){return Math.abs(this.getHeight()*this.texture.scale.y)}setNewPosition=(e,t,i,a,n)=>{this.xref=e,this.xdisp=t,this.yref=i,this.ydisp=a,this.updateForResize(n)};setScale=(e,t,i=1)=>{this.texture.scale.x=e,this.texture.scale.y=t,this.texture.scale.z=i};setEulersInDegrees=(e,t,i)=>{this.texture.setRotationFromEuler(new ga(e*Math.PI/180,t*Math.PI/180,i*Math.PI/180))};applyTiling=e=>{var t=this.texture.material.map;t.wrapS=H,t.wrapT=H,t.repeat.set(e.tileX,e.tileY),t.offset.set(e.offsetX,e.offsetY)};setBlinking=(e,t=null)=>{this.time=0,this.totalBlinkTime=0,this.blinkDuration=e,this.blinking=!0,this.callback=t};endBlinking=()=>{this.blinking&&(this.texture.material.opacity=1),this.blinking=!1,this.callback&&this.callback.blinkingEnded(this)};doBlinking=e=>{this.blinking&&(this.time+=e,this.totalBlinkTime+=e,this.texture.material.opacity=this.time/.1,.1<=this.time&&(this.time=0),-1!=this.blinkDuration)&&this.totalBlinkTime>=this.blinkDuration&&this.endBlinking()};setLerp=(e,t,i,a,n,s=null,r=100)=>{this.startPos=e.clone(),this.endPos=t.clone(),this.startPosCopy=e.clone(),this.endPosCopy=t.clone(),this.duration=i,this.loop=a,this.cycle=n,this.time=0,this.lerping=!0,this.callback=s,this.totalTime=0,this.totalLerpDuration=r};endLerp=()=>{console.log("endLerp"),this.lerping&&(this.loop?this.texture.position.lerpVectors(this.endPos,this.startPos,1):this.texture.position.lerpVectors(this.startPos,this.endPos,1)),this.lerping=!1,this.callback&&this.callback.lerpEnded(this)};doLerp=e=>{this.lerping&&(this.time+=e,this.totalTime+=e,this.texture.position.lerpVectors(this.startPosCopy,this.endPosCopy,this.time/this.duration),this.time>=this.duration)&&(this.time=0,!this.loop||this.totalTime>=this.totalLerpDuration?this.endLerp():this.cycle&&(this.startPosCopy=this.endPos.clone(),this.endPosCopy=this.startPos.clone()))};static get2DTexture=(e,t=null)=>(e.minFilter=V,e.magFilter=V,t&&(1<t.x&&(e.wrapS=q),1<t.y&&(e.wrapT=q),e.repeat=t),e);static width(e){return e.image.width}static height(e){return e.image.height}};const ih=class{constructor(e){this.callback=e,this.timeOuts=[],this.clock=new il,this.time=0}addTimeOut=(e,t)=>{this.timeOuts.push({duration:e,ref:t,starttime:this.time})};isRefAdded=t=>{for(let e=0;e<this.timeOuts.length;++e)if(this.timeOuts[e].ref==t)return!0;return!1};removeTimeOut=t=>{for(let e=0;e<this.timeOuts.length;++e)if(this.timeOuts[e].ref==t){this.timeOuts.splice(e,1);break}};removeTimeOutAll=i=>{for(;;){let t=!1;for(let e=0;e<this.timeOuts.length;++e)if(this.timeOuts[e].ref==i){this.timeOuts.splice(e,1),t=!0;break}if(!t)break}};update=e=>{this.time+=this.clock.getDelta();for(let e=0;e<this.timeOuts.length;++e)if(this.time-this.timeOuts[e].starttime>=this.timeOuts[e].duration){var t=this.timeOuts[e].ref;this.timeOuts.splice(e,1),this.callback.onTimeOut(t);break}};pause=e=>{this.clock.getDelta()};clearAll=()=>{this.timeOuts=[]};dispose(){}};let ah=0;const nh=class{constructor(e,t,i=!1){this.sound=new cl(t),this.uuid=ah,ah+=1,this.callback=e,this.isPlaybackStarted=!1,this.soundfile="",this.stoppable=i,this.stopped=!1}dispose(){this.stop()}isAudioPlaying=()=>!this.isPlaybackStarted||this.sound.isPlaying;play=(e,t)=>{this.soundfile=e,t&&!this.stopped&&(this.sound.setBuffer(t),this.sound.setLoop(!1),this.sound.setVolume(1),this.sound.play(),this.isPlaybackStarted=!0)};pause=e=>{e?this.sound.pause():this.sound.play()};stop=()=>{this.stopped=!0,this.sound.isPlaying&&this.sound.stop()}};const sh=class{constructor(e){this.sdk=e}logEventLevelStartDuration=(e,t)=>{e="startTimeSpentLevel"+e;localStorage.setItem(M.getUniqueKeyFor(e),t)};logEventLevelEndDuration=(e,t)=>{var i="startTimeSpentLevel"+e,i=parseInt(localStorage.getItem(M.getUniqueKeyFor(i)));this.sdk.setLevelCompleted(e,t-i,0!=e)};logEventPresentationStartDuration=(e,t)=>{var i;0==e?this.logEventLevelStartDuration(e):(i="startPresentationTimeSpentLevel"+e,t=t,localStorage.setItem(M.getUniqueKeyFor(i),t)),this.sdk.setLevelStarted(e)};logEventPresentationEndDuration=(e,t)=>{var i,a;0==e?this.logEventLevelEndDuration(e):(i="startPresentationTimeSpentLevel"+e,a="endPresentationTimeSpentL"+e,t=t,localStorage.setItem(M.getUniqueKeyFor(a),t),a=parseInt(localStorage.getItem(M.getUniqueKeyFor(i))),this.sdk.setPresentationCompleted(e,t-a))};logCorrectAttempt=e=>{this.sdk.setCorrectAttempts(e)};logWrongAttempt=e=>{this.sdk.setWrongAttempts(e)};IsLevelCompleted=e=>this.sdk.getIfLevelIsCompleted(e);IsPresentationCompleted=e=>this.sdk.getPresentationCompleteForLevel(e);logEventTimespentLevelJumpedInBetween=(e,t)=>{var i="startTimeSpentLevel"+e,a=parseInt(localStorage.getItem(M.getUniqueKeyFor(i))),i=(localStorage.setItem(M.getUniqueKeyFor(i),t),console.log(a),t-a);this.sdk.addTimespentWhenJumpedOut(e,i)};logEventTimespentPresentJumpedInBetween=(e,t)=>{console.log(t);var i="startPresentationTimeSpentLevel"+e,a=parseInt(localStorage.getItem(M.getUniqueKeyFor(i))),i=(localStorage.setItem(M.getUniqueKeyFor(i),t),console.log(a),t-a);this.sdk.addTimespentWhenJumpedOutPresentation(e,i)}};function rh(){var c=Object.create(null);function d(e,t){var i=void 0,e=(self.troikaDefine=function(e){return i=e},URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"})));try{importScripts(e)}catch(e){console.error(e)}return URL.revokeObjectURL(e),delete self.troikaDefine,i}self.addEventListener("message",function(e){var e=e.data,i=e.messageId,t=e.action,e=e.data;try{if("registerModule"===t&&!function t(e,i){var a=e.id,n=e.name;void 0===(s=e.dependencies)&&(s=[]);void 0===(r=e.init)&&(r=function(){});e=e.getTransferables;if(void 0===e&&(e=null),!c[a])try{var s=s.map(function(e){return e&&e.isWorkerModule&&(t(e,function(e){if(e instanceof Error)throw e}),e=c[e.id].value),e}),r=d("<"+n+">.init",r),e=e&&d("<"+n+">.getTransferables",e),o=null;"function"==typeof r?o=r.apply(void 0,s):console.error("worker module init function failed to rehydrate"),c[a]={id:a,value:o,getTransferables:e},i(o)}catch(e){e&&e.noLog||console.error(e),i(e)}}(e,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===t){var a,n=function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)},s=(r=e).id,r=r.args;c[s]&&"function"==typeof c[s].value||n(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var o=(a=c[s]).value.apply(a,r);o&&"function"==typeof o.then?o.then(l,function(e){return n(e instanceof Error?e:new Error(""+e))}):l(o)}catch(e){n(e)}function l(e){try{var t=c[s].getTransferables&&c[s].getTransferables(e);t&&Array.isArray(t)&&t.length||(t=void 0),n(e,t)}catch(e){console.error(e),n(e)}}}}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}function oh(a){function n(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n._getInitResult().then(function(e){if("function"==typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})}return n._getInitResult=function(){var e=a.dependencies,t=a.init,e=Array.isArray(e)?e.map(function(e){return e=e&&(e=e.onMainThread||e)._getInitResult?e._getInitResult():e}):[],i=Promise.all(e).then(function(e){return t.apply(null,e)});return n._getInitResult=function(){return i},i},n}var lh=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return lh=function(){return e},e},ch=0,dh=0,ph=!1,uh=Object.create(null),hh=Object.create(null),mh=Object.create(null);function fh(e){var t,i,a,n,s,r,o,l;if(e&&"function"==typeof e.init||ph)return l=e.dependencies,t=e.init,i=e.getTransferables,a=e.workerId,n=oh(e),null==a&&(a="#default"),s="workerModule"+ ++ch,r=e.name||s,o=null,l=l&&l.map(function(e){return"function"!=typeof e||e.workerModuleData||(ph=!0,e=fh({workerId:a,name:"<"+r+"> function dependency: "+e.name,init:"function(){return (\n"+gh(e)+"\n)}"}),ph=!1),e=e&&e.workerModuleData?e.workerModuleData:e}),c.workerModuleData={isWorkerModule:!0,id:s,name:r,dependencies:l,init:gh(t),getTransferables:i&&gh(i)},c.onMainThread=n,c;throw new Error("requires `options.init` function");function c(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];return lh()?(o||(o=_h(a,"registerModule",c.workerModuleData),e=function(){o=null,hh[a].delete(e)},(hh[a]||(hh[a]=new Set)).add(e)),o.then(function(e){if(e.isCallable)return _h(a,"callModule",{id:s,args:t});throw new Error("Worker module function was called but `init` did not return a callable function")})):n.apply(void 0,t)}}function gh(e){e=e.toString();return e=!/^function/.test(e)&&/^\w+\s*\(/.test(e)?"function "+e:e}function _h(r,o,l){return new Promise(function(t,i){var e,a,n,s=++dh;mh[s]=function(e){e.success?t(e.result):i(new Error("Error in worker "+o+" call: "+e.error))},(n=uh[e=r])||(a=gh(rh),(n=uh[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+a+")()"],{type:"application/javascript"})))).onmessage=function(e){var e=e.data,t=e.messageId,i=mh[t];if(!i)throw new Error("WorkerModule response with empty or unknown messageId");delete mh[t],i(e)}),n.postMessage({messageId:s,action:o,data:l})})}function yh(){var e,b,p,u,h,t,d,v,x,S,w,m,r,o,l,f;function i(e,t){for(var i,a,n,s,r,o=/([MLQCZ])([^MLQCZ]*)/g;i=o.exec(e);){var l=i[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(i[1]){case"M":s=a=l[0],r=n=l[1];break;case"L":l[0]===s&&l[1]===r||t("L",s,r,s=l[0],r=l[1]);break;case"Q":t("Q",s,r,s=l[2],r=l[3],l[0],l[1]);break;case"C":t("C",s,r,s=l[4],r=l[5],l[0],l[1],l[2],l[3]);break;case"Z":s===a&&r===n||t("L",s,r,a,n)}}}function T(e,E,z){void 0===z&&(z=16);var k={x:0,y:0};i(e,function(e,t,i,a,n,s,r,o,l){switch(e){case"L":E(t,i,a,n);break;case"Q":for(var c=t,d=i,p=1;p<z;p++)S=i,w=r,T=n,I=void 0,I=1-(A=p/(z-1)),(M=k).x=I*I*t+2*I*A*s+A*A*a,M.y=I*I*S+2*I*A*w+A*A*T,E(c,d,k.x,k.y),c=k.x,d=k.y;break;case"C":for(var u=t,h=i,m=1;m<z;m++)f=i,g=r,_=l,y=n,x=void 0,x=1-(b=m/(z-1)),(v=k).x=x*x*x*t+3*x*x*b*s+3*x*b*b*o+b*b*b*a,v.y=x*x*x*f+3*x*x*b*g+3*x*b*b*_+b*b*b*y,E(u,h,k.x,k.y),u=k.x,h=k.y}var f,g,_,y,b,v,x,S,w,T,A,M,I})}function A(e,t){var l,i,s,a,n,r,c=e.getContext?e.getContext("webgl",h):e,e=u.get(c);function d(e){var t=i[e];if(t=t||(i[e]=c.getExtension(e)))return t;throw new Error(e+" not supported")}function p(e,t){t=c.createShader(t);return c.shaderSource(t,e),c.compileShader(t),t}function o(){i={},s={},a={},n=-1,r.length=0}e||(l="undefined"!=typeof WebGL2RenderingContext&&c instanceof WebGL2RenderingContext,i={},s={},a={},n=-1,r=[],c.canvas.addEventListener("webglcontextlost",function(e){o(),e.preventDefault()},!1),u.set(c,e={gl:c,isWebGL2:l,getExtension:d,withProgram:function(e,t,i,a){var r,n,o;s[e]||(r={},n={},o=c.createProgram(),c.attachShader(o,p(t,c.VERTEX_SHADER)),c.attachShader(o,p(i,c.FRAGMENT_SHADER)),c.linkProgram(o),s[e]={program:o,transaction:function(e){c.useProgram(o),e({setUniform:function(e,t){for(var i=[],a=arguments.length-2;0<a--;)i[a]=arguments[a+2];t=n[t]||(n[t]=c.getUniformLocation(o,t));c["uniform"+e].apply(c,[t].concat(i))},setAttribute:function(e,t,i,a,n){var s=(s=r[e])||(r[e]={buf:c.createBuffer(),loc:c.getAttribLocation(o,e),data:null});c.bindBuffer(c.ARRAY_BUFFER,s.buf),c.vertexAttribPointer(s.loc,t,c.FLOAT,!1,0,0),c.enableVertexAttribArray(s.loc),l?c.vertexAttribDivisor(s.loc,a):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(s.loc,a),n!==s.data&&(c.bufferData(c.ARRAY_BUFFER,n,i),s.data=n)}})}}),s[e].transaction(a)},withTexture:function(e,t){n++;try{c.activeTexture(c.TEXTURE0+n);var i=a[e];i||(i=a[e]=c.createTexture(),c.bindTexture(c.TEXTURE_2D,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST)),c.bindTexture(c.TEXTURE_2D,i),t(i,n)}finally{n--}},withTextureFramebuffer:function(e,t,i){var a=c.createFramebuffer();r.push(a),c.bindFramebuffer(c.FRAMEBUFFER,a),c.activeTexture(c.TEXTURE0+t),c.bindTexture(c.TEXTURE_2D,e),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,e,0);try{i(a)}finally{c.deleteFramebuffer(a),c.bindFramebuffer(c.FRAMEBUFFER,r[--r.length-1]||null)}},handleContextLoss:o})),t(e)}function g(e,n,s,r,o,l,c,d){void 0===c&&(c=15),void 0===d&&(d=null),A(e,function(e){var a=e.gl,t=e.withProgram;(0,e.withTexture)("copy",function(e,i){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,o,l,0,a.RGBA,a.UNSIGNED_BYTE,n),t("copy",b,p,function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,a.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",i),a.bindFramebuffer(a.FRAMEBUFFER,d||null),a.disable(a.BLEND),a.colorMask(8&c,4&c,2&c,1&c),a.viewport(s,r,o,l),a.scissor(s,r,o,l),a.drawArrays(a.TRIANGLES,0,3)})})})}function _(e,t,i,a,n,s){void 0===s&&(s=1);var r=new Uint8Array(e*t),o=a[2]-a[0],l=a[3]-a[1],c=[];T(i,function(e,t,i,a){c.push({x1:e,y1:t,x2:i,y2:a,minX:Math.min(e,i),minY:Math.min(t,a),maxX:Math.max(e,i),maxY:Math.max(t,a)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var d=0;d<e;d++)for(var p=0;p<t;p++){var u=function(e,t){for(var i=1/0,a=1/0,n=c.length;n--;){var s=c[n];if(s.maxX+a<=e)break;e+a>s.minX&&t-a<s.maxY&&t+a>s.minY&&(s=function(e,t,i,a,n,s){var n=n-i,s=s-a,r=n*n+s*s,r=r?Math.max(0,Math.min(1,((e-i)*n+(t-a)*s)/r)):0,e=e-(i+r*n),i=t-(a+r*s);return e*e+i*i}(e,t,s.x1,s.y1,s.x2,s.y2))<i&&(i=s,a=Math.sqrt(i))}!function(e,t){for(var i=0,a=c.length;a--;){var n=c[a];if(n.maxX<=e)break;n.y1>t!=n.y2>t&&e<(n.x2-n.x1)*(t-n.y1)/(n.y2-n.y1)+n.x1&&(i+=n.y1<n.y2?1:-1)}return 0!==i}(e,t)||(a=-a);return a}(a[0]+o*(d+.5)/e,a[1]+l*(p+.5)/t),h=Math.pow(1-Math.abs(u)/n,s)/2;u<0&&(h=1-h),h=Math.max(0,Math.min(255,Math.round(255*h))),r[p*e+d]=h}return r}function y(e,t,i,a,n,s,r,o,l,c){M(e,t,i,a,n,s=void 0===s?1:s,r,null,o=void 0===o?0:o,l=void 0===l?0:l,c=void 0===c?0:c)}function M(e,t,i,a,n,s,r,o,l,c,d){void 0===l&&(l=0),void 0===c&&(c=0),void 0===d&&(d=0);for(var p=_(e,t,i,a,n,s=void 0===s?1:s),u=new Uint8Array(4*p.length),h=0;h<p.length;h++)u[4*h+d]=p[h];g(r,u,l,c,e,t,1<<3-d,o)}function I(e){if(!r&&!a(e))throw new Error("WebGL generation not supported")}function c(n,s,r,o,l,c,e){if(void 0===c&&(c=1),!(e=void 0===e?null:e)&&!(e=m)){var t="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!t)throw new Error("OffscreenCanvas or DOM canvas not supported");e=m=t.getContext("webgl",{depth:!1})}I(e);for(var d=new Uint8Array(n*s*4),i=(A(e,function(e){var i=e.gl,t=e.withTexture,a=e.withTextureFramebuffer;t("readable",function(e,t){i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n,s,0,i.RGBA,i.UNSIGNED_BYTE,null),a(e,t,function(e){z(n,s,r,o,l,c,i,e,0,0,0),i.readPixels(0,0,n,s,i.RGBA,i.UNSIGNED_BYTE,d)})})}),new Uint8Array(n*s)),a=0,p=0;a<d.length;a+=4)i[p++]=d[a];return i}function E(e,t,i,a,n,s,r,o,l,c){z(e,t,i,a,n,s=void 0===s?1:s,r,null,o=void 0===o?0:o,l=void 0===l?0:l,c=void 0===c?0:c)}function z(d,p,e,u,h,m,t,a,f,g,_){void 0===m&&(m=1),void 0===f&&(f=0),void 0===g&&(g=0),void 0===_&&(_=0),I(t);var y=[];T(e,function(e,t,i,a){y.push(e,t,i,a)}),y=new Float32Array(y),A(t,function(e){var r=e.gl,o=e.isWebGL2,l=e.getExtension,t=e.withProgram,i=e.withTexture,c=e.withTextureFramebuffer,e=e.handleContextLoss;if(i("rawDistances",function(n,s){d===n._lastWidth&&p===n._lastHeight||r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n._lastWidth=d,n._lastHeight=p,0,r.RGBA,r.UNSIGNED_BYTE,null),t("main",v,x,function(e){var t=e.setAttribute,e=e.setUniform,i=!o&&l("ANGLE_instanced_arrays"),a=!o&&l("EXT_blend_minmax");t("aUV",2,r.STATIC_DRAW,0,w),t("aLineSegment",4,r.DYNAMIC_DRAW,1,y),e.apply(void 0,["4f","uGlyphBounds"].concat(u)),e("1f","uMaxDistance",h),e("1f","uExponent",m),c(n,s,function(e){r.enable(r.BLEND),r.colorMask(!0,!0,!0,!0),r.viewport(0,0,d,p),r.scissor(0,0,d,p),r.blendFunc(r.ONE,r.ONE),r.blendEquationSeparate(r.FUNC_ADD,o?r.MAX:a.MAX_EXT),r.clear(r.COLOR_BUFFER_BIT),o?r.drawArraysInstanced(r.TRIANGLES,0,3,y.length/4):i.drawArraysInstancedANGLE(r.TRIANGLES,0,3,y.length/4)})}),t("post",b,S,function(e){e.setAttribute("aUV",2,r.STATIC_DRAW,0,w),e.setUniform("1i","tex",s),r.bindFramebuffer(r.FRAMEBUFFER,a),r.disable(r.BLEND),r.colorMask(0===_,1===_,2===_,3===_),r.viewport(f,g,d,p),r.scissor(f,g,d,p),r.drawArrays(r.TRIANGLES,0,3)})}),r.isContextLost())throw e(),new Error("webgl context lost")})}function a(e){var t=e&&e!==m?e.canvas||e:o;if(void 0===(a=l.get(t))){r=!0;var i=null;try{var a,n=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],s=c(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(a=s&&n.length===s.length&&s.every(function(e,t){return e===n[t]}))||(i="bad trial run results",console.info(n,s))}catch(e){a=!1,i=e.message}i&&console.warn("WebGL SDF generation not supported:",i),r=!1,l.set(t,a)}return a}return e={},b="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",p="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1},t=Object.freeze({__proto__:null,withWebGLContext:A,renderImageData:g,resizeWebGLCanvasWithoutClearing:function(i,a,n){var s=i.width,r=i.height;A(i,function(e){var e=e.gl,t=new Uint8Array(s*r*4);e.readPixels(0,0,s,r,e.RGBA,e.UNSIGNED_BYTE,t),i.width=a,i.height=n,g(e,t,0,0,s,r)})}}),d=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:y,generateIntoFramebuffer:M}),v="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",x="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",S="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",w=new Float32Array([0,0,2,0,0,2]),m=null,r=!1,o={},l=new WeakMap,f=Object.freeze({__proto__:null,generate:c,generateIntoCanvas:E,generateIntoFramebuffer:z,isSupported:a}),e.forEachPathCommand=i,e.generate=function(e,t,i,a,n,s){void 0===n&&(n=Math.max(a[2]-a[0],a[3]-a[1])/2),void 0===s&&(s=1);try{return c.apply(f,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),_.apply(d,arguments)}},e.generateIntoCanvas=function(e,t,i,a,n,s,r,o,l,c){void 0===n&&(n=Math.max(a[2]-a[0],a[3]-a[1])/2),void 0===s&&(s=1),void 0===o&&(o=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return E.apply(f,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),y.apply(d,arguments)}},e.javascript=d,e.pathToLineSegments=T,e.webgl=f,e.webglUtils=t,Object.defineProperty(e,"__esModule",{value:!0}),e}function bh(){var e,t,r,i,st,rt,ot,lt,ct,o,a,d,p,n,dt,pt,ut,ht,mt,ft,gt,_t,Dt,yt,Ct,bt,vt,xt,St,wt,Tt,At,Pt,Mt,Rt,It,s,u;function h(){if(!o){o=new Map;for(var e in t)!function(n){var s;t.hasOwnProperty(n)&&(s=0,t[n].split(",").forEach(function(e){var e=e.split("+"),t=e[0],i=e[1],t=parseInt(t,36),i=i?parseInt(i,36):0;o.set(s+=t,r[n]);for(var a=0;a<i;a++)o.set(++s,r[n])}))}(e)}}function Et(e){return h(),o.get(e.codePointAt(0))||r.L}function l(e,n){var s,r=0,o=new Map,l=n&&new Map;return e.split(",").forEach(function e(t){if(-1!==t.indexOf("+"))for(var i=+t;i--;)e(s);else{var t=(s=t).split(">"),a=t[0],t=t[1],a=String.fromCodePoint(r+=parseInt(a,36)),t=String.fromCodePoint(r+=parseInt(t,36));o.set(a,t),n&&l.set(t,a)}}),{map:o,reverseMap:l}}function c(){var e,t;a||(e=(t=l(n.pairs,!0)).map,t=t.reverseMap,a=e,d=t,p=l(n.canonical,!1).map)}function zt(e){return c(),a.get(e)||null}function kt(e){return c(),d.get(e)||null}function Lt(e){return c(),p.get(e)||null}function m(e){var t,i;return s||(t=l(u,!0),i=t.map,t.reverseMap.forEach(function(e,t){i.set(t,e)}),s=i),s.get(e)||null}function f(u,h,m,f){var e=u.length,g=(m=Math.max(0,null==m?0:+m),f=Math.min(e-1,null==f?e-1:+f),[]);return h.paragraphs.forEach(function(e){var t=Math.max(m,e.start),i=Math.min(f,e.end);if(t<i){for(var a=h.levels.slice(t,i+1),n=i;t<=n&&Et(u[n])&ct;n--)a[n]=e.level;for(var s=e.level,r=1/0,o=0;o<a.length;o++){var l=a[o];s<l&&(s=l),l<r&&(r=1|l)}for(var c=s;r<=c;c--)for(var d=0;d<a.length;d++)if(a[d]>=c){for(var p=d;d+1<a.length&&a[d+1]>=c;)d++;p<d&&g.push([p+t,d+t])}}}),g}function g(e,t,i,a){for(var t=f(e,t,i,a),s=[],n=0;n<e.length;n++)s[n]=n;return t.forEach(function(e){for(var t=e[0],i=e[1],a=s.slice(t,i+1),n=a.length;n--;)s[i-n]=a[n]}),s}return e={},t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={L:1},i={1:"L"},Object.keys(t).forEach(function(e,t){r[e]=1<<t+1,i[r[e]]=e}),Object.freeze(r),st=r.LRI|r.RLI|r.FSI,rt=r.L|r.R|r.AL,ot=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,lt=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,ct=r.S|r.WS|r.B|st|r.PDI|lt,o=null,n={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"},dt=r.L,pt=r.R,ut=r.EN,ht=r.ES,mt=r.ET,ft=r.AN,gt=r.CS,_t=r.B,Dt=r.S,yt=r.ON,Ct=r.BN,bt=r.NSM,vt=r.AL,xt=r.LRO,St=r.RLO,wt=r.LRE,Tt=r.RLE,At=r.PDF,Pt=r.LRI,Mt=r.RLI,Rt=r.FSI,It=r.PDI,u="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",e.closingToOpeningBracket=kt,e.getBidiCharType=Et,e.getBidiCharTypeName=function(e){return i[Et(e)]},e.getCanonicalBracket=Lt,e.getEmbeddingLevels=function(n,O){for(var s=new Uint32Array(n.length),N=0;N<n.length;N++)s[N]=Et(n[N]);var a=new Map;function e(e,t){var i=s[e];s[e]=t,a.set(i,a.get(i)-1),i&ot&&a.set(ot,a.get(ot)-1),a.set(t,(a.get(t)||0)+1),t&ot&&a.set(ot,(a.get(ot)||0)+1)}for(var t=new Uint8Array(n.length),j=new Map,F=[],i=null,r=0;r<n.length;r++)i||F.push(i={start:r,end:n.length-1,level:"rtl"===O?1:"ltr"===O?0:nt(r,!1)}),s[r]&_t&&(i.end=r,i=null);for(var U=Tt|wt|St|xt|st|It|At|_t,B=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},G=0;G<F.length;G++){var o=[{_level:(i=F[G]).level,_override:0,_isolate:0}],l=void 0,c=0,d=0,H=0;a.clear();for(var p=i.start;p<=i.end;p++){var u=s[p],l=o[o.length-1];if(a.set(u,(a.get(u)||0)+1),u&ot&&a.set(ot,(a.get(ot)||0)+1),u&U)if(u&(Tt|wt)){t[p]=l._level;var h=(u===Tt?V:B)(l._level);h<=125&&!c&&!d?o.push({_level:h,_override:0,_isolate:0}):c||d++}else if(u&(St|xt)){t[p]=l._level;h=(u===St?V:B)(l._level);h<=125&&!c&&!d?o.push({_level:h,_override:u&St?pt:dt,_isolate:0}):c||d++}else if(u&st){u&Rt&&(u=1===nt(p+1,!0)?Mt:Pt),t[p]=l._level,l._override&&e(p,l._override);var m=(u===Mt?V:B)(l._level);m<=125&&0===c&&0===d?(H++,o.push({_level:m,_override:0,_isolate:1,_isolInitIndex:p})):c++}else if(u&It){if(0<c)c--;else if(0<H){for(d=0;!o[o.length-1]._isolate;)o.pop();m=o[o.length-1]._isolInitIndex;null!=m&&(j.set(m,p),j.set(p,m)),o.pop(),H--}l=o[o.length-1],t[p]=l._level,l._override&&e(p,l._override)}else u&At?(0===c&&(0<d?d--:!l._isolate&&1<o.length&&(o.pop(),l=o[o.length-1])),t[p]=l._level):u&_t&&(t[p]=i.level);else t[p]=l._level,l._override&&u!==Ct&&e(p,l._override)}for(var f=[],g=null,_=i.start;_<=i.end;_++){var W,q,y=s[_];y&lt||(W=t[_],q=y&st,y=y===It,g&&W===g._level?(g._end=_,g._endsWithIsolInit=q):f.push(g={_start:_,_end:_,_level:W,_startsWithPDI:y,_endsWithIsolInit:q}))}for(var X=[],Y=0;Y<f.length;Y++){var b=f[Y];if(!b._startsWithPDI||b._startsWithPDI&&!j.has(b._start)){for(var J=[g=b],K=void 0;g&&g._endsWithIsolInit&&null!=(K=j.get(g._end));)for(var Z=Y+1;Z<f.length;Z++)if(f[Z]._start===K){J.push(g=f[Z]);break}for(var v=[],$=0;$<J.length;$++)for(var Q=J[$],ee=Q._start;ee<=Q._end;ee++)v.push(ee);for(var b=t[v[0]],te=i.level,ie=v[0]-1;0<=ie;ie--)if(!(s[ie]&lt)){te=t[ie];break}var ae=v[v.length-1],ne=t[ae],se=i.level;if(!(s[ae]&st))for(var re=ae+1;re<=i.end;re++)if(!(s[re]&lt)){se=t[re];break}X.push({_seqIndices:v,_sosType:Math.max(te,b)%2?pt:dt,_eosType:Math.max(se,ne)%2?pt:dt})}}for(var oe=0;oe<X.length;oe++){var le=X[oe],x=le._seqIndices,S=le._sosType,ce=le._eosType,w=1&t[x[0]]?pt:dt;if(a.get(bt))for(var de=0;de<x.length;de++){var pe=x[de];if(s[pe]&bt){for(var ue=S,he=de-1;0<=he;he--)if(!(s[x[he]]&lt)){ue=s[x[he]];break}e(pe,ue&(st|It)?yt:ue)}}if(a.get(ut))for(var me=0;me<x.length;me++){var fe=x[me];if(s[fe]&ut)for(var ge=me-1;-1<=ge;ge--){var _e=-1===ge?S:s[x[ge]];if(_e&rt){_e===vt&&e(fe,ft);break}}}if(a.get(vt))for(var ye=0;ye<x.length;ye++){var be=x[ye];s[be]&vt&&e(be,pt)}if(a.get(ht)||a.get(gt))for(var T=1;T<x.length-1;T++){var ve=x[T];if(s[ve]&(ht|gt)){for(var A=0,xe=0,Se=T-1;0<=Se&&(A=s[x[Se]])&lt;Se--);for(var we=T+1;we<x.length&&(xe=s[x[we]])&lt;we++);A===xe&&(s[ve]===ht?A===ut:A&(ut|ft))&&e(ve,A)}}if(a.get(ut))for(var M=0;M<x.length;M++){var Te=x[M];if(s[Te]&ut){for(var Ae=M-1;0<=Ae&&s[x[Ae]]&(mt|lt);Ae--)e(x[Ae],ut);for(M++;M<x.length&&s[x[M]]&(mt|lt|ut);M++)s[x[M]]!==ut&&e(x[M],ut)}}if(a.get(mt)||a.get(ht)||a.get(gt))for(var I=0;I<x.length;I++){var Me=x[I];if(s[Me]&(mt|ht|gt)){e(Me,yt);for(var Ie=I-1;0<=Ie&&s[x[Ie]]&lt;Ie--)e(x[Ie],yt);for(var Ee=I+1;Ee<x.length&&s[x[Ee]]&lt;Ee++)e(x[Ee],yt)}}if(a.get(ut))for(var ze=0,ke=S;ze<x.length;ze++){var De=x[ze],Ce=s[De];Ce&ut?ke===dt&&e(De,dt):Ce&rt&&(ke=Ce)}if(a.get(ot)){for(var E=pt|ut|ft,Pe=E|dt,Re=[],z=[],k=0;k<x.length;k++)if(s[x[k]]&ot){var Le,D=n[x[k]];if(null!==zt(D)){if(!(z.length<63))break;z.push({char:D,seqIndex:k})}else if(null!==(Le=kt(D)))for(var C=z.length-1;0<=C;C--){var Oe=z[C].char;if(Oe===Le||Oe===kt(Lt(D))||zt(Lt(Oe))===D){Re.push([z[C].seqIndex,k]),z.length=C;break}}}Re.sort(function(e,t){return e[0]-t[0]});for(var Ne=0;Ne<Re.length;Ne++){for(var je=Re[Ne],Fe=je[0],Ue=je[1],Be=!1,P=0,Ve=Fe+1;Ve<Ue;Ve++){var Ge=x[Ve];if(s[Ge]&Pe){Be=!0,Ge=s[Ge]&E?pt:dt;if(Ge===w){P=Ge;break}}}if(Be&&!P){P=S;for(var He=Fe-1;0<=He;He--){var We=x[He];if(s[We]&Pe){We=s[We]&E?pt:dt,P=We!==w?We:w;break}}}if(P){if((s[x[Fe]]=s[x[Ue]]=P)!==w)for(var qe=Fe+1;qe<x.length;qe++)if(!(s[x[qe]]&lt)){Et(n[x[qe]])&bt&&(s[x[qe]]=P);break}if(P!==w)for(var Xe=Ue+1;Xe<x.length;Xe++)if(!(s[x[Xe]]&lt)){Et(n[x[Xe]])&bt&&(s[x[Xe]]=P);break}}}for(var R=0;R<x.length;R++)if(s[x[R]]&ot){for(var Ye=R,Je=R,Ke=S,Ze=R-1;0<=Ze;Ze--){if(!(s[x[Ze]]&lt)){Ke=s[x[Ze]]&E?pt:dt;break}Ye=Ze}for(var $e=ce,Qe=R+1;Qe<x.length;Qe++){if(!(s[x[Qe]]&(ot|lt))){$e=s[x[Qe]]&E?pt:dt;break}Je=Qe}for(var et=Ye;et<=Je;et++)s[x[et]]=Ke===$e?Ke:w;R=Je}}}for(var L=i.start;L<=i.end;L++){var tt=t[L],it=s[L];if(1&tt?it&(dt|ut|ft)&&t[L]++:it&pt?t[L]++:it&(ft|ut)&&(t[L]+=2),it&lt&&(t[L]=0===L?i.level:t[L-1]),L===i.end||Et(n[L])&(Dt|_t))for(var at=L;0<=at&&Et(n[at])&ct;at--)t[at]=i.level}}return{levels:t,paragraphs:F};function nt(e,t){for(var i=e;i<n.length;i++){var a=s[i];if(a&(pt|vt))return 1;if(a&(_t|dt)||t&&a===It)return 0;a&st&&(i=-1===(a=function(e){for(var t=1,i=e+1;i<n.length;i++){var a=s[i];if(a&_t)break;if(a&It){if(0==--t)return i}else a&st&&t++}return-1}(i))?n.length:a)}return 0}},e.getMirroredCharacter=m,e.getMirroredCharactersMap=function(e,t,i,a){for(var n,s=e.length,r=(i=Math.max(0,null==i?0:+i),a=Math.min(s-1,null==a?s-1:+a),new Map),o=i;o<=a;o++)1&t[o]&&null!==(n=m(e[o]))&&r.set(o,n);return r},e.getReorderSegments=f,e.getReorderedIndices=g,e.getReorderedString=function(i,a,e,t){var e=g(i,a,e,t),n=[].concat(i);return e.forEach(function(e,t){n[t]=(1&a.levels[e]?m(i[e]):null)||i[e]}),n.join("")},e.openingToClosingBracket=zt,Object.defineProperty(e,"__esModule",{value:!0}),e}const vh=/\bvoid\s+main\s*\(\s*\)\s*{/g;function xh(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){return(t=A[t])?xh(t):e})}const Sh=[];for(let e=0;e<256;e++)Sh[e]=(e<16?"0":"")+e.toString(16);const wh=Object.assign||function(){var i=arguments[0];for(let e=1,t=arguments.length;e<t;e++){var a=arguments[e];if(a)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i[n]=a[n])}return i},Th=Date.now(),Ah=new WeakMap,Mh=new Map;let Ih=1e10;function Eh(r,o){const l=function(e){e=JSON.stringify(e,kh);let t=Ch.get(e);null==t&&Ch.set(e,t=++Dh);return t}(o);let e=Ah.get(r);if(e||Ah.set(r,e=Object.create(null)),e[l])return new e[l];function t(e,t){r.onBeforeCompile.call(this,e,t);var i,t=this.customProgramCacheKey()+"|"+e.vertexShader+"|"+e.fragmentShader;let a=Mh[t];a||(i=function(e,{vertexShader:t,fragmentShader:i},a,n){let{vertexDefs:s,vertexMainIntro:r,vertexMainOutro:o,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:d,fragmentMainOutro:p,fragmentColorTransform:u,customRewriter:h,timeUniform:m}=a;s=s||"",r=r||"",o=o||"",c=c||"",d=d||"",p=p||"",(l||h)&&(t=xh(t));(u||h)&&(i=xh(i=i.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));h&&(a=h({vertexShader:t,fragmentShader:i}),t=a.vertexShader,i=a.fragmentShader);if(u){let t=[];i=i.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,e=>(t.push(e),"")),p=`${u}
${t.join("\n")}
`+p}m&&(a=`
uniform float ${m};
`,s=a+s,c=a+c);l&&(t=`vec3 troika_position_${n};
vec3 troika_normal_${n};
vec2 troika_uv_${n};
${t}
`,s+=`
void troikaVertexTransform${n}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,r=`
troika_position_${n} = vec3(position);
troika_normal_${n} = vec3(normal);
troika_uv_${n} = vec2(uv);
troikaVertexTransform${n}(troika_position_${n}, troika_normal_${n}, troika_uv_${n});
${r}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,i,a)=>/\battribute\s+vec[23]\s+$/.test(a.substr(0,i))?t:`troika_${t}_`+n),e.map&&0<e.map.channel||(t=t.replace(/\bMAP_UV\b/g,"troika_uv_"+n)));return t=zh(t,n,s,r,o),i=zh(i,n,c,d,p),{vertexShader:t,fragmentShader:i}}(this,e,o,l),a=Mh[t]=i),e.vertexShader=a.vertexShader,e.fragmentShader=a.fragmentShader,wh(e.uniforms,this.uniforms),o.timeUniform&&(e.uniforms[o.timeUniform]={get value(){return Date.now()-Th}}),this[n]&&this[n](e)}const n="_onBeforeCompile"+l;function i(){return a(o.chained?r:r.clone())}function a(e){var t,i,a,n,s=Object.create(e,c);return Object.defineProperty(s,"baseMaterial",{value:r}),Object.defineProperty(s,"id",{value:Ih++}),s.uuid=(t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,a=4294967295*Math.random()|0,n=4294967295*Math.random()|0,(Sh[255&t]+Sh[t>>8&255]+Sh[t>>16&255]+Sh[t>>24&255]+"-"+Sh[255&i]+Sh[i>>8&255]+"-"+Sh[i>>16&15|64]+Sh[i>>24&255]+"-"+Sh[63&a|128]+Sh[a>>8&255]+"-"+Sh[a>>16&255]+Sh[a>>24&255]+Sh[255&n]+Sh[n>>8&255]+Sh[n>>16&255]+Sh[n>>24&255]).toUpperCase()),s.uniforms=wh({},e.uniforms,o.uniforms),s.defines=wh({},e.defines,o.defines),s.defines["TROIKA_DERIVED_MATERIAL_"+l]="",s.extensions=wh({},e.extensions,o.extensions),s._listeners=void 0,s}const c={constructor:{value:i},isDerivedMaterial:{value:!0},type:{get:()=>r.type,set:e=>{r.type=e}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){var t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return r.customProgramCacheKey()+"|"+l}},onBeforeCompile:{get(){return t},set(e){this[n]=e}},copy:{writable:!0,configurable:!0,value:function(e){return r.copy.call(this,e),r.isShaderMaterial||r.isDerivedMaterial||(wh(this.extensions,e.extensions),wh(this.defines,e.defines),wh(this.uniforms,Cn.clone(e.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var e=new r.constructor;return a(e).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let e=this._depthMaterial;return e||((e=this._depthMaterial=Eh(r.isDerivedMaterial?r.getDepthMaterial():new no({depthPacking:Bt}),o)).defines.IS_DEPTH_MATERIAL="",e.uniforms=this.uniforms),e}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let e=this._distanceMaterial;return e||((e=this._distanceMaterial=Eh(r.isDerivedMaterial?r.getDistanceMaterial():new so,o)).defines.IS_DISTANCE_MATERIAL="",e.uniforms=this.uniforms),e}},dispose:{writable:!0,configurable:!0,value(){var{_depthMaterial:e,_distanceMaterial:t}=this;e&&e.dispose(),t&&t.dispose(),r.dispose.call(this)}}};return new(e[l]=i)}function zh(e,t,i,a,n){return(a||n||i)&&(e=e.replace(vh,`
${i}
void troikaOrigMain${t}() {`),e+=`
void main() {
  ${a}
  troikaOrigMain${t}();
  ${n}
}`),e}function kh(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let Dh=0;const Ch=new Map;We;(class extends P{});pl=fh({name:"FontResolver",dependencies:[function(o,s){const f=Object.create(null),l=Object.create(null);function g(e,t){var i=f[e];if(i)t(i);else if(l[e])l[e].push(t);else{l[e]=[t];{var a=e,n=t=>{t.src=e,f[e]=t,l[e].forEach(e=>e(t)),delete l[e]};const s=e=>{console.error("Failure loading font "+a,e)};try{const r=new XMLHttpRequest;r.open("get",a,!0),r.responseType="arraybuffer",r.onload=function(){if(400<=r.status)s(new Error(r.statusText));else if(0<r.status)try{var e=o(r.response);e.src=a,n(e)}catch(e){s(e)}},r.onerror=s,r.send()}catch(e){s(e)}}}}return function(l,e,{lang:t,fonts:c=[],style:i="normal",weight:a="normal",unicodeFontsURL:n}={}){const d=new Uint8Array(l.length),p=[],u=(l.length||o(),new Map),h=[];if("italic"!==i&&(i="normal"),"number"!=typeof a&&(a="bold"===a?700:400),(c=(c=c&&!Array.isArray(c)?[c]:c).slice().filter(e=>!e.lang||e.lang.test(t)).reverse()).length){let o=0;!function a(t=0){for(let i=t,e=l.length;i<e;i++){var n=l.codePointAt(i);if(1===o&&p[d[i-1]].supportsCodePoint(n)||0<i&&/\s/.test(l[i]))d[i]=d[i-1],2===o&&(h[h.length-1][1]=i);else for(let e=d[i],t=c.length;e<=t;e++)if(e===t)(2===o?h[h.length-1]:h[h.length]=[i,i])[1]=i,o=2;else{d[i]=e;var{src:s,unicodeRange:r}=c[e];if(!r||function(t,i){for(let e=0;e<i.length;e++){var[a,n=a]=i[e];if(a<=t&&t<=n)return 1}return}(n,r)){r=f[s];if(!r)return void g(s,()=>{a(i)});if(r.supportsCodePoint(n)){let e=u.get(r);"number"!=typeof e&&(e=p.length,p.push(r),u.set(r,e)),d[i]=e,o=1;break}}}65535<n&&i+1<e&&(d[i+1]=d[i],i++,2===o)&&(h[h.length-1][1]=i)}m()}()}else h.push([0,l.length-1]),m();function m(){var e;h.length?(e=h.map(e=>l.substring(e[0],e[1]+1)).join("\n"),s.getFontsForString(e,{lang:t||void 0,style:i,weight:a,dataUrl:n}).then(({fontUrls:i,chars:a})=>{const n=p.length;let s=0,r=(h.forEach(i=>{for(let e=0,t=i[1]-i[0];e<=t;e++)d[i[0]+e]=a[s++]+n;s++}),0);i.forEach((e,t)=>{g(e,e=>{p[t+n]=e,++r===i.length&&o()})})})):o()}function o(){e({chars:d,fonts:p})}}},fh({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),e={},(L={parse:function(e){var t=L._bin,i=new Uint8Array(e);if("ttcf"!=t.readASCII(i,0,4))return[L._readFont(i,0)];var a=4,n=(t.readUshort(i,a),t.readUshort(i,a+=2),t.readUint(i,a+=2));a+=4;for(var s=[],r=0;r<n;r++){var o=t.readUint(i,a);a+=4,s.push(L._readFont(i,o))}return s},_readFont:function(e,t){var i=L._bin,a=t,n=(i.readFixed(e,t),i.readUshort(e,t+=4));i.readUshort(e,t+=2),i.readUshort(e,t+=2),i.readUshort(e,t+=2),t+=2;for(var s=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],r={_data:e,_offset:a},o={},l=0;l<n;l++){var c=i.readASCII(e,t,4),d=(t+=4,i.readUint(e,t),t+=4,i.readUint(e,t)),p=(t+=4,i.readUint(e,t));t+=4,o[c]={offset:d,length:p}}for(l=0;l<s.length;l++){var u=s[l];o[u]&&(r[u.trim()]=L[u.trim()].parse(e,o[u].offset,o[u].length,r))}return r},_tabOffset:function(e,t,i){for(var a=L._bin,n=a.readUshort(e,i+4),s=i+12,r=0;r<n;r++){var o=a.readASCII(e,s,4),l=(s+=4,a.readUint(e,s),s+=4,a.readUint(e,s));if(s+=4,a.readUint(e,s),s+=4,o==t)return l}return 0}})._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,t){return L._bin.readShort(e,t)/16384},readInt:function(e,t){return L._bin._view(e).getInt32(t)},readInt8:function(e,t){return L._bin._view(e).getInt8(t)},readShort:function(e,t){return L._bin._view(e).getInt16(t)},readUshort:function(e,t){return L._bin._view(e).getUint16(t)},readUshorts:function(e,t,i){for(var a=[],n=0;n<i;n++)a.push(L._bin.readUshort(e,t+2*n));return a},readUint:function(e,t){return L._bin._view(e).getUint32(t)},readUint64:function(e,t){return 4294967296*L._bin.readUint(e,t)+L._bin.readUint(e,t+4)},readASCII:function(e,t,i){for(var a="",n=0;n<i;n++)a+=String.fromCharCode(e[t+n]);return a},readUnicode:function(e,t,i){for(var a="",n=0;n<i;n++){var s=e[t++]<<8|e[t++];a+=String.fromCharCode(s)}return a},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,t,i){var a=L._bin._tdec;return a&&0==t&&i==e.length?a.decode(e):L._bin.readASCII(e,t,i)},readBytes:function(e,t,i){for(var a=[],n=0;n<i;n++)a.push(e[t+n]);return a},readASCIIArray:function(e,t,i){for(var a=[],n=0;n<i;n++)a.push(String.fromCharCode(e[t+n]));return a},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},L._lctf={},L._lctf.parse=function(e,t,i,a,n){var s=L._bin,r={},o=t,l=(s.readFixed(e,t),s.readUshort(e,t+=4)),c=s.readUshort(e,t+=2),s=s.readUshort(e,t+=2);return t+=2,r.scriptList=L._lctf.readScriptList(e,o+l),r.featureList=L._lctf.readFeatureList(e,o+c),r.lookupList=L._lctf.readLookupList(e,o+s,n),r},L._lctf.readLookupList=function(e,t,i){var a=L._bin,n=t,s=[],r=a.readUshort(e,t);t+=2;for(var o=0;o<r;o++){var l=a.readUshort(e,t),l=(t+=2,L._lctf.readLookupTable(e,n+l,i));s.push(l)}return s},L._lctf.readLookupTable=function(e,t,i){var a=L._bin,n=t,s={tabs:[]},r=(s.ltype=a.readUshort(e,t),s.flag=a.readUshort(e,t+=2),a.readUshort(e,t+=2));t+=2;for(var o=s.ltype,l=0;l<r;l++){var c=a.readUshort(e,t),c=(t+=2,i(e,o,n+c,s));s.tabs.push(c)}return s},L._lctf.numOfOnes=function(e){for(var t=0,i=0;i<32;i++)0!=(e>>>i&1)&&t++;return t},L._lctf.readClassDef=function(e,t){var i=L._bin,a=[],n=i.readUshort(e,t);if(t+=2,1==n){var s=i.readUshort(e,t),r=i.readUshort(e,t+=2);t+=2;for(var o=0;o<r;o++)a.push(s+o),a.push(s+o),a.push(i.readUshort(e,t)),t+=2}if(2==n){var l=i.readUshort(e,t);for(t+=2,o=0;o<l;o++)a.push(i.readUshort(e,t)),a.push(i.readUshort(e,t+=2)),a.push(i.readUshort(e,t+=2)),t+=2}return a},L._lctf.getInterval=function(e,t){for(var i=0;i<e.length;i+=3){var a=e[i],n=e[i+1];if(e[i+2],a<=t&&t<=n)return i}return-1},L._lctf.readCoverage=function(e,t){var i=L._bin,a={},n=(a.fmt=i.readUshort(e,t),i.readUshort(e,t+=2));return t+=2,1==a.fmt&&(a.tab=i.readUshorts(e,t,n)),2==a.fmt&&(a.tab=i.readUshorts(e,t,3*n)),a},L._lctf.coverageIndex=function(e,t){var i=e.tab;if(1==e.fmt)return i.indexOf(t);if(2==e.fmt){e=L._lctf.getInterval(i,t);if(-1!=e)return i[e+2]+(t-i[e])}return-1},L._lctf.readFeatureList=function(e,t){var i=L._bin,a=t,n=[],s=i.readUshort(e,t);t+=2;for(var r=0;r<s;r++){var o=i.readASCII(e,t,4),l=(t+=4,i.readUshort(e,t)),l=(t+=2,L._lctf.readFeatureTable(e,a+l));l.tag=o.trim(),n.push(l)}return n},L._lctf.readFeatureTable=function(e,t){var i=L._bin,a=t,n={},s=i.readUshort(e,t),r=(t+=2,0<s&&(n.featureParams=a+s),i.readUshort(e,t));t+=2,n.tab=[];for(var o=0;o<r;o++)n.tab.push(i.readUshort(e,t+2*o));return n},L._lctf.readScriptList=function(e,t){var i=L._bin,a=t,n={},s=i.readUshort(e,t);t+=2;for(var r=0;r<s;r++){var o=i.readASCII(e,t,4),l=(t+=4,i.readUshort(e,t));t+=2,n[o.trim()]=L._lctf.readScriptTable(e,a+l)}return n},L._lctf.readScriptTable=function(e,t){var i=L._bin,a=t,n={},s=i.readUshort(e,t),r=(t+=2,0<s&&(n.default=L._lctf.readLangSysTable(e,a+s)),i.readUshort(e,t));t+=2;for(var o=0;o<r;o++){var l=i.readASCII(e,t,4),c=(t+=4,i.readUshort(e,t));t+=2,n[l.trim()]=L._lctf.readLangSysTable(e,a+c)}return n},L._lctf.readLangSysTable=function(e,t){var i=L._bin,a={},n=(i.readUshort(e,t),a.reqFeature=i.readUshort(e,t+=2),i.readUshort(e,t+=2));return a.features=i.readUshorts(e,t+=2,n),a},L.CFF={},L.CFF.parse=function(e,t,i){var a=L._bin,n=((e=new Uint8Array(e.buffer,t,i))[t=0],e[++t],e[++t],e[++t],[]);t=L.CFF.readIndex(e,++t,n);for(var s=[],r=0;r<n.length-1;r++)s.push(a.readASCII(e,t+n[r],n[r+1]-n[r]));var o=[],l=(t=L.CFF.readIndex(e,t+=n[n.length-1],o),[]);for(r=0;r<o.length-1;r++)l.push(L.CFF.readDict(e,t+o[r],t+o[r+1]));var c=l[0],d=[],p=(t=L.CFF.readIndex(e,t+=o[o.length-1],d),[]);for(r=0;r<d.length-1;r++)p.push(a.readASCII(e,t+d[r],d[r+1]-d[r]));if(t+=d[d.length-1],L.CFF.readSubrs(e,t,c),c.CharStrings){t=c.CharStrings,t=L.CFF.readIndex(e,t,d=[]);for(var u=[],r=0;r<d.length-1;r++)u.push(a.readBytes(e,t+d[r],d[r+1]-d[r]));c.CharStrings=u}if(c.ROS){t=c.FDArray;var h=[];for(t=L.CFF.readIndex(e,t,h),c.FDArray=[],r=0;r<h.length-1;r++){var m=L.CFF.readDict(e,t+h[r],t+h[r+1]);L.CFF._readFDict(e,m,p),c.FDArray.push(m)}t+=h[h.length-1],t=c.FDSelect,c.FDSelect=[];i=e[t];if(3!=i)throw i;var f=a.readUshort(e,++t);for(t+=2,r=0;r<f+1;r++)c.FDSelect.push(a.readUshort(e,t),e[t+2]),t+=3}return c.Encoding&&(c.Encoding=L.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=L.CFF.readCharset(e,c.charset,c.CharStrings.length)),L.CFF._readFDict(e,c,p),c},L.CFF._readFDict=function(e,t,i){var a,n;for(n in t.Private&&(a=t.Private[1],t.Private=L.CFF.readDict(e,a,a+t.Private[0]),t.Private.Subrs)&&L.CFF.readSubrs(e,a+t.Private.Subrs,t.Private),t)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(n)&&(t[n]=i[t[n]-426+35])},L.CFF.readSubrs=function(e,t,i){var a=L._bin,n=[];t=L.CFF.readIndex(e,t,n);var s=n.length;i.Bias=s<1240?107:s<33900?1131:32768,i.Subrs=[];for(var r=0;r<n.length-1;r++)i.Subrs.push(a.readBytes(e,t+n[r],n[r+1]-n[r]))},L.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],L.CFF.glyphByUnicode=function(e,t){for(var i=0;i<e.charset.length;i++)if(e.charset[i]==t)return i;return-1},L.CFF.glyphBySE=function(e,t){return t<0||255<t?-1:L.CFF.glyphByUnicode(e,L.CFF.tableSE[t])},L.CFF.readEncoding=function(e,t,i){L._bin;var a=[".notdef"],n=e[t];if(0!=n)throw"error: unknown encoding format: "+n;var s=e[++t];t++;for(var r=0;r<s;r++)a.push(e[t+r]);return a},L.CFF.readCharset=function(e,t,i){var a=L._bin,n=[".notdef"],s=e[t];if(t++,0==s)for(var r=0;r<i;r++){var o=a.readUshort(e,t);t+=2,n.push(o)}else{if(1!=s&&2!=s)throw"error: format: "+s;for(;n.length<i;){o=a.readUshort(e,t),t+=2;var l=0;for(1==s?(l=e[t],t++):(l=a.readUshort(e,t),t+=2),r=0;r<=l;r++)n.push(o),o++}}return n},L.CFF.readIndex=function(e,t,i){var a=L._bin,n=a.readUshort(e,t)+1,s=e[t+=2];if(t++,1==s)for(var r=0;r<n;r++)i.push(e[t+r]);else if(2==s)for(r=0;r<n;r++)i.push(a.readUshort(e,t+2*r));else if(3==s)for(r=0;r<n;r++)i.push(16777215&a.readUint(e,t+3*r-1));else if(1!=n)throw"unsupported offset size: "+s+", count: "+n;return t+n*s-1},L.CFF.getCharString=function(e,t,i){var a=L._bin,n=e[t],s=e[t+1],r=(e[t+2],e[t+3],e[t+4],1),o=null,l=null;n<=20&&(o=n,r=1),12==n&&(o=100*n+s,r=2),21<=n&&n<=27&&(o=n,r=1),28==n&&(l=a.readShort(e,t+1),r=3),29<=n&&n<=31&&(o=n,r=1),32<=n&&n<=246&&(l=n-139,r=1),247<=n&&n<=250&&(l=256*(n-247)+s+108,r=2),251<=n&&n<=254&&(l=256*-(n-251)-s-108,r=2),255==n&&(l=a.readInt(e,t+1)/65535,r=5),i.val=null!=l?l:"o"+o,i.size=r},L.CFF.readCharString=function(e,t,i){for(var a=t+i,n=L._bin,s=[];t<a;){var r=e[t],o=e[t+1],l=(e[t+2],e[t+3],e[t+4],1),c=null,d=null;r<=20&&(c=r,l=1),12==r&&(c=100*r+o,l=2),19!=r&&20!=r||(c=r,l=2),21<=r&&r<=27&&(c=r,l=1),28==r&&(d=n.readShort(e,t+1),l=3),29<=r&&r<=31&&(c=r,l=1),32<=r&&r<=246&&(d=r-139,l=1),247<=r&&r<=250&&(d=256*(r-247)+o+108,l=2),251<=r&&r<=254&&(d=256*-(r-251)-o-108,l=2),255==r&&(d=n.readInt(e,t+1)/65535,l=5),s.push(null!=d?d:"o"+c),t+=l}return s},L.CFF.readDict=function(e,t,i){for(var a=L._bin,n={},s=[];t<i;){var r=e[t],o=e[t+1],l=(e[t+2],e[t+3],e[t+4],1),c=null,d=null;if(28==r&&(d=a.readShort(e,t+1),l=3),29==r&&(d=a.readInt(e,t+1),l=5),32<=r&&r<=246&&(d=r-139,l=1),247<=r&&r<=250&&(d=256*(r-247)+o+108,l=2),251<=r&&r<=254&&(d=256*-(r-251)-o-108,l=2),255==r)throw d=a.readInt(e,t+1)/65535,"unknown number";if(30==r){for(var p=[],l=1;;){var u=e[t+l],h=(l++,u>>4),u=15&u;if(15!=h&&p.push(h),15!=u&&p.push(u),15==u)break}for(var m="",f=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],g=0;g<p.length;g++)m+=f[p[g]];d=parseFloat(m)}r<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][r],l=1,12==r)&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][o],l=2),null!=c?(n[c]=1==s.length?s[0]:s,s=[]):s.push(d),t+=l}return n},L.cmap={},L.cmap.parse=function(e,t,i){e=new Uint8Array(e.buffer,t,i);var a=L._bin,n={},s=(a.readUshort(e,t=0),a.readUshort(e,t+=2)),r=(t+=2,[]);n.tables=[];for(var o=0;o<s;o++){var l,c,d=a.readUshort(e,t),p=(t+=2,a.readUshort(e,t)),u=(t+=2,a.readUint(e,t)),h=(t+=4,"p"+d+"e"+p),m=r.indexOf(u);if(-1==m&&(m=n.tables.length,r.push(u),0==(c=a.readUshort(e,u))?l=L.cmap.parse0(e,u):4==c?l=L.cmap.parse4(e,u):6==c?l=L.cmap.parse6(e,u):12==c?l=L.cmap.parse12(e,u):console.debug("unknown format: "+c,d,p,u),n.tables.push(l)),null!=n[h])throw"multiple tables for one platform+encoding";n[h]=m}return n},L.cmap.parse0=function(e,t){var i=L._bin,a={},n=(a.format=i.readUshort(e,t),i.readUshort(e,t+=2));i.readUshort(e,t+=2),t+=2,a.map=[];for(var s=0;s<n-6;s++)a.map.push(e[t+s]);return a},L.cmap.parse4=function(e,t){var i=L._bin,a=t,n={},s=(n.format=i.readUshort(e,t),i.readUshort(e,t+=2));i.readUshort(e,t+=2);var r=i.readUshort(e,t+=2)/2;n.searchRange=i.readUshort(e,t+=2),n.entrySelector=i.readUshort(e,t+=2),n.rangeShift=i.readUshort(e,t+=2),n.endCount=i.readUshorts(e,t+=2,r),n.startCount=i.readUshorts(e,t=t+2*r+2,r),t+=2*r,n.idDelta=[];for(var o=0;o<r;o++)n.idDelta.push(i.readShort(e,t)),t+=2;for(n.idRangeOffset=i.readUshorts(e,t,r),t+=2*r,n.glyphIdArray=[];t<a+s;)n.glyphIdArray.push(i.readUshort(e,t)),t+=2;return n},L.cmap.parse6=function(e,t){var i=L._bin,a={},n=(a.format=i.readUshort(e,t),i.readUshort(e,t+=2),i.readUshort(e,t+=2),a.firstCode=i.readUshort(e,t+=2),i.readUshort(e,t+=2));t+=2,a.glyphIdArray=[];for(var s=0;s<n;s++)a.glyphIdArray.push(i.readUshort(e,t)),t+=2;return a},L.cmap.parse12=function(e,t){var i=L._bin,a={},n=(a.format=i.readUshort(e,t),i.readUint(e,t=t+2+2),i.readUint(e,t+=4),i.readUint(e,t+=4));t+=4,a.groups=[];for(var s=0;s<n;s++){var r=t+12*s,o=i.readUint(e,r+0),l=i.readUint(e,r+4),r=i.readUint(e,r+8);a.groups.push([o,l,r])}return a},L.glyf={},L.glyf.parse=function(e,t,i,a){for(var n=[],s=0;s<a.maxp.numGlyphs;s++)n.push(null);return n},L.glyf._parseGlyf=function(e,t){var i=L._bin,a=e._data,n=L._tabOffset(a,"glyf",e._offset)+e.loca[t];if(e.loca[t]==e.loca[t+1])return null;var s,r={};if(r.noc=i.readShort(a,n),r.xMin=i.readShort(a,n+=2),r.yMin=i.readShort(a,n+=2),r.xMax=i.readShort(a,n+=2),r.yMax=i.readShort(a,n+=2),n+=2,r.xMax<=r.xMin||r.yMax<=r.yMin)return null;if(0<r.noc){r.endPts=[];for(var o=0;o<r.noc;o++)r.endPts.push(i.readUshort(a,n)),n+=2;e=i.readUshort(a,n);if(a.length-(n+=2)<e)return null;r.instructions=i.readBytes(a,n,e),n+=e;var l=r.endPts[r.noc-1]+1;for(r.flags=[],o=0;o<l;o++){var c=a[n];if(n++,r.flags.push(c),0!=(8&c)){var d=a[n];n++;for(var p=0;p<d;p++)r.flags.push(c),o++}}for(r.xs=[],o=0;o<l;o++){var u=0!=(2&r.flags[o]),h=0!=(16&r.flags[o]);u?(r.xs.push(h?a[n]:-a[n]),n++):h?r.xs.push(0):(r.xs.push(i.readShort(a,n)),n+=2)}for(r.ys=[],o=0;o<l;o++)u=0!=(4&r.flags[o]),h=0!=(32&r.flags[o]),u?(r.ys.push(h?a[n]:-a[n]),n++):h?r.ys.push(0):(r.ys.push(i.readShort(a,n)),n+=2);for(var m=0,f=0,o=0;o<l;o++)m+=r.xs[o],f+=r.ys[o],r.xs[o]=m,r.ys[o]=f}else{r.parts=[];do{s=i.readUshort(a,n),n+=2;var g,_,y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1}}while(r.parts.push(y),y.glyphIndex=i.readUshort(a,n),n+=2,1&s?(g=i.readShort(a,n),_=i.readShort(a,n+=2),n+=2):(g=i.readInt8(a,n),_=i.readInt8(a,++n),n++),2&s?(y.m.tx=g,y.m.ty=_):(y.p1=g,y.p2=_),8&s?(y.m.a=y.m.d=i.readF2dot14(a,n),n+=2):64&s?(y.m.a=i.readF2dot14(a,n),y.m.d=i.readF2dot14(a,n+=2),n+=2):128&s&&(y.m.a=i.readF2dot14(a,n),y.m.b=i.readF2dot14(a,n+=2),y.m.c=i.readF2dot14(a,n+=2),y.m.d=i.readF2dot14(a,n+=2),n+=2),32&s);if(256&s){var b=i.readUshort(a,n);for(n+=2,r.instr=[],o=0;o<b;o++)r.instr.push(a[n]),n++}}return r},L.GDEF={},L.GDEF.parse=function(e,t,i,a){var n=t,t=L._bin.readUshort(e,t+=4);return{glyphClassDef:0===t?null:L._lctf.readClassDef(e,n+t)}},L.GPOS={},L.GPOS.parse=function(e,t,i,a){return L._lctf.parse(e,t,i,a,L.GPOS.subt)},L.GPOS.subt=function(e,t,i,a){var n=L._bin,s=i,r={};if(r.fmt=n.readUshort(e,i),i+=2,(1==t||2==t||3==t||7==t||8==t&&r.fmt<=2)&&(y=n.readUshort(e,i),i+=2,r.coverage=L._lctf.readCoverage(e,y+s)),1==t&&1==r.fmt){var o=n.readUshort(e,i);i+=2,0!=o&&(r.pos=L.GPOS.readValueRecord(e,i,o))}else if(2==t&&1<=r.fmt&&r.fmt<=2){var o=n.readUshort(e,i),l=n.readUshort(e,i+=2),c=(i+=2,L._lctf.numOfOnes(o)),d=L._lctf.numOfOnes(l);if(1==r.fmt){r.pairsets=[];var p=n.readUshort(e,i);i+=2;for(var u=0;u<p;u++){var h=s+n.readUshort(e,i),m=(i+=2,n.readUshort(e,h));h+=2;for(var f=[],g=0;g<m;g++){var _=n.readUshort(e,h);h+=2,0!=o&&(w=L.GPOS.readValueRecord(e,h,o),h+=2*c),0!=l&&(T=L.GPOS.readValueRecord(e,h,l),h+=2*d),f.push({gid2:_,val1:w,val2:T})}r.pairsets.push(f)}}if(2==r.fmt){var y=n.readUshort(e,i),b=n.readUshort(e,i+=2),v=n.readUshort(e,i+=2),x=n.readUshort(e,i+=2);for(i+=2,r.classDef1=L._lctf.readClassDef(e,s+y),r.classDef2=L._lctf.readClassDef(e,s+b),r.matrix=[],u=0;u<v;u++){for(var S=[],g=0;g<x;g++){var w=null,T=null;0!=o&&(w=L.GPOS.readValueRecord(e,i,o),i+=2*c),0!=l&&(T=L.GPOS.readValueRecord(e,i,l),i+=2*d),S.push({val1:w,val2:T})}r.matrix.push(S)}}}else if(4==t&&1==r.fmt)r.markCoverage=L._lctf.readCoverage(e,n.readUshort(e,i)+s),r.baseCoverage=L._lctf.readCoverage(e,n.readUshort(e,i+2)+s),r.markClassCount=n.readUshort(e,i+4),r.markArray=L.GPOS.readMarkArray(e,n.readUshort(e,i+6)+s),r.baseArray=L.GPOS.readBaseArray(e,n.readUshort(e,i+8)+s,r.markClassCount);else if(6==t&&1==r.fmt)r.mark1Coverage=L._lctf.readCoverage(e,n.readUshort(e,i)+s),r.mark2Coverage=L._lctf.readCoverage(e,n.readUshort(e,i+2)+s),r.markClassCount=n.readUshort(e,i+4),r.mark1Array=L.GPOS.readMarkArray(e,n.readUshort(e,i+6)+s),r.mark2Array=L.GPOS.readBaseArray(e,n.readUshort(e,i+8)+s,r.markClassCount);else{if(9==t&&1==r.fmt){y=n.readUshort(e,i),b=n.readUint(e,i+=2);if(i+=4,9==a.ltype)a.ltype=y;else if(a.ltype!=y)throw"invalid extension substitution";return L.GPOS.subt(e,a.ltype,s+b)}console.debug("unsupported GPOS table LookupType",t,"format",r.fmt)}return r},L.GPOS.readValueRecord=function(e,t,i){var a=L._bin,n=[];return n.push(1&i?a.readShort(e,t):0),t+=1&i?2:0,n.push(2&i?a.readShort(e,t):0),t+=2&i?2:0,n.push(4&i?a.readShort(e,t):0),t+=4&i?2:0,n.push(8&i?a.readShort(e,t):0),t+=8&i?2:0,n},L.GPOS.readBaseArray=function(e,t,i){var a=L._bin,n=[],s=t,r=a.readUshort(e,t);t+=2;for(var o=0;o<r;o++){for(var l=[],c=0;c<i;c++)l.push(L.GPOS.readAnchorRecord(e,s+a.readUshort(e,t))),t+=2;n.push(l)}return n},L.GPOS.readMarkArray=function(e,t){var i=L._bin,a=[],n=t,s=i.readUshort(e,t);t+=2;for(var r=0;r<s;r++){var o=L.GPOS.readAnchorRecord(e,i.readUshort(e,t+2)+n);o.markClass=i.readUshort(e,t),a.push(o),t+=4}return a},L.GPOS.readAnchorRecord=function(e,t){var i=L._bin,a={};return a.fmt=i.readUshort(e,t),a.x=i.readShort(e,t+2),a.y=i.readShort(e,t+4),a},L.GSUB={},L.GSUB.parse=function(e,t,i,a){return L._lctf.parse(e,t,i,a,L.GSUB.subt)},L.GSUB.subt=function(e,t,i,a){var n,s=L._bin,r=i,o={};if(o.fmt=s.readUshort(e,i),i+=2,1!=t&&2!=t&&4!=t&&5!=t&&6!=t)return null;if((1==t||2==t||4==t||5==t&&o.fmt<=2||6==t&&o.fmt<=2)&&(u=s.readUshort(e,i),i+=2,o.coverage=L._lctf.readCoverage(e,r+u)),1==t&&1<=o.fmt&&o.fmt<=2)1==o.fmt?(o.delta=s.readShort(e,i),i+=2):2==o.fmt&&(n=s.readUshort(e,i),o.newg=s.readUshorts(e,i+=2,n),i+=2*o.newg.length);else if(2==t&&1==o.fmt){n=s.readUshort(e,i),i+=2,o.seqs=[];for(var l=0;l<n;l++){var c=s.readUshort(e,i)+r,d=(i+=2,s.readUshort(e,c));o.seqs.push(s.readUshorts(e,c+2,d))}}else if(4==t)for(o.vals=[],n=s.readUshort(e,i),i+=2,l=0;l<n;l++){var p=s.readUshort(e,i);i+=2,o.vals.push(L.GSUB.readLigatureSet(e,r+p))}else if(5==t&&2==o.fmt){if(2==o.fmt){var u=s.readUshort(e,i),h=(i+=2,o.cDef=L._lctf.readClassDef(e,r+u),o.scset=[],s.readUshort(e,i));for(i+=2,l=0;l<h;l++){var m=s.readUshort(e,i);i+=2,o.scset.push(0==m?null:L.GSUB.readSubClassSet(e,r+m))}}}else if(6==t&&3==o.fmt){if(3==o.fmt){for(l=0;l<3;l++){n=s.readUshort(e,i),i+=2;for(var f=[],g=0;g<n;g++)f.push(L._lctf.readCoverage(e,r+s.readUshort(e,i+2*g)));i+=2*n,0==l&&(o.backCvg=f),1==l&&(o.inptCvg=f),2==l&&(o.ahedCvg=f)}n=s.readUshort(e,i),o.lookupRec=L.GSUB.readSubstLookupRecords(e,i+=2,n)}}else{if(7==t&&1==o.fmt){var u=s.readUshort(e,i),_=s.readUint(e,i+=2);if(i+=4,9==a.ltype)a.ltype=u;else if(a.ltype!=u)throw"invalid extension substitution";return L.GSUB.subt(e,a.ltype,r+_)}console.debug("unsupported GSUB table LookupType",t,"format",o.fmt)}return o},L.GSUB.readSubClassSet=function(e,t){var i=L._bin.readUshort,a=t,n=[],s=i(e,t);t+=2;for(var r=0;r<s;r++){var o=i(e,t);t+=2,n.push(L.GSUB.readSubClassRule(e,a+o))}return n},L.GSUB.readSubClassRule=function(e,t){var i=L._bin.readUshort,a={},n=i(e,t),s=i(e,t+=2);t+=2,a.input=[];for(var r=0;r<n-1;r++)a.input.push(i(e,t)),t+=2;return a.substLookupRecords=L.GSUB.readSubstLookupRecords(e,t,s),a},L.GSUB.readSubstLookupRecords=function(e,t,i){for(var a=L._bin.readUshort,n=[],s=0;s<i;s++)n.push(a(e,t),a(e,t+2)),t+=4;return n},L.GSUB.readChainSubClassSet=function(e,t){var i=L._bin,a=t,n=[],s=i.readUshort(e,t);t+=2;for(var r=0;r<s;r++){var o=i.readUshort(e,t);t+=2,n.push(L.GSUB.readChainSubClassRule(e,a+o))}return n},L.GSUB.readChainSubClassRule=function(e,t){for(var i=L._bin,a={},n=["backtrack","input","lookahead"],s=0;s<n.length;s++){var r=i.readUshort(e,t);t+=2,1==s&&r--,a[n[s]]=i.readUshorts(e,t,r),t+=2*a[n[s]].length}return r=i.readUshort(e,t),a.subst=i.readUshorts(e,t+=2,2*r),t+=2*a.subst.length,a},L.GSUB.readLigatureSet=function(e,t){var i=L._bin,a=t,n=[],s=i.readUshort(e,t);t+=2;for(var r=0;r<s;r++){var o=i.readUshort(e,t);t+=2,n.push(L.GSUB.readLigature(e,a+o))}return n},L.GSUB.readLigature=function(e,t){var i=L._bin,a={chain:[]},n=(a.nglyph=i.readUshort(e,t),i.readUshort(e,t+=2));t+=2;for(var s=0;s<n-1;s++)a.chain.push(i.readUshort(e,t)),t+=2;return a},L.head={},L.head.parse=function(e,t,i){var a=L._bin,n={};return a.readFixed(e,t),n.fontRevision=a.readFixed(e,t+=4),a.readUint(e,t+=4),a.readUint(e,t+=4),n.flags=a.readUshort(e,t+=4),n.unitsPerEm=a.readUshort(e,t+=2),n.created=a.readUint64(e,t+=2),n.modified=a.readUint64(e,t+=8),n.xMin=a.readShort(e,t+=8),n.yMin=a.readShort(e,t+=2),n.xMax=a.readShort(e,t+=2),n.yMax=a.readShort(e,t+=2),n.macStyle=a.readUshort(e,t+=2),n.lowestRecPPEM=a.readUshort(e,t+=2),n.fontDirectionHint=a.readShort(e,t+=2),n.indexToLocFormat=a.readShort(e,t+=2),n.glyphDataFormat=a.readShort(e,t+=2),t+=2,n},L.hhea={},L.hhea.parse=function(e,t,i){var a=L._bin,n={};return a.readFixed(e,t),n.ascender=a.readShort(e,t+=4),n.descender=a.readShort(e,t+=2),n.lineGap=a.readShort(e,t+=2),n.advanceWidthMax=a.readUshort(e,t+=2),n.minLeftSideBearing=a.readShort(e,t+=2),n.minRightSideBearing=a.readShort(e,t+=2),n.xMaxExtent=a.readShort(e,t+=2),n.caretSlopeRise=a.readShort(e,t+=2),n.caretSlopeRun=a.readShort(e,t+=2),n.caretOffset=a.readShort(e,t+=2),n.metricDataFormat=a.readShort(e,t=t+2+8),n.numberOfHMetrics=a.readUshort(e,t+=2),t+=2,n},L.hmtx={},L.hmtx.parse=function(e,t,i,a){for(var n=L._bin,s={aWidth:[],lsBearing:[]},r=0,o=0,l=0;l<a.maxp.numGlyphs;l++)l<a.hhea.numberOfHMetrics&&(r=n.readUshort(e,t),o=n.readShort(e,t+=2),t+=2),s.aWidth.push(r),s.lsBearing.push(o);return s},L.kern={},L.kern.parse=function(e,t,i,a){var n=L._bin,s=n.readUshort(e,t);if(t+=2,1==s)return L.kern.parseV1(e,t-2,i,a);var r=n.readUshort(e,t);t+=2;for(var o={glyph1:[],rval:[]},l=0;l<r;l++){t+=2,i=n.readUshort(e,t),t+=2;var c=n.readUshort(e,t),c=(t+=2,c>>>8);if(0!=(c&=15))throw"unknown kern table format: "+c;t=L.kern.readFormat0(e,t,o)}return o},L.kern.parseV1=function(e,t,i,a){var n=L._bin,s=(n.readFixed(e,t),n.readUint(e,t+=4));t+=4;for(var r={glyph1:[],rval:[]},o=0;o<s;o++){n.readUint(e,t),t+=4;var l=n.readUshort(e,t),l=(t+=2,n.readUshort(e,t),t+=2,l>>>8);if(0!=(l&=15))throw"unknown kern table format: "+l;t=L.kern.readFormat0(e,t,r)}return r},L.kern.readFormat0=function(e,t,i){var a=L._bin,n=-1,s=a.readUshort(e,t);a.readUshort(e,t+=2),a.readUshort(e,t+=2),a.readUshort(e,t+=2),t+=2;for(var r=0;r<s;r++){var o=a.readUshort(e,t),l=(t+=2,a.readUshort(e,t)),c=(t+=2,a.readShort(e,t)),d=(t+=2,o!=n&&(i.glyph1.push(o),i.rval.push({glyph2:[],vals:[]})),i.rval[i.rval.length-1]);d.glyph2.push(l),d.vals.push(c),n=o}return t},L.loca={},L.loca.parse=function(e,t,i,a){var n=L._bin,s=[],r=a.head.indexToLocFormat,o=a.maxp.numGlyphs+1;if(0==r)for(var l=0;l<o;l++)s.push(n.readUshort(e,t+(l<<1))<<1);if(1==r)for(l=0;l<o;l++)s.push(n.readUint(e,t+(l<<2)));return s},L.maxp={},L.maxp.parse=function(e,t,i){var a=L._bin,n={},s=a.readUint(e,t);return n.numGlyphs=a.readUshort(e,t+=4),t+=2,65536==s&&(n.maxPoints=a.readUshort(e,t),n.maxContours=a.readUshort(e,t+=2),n.maxCompositePoints=a.readUshort(e,t+=2),n.maxCompositeContours=a.readUshort(e,t+=2),n.maxZones=a.readUshort(e,t+=2),n.maxTwilightPoints=a.readUshort(e,t+=2),n.maxStorage=a.readUshort(e,t+=2),n.maxFunctionDefs=a.readUshort(e,t+=2),n.maxInstructionDefs=a.readUshort(e,t+=2),n.maxStackElements=a.readUshort(e,t+=2),n.maxSizeOfInstructions=a.readUshort(e,t+=2),n.maxComponentElements=a.readUshort(e,t+=2),n.maxComponentDepth=a.readUshort(e,t+=2),t+=2),n},L.name={},L.name.parse=function(e,t,i){var a=L._bin,n={},s=(a.readUshort(e,t),a.readUshort(e,t+=2));a.readUshort(e,t+=2);for(var r,o,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=t+=2,d=0;d<s;d++){var p=a.readUshort(e,t),u=(t+=2,a.readUshort(e,t)),h=(t+=2,a.readUshort(e,t)),m=(t+=2,a.readUshort(e,t)),f=(t+=2,a.readUshort(e,t)),g=(t+=2,a.readUshort(e,t));t+=2;var _,y=l[m],g=c+12*s+g;if(0==p)_=a.readUnicode(e,g,f/2);else if(3==p&&0==u)_=a.readUnicode(e,g,f/2);else if(0==u)_=a.readASCII(e,g,f);else if(1==u)_=a.readUnicode(e,g,f/2);else if(3==u)_=a.readUnicode(e,g,f/2);else{if(1!=p)throw"unknown encoding "+u+", platformID: "+p;_=a.readASCII(e,g,f),console.debug("reading unknown MAC encoding "+u+" as ASCII")}g="p"+p+","+h.toString(16);null==n[g]&&(n[g]={}),n[g][void 0!==y?y:m]=_,n[g]._lang=h}for(o in n)if(null!=n[o].postScriptName&&1033==n[o]._lang)return n[o];for(o in n)if(null!=n[o].postScriptName&&0==n[o]._lang)return n[o];for(o in n)if(null!=n[o].postScriptName&&3084==n[o]._lang)return n[o];for(o in n)if(null!=n[o].postScriptName)return n[o];for(o in n){r=o;break}return console.debug("returning name table with languageID "+n[r]._lang),n[r]},L["OS/2"]={},L["OS/2"].parse=function(e,t,i){var a=L._bin.readUshort(e,t),n=(t+=2,{});if(0==a)L["OS/2"].version0(e,t,n);else if(1==a)L["OS/2"].version1(e,t,n);else if(2==a||3==a||4==a)L["OS/2"].version2(e,t,n);else{if(5!=a)throw"unknown OS/2 table version: "+a;L["OS/2"].version5(e,t,n)}return n},L["OS/2"].version0=function(e,t,i){var a=L._bin;return i.xAvgCharWidth=a.readShort(e,t),i.usWeightClass=a.readUshort(e,t+=2),i.usWidthClass=a.readUshort(e,t+=2),i.fsType=a.readUshort(e,t+=2),i.ySubscriptXSize=a.readShort(e,t+=2),i.ySubscriptYSize=a.readShort(e,t+=2),i.ySubscriptXOffset=a.readShort(e,t+=2),i.ySubscriptYOffset=a.readShort(e,t+=2),i.ySuperscriptXSize=a.readShort(e,t+=2),i.ySuperscriptYSize=a.readShort(e,t+=2),i.ySuperscriptXOffset=a.readShort(e,t+=2),i.ySuperscriptYOffset=a.readShort(e,t+=2),i.yStrikeoutSize=a.readShort(e,t+=2),i.yStrikeoutPosition=a.readShort(e,t+=2),i.sFamilyClass=a.readShort(e,t+=2),i.panose=a.readBytes(e,t+=2,10),i.ulUnicodeRange1=a.readUint(e,t+=10),i.ulUnicodeRange2=a.readUint(e,t+=4),i.ulUnicodeRange3=a.readUint(e,t+=4),i.ulUnicodeRange4=a.readUint(e,t+=4),i.achVendID=[a.readInt8(e,t+=4),a.readInt8(e,t+1),a.readInt8(e,t+2),a.readInt8(e,t+3)],i.fsSelection=a.readUshort(e,t+=4),i.usFirstCharIndex=a.readUshort(e,t+=2),i.usLastCharIndex=a.readUshort(e,t+=2),i.sTypoAscender=a.readShort(e,t+=2),i.sTypoDescender=a.readShort(e,t+=2),i.sTypoLineGap=a.readShort(e,t+=2),i.usWinAscent=a.readUshort(e,t+=2),i.usWinDescent=a.readUshort(e,t+=2),t+2},L["OS/2"].version1=function(e,t,i){var a=L._bin;return t=L["OS/2"].version0(e,t,i),i.ulCodePageRange1=a.readUint(e,t),i.ulCodePageRange2=a.readUint(e,t+=4),t+4},L["OS/2"].version2=function(e,t,i){var a=L._bin;return t=L["OS/2"].version1(e,t,i),i.sxHeight=a.readShort(e,t),i.sCapHeight=a.readShort(e,t+=2),i.usDefault=a.readUshort(e,t+=2),i.usBreak=a.readUshort(e,t+=2),i.usMaxContext=a.readUshort(e,t+=2),t+2},L["OS/2"].version5=function(e,t,i){var a=L._bin;return t=L["OS/2"].version2(e,t,i),i.usLowerOpticalPointSize=a.readUshort(e,t),i.usUpperOpticalPointSize=a.readUshort(e,t+=2),t+2},L.post={},L.post.parse=function(e,t,i){var a=L._bin,n={};return n.version=a.readFixed(e,t),n.italicAngle=a.readFixed(e,t+=4),n.underlinePosition=a.readShort(e,t+=4),n.underlineThickness=a.readShort(e,t+=2),t+=2,n},null==(L=null==L?{}:L).U&&(L.U={}),L.U.codeToGlyph=function(e,t){var e=e.cmap,i=-1;if(null!=e.p0e4?i=e.p0e4:null!=e.p3e1?i=e.p3e1:null!=e.p1e0?i=e.p1e0:null!=e.p0e3&&(i=e.p0e3),-1==i)throw"no familiar platform and encoding!";var a=e.tables[i];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var n=-1,s=0;s<a.endCount.length;s++)if(t<=a.endCount[s]){n=s;break}return-1==n?0:a.startCount[n]>t?0:65535&(0!=a.idRangeOffset[n]?a.glyphIdArray[t-a.startCount[n]+(a.idRangeOffset[n]>>1)-(a.idRangeOffset.length-n)]:t+a.idDelta[n])}if(12!=a.format)throw"unknown cmap table format "+a.format;if(!(t>a.groups[a.groups.length-1][1]))for(s=0;s<a.groups.length;s++){var r=a.groups[s];if(r[0]<=t&&t<=r[1])return r[2]+(t-r[0])}return 0},L.U.glyphToPath=function(e,t){var i={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[t])return null==(a=e.SVG.entries[t])?i:("string"==typeof a&&(a=L.SVG.toPath(a),e.SVG.entries[t]=a),a);if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},n=e.CFF,s=e.CFF.Private;if(n.ROS){for(var r=0;n.FDSelect[r+2]<=t;)r+=2;s=n.FDArray[n.FDSelect[r+1]].Private}L.U._drawCFF(e.CFF.CharStrings[t],a,n,s,i)}else e.glyf&&L.U._drawGlyf(t,e,i);return i},L.U._drawGlyf=function(e,t,i){var a=t.glyf[e];null!=(a=null==a?t.glyf[e]=L.glyf._parseGlyf(t,e):a)&&(-1<a.noc?L.U._simpleGlyph(a,i):L.U._compoGlyph(a,t,i))},L.U._simpleGlyph=function(e,t){for(var i=0;i<e.noc;i++){for(var a=0==i?0:e.endPts[i-1]+1,n=e.endPts[i],s=a;s<=n;s++){var r=s==a?n:s-1,o=s==n?a:s+1,l=1&e.flags[s],c=1&e.flags[r],d=1&e.flags[o],p=e.xs[s],u=e.ys[s];if(s==a)if(l){if(!c){L.U.P.moveTo(t,p,u);continue}L.U.P.moveTo(t,e.xs[r],e.ys[r])}else c?L.U.P.moveTo(t,e.xs[r],e.ys[r]):L.U.P.moveTo(t,(e.xs[r]+p)/2,(e.ys[r]+u)/2);l?c&&L.U.P.lineTo(t,p,u):d?L.U.P.qcurveTo(t,p,u,e.xs[o],e.ys[o]):L.U.P.qcurveTo(t,p,u,(p+e.xs[o])/2,(u+e.ys[o])/2)}L.U.P.closePath(t)}},L.U._compoGlyph=function(e,t,i){for(var a=0;a<e.parts.length;a++){var n={cmds:[],crds:[]},s=e.parts[a];L.U._drawGlyf(s.glyphIndex,t,n);for(var r=s.m,o=0;o<n.crds.length;o+=2){var l=n.crds[o],c=n.crds[o+1];i.crds.push(l*r.a+c*r.b+r.tx),i.crds.push(l*r.c+c*r.d+r.ty)}for(o=0;o<n.cmds.length;o++)i.cmds.push(n.cmds[o])}},L.U._getGlyphClass=function(e,t){e=L._lctf.getInterval(t,e);return-1==e?0:t[e+2]},L.U._applySubs=function(e,t,i,a){for(var n=e.length-t-1,s=0;s<i.tabs.length;s++)if(null!=i.tabs[s]){var r,o=i.tabs[s];if(!o.coverage||-1!=(r=L._lctf.coverageIndex(o.coverage,e[t])))if(1==i.ltype)e[t],1==o.fmt?e[t]=e[t]+o.delta:e[t]=o.newg[r];else if(4==i.ltype)for(var l=o.vals[r],c=0;c<l.length;c++){var d=l[c],p=d.chain.length;if(!(n<p)){for(var u=!0,h=0,m=0;m<p;m++){for(;-1==e[t+h+(1+m)];)h++;d.chain[m]!=e[t+h+(1+m)]&&(u=!1)}if(u){for(e[t]=d.nglyph,m=0;m<p+h;m++)e[t+m+1]=-1;break}}}else if(5==i.ltype&&2==o.fmt)for(var f=L._lctf.getInterval(o.cDef,e[t]),g=o.cDef[f+2],_=o.scset[g],y=0;y<_.length;y++){var b=_[y],v=b.input;if(!(v.length>n)){for(u=!0,m=0;m<v.length;m++){var x=L._lctf.getInterval(o.cDef,e[t+1+m]);if(-1==f&&o.cDef[x+2]!=v[m]){u=!1;break}}if(u)for(var S=b.substLookupRecords,c=0;c<S.length;c+=2)S[c],S[c+1]}}else if(6==i.ltype&&3==o.fmt){if(!L.U._glsCovered(e,o.backCvg,t-o.backCvg.length))continue;if(!L.U._glsCovered(e,o.inptCvg,t))continue;if(!L.U._glsCovered(e,o.ahedCvg,t+o.inptCvg.length))continue;for(var w=o.lookupRec,y=0;y<w.length;y+=2){var f=w[y],T=a[w[y+1]];L.U._applySubs(e,t+f,T,a)}}}},L.U._glsCovered=function(e,t,i){for(var a=0;a<t.length;a++)if(-1==L._lctf.coverageIndex(t[a],e[i+a]))return!1;return!0},L.U.glyphsToPath=function(e,t,i){for(var a={cmds:[],crds:[]},n=0,s=0;s<t.length;s++){var r=t[s];if(-1!=r){for(var o=s<t.length-1&&-1!=t[s+1]?t[s+1]:0,l=L.U.glyphToPath(e,r),c=0;c<l.crds.length;c+=2)a.crds.push(l.crds[c]+n),a.crds.push(l.crds[c+1]);for(i&&a.cmds.push(i),c=0;c<l.cmds.length;c++)a.cmds.push(l.cmds[c]);i&&a.cmds.push("X"),n+=e.hmtx.aWidth[r],s<t.length-1&&(n+=L.U.getPairAdjustment(e,r,o))}}return a},L.U.P={},L.U.P.moveTo=function(e,t,i){e.cmds.push("M"),e.crds.push(t,i)},L.U.P.lineTo=function(e,t,i){e.cmds.push("L"),e.crds.push(t,i)},L.U.P.curveTo=function(e,t,i,a,n,s,r){e.cmds.push("C"),e.crds.push(t,i,a,n,s,r)},L.U.P.qcurveTo=function(e,t,i,a,n){e.cmds.push("Q"),e.crds.push(t,i,a,n)},L.U.P.closePath=function(e){e.cmds.push("Z")},L.U._drawCFF=function(e,t,i,a,n){for(var s=t.stack,r=t.nStems,o=t.haveWidth,l=t.width,c=t.open,d=0,p=t.x,u=t.y,h=0,m=0,f=0,g=0,_=0,y=0,b=0,v=0,x=0,S=0,w={val:0,size:0};d<e.length;){L.CFF.getCharString(e,d,w);var T=w.val;if(d+=w.size,"o1"==T||"o18"==T)s.length%2==0||o||(l=s.shift()+a.nominalWidthX),r+=s.length>>1,o=!(s.length=0);else if("o3"==T||"o23"==T)s.length%2==0||o||(l=s.shift()+a.nominalWidthX),r+=s.length>>1,o=!(s.length=0);else if("o4"==T)1<s.length&&!o&&(l=s.shift()+a.nominalWidthX,o=!0),c&&L.U.P.closePath(n),u+=s.pop(),L.U.P.moveTo(n,p,u),c=!0;else if("o5"==T)for(;0<s.length;)p+=s.shift(),u+=s.shift(),L.U.P.lineTo(n,p,u);else if("o6"==T||"o7"==T)for(var A=s.length,M="o6"==T,I=0;I<A;I++){var E=s.shift();M?p+=E:u+=E,M=!M,L.U.P.lineTo(n,p,u)}else if("o8"==T||"o24"==T){for(var A=s.length,z=0;z+6<=A;)h=p+s.shift(),m=u+s.shift(),f=h+s.shift(),g=m+s.shift(),p=f+s.shift(),u=g+s.shift(),L.U.P.curveTo(n,h,m,f,g,p,u),z+=6;"o24"==T&&(p+=s.shift(),u+=s.shift(),L.U.P.lineTo(n,p,u))}else{if("o11"==T)break;if("o1234"==T||"o1235"==T||"o1236"==T||"o1237"==T)"o1234"==T&&(m=u,f=(h=p+s.shift())+s.shift(),S=g=m+s.shift(),y=g,v=u,p=(b=(_=(x=f+s.shift())+s.shift())+s.shift())+s.shift(),L.U.P.curveTo(n,h,m,f,g,x,S),L.U.P.curveTo(n,_,y,b,v,p,u)),"o1235"==T&&(h=p+s.shift(),m=u+s.shift(),f=h+s.shift(),g=m+s.shift(),x=f+s.shift(),S=g+s.shift(),_=x+s.shift(),y=S+s.shift(),b=_+s.shift(),v=y+s.shift(),p=b+s.shift(),u=v+s.shift(),s.shift(),L.U.P.curveTo(n,h,m,f,g,x,S),L.U.P.curveTo(n,_,y,b,v,p,u)),"o1236"==T&&(h=p+s.shift(),m=u+s.shift(),f=h+s.shift(),S=g=m+s.shift(),y=g,b=(_=(x=f+s.shift())+s.shift())+s.shift(),v=y+s.shift(),p=b+s.shift(),L.U.P.curveTo(n,h,m,f,g,x,S),L.U.P.curveTo(n,_,y,b,v,p,u)),"o1237"==T&&(h=p+s.shift(),m=u+s.shift(),f=h+s.shift(),g=m+s.shift(),x=f+s.shift(),S=g+s.shift(),_=x+s.shift(),y=S+s.shift(),b=_+s.shift(),v=y+s.shift(),Math.abs(b-p)>Math.abs(v-u)?p=b+s.shift():u=v+s.shift(),L.U.P.curveTo(n,h,m,f,g,x,S),L.U.P.curveTo(n,_,y,b,v,p,u));else if("o14"==T)0<s.length&&!o&&(l=s.shift()+i.nominalWidthX,o=!0),4==s.length&&(k=s.shift(),D=s.shift(),C=s.shift(),P=s.shift(),C=L.CFF.glyphBySE(i,C),P=L.CFF.glyphBySE(i,P),L.U._drawCFF(i.CharStrings[C],t,i,a,n),t.x=k,t.y=D,L.U._drawCFF(i.CharStrings[P],t,i,a,n)),c&&(L.U.P.closePath(n),c=!1);else if("o19"==T||"o20"==T)s.length%2==0||o||(l=s.shift()+a.nominalWidthX),r+=s.length>>1,o=!(s.length=0),d+=r+7>>3;else if("o21"==T)2<s.length&&!o&&(l=s.shift()+a.nominalWidthX,o=!0),u+=s.pop(),p+=s.pop(),c&&L.U.P.closePath(n),L.U.P.moveTo(n,p,u),c=!0;else if("o22"==T)1<s.length&&!o&&(l=s.shift()+a.nominalWidthX,o=!0),p+=s.pop(),c&&L.U.P.closePath(n),L.U.P.moveTo(n,p,u),c=!0;else if("o25"==T){for(;6<s.length;)p+=s.shift(),u+=s.shift(),L.U.P.lineTo(n,p,u);h=p+s.shift(),m=u+s.shift(),f=h+s.shift(),g=m+s.shift(),p=f+s.shift(),u=g+s.shift(),L.U.P.curveTo(n,h,m,f,g,p,u)}else if("o26"==T)for(s.length%2&&(p+=s.shift());0<s.length;)h=p,m=u+s.shift(),p=f=h+s.shift(),u=(g=m+s.shift())+s.shift(),L.U.P.curveTo(n,h,m,f,g,p,u);else if("o27"==T)for(s.length%2&&(u+=s.shift());0<s.length;)m=u,f=(h=p+s.shift())+s.shift(),g=m+s.shift(),p=f+s.shift(),u=g,L.U.P.curveTo(n,h,m,f,g,p,u);else if("o10"==T||"o29"==T){var k,D,C="o10"==T?a:i;0==s.length?console.debug("error: empty stack"):(k=s.pop(),D=C.Subrs[k+C.Bias],t.x=p,t.y=u,t.nStems=r,t.haveWidth=o,t.width=l,t.open=c,L.U._drawCFF(D,t,i,a,n),p=t.x,u=t.y,r=t.nStems,o=t.haveWidth,l=t.width,c=t.open)}else if("o30"==T||"o31"==T){var P=s.length,R=(z=0,"o31"==T);for(z+=P-(A=-3&P);z<A;)R=R?(m=u,f=(h=p+s.shift())+s.shift(),u=(g=m+s.shift())+s.shift(),A-z==5?(p=f+s.shift(),z++):p=f,!1):(h=p,m=u+s.shift(),f=h+s.shift(),g=m+s.shift(),p=f+s.shift(),A-z==5?(u=g+s.shift(),z++):u=g,!0),L.U.P.curveTo(n,h,m,f,g,p,u),z+=4}else{if("o"==(T+"").charAt(0))throw console.debug("Unknown operation: "+T,e),T;s.push(T)}}}t.x=p,t.y=u,t.nStems=r,t.haveWidth=o,t.width=l,t.open=c},i={Typr:t=L},e.Typr=t,e.default=i,Object.defineProperty(e,"__esModule",{value:!0}),e.Typr;var e,L,t,i},function(){return function(e){function t(e,t){for(var i=new V(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];for(var n=new G(i[30]),a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)n[s]=s-i[a]<<5|a;return[i,n]}var B=Uint8Array,V=Uint16Array,G=Uint32Array,H=new B([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W=new B([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q=new B([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=t(H,2),X=i[0];i[1][X[28]=258]=28;for(var Y=t(W,0)[0],h=new V(32768),a=0;a<32768;++a){var n=(61680&(n=(52428&(n=(43690&a)>>>1|(21845&a)<<1))>>>2|(13107&n)<<2))>>>4|(3855&n)<<4;h[a]=((65280&n)>>>8|(255&n)<<8)>>>1}for(var J=function(e,t,i){for(var a=e.length,n=0,s=new V(t);n<a;++n)++s[e[n]-1];var r=new V(t);for(n=0;n<t;++n)r[n]=r[n-1]+s[n-1]<<1;if(i){for(var o=new V(1<<t),l=15-t,n=0;n<a;++n)if(e[n])for(var c=n<<4|e[n],d=t-e[n],p=r[e[n]-1]++<<d,u=p|(1<<d)-1;p<=u;++p)o[h[p]>>>l]=c}else for(o=new V(a),n=0;n<a;++n)e[n]&&(o[n]=h[r[e[n]-1]++]>>>15-e[n]);return o},s=new B(288),a=0;a<144;++a)s[a]=8;for(a=144;a<256;++a)s[a]=9;for(a=256;a<280;++a)s[a]=7;for(a=280;a<288;++a)s[a]=8;var r=new B(32);for(a=0;a<32;++a)r[a]=5;function b(e,i,t){var a=e.length;if(!a||t&&!t.l&&a<5)return i||new B(0);var n=!i||t,s=!t||t.i;function r(e){var t=i.length;t<e&&((t=new B(Math.max(2*t,e))).set(i),i=t)}t=t||{},i=i||new B(3*a);var o,l,c,d=t.f||0,p=t.p||0,u=t.b||0,h=t.l,m=t.d,f=t.m,g=t.n,_=8*a;do{if(!h){t.f=d=Q(e,p,1);var y=Q(e,p+1,3);if(p+=3,!y){var b=e[(M=(p/8|0)+(7&p&&1)+4)-4]|e[M-3]<<8,v=M+b;if(a<v){s&&te(0);break}n&&r(u+b),i.set(e.subarray(M,v),u),t.b=u+=b,t.p=p=8*v;continue}if(1==y)h=K,m=Z,f=9,g=5;else if(2==y){var b=Q(e,p,31)+257,x=Q(e,p+10,15)+4,S=b+Q(e,p+5,31)+1;p+=14;for(var w=new B(S),T=new B(19),A=0;A<x;++A)T[q[A]]=Q(e,p+3*A,7);p+=3*x;for(var v=$(T),O=(1<<v)-1,N=J(T,v,1),A=0;A<S;){var M,I=N[Q(e,p,O)];if(p+=15&I,(M=I>>>4)<16)w[A++]=M;else{var E=0,z=0;for(16==M?(z=3+Q(e,p,3),p+=2,E=w[A-1]):17==M?(z=3+Q(e,p,7),p+=3):18==M&&(z=11+Q(e,p,127),p+=7);z--;)w[A++]=E}}var y=w.subarray(0,b),k=w.subarray(b),f=$(y),g=$(k),h=J(y,f,1),m=J(k,g,1)}else te(1);if(_<p){s&&te(0);break}}n&&r(u+131072);for(var j=(1<<f)-1,F=(1<<g)-1,D=p;;D=p){var C=(E=h[ee(e,p)&j])>>>4;if((p+=15&E)>_){s&&te(0);break}if(E||te(2),C<256)i[u++]=C;else{if(256==C){D=p,h=null;break}var P,R=C-254,C=(264<C&&(P=H[A=C-257],R=Q(e,p,(1<<P)-1)+X[A],p+=P),m[ee(e,p)&F]),L=C>>>4;if(C||te(3),p+=15&C,k=Y[L],3<L&&(P=W[L],k+=ee(e,p)&(1<<P)-1,p+=P),_<p){s&&te(0);break}n&&r(u+131072);for(var U=u+R;u<U;u+=4)i[u]=i[u-k],i[u+1]=i[u+1-k],i[u+2]=i[u+2-k],i[u+3]=i[u+3-k];u=U}}t.l=h,t.p=D,t.b=u,h&&(d=1,t.m=f,t.d=m,t.n=g)}while(!d);u!=i.length&&(o=i,(null==(l=0)||l<0)&&(l=0),(null==(c=u)||c>o.length)&&(c=o.length),new(o instanceof V?V:o instanceof G?G:B)(c-l).set(o.subarray(l,c)))}var K=J(s,9,1),Z=J(r,5,1),$=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},Q=function(e,t,i){var a=t/8|0;return(e[a]|e[1+a]<<8)>>(7&t)&i},ee=function(e,t){var i=t/8|0;return(e[i]|e[1+i]<<8|e[2+i]<<16)>>(7&t)},o=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],te=function(e,t,i){t=new Error(t||o[e]);if(t.code=e,Error.captureStackTrace&&Error.captureStackTrace(t,te),i)return t;throw t},i=new B(0),l="undefined"!=typeof TextDecoder&&new TextDecoder;try{l.decode(i,{stream:!0})}catch(e){}return e.convert_streams=function(n){var t=new DataView(n),i=0;function e(){var e=t.getUint16(i);return i+=2,e}function a(){var e=t.getUint32(i);return i+=4,e}function s(e){_.setUint16(y,e),y+=2}function r(e){_.setUint32(y,e),y+=4}for(var o={signature:a(),flavor:a(),length:a(),numTables:e(),reserved:e(),totalSfntSize:a(),majorVersion:e(),minorVersion:e(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},l=0;Math.pow(2,l)<=o.numTables;)l++;l--;for(var c=16*Math.pow(2,l),d=16*o.numTables-c,p=12,u=[],h=0;h<o.numTables;h++)u.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),p+=16;var m,f=new Uint8Array(12+16*u.length+u.reduce(function(e,t){return e+t.origLength+4},0)),g=f.buffer,_=new DataView(g),y=0;return r(o.flavor),s(o.numTables),s(c),s(l),s(d),u.forEach(function(e){r(e.tag),r(e.origChecksum),r(p),r(e.origLength),e.outOffset=p,(p+=e.origLength)%4!=0&&(p+=4-p%4)}),u.forEach(function(e){var t,i=n.slice(e.offset,e.offset+e.compLength),a=(e.compLength!=e.origLength?(t=new Uint8Array(e.origLength),a=new Uint8Array(i,2),b(a,t)):t=new Uint8Array(i),f.set(t,e.outOffset),0);(p=e.outOffset+e.origLength)%4!=0&&(a=4-p%4),f.set(new Uint8Array(a).buffer,e.outOffset+e.origLength),m=p+a}),g.slice(0,m)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(S,i){const _={M:2,L:2,Q:4,C:6,Z:0},c={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},d=1,p=2,u=4,h=8,m=16,f=32;let g;const y=1,b=2,v=3,x=4,w=[null,"isol","init","fina","medi"];function T(i){var a=new Uint8Array(i.length);let n=f,s=y,r=-1;for(let t=0;t<i.length;t++){var o=i.codePointAt(t),l=0|function(e){if(!g){const n={R:p,L:d,D:u,C:m,U:f,T:h};g=new Map;for(let a in c){let i=0;c[a].split(",").forEach(e=>{var[e,t]=e.split("+"),e=parseInt(e,36),t=t?parseInt(t,36):0;g.set(i+=e,n[a]);for(let e=t;e--;)g.set(++i,n[a])})}}return g.get(e)||f}(o);let e=y;l&h||(n&(d|u|m)?l&(p|u|m)?(e=v,s!==y&&s!==v||a[r]++):l&(d|f)&&(s!==b&&s!==x||a[r]--):n&(p|f)&&(s!==b&&s!==x||a[r]--),s=a[t]=e,n=l,r=t,65535<o&&t++)}return a}function A(e,t){e=e.GDEF&&e.GDEF.glyphClassDef;return e?S.U._getGlyphClass(t,e):0}function n(...t){for(let e=0;e<t.length;e++)if("number"==typeof t[e])return t[e]}function a(f){const g=Object.create(null);var e=f["OS/2"],t=f.hhea,i=f.head.unitsPerEm,a=n(e&&e.sTypoAscender,t&&t.ascender,i);const l={unitsPerEm:i,ascender:a,descender:n(e&&e.sTypoDescender,t&&t.descender,0),capHeight:n(e&&e.sCapHeight,a),xHeight:n(e&&e.sxHeight,a),lineGap:n(e&&e.sTypoLineGap,t&&t.lineGap),supportsCodePoint(e){return 0<S.U.codeToGlyph(f,e)},forEachGlyph(e,a,n,s){let r=0;const o=1/l.unitsPerEm*a;var t=function(t,s){const r=[];for(let e=0;e<s.length;e++){var i=s.codePointAt(e);65535<i&&e++,r.push(S.U.codeToGlyph(t,i))}var e=t.GSUB;if(e){const{lookupList:o,featureList:a}=e;let n;const l=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,c=[];a.forEach(t=>{if(l.test(t.tag))for(let e=0;e<t.tab.length;e++)if(!c[t.tab[e]]){c[t.tab[e]]=!0;var i=o[t.tab[e]],a=/^(isol|init|fina|medi)$/.test(t.tag);a&&!n&&(n=T(s));for(let e=0;e<r.length;e++)n&&a&&w[n[e]]!==t.tag||S.U._applySubs(r,e,i,o)}})}return r}(f,e);let h=0;const m=function(t,i){const a=new Int16Array(3*i.length);let n=0;for(;n<i.length;n++){var s=i[n];if(-1!==s){a[3*n+2]=t.hmtx.aWidth[s];var e,r,o=t.GPOS;if(o){var l=o.lookupList;for(let e=0;e<l.length;e++){var c=l[e];for(let e=0;e<c.tabs.length;e++){var d=c.tabs[e];if(1===c.ltype){if(-1!==S._lctf.coverageIndex(d.coverage,s)&&d.pos){x(d.pos,n);break}}else if(2===c.ltype){let t=null;var p=b();if(-1!==p){var u=S._lctf.coverageIndex(d.coverage,i[p]);if(-1!==u){if(1===d.fmt){var h=d.pairsets[u];for(let e=0;e<h.length;e++)h[e].gid2===s&&(t=h[e])}else 2===d.fmt&&(u=S.U._getGlyphClass(i[p],d.classDef1),m=S.U._getGlyphClass(s,d.classDef2),t=d.matrix[u][m]);if(t){t.val1&&x(t.val1,p),t.val2&&x(t.val2,n);break}}}}else if(4===c.ltype){u=S._lctf.coverageIndex(d.markCoverage,s);if(-1!==u){var m=b(v),p=-1===m?-1:S._lctf.coverageIndex(d.baseCoverage,i[m]);if(-1!==p){var f=d.markArray[u],g=d.baseArray[p][f.markClass];a[3*n]=g.x-f.x+a[3*m]-a[3*m+2],a[3*n+1]=g.y-f.y+a[3*m+1];break}}}else if(6===c.ltype){g=S._lctf.coverageIndex(d.mark1Coverage,s);if(-1!==g){f=b();if(-1!==f){var _=i[f];if(3===A(t,_)){_=S._lctf.coverageIndex(d.mark2Coverage,_);if(-1!==_){var y=d.mark1Array[g],d=d.mark2Array[_][y.markClass];a[3*n]=d.x-y.x+a[3*f]-a[3*f+2],a[3*n+1]=d.y-y.y+a[3*f+1];break}}}}}}}}else t.kern&&!t.cff&&-1!==(o=b())&&-1!==(e=t.kern.glyph1.indexOf(i[o]))&&-1!==(r=t.kern.rval[e].glyph2.indexOf(s))&&(a[3*o+2]+=t.kern.rval[e].vals[r])}}return a;function b(t){for(let e=n-1;0<=e;e--)if(-1!==i[e]&&(!t||t(i[e])))return e;return-1}function v(e){return 1===A(t,e)}function x(t,i){for(let e=0;e<3;e++)a[3*i+e]+=t[e]||0}}(f,t);return t.forEach((t,i)=>{if(-1!==t){let e=g[t];if(!e){var{cmds:l,crds:c}=S.U.glyphToPath(f,t);let i="",a=0;for(let e=0,t=l.length;e<t;e++){var d=_[l[e]];i+=l[e];for(let e=1;e<=d;e++)i+=(1<e?",":"")+c[a++]}let n,s,r,o;if(c.length){n=s=1/0,r=o=-1/0;for(let e=0,t=c.length;e<t;e+=2){var p=c[e],u=c[e+1];p<n&&(n=p),u<s&&(s=u),p>r&&(r=p),u>o&&(o=u)}}else n=r=s=o=0;e=g[t]={index:t,advanceWidth:f.hmtx.aWidth[t],xMin:n,yMin:s,xMax:r,yMax:o,path:i}}s.call(null,e,r+m[3*i]*o,m[3*i+1]*o,h),r+=m[3*i+2]*o,n&&(r+=n*a)}h+=65535<e.codePointAt(h)?2:1}),r}};return l}return function(e){var t=new Uint8Array(e,0,4),t=S._bin.readASCII(t,0,4);if("wOFF"===t)e=i(e);else if("wOF2"===t)throw new Error("woff2 fonts not supported");return a(S.parse(e)[0])}}],init(e,t,i){return i(e(),t())}}),function(){return e={},(w=function(){this.buckets=new Map}).prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},w.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&0!=(t&1<<(31&e))},w.prototype.serialize=function(){var i=[];return this.buckets.forEach(function(e,t){i.push((+t).toString(36)+":"+e.toString(36))}),i.join(",")},w.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach(function(e){e=e.split(":");t.buckets.set(parseInt(e[0],36),parseInt(e[1],36))})},T=Math.pow(2,8),A=~(i=T-1),M={},I={},E=new WeakMap,n="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data",s=new Map,e.CodePointSet=w,e.clearCache=function(){M={},I={}},e.getFontsForString=function(p,e){var t,u=(e=void 0===e?{}:e).lang,o=(void 0===u&&(u=/\p{Script=Hangul}/u.test(t=p)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(t)?"ja":"en"),e.category),l=(void 0===o&&(o="sans-serif"),e.style),c=(void 0===l&&(l="normal"),e.weight),d=(void 0===c&&(c=400),(e.dataUrl||n).replace(/\/$/g,"")),h=new Map,m=new Uint8Array(p.length),f={},g={},_=new Array(p.length),y=new Map,i=!1;function b(t){var e=s.get(t);return e||(e=fetch(d+"/"+t).then(function(e){if(e.ok)return e.json().then(function(e){if(Array.isArray(e)&&1===e[0])return e[1];throw new Error("Incorrect schema version; need 1, got "+e[0])});throw new Error(e.statusText)}).catch(function(e){if(d!==n)return i||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+d+'", trying default CDN. '+e.message),i=!0),d=n,s.delete(t),b(t);throw e}),s.set(t,e)),e}for(var a=function(e){var t,i,a,n=p.codePointAt(e),s=(i=((t=n)&A).toString(16),a=((t&A)+T-1).toString(16),"codepoint-index/plane"+(t>>16)+"/"+i+"-"+a+".json");_[e]=s,M[s]||y.has(s)||y.set(s,b(s).then(function(e){M[s]=e})),65535<n&&(r=++e)},r=0;r<p.length;r++)a(r);return Promise.all(y.values()).then(function(){y.clear();for(var d=0;d<p.length;d++)!function(e){var t,i=p.codePointAt(e),a=null,n=M[_[e]],s=void 0;for(t in n){var r=g[t];if(r=void 0===r?g[t]=new RegExp(t).test(u||"en"):r){for(var o in n[s=t])if(v(i,n[t][o])){a=o;break}break}}if(!a)e:for(var l in n)if(l!==s)for(var c in n[l])if(v(i,n[l][c])){a=c;break e}a||(console.debug("No font coverage for U+"+i.toString(16)),a="latin"),_[e]=a,I[a]||y.has(a)||y.set(a,b("font-meta/"+a+".json").then(function(e){I[a]=e})),65535<i&&(d=++e)}(d);return Promise.all(y.values())}).then(function(){for(var e=null,t=0;t<p.length;t++){var i,a,n,s,r=p.codePointAt(t);e&&(n=r,z||(z=new Set,x("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(e){z.add(e)})),z.has(n)||function(e){var t=E.get(e);return t||(t=new w,x(e.ranges,function(e){t.add(e)}),E.set(e,t)),t}(e).has(r))?m[t]=m[t-1]:(e=I[_[t]],(n=f[e.id])||(s=S(a=e.typeforms,o,"sans-serif"),i=S(a[s],l,"normal"),a=function(e,t){var i=t;if(!e.includes(i))for(var i=1/0,a=0;a<e.length;a++)Math.abs(e[a]-t)<Math.abs(i-t)&&(i=e[a]);return i}(null==(a=a[s])?void 0:a[i],c),n=f[e.id]=d+"/font-files/"+e.id+"/"+s+"."+i+"."+a+".woff"),null==(s=h.get(n))&&(s=h.size,h.set(n,s)),m[t]=s),65535<r&&(m[++t]=m[t-1])}return{fontUrls:Array.from(h.keys()),chars:m}})},Object.defineProperty(e,"__esModule",{value:!0}),e;function v(e,t){e&=i;return 0!=((t.codePointAt(e/6|0)||48)-48&1<<e%6)}function x(e,a){var i;i=function(e,t){for(var i=e;i<=t;i++)a(i)},e.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(e){return e.split("-").map(function(e){return parseInt(e.trim(),16)})}).forEach(function(e){var t=e[0],e=e[1];i(t,e=void 0===e?t:e)})}function S(e,t,i){{if(e[t])return t;if(e[i])return i;for(var a in e)return a}}var e,w,T,i,A,M,I,E,n,z,s}],init(e,t,i){return e(t,i())}});const Ph=()=>(self.performance||Date).now(),Rh=yh();let Lh;const Oh=[],Nh=5;let jh=0;function Fh(){for(var e=Ph();Oh.length&&Ph()-e<Nh;)Oh.shift()();jh=Oh.length?setTimeout(Fh,0):0}const Uh=(...a)=>new Promise((t,i)=>{Oh.push(()=>{var e=Ph();try{Rh.webgl.generateIntoCanvas(...a),t({timing:Ph()-e})}catch(e){i(e)}}),jh=jh||setTimeout(Fh,0)}),Bh=4,Vh=2e3,Gh={};let Hh=0;function Wh(n,s,e,t,i,a,r,o,l,c){const d="TroikaTextSDFGenerator_JS_"+Hh++%Bh;let p=Gh[d];return(p=p||(Gh[d]={workerModule:fh({name:d,workerId:d,dependencies:[yh,Ph],init(e,i){const a=e().javascript.generate;return function(...e){var t=i();return{textureData:a(...e),timing:i()-t}}},getTransferables(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null})).requests++,clearTimeout(p.idleTimer),p.workerModule(n,s,e,t,i,a).then(({textureData:t,timing:e})=>{var i=Ph(),a=new Uint8Array(4*t.length);for(let e=0;e<t.length;e++)a[4*e+c]=t[e];return Rh.webglUtils.renderImageData(r,a,o,l,n,s,1<<3-c),e+=Ph()-i,0==--p.requests&&(p.idleTimer=setTimeout(()=>{var e;e=d,hh[e]&&hh[e].forEach(function(e){e()}),uh[e]&&(uh[e].terminate(),delete uh[e])},Vh)),{timing:e}})}const qh=Rh.webglUtils.resizeWebGLCanvasWithoutClearing,Xh={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Yh=new Ze;let Jh=!1;function Kh(){return(self.performance||Date).now()}const Zh=Object.create(null);function $h(n,s){Jh=!0,n=em({},n);const r=Kh();var i,e=Xh["defaultFontURL"],t=[];if(e&&t.push({label:"default",src:im(e)}),n.font&&t.push({label:"user",src:im(n.font)}),n.font=t,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Xh.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||Xh.unicodeFontsURL,null!=n.colorRanges){var a,o={};for(a in n.colorRanges)if(n.colorRanges.hasOwnProperty(a)){let e=n.colorRanges[a];"number"!=typeof e&&(e=Yh.set(e).getHex()),o[a]=e}n.colorRanges=o}Object.freeze(n);const{textureWidth:l,sdfExponent:c}=Xh,x=n["sdfGlyphSize"],S=l/x*4;let w=Zh[x];w||((e=document.createElement("canvas")).width=l,e.height=256*x/S,(w=Zh[x]={glyphCount:0,sdfGlyphSize:x,sdfCanvas:e,sdfTexture:new d(e,void 0,void 0,void 0,V,V),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,i=w,(t=i.sdfCanvas).addEventListener("webglcontextlost",e=>{console.log("Context Lost",e),e.preventDefault(),i.contextLost=!0}),t.addEventListener("webglcontextrestored",e=>{console.log("Context Restored",e),i.contextLost=!1;const t=[];i.glyphsByFont.forEach(e=>{e.forEach(e=>{t.push(Qh(e,i,!0))})}),Promise.all(t).then(()=>{am(i),i.sdfTexture.needsUpdate=!0})}));const{sdfTexture:T,sdfCanvas:A}=w;(Xh.useWorker?nm:sm)(n).then(d=>{const{glyphIds:p,glyphFontIndices:u,fontData:h,glyphPositions:m,fontSize:f,timings:i}=d,g=[],_=new Float32Array(4*p.length);let y=0,b=0;var e=Kh();const v=h.map(e=>{let t=w.glyphsByFont.get(e.src);return t||w.glyphsByFont.set(e.src,t=new Map),t}),t=(p.forEach((e,t)=>{var i=u[t],{src:a,unitsPerEm:n}=h[i];let s=v[i].get(e);if(!s){var{path:a,pathBounds:r}=d.glyphData[a][e],o=Math.max(r[2]-r[0],r[3]-r[1])/x*(Xh.sdfMargin*x+.5),l=w.glyphCount++;const c=[r[0]-o,r[1]-o,r[2]+o,r[3]+o];v[i].set(e,s={path:a,atlasIndex:l,sdfViewBox:c}),g.push(s)}const c=s["sdfViewBox"];r=m[b++],o=m[b++],i=f/n;_[y++]=r+c[0]*i,_[y++]=o+c[1]*i,_[y++]=r+c[2]*i,_[y++]=o+c[3]*i,p[t]=s.atlasIndex}),i.quads=(i.quads||0)+(Kh()-e),Kh());i.sdf={};var e=A.height,a=Math.ceil(w.glyphCount/S),a=Math.pow(2,Math.ceil(Math.log2(a*x)));e<a&&(console.info(`Increasing SDF texture size ${e}->`+a),qh(A,l,a),T.dispose()),Promise.all(g.map(t=>Qh(t,w,n.gpuAccelerateSDF).then(({timing:e})=>{i.sdf[t.atlasIndex]=e}))).then(()=>{g.length&&!w.contextLost&&(am(w),T.needsUpdate=!0),i.sdfTotal=Kh()-t,i.total=Kh()-r,s(Object.freeze({parameters:n,sdfTexture:T,sdfGlyphSize:x,sdfExponent:c,glyphBounds:_,glyphAtlasIndices:p,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{var e;w.contextLost||(e=A)._warm||(Rh.webgl.isSupported(e),e._warm=!0)})}function Qh({path:e,atlasIndex:t,sdfViewBox:i},{sdfGlyphSize:a,sdfCanvas:n,contextLost:s},r){var o,l,c,d,p,u,h,m,f,g,_,y,b,v;return s?Promise.resolve({timing:-1}):({textureWidth:s,sdfExponent:o}=Xh,l=Math.max(i[2]-i[0],i[3]-i[1]),c=(d=Math.floor(t/4))%(s/a)*a,d=Math.floor(d/(s/a))*a,[p,u,h,m,f,g,_,y,b,v,s=!0]=[a,a,e,i,l,o,n,c,d,t%4,r],s?Uh(p,u,h,m,f,g,_,y,b,v).then(null,e=>(Lh||(console.warn("WebGL SDF generation failed, falling back to JS",e),Lh=!0),Wh(p,u,h,m,f,g,_,y,b,v))):Wh(p,u,h,m,f,g,_,y,b,v))}function em(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}let tm;function im(e){return(tm=tm||("undefined"==typeof document?{}:document.createElement("a"))).href=e,tm.href}function am(t){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");var{sdfCanvas:i,sdfTexture:a}=t,{width:i,height:n}=i,t=t.sdfCanvas.getContext("webgl");let e=a.image.data;e&&e.length===i*n*4||(e=new Uint8Array(i*n*4),a.image={width:i,height:n,data:e},a.flipY=!1,a.isDataTexture=!0),t.readPixels(0,0,i,n,t.RGBA,t.UNSIGNED_BYTE,e)}}const nm=fh({name:"Typesetter",dependencies:[fh({name:"Typesetter",dependencies:[function(_,K){const z=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,k="[^\\S\\u00A0]",D=new RegExp(k+"|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]");function t({text:W="",font:e,lang:t,fontSize:w=400,fontWeight:i=1,fontStyle:a="normal",letterSpacing:T=0,lineHeight:A="normal",maxWidth:M=1/0,direction:n,textAlign:q="left",textIndent:I=0,whiteSpace:s="normal",overflowWrap:E="normal",anchorX:r=0,anchorY:c=0,metricsOnly:d=!1,unicodeFontsURL:o,preResolvedFonts:l=null,includeCaretPositions:X=!1,chunkedBoundsSize:Y=8192,colorRanges:J=null},p){const u=$(),h={fontLoad:0,typesetting:0};var m,f,g;-1<W.indexOf("\r")&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),W=W.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),w=+w,T=+T,M=+M,A=A||"normal",I=+I,[{text:t,lang:a,fonts:i,style:e,weight:o,preResolvedFonts:l,unicodeFontsURL:m},f]=[{text:W,lang:t,style:a,weight:i,fonts:"string"==typeof e?[{src:e}]:e,unicodeFontsURL:o,preResolvedFonts:l},e=>{h.fontLoad=$()-u;const f=isFinite(M);let P=null,R=null,L=null,O=null,N=null,j=null,F=null,U=null,B=0,g=0,_="nowrap"!==s;const y=new Map;var t=$();let b=I,v=0,x=new Q;const S=[x];e.forEach(c=>{var e=c["fontObj"],{ascender:t,descender:i,unitsPerEm:a,lineGap:n,capHeight:s,xHeight:r}=e;let d=y.get(e);if(!d){const u=w/a;var n="normal"===A?(t-i+n)*u:A*w,o=(n-(t-i)*u)/2,l=Math.min(n,(t-i)*u),p=(t+i)/2*u+l/2;d={index:y.size,src:e.src,fontObj:e,fontSizeMult:u,unitsPerEm:a,ascender:t*u,descender:i*u,capHeight:s*u,xHeight:r*u,lineHeight:n,baseline:-o-t*u,caretTop:p,caretBottom:p-l},y.set(e,d)}const u=d["fontSizeMult"];a=W.slice(c.start,c.end+1);let h,m;e.forEachGlyph(a,w,T,(e,t,i,a)=>{t+=v,a+=c.start,h=t,m=e;var n=W.charAt(a),s=e.advanceWidth*u,r=x.count;let o;if("isEmpty"in e||(e.isWhitespace=!!n&&new RegExp(k).test(n),e.canBreakAfter=!!n&&D.test(n),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||z.test(n)),e.isWhitespace||e.isEmpty||g++,_&&f&&!e.isWhitespace&&t+s+b>M&&r){if(x.glyphAt(r-1).glyphObj.canBreakAfter)o=new Q,b=-t;else for(let e=r;e--;){if(0===e&&"break-word"===E){o=new Q,b=-t;break}if(x.glyphAt(e).glyphObj.canBreakAfter){var l=(o=x.splitAt(e+1)).glyphAt(0).x;b-=l;for(let e=o.count;e--;)o.glyphAt(e).x-=l;break}}o&&(x.isSoftWrapped=!0,x=o,S.push(x),B=M)}r=x.glyphAt(x.count);r.glyphObj=e,r.x=t+b,r.y=i,r.width=s,r.charIndex=a,r.fontData=d,"\n"===n&&(x=new Q,S.push(x),b=-(t+s+T*w)+I)}),v=h+m.advanceWidth*u+T*w});let o=0,V=(S.forEach(t=>{let i=!0;for(let e=t.count;e--;){var a=t.glyphAt(e),{lineHeight:a,capHeight:n,xHeight:s,baseline:r}=(i&&!a.glyphObj.isWhitespace&&(t.width=a.x+a.width,t.width>B&&(B=t.width),i=!1),a.fontData),a=(a>t.lineHeight&&(t.lineHeight=a),r-t.baseline);a<0&&(t.baseline+=a,t.cap+=a,t.ex+=a),t.cap=Math.max(t.cap,t.baseline+n),t.ex=Math.max(t.ex,t.baseline+s)}t.baseline-=o,t.cap-=o,t.ex-=o,o+=t.lineHeight}),0),G=0;if(r&&("number"==typeof r?V=-r:"string"==typeof r&&(V=-B*("left"===r?0:"center"===r?.5:"right"===r?1:C(r)))),c&&("number"==typeof c?G=-c:"string"==typeof c&&(G="top"===c?0:"top-baseline"===c?-S[0].baseline:"top-cap"===c?-S[0].cap:"top-ex"===c?-S[0].ex:"middle"===c?o/2:"bottom"===c?o:"bottom-baseline"===c?-S[S.length-1].baseline:C(c)*o)),!d){const H=K.getEmbeddingLevels(W,n);P=new Uint16Array(g),R=new Uint8Array(g),L=new Float32Array(2*g),O={},F=[1/0,1/0,-1/0,-1/0],U=[],X&&(j=new Float32Array(4*W.length)),J&&(N=new Uint8Array(3*g));let E=0,z=-1,k=-1,D,C;S.forEach((r,e)=>{var{count:o,width:n}=r;if(0<o){let s=0;for(let e=o;e--&&r.glyphAt(e).glyphObj.isWhitespace;)s++;let i=0,a=0;if("center"===q)i=(B-n)/2;else if("right"===q)i=B-n;else if("justify"===q&&r.isSoftWrapped){let t=0;for(let e=o-s;e--;)r.glyphAt(e).glyphObj.isWhitespace&&t++;a=(B-n)/t}if(a||i){let t=0;for(let e=0;e<o;e++){var l=r.glyphAt(e),c=l.glyphObj;l.x+=i+t,0!==a&&c.isWhitespace&&e<o-s&&(t+=a,l.width+=a)}}var d=K.getReorderSegments(W,H,r.glyphAt(0).charIndex,r.glyphAt(r.count-1).charIndex);for(let e=0;e<d.length;e++){var[p,u]=d[e];let a=1/0,n=-1/0;for(let e=0;e<o;e++)if(r.glyphAt(e).charIndex>=p){let t=e,i=e;for(;i<o;i++){var h=r.glyphAt(i);if(h.charIndex>u)break;i<o-s&&(a=Math.min(a,h.x),n=Math.max(n,h.x+h.width))}for(let e=t;e<i;e++){var m=r.glyphAt(e);m.x=n-(m.x+m.width-a)}break}}let t;var f=e=>t=e;for(let e=0;e<o;e++){var g,_,y,b,v,x,S,w,T=r.glyphAt(e),A=(t=T.glyphObj).index,M=1&H.levels[T.charIndex];if(M&&(g=K.getMirroredCharacter(W[T.charIndex]))&&T.fontData.fontObj.forEachGlyph(g,0,0,f),X&&({charIndex:g,fontData:b}=T,_=T.x+V,y=T.x+T.width+V,j[4*g]=M?y:_,j[4*g+1]=M?_:y,j[4*g+2]=r.baseline+b.caretBottom+G,j[4*g+3]=r.baseline+b.caretTop+G,1<(M=g-z)&&Z(j,z,M),z=g),J)for(var I=T["charIndex"];I>k;)k++,J.hasOwnProperty(k)&&(C=J[k]);t.isWhitespace||t.isEmpty||(_=E++,{fontSizeMult:y,src:b,index:M}=T.fontData,(x=O[b]||(O[b]={}))[A]||(x[A]={path:t.path,pathBounds:[t.xMin,t.yMin,t.xMax,t.yMax]}),x=T.x+V,T=T.y+r.baseline+G,L[2*_]=x,L[2*_+1]=T,w=x+t.xMin*y,v=T+t.yMin*y,x=x+t.xMax*y,T=T+t.yMax*y,w<F[0]&&(F[0]=w),v<F[1]&&(F[1]=v),x>F[2]&&(F[2]=x),T>F[3]&&(F[3]=T),_%Y==0&&(D={start:_,end:_,rect:[1/0,1/0,-1/0,-1/0]},U.push(D)),D.end++,w<(S=D.rect)[0]&&(S[0]=w),v<S[1]&&(S[1]=v),x>S[2]&&(S[2]=x),T>S[3]&&(S[3]=T),P[_]=A,R[_]=M,J&&(w=3*_,N[w]=C>>16&255,N[1+w]=C>>8&255,N[2+w]=255&C))}}}),j&&1<(e=W.length-z)&&Z(j,z,e)}const l=[];y.forEach(({index:e,src:t,unitsPerEm:i,ascender:a,descender:n,lineHeight:s,capHeight:r,xHeight:o})=>{l[e]={src:t,unitsPerEm:i,ascender:a,descender:n,lineHeight:s,capHeight:r,xHeight:o}}),h.typesetting=$()-t,p({glyphIds:P,glyphFontIndices:R,glyphPositions:L,glyphData:O,fontData:l,caretPositions:j,glyphColors:N,chunkedBounds:U,fontSize:w,topBaseline:G+S[0].baseline,blockBounds:[V,G-o,V+B,G],visibleBounds:F,timings:h})}],g=({chars:t,fonts:i})=>{let a,n;var s=[];for(let e=0;e<t.length;e++)t[e]!==n?(n=t[e],s.push(a={start:e,end:e,fontObj:i[t[e]]})):a.end=e;f(s)},l?g(l):_(t,g,{lang:a,fonts:i,style:e,weight:o,unicodeFontsURL:m})}function C(e){e=e.match(/^([\d.]+)%$/),e=e?parseFloat(e[1]):NaN;return isNaN(e)?0:e/100}function Z(t,i,a){var n=t[4*i],e=t[4*i+1],s=t[4*i+2],r=t[4*i+3],o=(e-n)/a;for(let e=0;e<a;e++){var l=4*(i+e);t[l]=n+o*e,t[1+l]=n+o*(e+1),t[2+l]=s,t[3+l]=r}}function $(){return(self.performance||Date).now()}function Q(){this.data=[]}const n=["glyphObj","x","y","width","charIndex","fontData"];return Q.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/n.length)},glyphAt(e){var t=Q.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){var t=new Q;return t.data=this.data.splice(e*n.length),t}},Q.flyweight=n.reduce((e,t,i,a)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*n.length+i]},set(e){this.data[this.index*n.length+i]=e}}),e),{data:null,index:0}),{typeset:t,measure:function(e,n){t({...e,metricsOnly:!0},e=>{var[e,t,i,a]=e.blockBounds;n({width:i-e,height:a-t})})}}},pl,bh],init(e,t,i){return e(t,i())}})],init(i){return function(t){return new Promise(e=>{i.typeset(t,e)})}},getTransferables(e){var t,i=[];for(t in e)e[t]&&e[t].buffer&&i.push(e[t].buffer);return i}}),sm=nm.onMainThread;const rm={};const om="aTroikaGlyphBounds",lm="aTroikaGlyphIndex";class cm extends Ko{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new $i,this.boundingBox=new Ri}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){let t=function(e){let t=rm[e];return t=t||(rm[e]=new Xr(1,1,e,e).translate(.5,.5,0))}(e="number"!=typeof(this._detail=e)||e<1?1:e);["position","normal","uv"].forEach(e=>{this.attributes[e]=t.attributes[e].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,a,n){this.updateAttributeData(om,e,4),this.updateAttributeData(lm,t,1),this.updateAttributeData("aTroikaGlyphColor",n,3),this._blockBounds=i,this._chunkedBounds=a,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){var e,t,i,a,n,s,r,o,l,c,d,p,u,h=this._blockBounds;h&&({curveRadius:e,boundingBox:t}=this,e?({PI:i,floor:a,min:d,max:n,sin:u,cos:s}=Math,p=i/2,r=2*i,o=Math.abs(e),l=h[0]/o,c=h[2]/o,d=a((l+p)/r)!==a((c+p)/r)?-o:d(u(l)*o,u(c)*o),p=a((l-p)/r)!==a((c-p)/r)?o:n(u(l)*o,u(c)*o),u=a((l+i)/r)!==a((c+i)/r)?2*o:n(o-s(l)*o,o-s(c)*o),t.min.set(d,h[1],e<0?-u:0),t.max.set(p,h[3],e<0?0:u)):(t.min.set(h[0],h[1],0),t.max.set(h[2],h[3],0)),t.getBoundingSphere(this.boundingSphere))}applyClipRect(t){let i=this.getAttribute(lm).count;var a=this._chunkedBounds;if(a)for(let e=a.length;e--;){i=a[e].end;var n=a[e].rect;if(n[1]<t.w&&n[3]>t.y&&n[0]<t.z&&n[2]>t.x)break}this.instanceCount=i}updateAttributeData(e,t,i){var a=this.getAttribute(e);t?a&&a.array.length===t.length?(a.array.set(t),a.needsUpdate=!0):(this.setAttribute(e,new ds(t,i)),delete this._maxInstanceCount,this.dispose()):a&&this.deleteAttribute(e)}}function dm(e){e=Eh(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ie},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ye(0,0,0,0)},uTroikaClipRect:{value:new Ye(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ie},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ze},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new _},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,vertexTransform:`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);

${""}
float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,fragmentDefs:`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  ${""}
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  ${""}
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  ${""}

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,fragmentColorTransform:`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,customRewriter({vertexShader:e,fragmentShader:t}){var i=/\buniform\s+vec3\s+diffuse\b/;return i.test(t)&&(t=t.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(e)||(e=e.replace(vh,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const pm=new T({color:16777215,side:We,transparent:!0}),um=new Ke,hm=new Je,mm=new Je,fm=[],gm=new Je;function _m(e){return Array.isArray(e)?e[0]:e}let ym=()=>{const e=new P(new Xr(1,1),pm);return ym=()=>e,e},bm=()=>{const e=new P(new Xr(1,1,32,1),pm);return bm=()=>e,e};const vm={type:"syncstart"},xm={type:"synccomplete"};e=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"];const Sm=e.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class wm extends P{constructor(){super(new cm,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation="+x+y",this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(i){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(i):(this._isSyncing=!0,this.dispatchEvent(vm),$h({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},e=>{this._isSyncing=!1,this._textRenderInfo=e,this.geometry.updateGlyphs(e.glyphBounds,e.glyphAtlasIndices,e.blockBounds,e.chunkedBounds,e.glyphColors);const t=this._queuedSyncs;t&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{t.forEach(e=>e&&e())})),this.dispatchEvent(xm),i&&i()})))}onBeforeRender(e,t,i,a,n,s){this.sync(),n.isTroikaTextMaterial&&this._prepareForRender(n)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return dm(e)}get material(){let i=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=pm.clone());if(i&&i.isDerivedFrom(t)||(i=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function e(){t.removeEventListener("dispose",e),i.dispose()})),this.hasOutline()){let t=i._outlineMtl;return t||((t=i._outlineMtl=Object.create(i,{id:{value:i.id+.1}})).isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,i.addEventListener("dispose",function e(){i.removeEventListener("dispose",e),t.dispose()})),[t,i]}return i}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return _m(this.material).getDepthMaterial()}get customDistanceMaterial(){return _m(this.material).getDistanceMaterial()}_prepareForRender(e){var o=e.isTextOutlineMaterial,l=e.uniforms,c=this.textRenderInfo;if(c){var{sdfTexture:d,blockBounds:p}=c;l.uTroikaSDFTexture.value=d,l.uTroikaSDFTextureSize.value.set(d.image.width,d.image.height),l.uTroikaSDFGlyphSize.value=c.sdfGlyphSize,l.uTroikaSDFExponent.value=c.sdfExponent,l.uTroikaTotalBounds.value.fromArray(p),l.uTroikaUseGlyphColors.value=!o&&!!c.glyphColors;let e=0,t=0,i=0,a,n,s=0,r=0;o?({outlineWidth:d,outlineOffsetX:c,outlineOffsetY:m,outlineBlur:u,outlineOpacity:h}=this,e=this._parsePercent(d)||0,t=Math.max(0,this._parsePercent(u)||0),a=h,s=this._parsePercent(c)||0,r=this._parsePercent(m)||0):((i=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(d=this.strokeColor,l.uTroikaStrokeColor.value.set(null==d?8421504:d),null==(n=this.strokeOpacity))&&(n=1),a=this.fillOpacity),l.uTroikaEdgeOffset.value=e,l.uTroikaPositionOffset.value.set(s,r),l.uTroikaBlurRadius.value=t,l.uTroikaStrokeWidth.value=i,l.uTroikaStrokeOpacity.value=n,l.uTroikaFillOpacity.value=null==a?1:a,l.uTroikaCurveRadius.value=this.curveRadius||0;var u=this.clipRect;u&&Array.isArray(u)&&4===u.length?l.uTroikaClipRect.value.fromArray(u):(h=100*(this.fontSize||.1),l.uTroikaClipRect.value.set(p[0]-h,p[1]-h,p[2]+h,p[3]+h)),this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var h,m,c=o?this.outlineColor||0:this.color;null==c?delete e.color:c===(m=e.hasOwnProperty("color")?e.color:e.color=new Ze)._input&&"object"!=typeof c||m.set(m._input=c);let t=this.orientation||"+x+y";t!==e._orientation&&(d=l.uTroikaOrient.value,(u="+x+y"!==(t=t.replace(/[^-+xyz]/g,""))&&t.match(/^([-+])([xyz])([-+])([xyz])$/))?([,p,h,o,m]=u,hm.set(0,0,0)[h]="-"===p?1:-1,mm.set(0,0,0)[m]="-"===o?-1:1,um.lookAt(gm,hm.cross(mm),mm),d.setFromMatrix4(um)):d.identity(),e._orientation=t)}_parsePercent(e){var t;return"string"==typeof e&&(t=(t=e.match(/^(-?[\d.]+)%$/))?parseFloat(t[1]):NaN,e=(isNaN(t)?0:t/100)*this.fontSize),e}localPositionToTextCoords(e,t=new ie){t.copy(e);var i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new ie){return hm.copy(e),this.localPositionToTextCoords(this.worldToLocal(hm),t)}raycast(e,t){var{textRenderInfo:i,curveRadius:a}=this;if(i){var n=i.blockBounds,i=(a?bm:ym)(),s=i.geometry,{position:r,uv:o}=s.attributes;for(let i=0;i<o.count;i++){let e=n[0]+o.getX(i)*(n[2]-n[0]);var l=n[1]+o.getY(i)*(n[3]-n[1]);let t=0;a&&(t=a-Math.cos(e/a)*a,e=Math.sin(e/a)*a),r.setXYZ(i,e,l,t)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,fm.length=0,i.raycast(e,fm);for(let e=0;e<fm.length;e++)fm[e].object=this,t.push(fm[e])}}copy(t){var e=this.geometry;return super.copy(t),this.geometry=e,Sm.forEach(e=>{this[e]=t[e]}),this}clone(){return(new this.constructor).copy(this)}}e.forEach(e=>{const t="_private_"+e;Object.defineProperty(wm.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});new Ri,new Ze;(class extends wm{});new WeakMap;new WeakMap;const Tm=class{constructor(e,t,i,a,n,s,r=null){this.sobj=e,this.xref=t,this.xdisp=i,this.yref=a,this.ydisp=n,this.textid=s,this.ssid=r,this.sobj.stype="text"}dispose=()=>{this.sobj.dispose()};updateForResize=e=>{switch(this.xref){case 0:this.sobj.position.x=this.xdisp;break;case-1:this.sobj.position.x=R.getLeftBorder(e)+this.xdisp;break;case 1:this.sobj.position.x=R.getRightBorder(e)+this.xdisp}switch(this.yref){case 0:this.sobj.position.y=this.ydisp;break;case 1:this.sobj.position.y=R.getTopBorder(e)+this.ydisp;break;case-1:this.sobj.position.y=R.getBottomBorder(e)+this.ydisp}};getWidth=()=>this.sobj.geometry.boundingBox.max.x-this.sobj.geometry.boundingBox.min.x;getHeight=()=>this.sobj.geometry.boundingBox.max.y-this.sobj.geometry.boundingBox.min.y;getScaledSizeX(){return Math.abs(this.getWidth()*this.sobj.scale.x)}getScaledSizeY(){return Math.abs(this.getHeight()*this.sobj.scale.y)}setNewPosition=(e,t,i,a,n)=>{this.xref=e,this.xdisp=t,this.yref=i,this.ydisp=a,this.updateForResize(n)};setScale=(e,t)=>{this.sobj.scale.x=e,this.sobj.scale.y=t}};const Am=class{constructor(e,t,i,a,n){this.scene=e,this.id=n;var e=new Xr(46,10),n=new T({color:16777215,side:We}),e=new P(e,n),n=new Xr(46,10),s=new T({color:65280,side:We}),n=new P(n,s);n.position.add(new Je(23,0,.1)),this.fillGO=new f,this.fillGO.add(n),this.fillGO.position.x=-23,this.fillGO.scale.x=0,this.loadingBar=new f,this.loadingBar.position.x=t,this.loadingBar.position.y=i,this.loadingBar.position.z=a,this.loadingBar.add(e),this.loadingBar.add(this.fillGO),this.scene.add(this.loadingBar)}get obj(){return this.loadingBar}dispose(){}setProgress=e=>{this.fillGO.scale.x=e}};var Mm=Object.defineProperty,t=(e,t,i)=>{var a;return a=i,(t="symbol"!=typeof t?t+"":t)in(e=e)?Mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i};function Im(e,t,i,a,n){let s;if(e=e.subarray||e.slice?e:e.buffer,i=i.subarray||i.slice?i:i.buffer,e=t?e.subarray?e.subarray(t,n&&t+n):e.slice(t,n&&t+n):e,i.set)i.set(e,a);else for(s=0;s<e.length;s++)i[s+a]=e[s]}class Em extends C{constructor(){super(),t(this,"type","MeshLine"),t(this,"isMeshLine",!0),t(this,"positions",[]),t(this,"previous",[]),t(this,"next",[]),t(this,"side",[]),t(this,"width",[]),t(this,"indices_array",[]),t(this,"uvs",[]),t(this,"counters",[]),t(this,"widthCallback",null),t(this,"_attributes"),t(this,"_points",[]),t(this,"points"),t(this,"matrixWorld",new Ke),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(t,e){var i;if(t=(i=t)instanceof Float32Array?i:i instanceof C?i.getAttribute("position").array:i.map(e=>{var t=Array.isArray(e);return e instanceof Je?[e.x,e.y,e.z]:e instanceof ie?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}).flat(),this._points=t,this.widthCallback=null!=e?e:null,this.positions=[],this.counters=[],t.length&&t[0]instanceof Je)for(let e=0;e<t.length;e++){var a=t[e],n=e/(t.length-1);this.positions.push(a.x,a.y,a.z),this.positions.push(a.x,a.y,a.z),this.counters.push(n),this.counters.push(n)}else for(let e=0;e<t.length;e+=3){var s=e/(t.length-1);this.positions.push(t[e],t[e+1],t[e+2]),this.positions.push(t[e],t[e+1],t[e+2]),this.counters.push(s),this.counters.push(s)}this.process()}compareV3(e,t){e*=6,t*=6;return this.positions[e]===this.positions[t]&&this.positions[1+e]===this.positions[1+t]&&this.positions[2+e]===this.positions[2+t]}copyV3(e){e*=6;return[this.positions[e],this.positions[1+e],this.positions[2+e]]}process(){var t,i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let a,n;n=this.compareV3(0,i-1)?this.copyV3(i-2):[this.positions[0]-(this.positions[6]-this.positions[0]),this.positions[1]-(this.positions[7]-this.positions[1]),this.positions[2]-(this.positions[8]-this.positions[2])],this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(let e=0;e<i;e++)this.side.push(1),this.side.push(-1),a=this.widthCallback?this.widthCallback(e/(i-1)):1,this.width.push(a),this.width.push(a),this.uvs.push(e/(i-1),0),this.uvs.push(e/(i-1),1),e<i-1&&(n=this.copyV3(e),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]),t=2*e,this.indices_array.push(t,1+t,2+t),this.indices_array.push(2+t,1+t,3+t)),0<e&&(n=this.copyV3(e),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]));n=this.compareV3(i-1,0)?this.copyV3(1):[this.positions[i-1]+(this.positions[i-1]-this.positions[i-1-6]),this.positions[i-2]+(this.positions[i-2]-this.positions[i-2-6]),this.positions[i-3]+(this.positions[i-3]-this.positions[i-3-6])],this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new D(new Float32Array(this.positions),3),previous:new D(new Float32Array(this.previous),3),next:new D(new Float32Array(this.next),3),side:new D(new Float32Array(this.side),1),width:new D(new Float32Array(this.width),1),uv:new D(new Float32Array(this.uvs),2),index:new D(new Uint16Array(this.indices_array),1),counters:new D(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:i}){var a=this._attributes.position.array,n=this._attributes.previous.array,s=this._attributes.next.array,r=a.length;Im(a,0,n,0,r),Im(a,6,a,0,r-6),a[r-6]=e,a[r-5]=t,a[r-4]=i,a[r-3]=e,a[r-2]=t,a[r-1]=i,Im(a,6,s,0,r-6),s[r-6]=e,s[r-5]=t,s[r-4]=i,s[r-3]=e,s[r-2]=t,s[r-1]=i,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const zm=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${154<=(()=>parseInt("174".replace(/\D+/g,"")))()?"colorspace_fragment":"encodings_fragment"}>
  }
`;class km extends Pn{constructor(e){super({uniforms:{...z.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Ze(16777215)},gradient:{value:[new Ze(16711680),new Ze(65280)]},opacity:{value:1},resolution:{value:new ie(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new ie(1,1)}},vertexShader:`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
  	vCounters = counters;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir1 = normalize(currentP - prevP);
    vec2 dir2 = normalize(nextP - currentP);
    vec2 dir = normalize(dir1 + dir2);

    vec2 perp = vec2(-dir1.y, dir1.x);
    vec2 miter = vec2(-dir.y, dir.x);
    //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,fragmentShader:zm}),t(this,"lineWidth"),t(this,"map"),t(this,"useMap"),t(this,"alphaMap"),t(this,"useAlphaMap"),t(this,"color"),t(this,"gradient"),t(this,"opacity",1),t(this,"resolution"),t(this,"sizeAttenuation"),t(this,"dashArray"),t(this,"dashOffset"),t(this,"dashRatio"),t(this,"useDash"),t(this,"useGradient"),t(this,"visibility"),t(this,"alphaTest",0),t(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(e){this.uniforms.gradient.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(e){this.uniforms.useGradient.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}const Dm=class{constructor(e,t,i,a,n,s){this.points=[],this.singlePixelArray=[],this.details=e,this.scene=t,this.previous=new Je(-1e3,-1e3,-1e3),this.line=new Em,this.line.setPoints(this.points);e={color:new Ze(parseInt(e.color,16)),opacity:1,lineWidth:i,dashArray:a,dashRatio:n,transparent:s,depthTest:!0};this.material=new km(e),this.mesh=new P(this.line,this.material),t.add(this.mesh),this.setPoints(this.details.points)}dispose(){this.scene.remove(this.mesh)}draw=()=>{this.line.setPoints(this.singlePixelArray)};drawTill=e=>{e=this.singlePixelArray.length/3*(e=1<(e=e<0?0:e)?1:e),e=this.singlePixelArray.slice(0,e=(e*=3)-e%3);this.line.setPoints(e)};drawTillIndex=e=>{(e=e<0?0:e)>this.points.length&&(e=this.points.length-1);e=this.singlePixelArray.length/3*(e/(this.points.length-1)),e=this.singlePixelArray.slice(0,e=(e*=3)-e%3);this.line.setPoints(e)};setPoints=t=>{var i=[];if(this.points=[],this.singlePixelArray=[],0<t.length){for(let e=0;e<t.length;++e){var a=t[e];i.push(new Je(a.x,a.y,a.z))}this.singlePixelArray.push(i[0].x),this.singlePixelArray.push(i[0].y),this.singlePixelArray.push(i[0].z),this.points.push(i[0]);for(let e=0;e<i.length-1;++e){var n=i[e],s=i[e+1],r=n.distanceTo(s);for(let e=1;e<=r;e+=1){var o=e/r,l=new Je;l.lerpVectors(n,s,o),this.singlePixelArray.push(l.x,l.y,l.z),this.points.push(l)}}}};getNearest=(e,t,i=!1)=>{var a=new Je(e,t,this.points[0].z);-1e3===this.previous.z&&(this.previous=a.clone());let n=40,s=this.points[0],r=0;var o=(o=a.distanceTo(this.previous))<7?7:o;for(let e=0;e<this.points.length;++e){var l=a.distanceTo(this.points[e]);l<n&&(!i||Math.abs(e-this.lastIndex)<o)&&(n=l,s=this.points[e],r=e)}return this.previous=a,{pos:s,index:r,max_index:this.points.length-1}};getNearestStartPoint=(e,t)=>{var i=new Je(e,t,this.points[0].z);let a=null;for(let e=0;e<this.points.length;++e)i.distanceTo(this.points[e])<3&&(a=this.points[e]);return a};getLastPoint=()=>this.points[this.points.length-1];getAtProgress=e=>{e=this.singlePixelArray.length/3*e,e=this.singlePixelArray.slice(0,e=(e*=3)-e%3);return{x:e[e.length-3],y:e[e.length-2],z:this.details.z}};getFirstPoint=()=>this.points[0]};const Cm=class{constructor(e,t,i,a,n,s){this.camera=i,this.scene=a,this.linewidth=n,this.color=s,this.boxWidth=e,this.boxHeight=t;i=new En(this.boxWidth,this.boxHeight,10);this.ctx=document.createElement("canvas").getContext("2d"),this.contextWidth=e,this.contextHeight=t,this.ctx.canvas.width=this.contextWidth,this.ctx.canvas.height=this.contextHeight,this.ctx.fillStyle="#FFF",this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.canvastexture=new Js(this.ctx.canvas),this.drawingMaterial=new T({map:this.canvastexture,transparent:!0}),this.cube=new P(i,this.drawingMaterial),this.cube.position.set(0,0,-20),this.scene.add(this.cube),this.linesArray=[]}dispose=()=>{this.scene.remove(this.cube),this.drawingMaterial.dispose(),this.canvastexture.dispose()};drawTill=(e,t)=>{1<(t=t<0?0:t)&&(t=1);let i=0;e.wrongStartIndex&&(a=e.wrongStartIndex.index/(e.points.length-1),i=e.singlePixelArray.length/3*a,i=(i*=3)-i%3);var a=e.singlePixelArray.length/3*t,n=(a=(a*=3)-a%3,e.singlePixelArray.slice(i,a));this.clear();for(let e=0;e<n.length;e+=3){var s=(n[e]+this.boxWidth/2)*this.contextWidth/this.boxWidth,r=(this.boxHeight/2-n[e+1])*this.contextHeight/this.boxHeight;this.store(s,r,this.linewidth,"#"+this.color)}this.redraw()};store=(e,t,i,a)=>{this.linesArray.push({x:e,y:t,size:i,color:a})};redraw=()=>{for(var e=1;e<this.linesArray.length;e++)this.ctx.beginPath(),this.ctx.moveTo(this.linesArray[e-1].x,this.linesArray[e-1].y),this.ctx.lineWidth=this.linesArray[e].size,this.ctx.lineCap="round",this.ctx.strokeStyle=this.linesArray[e].color,this.ctx.lineTo(this.linesArray[e].x,this.linesArray[e].y),this.ctx.stroke();this.canvastexture.needsUpdate=!0};clear=()=>{this.linesArray=[],this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}};const Pm=class{constructor(e,t,i,a,n){this.tilesHorizontal=t,this.tilesVertical=i,0!==this.tilesHorizontal&&0!==this.tilesVertical&&(this.numberOfTiles=a,(this.texture=e).wrapS=e.wrapT=H,e.repeat.set(1/this.tilesHorizontal,1/this.tilesVertical),this.tileDisplayDuration=n,this.currentDisplayTime=0,this.currentTile=0)}reset=()=>{this.currentDisplayTime=0,this.currentTile=0};update=e=>{if(0!==this.tilesHorizontal&&0!==this.tilesVertical)for(this.currentDisplayTime+=1e3*e;this.currentDisplayTime>this.tileDisplayDuration;){this.currentDisplayTime-=this.tileDisplayDuration,this.currentTile++,this.currentTile===this.numberOfTiles&&(this.currentTile=0);var t=this.currentTile%this.tilesHorizontal,t=(this.texture.offset.x=t/this.tilesHorizontal,Math.floor(this.currentTile/this.tilesHorizontal));this.texture.offset.y=t/this.tilesVertical}}};const Rm=class{static onMouseDown=(i,a,e,n,t)=>{for(let t=0;t<a.actions.length;++t)if(a.actions[t].id===n){i.callback_addResult(a.actions[t].result||a.actions[t].id);for(let e=0;e<a.actions[t].overlays.length;++e){var s=a.actions[t].overlays[e];i.callback_addImage(s.id,s.position.x,s.position.y,s.position.z,s.parentid,s.overlayDuration)}for(let e=0;e<a.actions[t].audioclips.length;++e){var r=a.actions[t].audioclips[e];i.callback_playaudio2(r.audio_path)}i.callback_MoveNext();break}}};const Lm=class{static onload=(t,a)=>{var n=t.callback_getResults();if(0===a.includes.length&&0===a.excludes.length)t.callback_MoveNext();else if("all"===a.type){let e=0;if(0!==a.includes.length){let t=!0;for(let e=0;e<a.includes.length;++e)if(1===a.latestResult){if(0===n.length||n[n.length-1]!==a.includes[e].id){t=!1;break}}else if(!n.includes(a.includes[e].id)){t=!1;break}t&&(e+=1),console.log("includes: ",t)}else e+=1;if(0!==a.excludes.length){let t=!0;for(let e=0;e<a.excludes.length;++e){if(0===n.length||n[n.length-1]===a.excludes[e].id){t=!1;break}if(n.includes(a.excludes[e].id)){t=!1;break}}t&&(e+=1),console.log("excludes: ",t)}else e+=1;2===e?(console.log("All conditions met. correct jump"),t.callback_jumpToStep(a.correct_jump_instance_id),1===a.track_correctness&&t.callback_addCorrectness(a.step_num)):(console.log("All conditions not met so wrong jump"),1===a.track_wrongness&&t.callback_addWrongness(a.step_num),t.callback_jumpToStep(a.wrong_jump_instance_id))}else{let i=!1;for(let t=0;t<a.includes.length&&!i;++t)if(1===a.latestResult){if(0===n.length)break;if(n[n.length-1]===a.includes[t].id){i=!0;break}}else for(let e=0;e<n.length;++e)if(n[e]===a.includes[t].id){i=!0;break}!0===i?(1===a.track_correctness&&t.callback_addCorrectness(a.step_num),t.callback_jumpToStep(a.correct_jump_instance_id)):(1===a.track_wrongness&&t.callback_addWrongness(a.step_num),t.callback_jumpToStep(a.wrong_jump_instance_id))}}};function Om(){return performance.now()}var Nm=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){return 1===e?1:e*e*(2.70158*e-1.70158)},Out:function(e){return 0===e?0:--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Nm.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Nm.Bounce.In(2*e):.5*Nm.Bounce.Out(2*e-1)+.5}}),generatePow:function(t){return t=1e4<(t=(t=void 0===t?4:t)<Number.EPSILON?Number.EPSILON:t)?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(2*e,t)/2:(1-Math.pow(2-2*e,t))/2+.5}}}}),pl=(jm.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},jm.prototype.removeAll=function(){this._tweens={}},jm.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},jm.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},jm.prototype.update=function(e,t){void 0===e&&(e=Om()),void 0===t&&(t=!1);var i=Object.keys(this._tweens);if(0===i.length)return!1;for(;0<i.length;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var n=this._tweens[i[a]];n&&!1===n.update(e,!t)&&!t&&delete this._tweens[i[a]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},jm);function jm(){this._tweens={},this._tweensAddedDuringUpdate={}}var Fm,Um={Linear:function(e,t){var i=e.length-1,a=i*t,n=Math.floor(a),s=Um.Utils.Linear;return t<0?s(e[0],e[1],a):1<t?s(e[i],e[i-1],i-a):s(e[n],e[i<n+1?i:n+1],a-n)},Bezier:function(e,t){for(var i=0,a=e.length-1,n=Math.pow,s=Um.Utils.Bernstein,r=0;r<=a;r++)i+=n(1-t,a-r)*n(t,r)*e[r]*s(a,r);return i},CatmullRom:function(e,t){var i=e.length-1,a=i*t,n=Math.floor(a),s=Um.Utils.CatmullRom;return e[0]===e[i]?s(e[((n=t<0?Math.floor(a=i*(1+t)):n)-1+i)%i],e[n],e[(n+1)%i],e[(n+2)%i],a-n):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-a)-e[0]):1<t?e[i]-(s(e[i],e[i],e[i-1],e[i-1],a-i)-e[i]):s(e[n?n-1:0],e[n],e[i<n+1?i:n+1],e[i<n+2?i:n+2],a-n)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=Um.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:(Fm=[1],function(e){var t=1;if(Fm[e])return Fm[e];for(var i=e;1<i;i--)t*=i;return Fm[e]=t}),CatmullRom:function(e,t,i,a,n){var e=.5*(i-e),a=.5*(a-t),s=n*n;return(2*t-2*i+e+a)*(n*s)+(-3*t+3*i-2*e-a)*s+e*n+t}}},Bm=(Vm.nextId=function(){return Vm._nextId++},Vm._nextId=0,Vm);function Vm(){}var Gm=new pl,Hm=(i.prototype.getId=function(){return this._id},i.prototype.isPlaying=function(){return this._isPlaying},i.prototype.isPaused=function(){return this._isPaused},i.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},i.prototype.duration=function(e){return this._duration=e=void 0===e?1e3:e,this},i.prototype.dynamic=function(e){return this._isDynamic=e=void 0===e?!1:e,this},i.prototype.start=function(e,t){if(void 0===e&&(e=Om()),void 0===t&&(t=!1),!this._isPlaying){if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var i in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a,n={};for(a in this._valuesEnd)n[a]=this._valuesEnd[a];this._valuesEnd=n}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}}return this},i.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},i.prototype._setupProperties=function(e,t,i,a,n){for(var s in i){var r=e[s],o=Array.isArray(r),l=o?"array":typeof r,c=!o&&Array.isArray(i[s]);if("undefined"!=l&&"function"!=l){if(c){if(0===(f=i[s]).length)continue;for(var d=[r],p=0,u=f.length;p<u;p+=1){var h=this._handleRelativeValue(r,f[p]);if(isNaN(h)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(h)}c&&(i[s]=d)}if("object"!=l&&!o||!r||c)void 0!==t[s]&&!n||(t[s]=r),o||(t[s]*=1),a[s]=c?i[s].slice().reverse():t[s]||0;else{t[s]=o?[]:{};var m=r;for(g in m)t[s][g]=m[g];a[s]=o?[]:{};var f=i[s];if(!this._isDynamic){var g,_={};for(g in f)_[g]=f[g];i[s]=f=_}this._setupProperties(m,t[s],f,a[s],n)}}}},i.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback)&&this._onStopCallback(this._object),this},i.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},i.prototype.pause=function(e){return void 0===e&&(e=Om()),!this._isPaused&&this._isPlaying&&(this._isPaused=!0,this._pauseStart=e,this._group)&&this._group.remove(this),this},i.prototype.resume=function(e){return void 0===e&&(e=Om()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group)&&this._group.add(this),this},i.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},i.prototype.group=function(e){return this._group=e=void 0===e?Gm:e,this},i.prototype.delay=function(e){return this._delayTime=e=void 0===e?0:e,this},i.prototype.repeat=function(e){return this._initialRepeat=e=void 0===e?0:e,this._repeat=e,this},i.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},i.prototype.yoyo=function(e){return this._yoyo=e=void 0===e?!1:e,this},i.prototype.easing=function(e){return void 0===e&&(e=Nm.Linear.None),this._easingFunction=e,this},i.prototype.interpolation=function(e){return void 0===e&&(e=Um.Linear),this._interpolationFunction=e,this},i.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},i.prototype.onStart=function(e){return this._onStartCallback=e,this},i.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},i.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},i.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},i.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},i.prototype.onStop=function(e){return this._onStopCallback=e,this},i.prototype.update=function(e,t){if(void 0===e&&(e=Om()),void 0===t&&(t=!0),this._isPaused)return!0;var i,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(a<e)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),a=(e-this._startTime)/this._duration;a=0===this._duration||1<a?1:a,t=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,t),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),1!=a)return!0;if(0<this._repeat){for(i in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!(this._onEveryStartCallbackFired=!1)}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var n=0,s=this._chainedTweens.length;n<s;n++)this._chainedTweens[n].start(this._startTime+this._duration,!1);return this._isPlaying=!1},i.prototype._updateProperties=function(e,t,i,a){for(var n in i){var s,r,o,l;void 0!==t[n]&&(s=t[n]||0,r=i[n],o=Array.isArray(e[n]),l=Array.isArray(r),!o&&l?e[n]=this._interpolationFunction(r,a):"object"==typeof r&&r?this._updateProperties(e[n],s,r,a):"number"==typeof(r=this._handleRelativeValue(s,r))&&(e[n]=s+(r-s)*a))}},i.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},i.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],i=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof i?this._valuesStartRepeat[e]+parseFloat(i):this._valuesEnd[e],this._valuesEnd[e]=t},i);function i(e,t){void 0===t&&(t=Gm),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Nm.Linear.None,this._interpolationFunction=Um.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Bm.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}Bm.nextId;var e=Gm,Wm=(e.getAll.bind(e),e.removeAll.bind(e),e.add.bind(e),e.remove.bind(e),e.update.bind(e));class qm{static rotation=new ga(0,0,0);static onLoad=(e,t,i)=>{if(t.movable)if("rotation"===t.animation_type){var a={x:0,y:0,z:0},n={x:0,y:0,z:0},s={x:t.movable.sobj.rotation.x,y:t.movable.sobj.rotation.y,z:t.movable.sobj.rotation.z},r=t.value;a.z=r*Math.PI/180,n.x=s.x+a.x,n.y=s.y+a.y,n.z=s.z+a.z,t.movable.shakeAnimationRunning=!0,new Hm(t.movable.sobj.rotation).to(n,1e3*t.duration/t.animation_times).easing(Nm.Elastic.Out).yoyo(!0).repeat(t.animation_times).start().onComplete(()=>{t.movable.shakeAnimationRunning=!1,t.movable.sobj.rotation.copy(t.movable.originalRotation)})}else if("translate"===t.animation_type){t.movable.shakeAnimationRunning=!0,t.movable.sobj.position.copy(t.movable.originalPosition);let e={x:t.movable.originalPosition.x+t.value};switch(t.direction){case"x":break;case"y":e={y:t.movable.originalPosition.y+t.value};break;case"z":e={z:t.movable.originalPosition.z+t.value}}t.movable.tween=new Hm(t.movable.sobj.position).to(e,1e3*t.duration/t.animation_times).easing(Nm.Sinusoidal.InOut).yoyo(!0).repeat(t.animation_times).start().onComplete(()=>{t.movable.shakeAnimationRunning=!1,t.movable.sobj.position.copy(t.movable.originalPosition)})}};static stop=(e,t)=>{t.movable&&t.movable.tween&&(t.movable.tween.stop(),t.movable.tween=null,t.movable.shakeAnimationRunning=!1,"rotation"===t.animation_type?t.movable.sobj.rotation.copy(t.movable.rotation):"translate"===t.animation_type&&t.movable.sobj.position.copy(t.movable.originalPosition))};static stopForImage=(e,t)=>{t.tween&&(t.tween.stop(),t.tween=null,t.shakeAnimationRunning=!1,t.texture.position.copy(t.originalPosition))};static update2=(e,t,i,a)=>{if("translate"===t.animation_type)t.direction;else if("translate"===t.animation_type&&(t.direction||(t.direction=1),"z"===t.shake_type?(qm.rotation.x=0,qm.rotation.y=0,qm.rotation.z=t.direction*t.value*Math.random()):"x"===t.shake_type?(qm.rotation.x=t.direction*t.value*Math.random(),qm.rotation.y=0,qm.rotation.z=0):"y"===t.shake_type&&(qm.rotation.x=0,qm.rotation.y=t.direction*t.value*Math.random(),qm.rotation.z=0),t.direction*=-1,t.movable.sobj.rotation.copy(qm.rotation),i-t.startTime>=parseFloat(t.duration)))return t.movable.sobj.rotation.copy(t.originalRotation),-1;return 0};static setStoppableOnMouseDown=(e,t,i)=>{t.stoppable=i};static onMouseDown=(e,t,i,a,n,s)=>{t.stoppable&&qm.stop(e,t)}}const Xm=qm;R0(155);class Ym{static onMouseDown=(t,i,a,n,e)=>{i.computedata={},i.computedata.mouse_start=new ie,i.computedata.mouse_end=new ie,i.computedata.mouse_down=!0,i.computedata.mouse_start.x=a.x,i.computedata.mouse_start.y=a.y,i.computedata.mouse_end.x=a.x,i.computedata.mouse_end.y=a.y;for(let e=0;e<i.drags.length;++e)if(R.isClickedOnDrag2(i.drags[e],n)){i.computedata.currentDrag=i.drags[e],i.computedata.image=t.callback_getTextureWithId(i.computedata.currentDrag.id),i.computedata.image.orig_position=i.computedata.image.texture.position.clone(),i.computedata.dest_pos_z=i.computedata.image.orig_position.z,i.computedata.dragDisplacement={x:0,y:0},i.computedata.dragDisplacement.x=a.x-i.computedata.image.texture.position.x,i.computedata.dragDisplacement.y=a.y-i.computedata.image.texture.position.y;var s=i.computedata.image.texture.position.z;i.computedata.currentDrag.dest_pos_z=s,i.computedata.image.texture.position.z=s+30,i.computedata.currentDrag.followers_dest_pos_z=[],i.computedata.currentDrag.followers_images=[];for(let e=0;e<i.computedata.currentDrag.followers.length;++e){var r=t.callback_getTextureWithId(i.computedata.currentDrag.followers[e].id),o=(i.computedata.currentDrag.followers_images.push(r),r.texture.position.z);i.computedata.currentDrag.followers_dest_pos_z.push(o),r.texture.position.z=o+30}break}};static onMouseMove=(e,t,i,a)=>{var n,s;console.log("SSScriptDragDrop: onMouseMove"),t.computedata&&t.computedata.mouse_down&&null!=t.computedata.currentDrag&&(e.callback_stopAudioIfStoppable(),i&&(t.computedata.mouse_end.x=i.x,t.computedata.mouse_end.y=i.y),e=t.computedata.image.xref,n=t.computedata.image.yref,s=i.x-t.computedata.dragDisplacement.x,i=i.y-t.computedata.dragDisplacement.y,t.computedata.image.setNewPosition(e,s,n,i,a),Ym.setPositionForFollowers(t.computedata.followers_images,s,i,e,n))};static onMouseUp=(i,a,n)=>{if(a.computedata&&a.computedata.mouse_down&&(a.computedata.mouse_down=!1,a.computedata)&&null!=a.computedata.currentDrag){let e=!1,t=(a.computedata.mouse_end.distanceTo(a.computedata.mouse_start)<3&&(e=!0),!1);var s,r=a.computedata.currentDrag.positions,o=new Je(0,0,a.computedata.image.texture.position.z);for(let e=0;e<r.length;++e)if(o.x=r[e].x,o.y=r[e].y,o.distanceTo(a.computedata.image.texture.position)<a.computedata.currentDrag.grabDistance){t=!0,i.callback_setLastGrabbed(a.computedata.currentDrag.id),a.computedata.image.setNewPosition(0,o.x,0,o.y,n),a.computedata.image.texture.position.z=a.computedata.dest_pos_z,Ym.setPositionForFollowers(a.computedata.followers_images,o.x,o.y,0,0,n),Ym.setZPositionForFollowers(a.computedata.followers_images,a.computedata.followers_dest_pos_z);break}t||(e||1===a.track_wrongness&&i.callback_addWrongness(this.stepDetails.step_num),i.callback_setLastGrabbed(""),s=a.computedata.image.orig_position,a.computedata.image.texture.position.z=a.computedata.dest_pos_z,e&&s&&(a.computedata.image.setNewPosition(0,s.x,0,s.y,n),Ym.setPositionForFollowers(a.computedata.followers_images,s.x,s.y,0,0),Ym.setZPositionForFollowers(a.computedata.followers_images,a.computedata.followers_dest_pos_z))),e||(i.callback_addResult(a.computedata.currentDrag.id),i.callback_MoveNext())}};static setPositionForFollowers=(t,i,a,n,s,r)=>{if(t)for(let e=0;e<t.length;++e)t[e].setNewPosition(n,i,s,a,r)};static setZPositionForFollowers=(t,i)=>{if(t)for(let e=0;e<t.length;++e)t[e].texture.position.z=i[e]}}const Jm=Ym;R0(615);const Km=class{static onMouseDown=(i,a,e,n,t,s)=>{var r=R.getMovable(i,n);if(r){var o=r.id||r.sobj.name;if(1===a.enableDragsFromJSON){r=i.callback_getJSONPathArray1(a.drags_json_path);if(a.drags=r,a.json_drags=r,!a.drags)return}let t=!1;for(let e=0;e<a.drags.length;++e)if(i.getSpecialVariableValue(a.drags[e].id)===o){t=!0;break}if(t){if(!s.obj){if(s.obj=R.getMovable(i,n),!s.obj)return;s.obj.computedata={},s.obj.computedata.mouse_start=new ie,s.obj.computedata.mouse_end=new ie,s.obj.computedata.mouse_start.x=e.x,s.obj.computedata.mouse_start.y=e.y,s.obj.computedata.mouse_end.x=e.x,s.obj.computedata.mouse_end.y=e.y,s.obj.orig_position=s.obj.sobj.position.clone(),s.obj.computedata.id=s.obj.id||s.obj.sobj.name,s.obj.computedata.dragDisplacement={x:0,y:0},s.obj.computedata.dragDisplacement.x=e.x-s.obj.sobj.position.x,s.obj.computedata.dragDisplacement.y=e.y-s.obj.sobj.position.y,s.obj.sobj.position.z=s.obj.orig_position.z+a.zFront,s.obj.computedata.scripts=[]}s.obj.computedata.scripts.push(a.step_num)}}};static onMouseMove=(e,t,i,a,n)=>{n.obj&&n.obj.computedata.scripts.includes(t.step_num)&&(n.obj.computedata.mouse_end.x=i.x,n.obj.computedata.mouse_end.y=i.y,t=i.x-n.obj.computedata.dragDisplacement.x,i=i.y-n.obj.computedata.dragDisplacement.y,n.obj.setNewPosition(n.obj.xref,t,n.obj.yref,i,a))};static onMouseUp=(t,i,a,n)=>{if(!n.obj)return 0;if(!n.obj.computedata.scripts.includes(i.step_num))return 0;if(n.obj.computedata.mouse_end.distanceTo(n.obj.computedata.mouse_start)<3)return t.callback_setLastGrabbed(""),n.obj.setNewPosition(n.obj.xref,n.obj.orig_position.x,n.obj.yref,n.obj.orig_position.y,a),n.obj.sobj.position.z=n.obj.orig_position.z,n.obj=null,0;let s=!1;var e=n.obj.sobj.position;let r=1;var o=new Je(0,0,e.z);for(let e=0;e<i.drags.length;++e)if(t.getSpecialVariableValue(i.drags[e].id)===n.obj.computedata.id){var l=i.drags[e].positions,c=i.drags[e].grabDistance;for(let e=0;e<l.length;++e)if(o.x=l[e].x,o.y=l[e].y,o.distanceTo(n.obj.sobj.position)<c){s=!0,t.callback_setLastGrabbed(n.obj.computedata.id),t.callback_addResult(n.obj.computedata.id);var d=new Je(o.x,o.y,n.obj.orig_position.z);n.obj.setNewPosition(0,d.x,0,d.y,a),n.obj.sobj.position.z=d.z,n.obj=null;break}break}return s?r=2:(t.callback_setLastGrabbed(""),n.obj&&(n.obj.sobj.position.z=n.obj.orig_position.z)),n.obj&&t.callback_addResult(n.obj.computedata.id),r}};const Zm=class{static onload=(e,t,i)=>{var a=e.callback_getResults();0!==a.length&&(a=a[a.length-1],(a=R.getMovable(e,a))&&a.orig_position)&&a.setNewPosition(0,a.orig_position.x,0,a.orig_position.y,i),e.callback_MoveNext()}};const $m=class{static onload=(i,t)=>{var e=i.callback_getResults();if(0!==e.length){var a=e[e.length-1],n=i.callback_getTextureWithId(a);console.log(n);for(let e=0;e<t.audios.length;++e){var s=t.audios[e];if(a===s.id){let t=!1;for(let e=0;e<s.positions.length;++e)if(new Je(s.positions[e].x,s.positions[e].y,n.texture.position.z).distanceTo(n.texture.position)<5){t=!0;break}if(t)for(let e=0;e<s.audio_on_success.length;++e)i.callback_playaudio(s.audio_on_success[e].audio_path,1===s.tapToStop);else for(let e=0;e<s.audio_on_fail.length;++e)i.callback_playaudio(s.audio_on_fail[e].audio_path,1===s.tapToStop);break}}i.callback_MoveNext()}}};const Qm=class{static onload=(i,a)=>{var e=i.callback_getResults();if(0!==e.length){var e=e[e.length-1],n=i.callback_getTextureWithId(e);console.log(n);for(let e=0;e<a.audios.length;++e){var s=a.audios[e];let t=!1;for(let e=0;e<s.positions.length;++e)if(new Je(s.positions[e].x,s.positions[e].y,n.texture.position.z).distanceTo(n.texture.position)<5){t=!0;break}if(t){for(let e=0;e<s.audio_on_success.length;++e)i.callback_playaudio(s.audio_on_success[e].audio_path,1===s.tapToStop);break}}i.callback_MoveNext()}}};class ef{static add=(t,e,i)=>{var a={stepDetails:e,images:[]},n=e.images;t.callback_enableImages(n,e);for(let e=0;e<n.length;++e){var s=t.callback_getTextureWithId(n[e].id);s.setFreeMovement(!0),s&&(s.details=n[e],a.images.push(s))}"x"===e.direction?a.images.sort(function(e,t){return e.texture.position.x-t.texture.position.x}):"y"===e.direction?a.images.sort(function(e,t){return e.texture.position.y-t.texture.position.y}):"z"===e.direction&&a.images.sort(function(e,t){return e.texture.position.z-t.texture.position.z}),a.images.length===e.images.length&&i.push(a)};static update=(e,t,i)=>{for(let e=0;e<t.length;++e){var a=t[e];for(let e=0;e<a.images.length;++e){var n=a.images[e];"x"===a.stepDetails.direction&&(n.texture.position.x+=a.stepDetails.speed*i),"y"===a.stepDetails.direction&&(n.texture.position.y+=a.stepDetails.speed*i),"z"===a.stepDetails.direction&&(n.texture.position.z+=a.stepDetails.speed*i)}"x"===a.stepDetails.direction&&(0<a.stepDetails.speed?ef.removeLastAndAddAtBegining(a):ef.removeBeginingAndAddAtLast(a))}};static removeLastAndAddAtBegining=e=>{var t,i=e.images[e.images.length-1];"x"===e.stepDetails.direction?i.texture.position.x>=e.stepDetails.border2&&(t=i.texture.position.x-e.stepDetails.border2,e.images.splice(e.images.length-1,1),e.images.splice(0,0,i),i.texture.position.x=e.stepDetails.border1+t):"y"===e.stepDetails.direction?i.texture.position.y>=e.stepDetails.border2&&(t=i.texture.position.y-e.stepDetails.border2,e.images.splice(e.images.length-1,1),e.images.splice(0,0,i),i.texture.position.y=e.stepDetails.border1+t):"z"===e.stepDetails.direction&&i.texture.position.z>=e.stepDetails.border2&&(t=i.texture.position.z-e.stepDetails.border2,e.images.splice(e.images.length-1,1),e.images.splice(0,0,i),i.texture.position.z=e.stepDetails.border1+t)};static removeBeginingAndAddAtLast=e=>{var t,i=e.images[0];"x"===e.stepDetails.direction?i.texture.position.x<=e.stepDetails.border1&&(t=i.texture.position.x-e.stepDetails.border1,e.images.splice(0,1),e.images.push(i),i.texture.position.x=e.stepDetails.border2+t):"y"===e.stepDetails.direction?i.texture.position.y<=e.stepDetails.border1&&(t=i.texture.position.y-e.stepDetails.border1,e.images.splice(0,1),e.images.push(i),i.texture.position.y=e.stepDetails.border2+t):"z"===e.stepDetails.direction&&i.texture.position.z<=e.stepDetails.border1&&(t=i.texture.position.z-e.stepDetails.border1,e.images.splice(0,1),e.images.push(i),i.texture.position.z=e.stepDetails.border2+t)}}const tf=ef;const af=class{static onload=(e,t,i)=>{let a=!1;(a=i[t.countid]&&("equal"===t.type&&t.value===i[t.countid]&&(a=!0),"more than"===t.type&&t.value>i[t.countid]&&(a=!0),"more than or equal"===t.type&&i[t.countid]>=t.value&&(a=!0),"less than"===t.type&&i[t.countid]<t.value&&(a=!0),"less than or equal"===t.type)&&i[t.countid]<=t.value?!0:a)?e.callback_jumpToStep(t.correct_jump_instance_id):e.callback_jumpToStep(t.wrong_jump_instance_id)}};const nf=class{static onload=(e,t,i)=>{var a;i[t.countid]||(i[t.countid]=0),"set"===t.type?i[t.countid]=parseFloat(e.getSpecialVariableValue(t.value)):"increment"===t.type?i[t.countid]+=parseFloat(e.getSpecialVariableValue(t.value)):"decrement"===t.type?i[t.countid]-=parseFloat(e.getSpecialVariableValue(t.value)):"random"===t.type&&(a=parseFloat(e.getSpecialVariableValue(t.start_range_value)),e=parseFloat(e.getSpecialVariableValue(t.end_range_value)),"integer"===t.randomtype?i[t.countid]=R.getRandomInt(a,e):"float"===t.randomtype&&(i[t.countid]=Math.random()*(e-a)+a))}};R0(615);const sf=class{static onMouseDown=(e,i,a,n,t,s)=>{var r=R.getMovable(e,n);if(r){var o=r.id||r.sobj.name;if(1===i.enableDragsFromJSON){r=e.callback_getJSONPathArray1(i.drags_json_path);if(i.drags=r,i.json_drags=r,!i.drags)return}let t=!1;for(let e=0;e<i.drags.length;++e)if(i.drags[e].id===o){t=!0;break}if(t){if(!s.obj){if(s.obj=R.getMovable(e,n),!s.obj)return;s.obj.computedata={},s.obj.computedata.mouse_start=new ie,s.obj.computedata.mouse_end=new ie,s.obj.computedata.mouse_start.x=a.x,s.obj.computedata.mouse_start.y=a.y,s.obj.computedata.mouse_end.x=a.x,s.obj.computedata.mouse_end.y=a.y,s.obj.orig_position=s.obj.sobj.position.clone(),s.obj.computedata.id=s.obj.id||s.obj.sobj.name,s.obj.computedata.dragDisplacement={x:0,y:0},s.obj.computedata.dragDisplacement.x=a.x-s.obj.sobj.position.x,s.obj.computedata.dragDisplacement.y=a.y-s.obj.sobj.position.y,s.obj.sobj.position.z=s.obj.orig_position.z+i.zFront,s.obj.computedata.scripts=[]}s.obj.computedata.scripts.push(i.step_num)}}};static onMouseMove=(e,t,i,a,n)=>{n.obj&&n.obj.computedata.scripts.includes(t.step_num)&&(n.obj.computedata.mouse_end.x=i.x,n.obj.computedata.mouse_end.y=i.y,t=i.x-n.obj.computedata.dragDisplacement.x,i=i.y-n.obj.computedata.dragDisplacement.y,n.obj.setNewPosition(n.obj.xref,t,n.obj.yref,i,a))};static onMouseUp=(t,i,a,n)=>{if(!n.obj)return 0;if(!n.obj.computedata.scripts.includes(i.step_num))return 0;if(n.obj.computedata.mouse_end.distanceTo(n.obj.computedata.mouse_start)<3)return t.callback_setLastGrabbed(""),n.obj.setNewPosition(n.obj.xref,n.obj.orig_position.x,n.obj.yref,n.obj.orig_position.y,a),n.obj.sobj.position.z=n.obj.orig_position.z,n.obj=null,0;let s=!1;var r=n.obj.sobj.position;let e=1;var o=new Je(0,0,r.z);for(let e=0;e<i.drags.length;++e)if(i.drags[e].id!==n.obj.computedata.id){var l=R.getMovable(t,i.drags[e].id);if(l&&(o.x=l.sobj.position.x,o.y=l.sobj.position.y,o.distanceTo(r)<i.grabDistance)){s=!0,l.sobj.position.copy(n.obj.orig_position),t.callback_setLastGrabbed(n.obj.computedata.id),t.callback_addResult(i.drags[e].id),t.callback_addResult(n.obj.computedata.id);l=new Je(o.x,o.y,n.obj.orig_position.z);n.obj.setNewPosition(0,l.x,0,l.y,a),n.obj.sobj.position.z=l.z,n.obj=null;break}}return s?e=2:(t.callback_setLastGrabbed(""),n.obj&&(n.obj.sobj.position.z=n.obj.orig_position.z)),n.obj&&t.callback_addResult(n.obj.computedata.id),e}};const rf=class{constructor(e,t,i,a,n,s){this.camera=e,this.scene=t,this.linewidth=i,this.color=a,this.inpoints=n,this.startProgress=0,this.lastProgress=0,this.previous=new Je(-1e3,-1e3,-1e3),this.points=[],this.setPoints(n),this.id=s,this.linesArray=[]}dispose=()=>{};drawTill=e=>{var t=this.points.length*(e=1<(e=e<0?0:e)?1:e),i=this.points.slice(0,t);this.clear();for(let e=0;e<i.length;e++){var a=(i[e].x+this.paintCanvas.boxWidth/2)*this.paintCanvas.contextWidth/this.paintCanvas.boxWidth,n=(this.paintCanvas.boxHeight/2-i[e].y)*this.paintCanvas.contextHeight/this.paintCanvas.boxHeight;this.store(a-this.paintCanvas.cube.position.x,n-this.paintCanvas.cube.position.y)}this.startProgress=0,this.lastProgress=e,this.lastIndex=Math.round(this.points.length*e),this.paintCanvas.addLine(this.id,this.linesArray,this.linewidth,this.color)};store=(e,t)=>{this.linesArray.push({x:e,y:t})};clear=()=>{this.linesArray=[],this.paintCanvas.clear()};setPoints=t=>{var i=[];if(this.points=[],0<t.length){for(let e=0;e<t.length;++e){var a=t[e];i.push(new Je(a.x,a.y,a.z))}this.points.push(i[0]);for(let e=0;e<i.length-1;++e){var n=i[e],s=i[e+1],r=n.distanceTo(s);for(let e=1;e<=r;e+=1){var o=e/r,l=new Je;l.lerpVectors(n,s,o),this.points.push(l)}}}};getNearest=(e,t,i=!1)=>{var a=new Je(e,t,this.points[0].z);-1e3===this.previous.z&&(this.previous=a.clone());let n=40,s=this.points[0],r=0;var o=(o=a.distanceTo(this.previous))<7?7:o;for(let e=0;e<this.points.length;++e){var l=a.distanceTo(this.points[e]);l<n&&(!i||Math.abs(e-this.lastIndex)<o)&&(n=l,s=this.points[e],r=e)}return this.previous=a,{pos:s,index:r,max_index:this.points.length-1,nearestDistance:n}};getLastPoint=()=>this.points[this.points.length-1];getPointAtProgress=e=>{return 1<(e=e<0?0:e)&&(e=1),0<this.points.length?(e=Math.round(this.points.length*e),this.points[e]):null}};const of=class{static onLoad=(e,t,i,a,n)=>{t.ready=!0,t.brush&&0<t.brush.length&&(e=e.callback_getTextureWithId(t.brush),t.brushImage=e)&&t.path&&0<t.path.details.points.length&&(e.setNewPosition(0,t.path.details.points[0].x,0,t.path.details.points[0].y,n),e.texture.position.z=t.path.details.points[0].z),console.error(t);n=new rf(i,a,t.brushSize,t.brushColor,t.path.details.points);t.painter=n,0===t.manual&&0===t.duration&&t.painter.drawTill(t.fill)};static onMouseDown=(e,t,i,a,n)=>{console.log("SSScriptPaintPath: onMouseDown"),a===t.brush&&(t.line_paint_manual_brush_pointindex=t.painter.getNearest(t.brushImage.x,t.brushImage.y),t.painter.lastIndex=t.line_paint_manual_brush_pointindex.index)};static onMouseMove=(e,t,i,a)=>{var n;console.log("SSScriptPaintPath: onMouseMove"),t.ready&&(n=i[0].point.x,i=i[0].point.y,n=t.painter.getNearest(n,i,!0),t.painter.lastIndex=n.index,.95<n.index/n.max_index?(i=t.painter.getLastPoint(),t.brushImage.setNewPosition(0,i.x,0,i.y,a),t.painter.drawTill(1),1===t.disableBrushOnCompletion&&e.callback_removeImage(t.brush),t.ready=!1,e.callback_MoveNext()):(t.brushImage.setNewPosition(0,n.pos.x,0,n.pos.y,a),i=n.index/n.max_index,t.painter.drawTill(i)))};static onMouseUp=(e,t,i)=>{console.log("SSScriptPaintPath: onMouseUp 1"),t.computedata&&t.computedata.mouse_down&&(t.computedata.mouse_down=!1,t.computedata)&&null!=t.computedata.currentDrag&&(console.log("SSScriptPaintPath: onMouseUp 2"),t.computedata.mouse_end.distanceTo(t.computedata.mouse_start)<3&&console.log("SSScriptPaintPath: onMouseUp 3"),t.computedata.currentDrag.positions,new Je(0,0,t.computedata.image.texture.position.z),e.callback_MoveNext())}};const lf=class{static onload=(e,t)=>{var i=e.getSpecialVariableValue(t.enableid),i=e.callback_getTextureWithId(i);i&&(e=e.getSpecialVariableValue(t.color),e=parseInt(e.replace("#",""),16),i.texture.mat.color.setHex(e),i.texture.mat.opacity=parseFloat(t.alpha))}};var cf,df=R0(46);class pf{static onload=(e,t,i)=>{var a,n,s,r;1===t.enableDropOnDynamicPositions&&(r=R.getMovable(e,t.frame_id))&&(a=r.texture.position.x-r.getScaledSizeX()/2,n=r.texture.position.x+r.getScaledSizeX()/2,s=r.texture.position.y-r.getScaledSizeY()/2,r=r.texture.position.y+r.getScaledSizeY()/2,e=pf.getAllDragsInsideArea(e,t,a,n,s,r,null),pf.rearrange(a,n,s,r,t,e,i))};static onMouseDown=(e,i,a,n,t,s)=>{var r=R.getMovable(e,n);if(r){var o=r.id||r.sobj.name;if(1===i.enableDragsFromJSON){r=e.callback_getJSONPathArray1(i.drags_json_path);if(i.drags=r,i.json_drags=r,!i.drags)return}let t=!1;for(let e=0;e<i.drags.length;++e)if(i.drags[e].id===o){t=!0;break}if(t){if(!s.obj){if(s.obj=R.getMovable(e,n),!s.obj)return;s.obj.computedata={},s.obj.computedata.mouse_start=new ie,s.obj.computedata.mouse_end=new ie,s.obj.computedata.mouse_start.x=a.x,s.obj.computedata.mouse_start.y=a.y,s.obj.computedata.mouse_end.x=a.x,s.obj.computedata.mouse_end.y=a.y,s.obj.orig_position=s.obj.sobj.position.clone(),s.obj.computedata.id=s.obj.id||s.obj.sobj.name,s.obj.computedata.dragDisplacement={x:0,y:0},s.obj.computedata.dragDisplacement.x=a.x-s.obj.sobj.position.x,s.obj.computedata.dragDisplacement.y=a.y-s.obj.sobj.position.y,s.obj.sobj.position.z=s.obj.orig_position.z+i.zFront,s.obj.computedata.scripts=[]}s.obj.computedata.scripts.push(i.step_num)}}};static onMouseMove=(e,t,i,a,n)=>{n.obj&&n.obj.computedata.scripts.includes(t.step_num)&&(n.obj.computedata.mouse_end.x=i.x,n.obj.computedata.mouse_end.y=i.y,t=i.x-n.obj.computedata.dragDisplacement.x,i=i.y-n.obj.computedata.dragDisplacement.y,n.obj.setNewPosition(n.obj.xref,t,n.obj.yref,i,a))};static onMouseUp=(n,s,e,r)=>{if(!r.obj)return 0;if(!r.obj.computedata.scripts.includes(s.step_num))return 0;if(r.obj.computedata.mouse_end.distanceTo(r.obj.computedata.mouse_start)<3)return n.callback_setLastGrabbed(""),r.obj.setNewPosition(r.obj.xref,r.obj.orig_position.x,r.obj.yref,r.obj.orig_position.y,e),r.obj.sobj.position.z=r.obj.orig_position.z,r.obj=null,0;let t=!1;var i=r.obj.sobj.position,a=R.getMovable(n,s.frame_id);if(!a)return 0;var o=a.texture.position.x-a.getScaledSizeX()/2,l=a.texture.position.x+a.getScaledSizeX()/2,c=a.texture.position.y-a.getScaledSizeY()/2,a=a.texture.position.y+a.getScaledSizeY()/2;let d=1;if(R.pointInRectangle(i,o,c,l,a))if(1===s.enableDropOnDynamicPositions){i=pf.getAllDragsInsideArea(n,s,o,l,c,a,r.obj);pf.rearrange(o,l,c,a,s,i,e),t=!0,r.obj.sobj.position.z=r.obj.orig_position.z,n.callback_setLastGrabbed(r.obj.computedata.id),n.callback_addResult(r.obj.computedata.id),r.obj=null}else if(0<s.points.length){let i=!1,a=null;for(let e=0;e<s.points.length;++e){a=new Je(s.points[e].position.x,s.points[e].position.y,s.points[e].position.z);let t=!1;for(let e=0;e<s.drags.length;++e)if(r.obj.computedata.id!==s.drags[e].id){var p=R.getMovable(n,s.drags[e].id);if(p&&(a.z=p.sobj.position.z,p.sobj.position.distanceTo(a)<5)){t=!0;break}}if(!t){i=!0;break}}i&&(t=!0,n.callback_setLastGrabbed(r.obj.computedata.id),n.callback_addResult(r.obj.computedata.id),o=new Je(a.x,a.y,r.obj.orig_position.z),r.obj.setNewPosition(0,o.x,0,o.y,e),r.obj.sobj.position.z=o.z,r.obj=null)}return t?d=2:(n.callback_setLastGrabbed(""),r.obj&&(r.obj.sobj.position.z=r.obj.orig_position.z)),r.obj&&n.callback_addResult(r.obj.computedata.id),d};static getAllDragsInsideArea=(t,i,a,n,s,r,e)=>{var o=[];for(let e=0;e<i.drags.length;++e){var l,c=R.getMovable(t,i.drags[e].id);c&&(l=c.sobj.position)&&l.x>=a&&l.x<=n&&l.y>=s&&l.y<=r&&o.push(c)}return o.sort(function(e,t){e=e.sobj.position,t=t.sobj.position;return e.y===t.y?e.x-t.x:e.y>t.y?-1:0}),o};static rearrange=(t,i,e,a,n,s,r)=>{let o=t+n.xBorder,l=a-n.yBorder,c=0,d=0;for(let e=0;e<s.length;++e){var p=s[e];(o+=p.getScaledSizeX()/2)+p.getScaledSizeX()/2>i&&(o=t+n.xBorder,o+=p.getScaledSizeX()/2,l-=n.yDistanceBetween+c,c=0,d+=1),p.getScaledSizeY()>c&&(c=p.getScaledSizeY()),p.setNewPosition(0,o,0,l-p.getScaledSizeY()/2,r),o+=p.getScaledSizeX()/2+n.xDistanceBetween,p.dragdroprowNum=d}}}const uf=pf;const hf=class{constructor(e,t,i){this.scene=e;e=new Xr(19999,9999);this.material=new T({color:16711680,side:We,transparent:!0,opacity:0}),this.quad=new P(e,this.material),this.quad.position.z=-9999,this.scene.add(this.quad)}setColor=e=>{this.material.color.set(e)};dispose(){this.scene.remove(this.quad),this.quad.geometry.dispose(),this.material.dispose(),this.quad.material.map&&this.quad.material.map.dispose(),this.quad=null}};const mf=class{static onload=(i,t)=>{let a=!1;var n=new Je(0,0,0),s=new Je(0,0,0),r=[];for(let e=0;e<t.ids.length;++e){var o=i.getSpecialVariableValue(t.ids[e].result_ssid);o&&r.push(o)}for(let t=0;t<r.length;++t){var e=R.getMovable(i,r[t]);if(e){n.x=e.sobj.position.x,n.y=e.sobj.position.y;for(let e=0;e<r.length;++e)if(t!==e){var l=R.getMovable(i,r[e]);if(l&&(s.x=l.sobj.position.x,s.y=l.sobj.position.y,n.distanceTo(s)<1)){a=!0;break}}}}a?i.callback_jumpToStep(t.jumpToStepOnRight):i.callback_jumpToStep(t.jumpToStepOnWrong)}};const ff=class{static onload=(t,i,a)=>{var n=[],s=[];for(let e=0;e<i.ids.length;++e){var r=R.getMovable(t,t.getSpecialVariableValue(i.ids[e].image));r&&(s.push(r),n.push(r.sobj.position.clone()))}for(let e=0;e<s.length;++e){var o=Math.floor(Math.random()*n.length),l=n[o];s[e].setNewPosition(0,l.x,0,l.y,a),n.splice(o,1)}}};var gf=new Uint8Array(16);const _f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const yf=function(e){return"string"==typeof e&&_f.test(e)};for(var bf=[],vf=0;vf<256;++vf)bf.push((vf+256).toString(16).substr(1));const xf=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=(bf[e[t+0]]+bf[e[t+1]]+bf[e[t+2]]+bf[e[t+3]]+"-"+bf[e[t+4]]+bf[e[t+5]]+"-"+bf[e[t+6]]+bf[e[t+7]]+"-"+bf[e[t+8]]+bf[e[t+9]]+"-"+bf[e[t+10]]+bf[e[t+11]]+bf[e[t+12]]+bf[e[t+13]]+bf[e[t+14]]+bf[e[t+15]]).toLowerCase();if(yf(e))return e;throw TypeError("Stringified UUID is invalid")};const Sf=function(e,t,i){var a=(e=e||{}).random||(e.rng||function(){if(cf=cf||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto))return cf(gf);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){i=i||0;for(var n=0;n<16;++n)t[i+n]=a[n];return t}return xf(a)};const wf=class{static onLoad=(e,t,i,a,n)=>{t.ready=!0,t.mouse_start=new Je(0,0,0),t.camera=i,t.scene=a;for(let e=0;e<t.points1.length;++e)t.points1[e].point=new Je(t.points1[e].x,t.points1[e].y,t.points1[e].z);for(let e=0;e<t.points2.length;++e)t.points2[e].point=new Je(t.points2[e].x,t.points2[e].y,t.points1[e].z)};static dispose=e=>{e.brushQuad&&(e.scene.remove(e.brushQuad),e.brushQuad.geometry.dispose(),e.brushQuad.material.dispose(),e.brushQuad=null,e.scene=null),e.brushImage=null};static onMouseDown=(i,a,e,t,n)=>{if(console.error("stepDetails: ",a),a.mouse_start.x=e.x,a.mouse_start.y=e.y,a.allowToStartFromPoints1)for(let t=0;t<a.points1.length;++t)if(a.mouse_start.z=a.points1[t].z,a.mouse_start.distanceTo(a.points1[t])<=a.sensitivityToStart){var s=i.callback_getPainters();for(let e=0;e<s.length;++e)if(s[e].instance_id===a.instance_id&&s[e].point1Index===t){i.callback_removePainter(s[e]);break}a.startPoint=a.points1[t],a.startedFrom=1,a.startedFromPointIndex=t;var r=new rf(a.camera,a.scene,a.brushSize,a.brushColor,[]);r.instance_id=a.instance_id,r.uuid=Sf(),r.point1Index=t,a.painter=r,a.painter.setPoints([a.points1[t].point,a.mouse_start]);break}if(!a.startPoint&&a.allowToStartFromPoints2)for(let t=0;t<a.points2.length;++t)if(a.mouse_start.z=a.points2[t].z,a.mouse_start.distanceTo(a.points2[t])<=a.sensitivityToStart){var o=i.callback_getPainters();for(let e=0;e<o.length;++e)if(o[e].instance_id===a.instance_id&&o[e].point2Index===t){i.callback_removePainter(o[e]);break}a.startPoint=a.points2[t],a.startedFrom=2,a.startedFromPointIndex=t;var l=new rf(a.camera,a.scene,a.brushSize,a.brushColor,[]);l.instance_id=a.instance_id,l.uuid=Sf(),l.point2Index=t,a.painter=l,a.painter.setPoints([a.points2[t].point,a.mouse_start]);break}};static onMouseMove=(i,a,e,t)=>{if(console.error("SSScriptPaintPath: onMouseMove"),a.ready&&a.startPoint){a.mouse_start.x=e.x,a.mouse_start.y=e.y,a.painter.setPoints([a.startPoint.point,a.mouse_start]),a.painter.drawTill(1);let t=!1;if(1===a.startedFrom)for(let e=0;e<a.points2.length;++e){var n=a.points2[e].point;if(a.mouse_start.z=n.z,n.distanceTo(a.mouse_start)<=a.sensitivityToEnd){a.painter.point2Index=e,a.painter.setPoints([a.startPoint.point,n]),a.painter.drawTill(1),i.callback_addPainter(a.painter),a.startPoint=null,a.painter=null,t=!0;break}}else for(let e=0;e<a.points1.length;++e){var s=a.points1[e].point;if(a.mouse_start.z=s.z,s.distanceTo(a.mouse_start)<=a.sensitivityToEnd){a.painter.point1Index=e,a.painter.setPoints([a.startPoint.point,s]),a.painter.drawTill(1),i.callback_addPainter(a.painter),a.startPoint=null,a.painter=null,t=!0;break}}t&&i.callback_MoveNext()}};static onMouseUp=(e,t,i)=>{console.log("SSScriptPaintPath: onMouseUp 1");let a=!1;t.painter&&(t.painter.dispose(),a=!0),t.painter=null,t.startPoint=null,a&&e.callback_MoveNext()}};const Tf=class{static onLoad=(t,i)=>{if(i.all)t.callback_removeAllPainters(i.stepid);else{var a=t.callback_getPainters();for(let e=0;e<i.indexCombinations.length;++e){var n=i.indexCombinations[e];for(let e=0;e<a.length;++e)if(a[e].instance_id===i.stepid&&a[e].point1Index===n.points1Index&&a[e].point2Index===n.points2Index){t.callback_removePainter(a[e]);break}}}};static dispose=e=>{}};const Af=class{static onLoad=(e,i)=>{var a=e.callback_getPainters(),n=[];for(let e=0;e<i.indexCombinations.length;++e){var s=i.indexCombinations[e];let t=!1;for(let e=0;e<a.length;++e)if(a[e].instance_id===i.stepid&&a[e].point1Index===s.points1Index&&a[e].point2Index===s.points2Index){t=!0;break}n.push(t)}n.includes(!1)?e.callback_jumpToStep(i.wrong_jump_instance_id):e.callback_jumpToStep(i.correct_jump_instance_id)};static dispose=e=>{}};const Mf=class{static onload=(n,s,e)=>{let t=!1;s.key.startsWith("@jsondata")&&(t=!0);var i=n.callback_getSpecialVariableValue(s.key,t),a=n.callback_getSpecialVariableValue(s.value);let r=!1;if("string"===s.data_type)switch(s.operation){case"equal":r=i===a;break;case"contains":r=i.includes(a);break;case"starts with":r=i.startsWith(a);break;case"ends with":r=i.endsWith(a);break;case"length":r=i.length===parseInt(a)}else if("number"===s.data_type)switch(s.operation){case"equal":r=parseInt(i)===parseInt(a);break;case"more than":r=parseInt(i)>parseInt(a);break;case"more than or equal":r=parseInt(i)>=parseInt(a);break;case"less than":r=parseInt(i)<parseInt(a);break;case"less than or equal":r=parseInt(i)<=parseInt(a)}else if("array"===s.data_type){var o=i.split(",");switch(s.operation){case"contains":r=o.includes(""+a);break;case"contains multiple":if(1===s.multiple_contains_from_data){if(s.multiple_contains_data&&0<s.multiple_contains_data.length){var l=n.callback_getSpecialVariableValue(s.multiple_contains_data,!0);if(Array.isArray(l))if("all"===s.multiple_contain_type){let t=!0;for(let e=0;e<l.length;++e)if(!o.includes(l[e].id)){t=!1;break}r=t}else if("any"===s.multiple_contain_type){let t=!1;for(let e=0;e<l.length;++e)if(o.includes(l[e].id)){t=!0;break}r=t}}}else if("all"===s.multiple_contain_type){let e=0;if(0!==s.includes.length){let t=!0;for(let e=0;e<s.includes.length;++e)if(!o.includes(n.callback_getSpecialVariableValue(s.includes[e].id))){t=!1;break}t&&(e+=1)}else e+=1;if(0!==s.excludes.length){let t=!0;for(let e=0;e<s.excludes.length;++e){if(0===o.length||o[o.length-1]===n.callback_getSpecialVariableValue(s.excludes[e].id)){t=!1;break}if(o.includes(n.callback_getSpecialVariableValue(s.excludes[e].id))){t=!1;break}}t&&(e+=1)}else e+=1;r=2===e}else{let i=!1;for(let t=0;t<s.includes.length&&!i;++t)if(1===s.latestResult){if(0===o.length)break;if(o[o.length-1]===n.callback_getSpecialVariableValue(s.includes[t].id)){i=!0;break}}else for(let e=0;e<o.length;++e)if(o[e]===n.callback_getSpecialVariableValue(s.includes[t].id)){i=!0;break}r=i}break;case"length":r=o.length===parseInt(a)}}else if("geometry"===s.data_type){let a=[];if(Array.isArray(i)){if(0<i.length)if(i[0].id)for(let e=0;e<i.length;++e)a.push(i[e].id);else a=i}else{var c=i.split(",");a=Array.isArray(c)?c:[i]}switch(s.operation){case"any positions":for(let e=0;e<a.length;++e){console.log(`i: ${e}  valKeys[i]: `+a[e]);let t=!1;var d=R.getMovable(n,a[e]);if(d)for(let e=0;e<s.positions.length;++e)if(d.sobj.position.x===s.positions[e].x&&d.sobj.position.y===s.positions[e].y){t=!0;break}if(console.log("local_passed: ",t),!(r=t))break}console.log("passed: ",r);break;case"position in 2D area":for(let e=0;e<a.length;++e){console.log(`i: ${e}  valKeys[i]: `+a[e]);let t=!1;var p=R.getMovable(n,a[e]);if(p)for(let e=0;e<s.includes.length;++e){var u=s.includes[e].x-s.includes[e].width/2,h=s.includes[e].y-s.includes[e].height/2;if(p.sobj.position.x>=u&&p.sobj.position.x<=u+s.includes[e].width&&p.sobj.position.y>=h&&p.sobj.position.y<=h+s.includes[e].height){t=!0;break}}if(console.log("local_passed: ",t),!(r=t))break}console.log("passed: ",r);break;case"elements sequence in 2D area":let i=!1;var m=[];for(let e=0;e<a.length;++e){let t=!1;var f=R.getMovable(n,a[e]);if(f)for(let e=0;e<s.includes.length;++e){var g=s.includes[e].x-s.includes[e].width/2,_=s.includes[e].y-s.includes[e].height/2;if(f.sobj.position.x>=g&&f.sobj.position.x<=g+s.includes[e].width&&f.sobj.position.y>=_&&f.sobj.position.y<=_+s.includes[e].height){t=!0;break}}if(!(i=t))break;m.push(f)}if(i){m.sort(function(e,t){return e.dragdroprowNum===t.dragdroprowNum?e.sobj.position.x-t.sobj.position.x:t.sobj.position.y-e.sobj.position.y});let t=!0;for(let e=0;e<a.length;++e)if(m[e].sobj.name!==a[e]){t=!1;break}r=t}}}r?n.callback_jumpToStep(s.correct_jump_instance_id):n.callback_jumpToStep(s.wrong_jump_instance_id)}};const If=class{static onload=(e,t)=>{console.error("stepDetails: ",t);var i,e=e.callback_getTextureWithId(t.id);e&&e.physics_shape&&(console.error(e.physics_shape),i={x:e.physics_shape.position.x,y:e.physics_shape.position.y},t={x:parseFloat(t.force.x),y:5<e.physics_shape.speed?parseFloat(t.force.y)/4:parseFloat(t.force.y)},df.Body.applyForce(e.physics_shape,i,t))}};const Ef=class{static onMouseDown=(t,i,e,a,n)=>{var s=t.callback_getEnabledWithId(a);if(s)for(let e=0;e<i.actions.length;++e){var r=t.getSpecialVariableValue(i.actions[e].id);if(s.group_id&&r===s.group_id){t.callback_addResult(s.group_id),t.callback_MoveNext();break}if(r===a){t.callback_addResult(i.actions[e].result||r),t.callback_MoveNext();break}}else{var o=t.getTextWithId(a);if(o)for(let e=0;e<i.actions.length;++e){var l=t.getSpecialVariableValue(i.actions[e].id);if(o.group_id&&l===o.group_id){t.callback_addResult(o.group_id),t.callback_MoveNext();break}if(l===a){t.callback_addResult(i.actions[e].result||l),t.callback_MoveNext();break}}}}};const zf=class{static onMouseDown=(t,i,a)=>{for(let e=0;e<i.images.length;++e)if(i.images[e].id===a){t.callback_addResult(i.images[e].result||i.images[e].id);for(let e=0;e<i.images.length;++e)t.callback_removeImage(i.images[e].id);t.callback_MoveNext();break}}};class kf{static data=[];static deleteIndexes=0;static log=e=>{};static clear=()=>{kf.deleteIndexes=0,kf.data=[]}}const Df=kf;const Cf=class{static onload=(t,e,i)=>{var a=t.callback_getLastGrabbed(),n=t.callback_getResults();if(0!==n.length){var s=n[n.length-1];if(s!==a){let e=t.callback_getTextureWithId(s);a=t.callback_getRecentResultsCount();e.orig_position||1<a&&1<n.length&&(e=t.callback_getTextureWithId(n[n.length-2])),e.orig_position&&(e.setNewPosition(0,e.orig_position.x,0,e.orig_position.y,i),1<a)&&1<n.length&&(e=t.callback_getTextureWithId(n[n.length-2])).orig_position&&e.setNewPosition(0,e.orig_position.x,0,e.orig_position.y,i)}}t.callback_MoveNext()}};const Pf=class{static onload=(e,t)=>{t.href&&0<t.href.length&&(1===t.newTab?window.open(t.href):window.location.replace(t.href))}};const Rf=class{constructor(e,t,i,a,n,s,r,o,l,c,d,p){this.xref=t,this.xdisp=a.x,this.yref=i,this.ydisp=a.y,this.ssid=l,this.callback=d,this.fontSize=r,this.color=o,this.createTexture(e,r*=4.2,o,c,p),this.sobj.position.set(a.x,a.y,a.z),this.sobj.stype="text",this.sobj.text=e,this.sobj.name=l}createTexture=(e,t,i,a,n)=>{var s=document.createElement("canvas"),r=s.getContext("2d"),o=(r.imageSmoothingEnabled=!0,r.measureText(e)),t=parseFloat(t);let l=.103*(o.actualBoundingBoxRight+o.actualBoundingBoxLeft)*t*a,c=.12*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)*t*a;n&&(l=n.width*window.devicePixelRatio,c=n.height*window.devicePixelRatio),s.width=+l,s.height=+c,r.canvas.style.width=l+"px",r.canvas.style.height=c+"px",r.fillStyle="#123456",r.clearRect(0,0,s.width,s.height),r.font=t+"px Roboto",r.fillStyle=i,r.strokeStyle=i,r.textBaseline="middle",r.textAlign="center",r.shadowColor="transparent",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0,r.lineWidth=0,r.fillText(e,s.width/2,s.height/2);o=new Js(s),o.minFilter=V,o.magFilter=V,a=new Xr(s.width/2,s.height/2),n=new T({map:o,transparent:!0,side:We});this.sobj=new P(a,n),o.dispose(),s.parentNode&&s.parentNode.removeChild(s)};onDocumentMouseDown=e=>{"container"===this.sobj.parent.stype?this.callback.onDocumentMouseDown(e,this.sobj.parent.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()}):this.callback.onDocumentMouseDown(e,this.sobj.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()})};onDocumentMouseMove=e=>{"container"===this.sobj.parent.stype?this.callback.onDocumentMouseMove(e,this.sobj.parent.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()}):this.callback.onDocumentMouseMove(e,this.sobj.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()})};onDocumentMouseUp=e=>{"container"===this.sobj.parent.stype?this.callback.onDocumentMouseUp(e,this.sobj.parent.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()}):this.callback.onDocumentMouseUp(e,this.sobj.position,{x:this.getScaledSizeX(),y:this.getScaledSizeY()})};dispose=()=>{this.element=null,this.callback=null,this.ssid=null,this.sobj=null};updateForResize=e=>{if(this.sobj){switch(this.xref){case 0:this.sobj.position.x=this.xdisp;break;case-1:this.sobj.position.x=R.getLeftBorder(e)+this.xdisp;break;case 1:this.sobj.position.x=R.getRightBorder(e)+this.xdisp}switch(this.yref){case 0:this.sobj.position.y=this.ydisp;break;case 1:this.sobj.position.y=R.getTopBorder(e)+this.ydisp;break;case-1:this.sobj.position.y=R.getBottomBorder(e)+this.ydisp}}};getWidth=()=>{return R.getCSS3DObjectBoundingBox(this.sobj).width};getHeight=()=>{return R.getCSS3DObjectBoundingBox(this.sobj).height};getScaledSizeX(){return Math.abs(+this.getWidth())}getScaledSizeY(){return Math.abs(+this.getHeight())}setNewPosition=(e,t,i,a,n)=>{this.xref=e,this.xdisp=t,this.yref=i,this.ydisp=a,this.updateForResize(n)};setNewText=e=>{};setAlpha=e=>{};setColor=e=>{};setFontSize=e=>{};setScale=(e,t)=>{this.sobj.scale.x=e,this.sobj.scale.y=t}};const Lf=class{constructor(i,e,t,a,n,s,r,o){this.callback=i,this.scene=e,this.id=t,this.xdisp=a.x,this.ydisp=a.y,this.xref=0,this.yref=0,this.divContainer=o,this.sobj=new Vn,this.sobj.position.copy(a),this.sobj.rotation.copy(n),this.sobj.scale.copy(s),this.sobj.stype="container",this.sobj.name=t,this.sobj.group_id=t,this.scene.add(this.sobj);var l=i.enableImages(r.enables,r,!1);if(l)for(let e=0;e<l.length;++e)l[e].group_id=r.id,l[e].texture.stype="image",this.sobj.add(l[e].texture);if(r.enables_gif){var c=i.enableImages(r.enables_gif,r,!1);if(c)for(let e=0;e<c.length;++e)c[e].group_id=r.id,c[e].texture.stype="image",this.sobj.add(c[e].texture)}if(r.texts)for(let e=0;e<r.texts.length;++e){var d=r.texts[e],p=new Je(d.position.x,d.position.y,d.position.z);let t=!1;for(let e=0;e<i.enabledTexts.length;++e){var u=i.enabledTexts[e];if(u.sobj.name===d.ssid){u.setNewPosition(0,p.x,0,p.y,this.size),u.sobj.text=i.getSpecialVariableValue(d.text),u.sobj.sync(),t=!0;break}}if(!t){var h=new wm;this.sobj.add(h),d.anchor&&(h.anchorX=d.anchor),d.alignment&&(h.textAlign=d.alignment),h.fontSize=d.fontSize,h.position.z=p.z;let e=d.color;e=e.replace("#","0x"),h.color=parseInt(e,16),h.name=d.ssid;var h=new Tm(h,0,p.x,0,p.y,r.textid,r.ssid),m=(h.group_id=r.id,h.sobj.stype="text",h.setNewPosition(0,p.x,0,p.y,this.size),i.enabledTexts.push(h),parseFloat(d.maxwidth));0<m&&(h.sobj.maxWidth=m),h.sobj.text=i.getSpecialVariableValue(d.text),h.sobj.sync()}}if(r.textscss)for(let e=0;e<r.textscss.length;++e){var f=r.textscss[e];for(let e=0;e<i.enabledTexts.length;++e){var g=i.enabledTexts[e];if(g.sobj.name===f.id)return g.setNewPosition(0,f.position.x,0,f.position.y,i.size),g.setNewText(f.text),g.setAlpha(f.alpha),g.setFontSize(f.fontSize),void g.setColor(f.color)}var _=parseFloat(f.maxwidth),y=parseFloat(f.alpha),_=new Rf(i.getSpecialVariableValue(f.text),0,0,f.position,_,y,f.fontSize,f.color,f.ssid,f.paddingMultiplier,i);_.setNewPosition(0,f.position.x,0,f.position.y,i.size),_.group_id=r.id,_.sobj.stype="text",_.sobj.name=f.ssid,this.sobj.add(_.sobj),i.enabledTexts.push(_),_.setColor(f.color)}1===r.enable_physics&&(e={isStatic:!!r.physics.is_static,restitution:r.physics.bounciness?parseFloat(r.physics.bounciness):0,friction:r.physics.friction?parseFloat(r.physics.friction):0,density:r.physics.density?parseFloat(r.physics.density)/1e3:.001,frictionAir:r.physics.frictionAir?parseFloat(r.physics.frictionAir):.01,angle:r.euler.z*Math.PI/180},o=a.x+parseFloat(r.physics.shapeposition.x),n=a.y+parseFloat(r.physics.shapeposition.y),"rectangle"===r.physics.shape?(s=parseFloat(r.physics.shaperect.width),t=parseFloat(r.physics.shaperect.height),df.World.remove(this.physicsEngine.world,this.sobj.physics_shape),this.sobj.physics_shape=df.Bodies.rectangle(o,n,s,t,e),df.World.add(this.physicsEngine.world,this.sobj.physics_shape)):"circle"===r.physics.shape&&(this.sobj.physics_shape&&df.World.remove(this.physicsEngine.world,this.sobj.physics_shape),this.sobj.physics_shape=df.Bodies.circle(o,n,r.physics.shaperadius,e),df.World.add(this.physicsEngine.world,this.sobj.physics_shape)))}dispose=()=>{if(this.sobj){this.sobj.physics_shape&&df.World.remove(this.physicsEngine.world,this.sobj.physics_shape);for(let e=0;e<this.callback.enabledImages.length;++e)this.callback.enabledImages[e].group_id===this.sobj.group_id&&(this.callback.enabledImages.splice(e,1),--e);this.scene.remove(this.sobj);for(let e=0;e<this.callback.enabledTexts.length;++e)this.callback.enabledTexts[e].group_id===this.sobj.group_id&&(this.callback.enabledTexts[e].dispose(),this.callback.enabledTexts.splice(e,1),--e);this.step&&this.step.details.csstext&&(this.callback.removeEnabledText(this.step.details.csstext.ssid),this.step.details.csstext.dispose(),this.step.details.csstext=null)}};my_update=()=>{this.sobj.physics_shape&&(this.sobj.position.set(this.sobj.physics_shape.position.x,this.sobj.physics_shape.position.y,this.sobj.position.z),this.sobj.rotation.set(0,0,this.sobj.physics_shape.angle))};removeImage=e=>{this.sobj.remove(e)};setNewPosition=(e,t,i,a,n)=>{this.xref=e,this.xdisp=t,this.yref=i,this.ydisp=a,this.updateForResize(n)};updateForResize=e=>{switch(this.xref){case 0:this.sobj.position.x=this.xdisp;break;case-1:this.sobj.position.x=R.getLeftBorder(e)+this.xdisp;break;case 1:this.sobj.position.x=R.getRightBorder(e)+this.xdisp}switch(this.yref){case 0:this.sobj.position.y=this.ydisp;break;case 1:this.sobj.position.y=R.getTopBorder(e)+this.ydisp;break;case-1:this.sobj.position.y=R.getBottomBorder(e)+this.ydisp}};getWidth=()=>{let i=0,a=0;return this.sobj.children.forEach(e=>{var t;"image"===e.stype?(t=e.scale.x*e.geometry.parameters.width/2,e.position.x+t>a&&(a=e.position.x+t),e.position.x-t<i&&(i=e.position.x-t)):"text"===e.stype&&(t=R.getCSS3DObjectBoundingBox(e),t=e.scale.x*t.width/2,e.position.x+t>a&&(a=e.position.x+t),e.position.x-t<i)&&(i=e.position.x-t)}),a>i?2*a:2*i};getScaledSizeX(){return Math.abs(this.getWidth()*this.sobj.scale.x)}getHeight=()=>{let i=0,a=0;return this.sobj.children.forEach(e=>{var t;"image"===e.stype?(t=e.scale.y*e.geometry.parameters.height/2,e.position.y+t>a&&(a=e.position.y+t),e.position.y-t<i&&(i=e.position.y-t)):"text"===e.stype&&(t=R.getCSS3DObjectBoundingBox(e),t=e.scale.y*t.height/2,e.position.y-t>a&&(a=e.position.y-t),e.position.y+t<i)&&(i=e.position.y+t)}),a>i?2*a:2*i};getScaledSizeY(){return Math.abs(this.getHeight()*this.sobj.scale.y)}lerpTo=(e,t,i,a,n)=>{this.startPos=this.sobj.position.clone(),this.endPos=e.clone(),this.startPosCopy=this.startPos.clone(),this.endPosCopy=this.endPos.clone(),this.duration=t,this.loop=i,this.cycle=a,this.time=0,this.lerping=!0,this.totalTime=0,this.totalLerpDuration=n};endLerp=()=>{this.lerping&&(this.loop?this.sobj.position.lerpVectors(this.endPos,this.startPos,1):this.sobj.position.lerpVectors(this.startPos,this.endPos,1)),this.lerping=!1,this.callback&&this.callback.lerpContainerEnded(this)};doLerp=e=>{this.lerping&&(this.time+=e,this.totalTime+=e,this.sobj.position.lerpVectors(this.startPosCopy,this.endPosCopy,this.time/this.duration),this.time>=this.duration)&&(this.time=0,!this.loop||this.totalTime>=this.totalLerpDuration?this.endLerp():this.cycle&&(this.startPosCopy=this.endPos.clone(),this.endPosCopy=this.startPos.clone()))}};class Of{static onMouseDown=(t,i,a,n,e)=>{i.computedata&&(i.computedata.image&&(i.computedata.image.setNewPosition(i.computedata.image.xref,i.computedata.image.orig_position.x,i.computedata.image.yref,i.computedata.image.orig_position.y,e),i.computedata.image.texture.position.z=i.computedata.image.orig_position.z,i.computedata.image=null),i.computedata.container)&&(i.computedata.container.sobj.position.x=i.computedata.image.orig_position.x,i.computedata.container.sobj.position.y=i.computedata.image.orig_position.y,i.computedata.container.sobj.position.y=i.computedata.image.orig_position.z,i.computedata.container=null),i.computedata={},i.computedata.mouse_start=new ie,i.computedata.mouse_end=new ie,i.computedata.mouse_down=!0,i.computedata.mouse_start.x=a.x,i.computedata.mouse_start.y=a.y,i.computedata.mouse_end.x=a.x,i.computedata.mouse_end.y=a.y,i.computedata.raycaster=new bl;var s=t.callback_getEnabledWithId(n);if(s)if(s.group_id){for(let e=0;e<i.drags.length;++e)if(R.isClickedOnDrag2(i.drags[e],s.group_id)&&(i.computedata.currentDrag=i.drags[e],i.computedata.container=t.callback_getContainerWithId(s.group_id),i.computedata.container)){i.computedata.container.orig_position=i.computedata.container.sobj.position.clone(),i.computedata.dragDisplacement={x:0,y:0},i.computedata.dragDisplacement.x=a.x,i.computedata.dragDisplacement.y=a.y,i.computedata.container.sobj.originalZRotation=i.computedata.container.sobj.rotation.z,i.computedata.container.sobj.displacementAngleZ=Of.rotateOnZ(i.computedata.container.sobj,i.computedata.dragDisplacement)-i.computedata.container.sobj.rotation.z;break}}else for(let e=0;e<i.drags.length;++e)if(R.isClickedOnDrag2(i.drags[e],n)){i.computedata.currentDrag=i.drags[e],i.computedata.image=t.callback_getTextureWithId(i.computedata.currentDrag.id),i.computedata.image.orig_position=i.computedata.image.texture.position.clone(),i.computedata.dragDisplacement={x:0,y:0},i.computedata.dragDisplacement.x=a.x,i.computedata.dragDisplacement.y=a.y,i.computedata.image.texture.originalZRotation=i.computedata.image.texture.rotation.z,i.computedata.image.texture.displacementAngleZ=Of.rotateOnZ(i.computedata.image.texture,i.computedata.dragDisplacement)-i.computedata.image.texture.rotation.z;break}};static onMouseMove=(e,t,i,a)=>{var n;t.computedata&&t.computedata.mouse_down&&null!=t.computedata.currentDrag&&(t.computedata.mouse_end.x=i.x,t.computedata.mouse_end.y=i.y,t.computedata.image?(n=Of.rotateOnZ(t.computedata.image.texture,i)-t.computedata.image.texture.displacementAngleZ,n=R.normalizeDegrees(180*n/Math.PI),t.computedata.image.texture.rotation.z=Of.getNearestAngleFromStopAngles(t.computedata.currentDrag,n)*Math.PI/180):(n=Of.rotateOnZ(t.computedata.container.sobj,i)-t.computedata.container.sobj.displacementAngleZ,n=R.normalizeDegrees(180*n/Math.PI),t.computedata.container.sobj.rotation.z=Of.getNearestAngleFromStopAngles(t.computedata.currentDrag,n)*Math.PI/180))};static getNearestAngleFromStopAngles=(t,i)=>{let a=null;for(let e=0;e<t.stopAngles.length;++e)(null===a||R.normalizeDegrees(R.angleDiff(t.stopAngles[e].angle,i))<R.normalizeDegrees(R.angleDiff(a,i)))&&(a=t.stopAngles[e].angle);return null===a?i:a};static rotateOnZ=(e,t)=>{var i=t.x-e.position.x,t=t.y-e.position.y;return Math.atan2(t,i)};static onMouseUp=(t,i,e)=>{if(i.computedata&&i.computedata.mouse_down&&(i.computedata.mouse_down=!1,i.computedata)&&null!=i.computedata.currentDrag)if(i.computedata.mouse_end.distanceTo(i.computedata.mouse_start)<3)i.computedata.image?i.computedata.image.texture.rotation.z=i.computedata.image.texture.originalZRotation:i.computedata.container.sobj.rotation.z=i.computedata.container.sobj.originalZRotation,i.computedata=null;else{t.callback_addResult(i.computedata.currentDrag.id);let e=null;e=i.computedata.image?i.computedata.image.texture:i.computedata.container.sobj,t.latest_result_angle={x:pi.radToDeg(e.rotation.x),y:pi.radToDeg(e.rotation.y),z:pi.radToDeg(e.rotation.z)},i.computedata=null,t.callback_MoveNext()}}}const Nf=Of;const jf=class{static onload=(t,i,e)=>{let a=0,n=0;for(let e=0;e<i.destinations.length;++e){var s=i.destinations[e];if(s.rightids&&0<s.rightids.length){n+=1;for(let e=0;e<s.rightids.length;++e){var r=new Je(s.position.x,s.position.y,0),o=t.getSpecialVariableValue(s.rightids[e].id),o=(r.z=0,R.getMovable(t,o));o&&new Je(o.sobj.position.x,o.sobj.position.y,0).distanceTo(r)<2&&(a+=1)}}}let l=!1;"any"===i.type?l=0<a:"all"===i.type&&(l=a===n),l?t.callback_jumpToStep(i.jumpToStepOnRight):t.callback_jumpToStep(i.jumpToStepOnWrong)}},Ff=R0(543);class Uf{static onLoad=(t,l,c)=>{let i=[];if("JSON data"===l.objectsFromType?(a=t.callback_getJSONPathArray1(l.objs_json_path),i=Ff.cloneDeep(a)):"List"===l.objectsFromType&&(i=Ff.cloneDeep(l.objs)),!i||0!==i.length){for(let e=0;e<i.length;++e)i[e].id=t.getSpecialVariableValue(i[e].id);let n=0,s=0,e=0,r=0;if("frame id"===l.areaType){var a=t.getSpecialVariableValue(l.frame_id),a=R.getMovable(t,a);if(!a)return 0;n=a.texture.position.x-a.getScaledSizeX()/2,s=a.texture.position.x+a.getScaledSizeX()/2,e=a.texture.position.y-a.getScaledSizeY()/2,r=a.texture.position.y+a.getScaledSizeY()/2}else"manual"===l.areaType&&(n=l.areaCoordinates.x-l.areaCoordinates.width/2,s=l.areaCoordinates.x+l.areaCoordinates.width/2,e=l.areaCoordinates.y-l.areaCoordinates.height/2,r=l.areaCoordinates.y+l.areaCoordinates.height/2);let o=[];if(o=1===l.considerOnlyInsideTheFrame?Uf.getAllDragsInsideArea(t,i,n,s,e,r):Uf.getAllMovables(t,i),"even spacing"===l.alignmentType){let i=n+l.xBorder,t=r-l.yBorder;var d=[[]];let a=0;for(let e=0;e<o.length;++e){var p=o[e];(i+=p.getScaledSizeX()/2)+p.getScaledSizeX()/2+l.xBorder>s&&(d.push([]),i=n+l.xBorder,i+=p.getScaledSizeX()/2,t-=l.yDistanceBetween+a,a=0),p.getScaledSizeY()>a&&(a=p.getScaledSizeY()),p.setNewPosition(0,i,0,t-p.getScaledSizeY()/2,c),i+=p.getScaledSizeX()/2+l.xDistanceBetween,d[d.length-1].push(p)}if("center"===l.xref)for(let e=0;e<d.length;++e){var u=d[e];let t=0;for(let e=0;e<u.length;++e)t+=u[e].getScaledSizeX();i=n+(s-n)/2,i-=(t+(u.length-1)*l.xDistanceBetween)/2;for(let e=0;e<u.length;++e)i+=u[e].getScaledSizeX()/2,u[e].setNewPosition(0,i,0,u[e].sobj.position.y,c),i+=u[e].getScaledSizeX()/2+l.xDistanceBetween}else if("right"===l.xref)for(let e=0;e<d.length;++e){var h=d[e];i=i=s-l.xBorder;for(let e=h.length-1;0<=e;--e)i-=h[e].getScaledSizeX()/2,h[e].setNewPosition(0,i,0,h[e].sobj.position.y,c),i-=h[e].getScaledSizeX()/2+l.xDistanceBetween}if("center"===l.yref||"bottom"===l.yref){"center"===l.yref?t=e+(r-e)/2-(d.length*a+(d.length-1)*l.yDistanceBetween)/2:"bottom"===l.yref&&(t=e+l.yBorder);for(let e=d.length-1;0<=e;--e){var m=d[e];t+=a/2;for(let e=0;e<m.length;++e)m[e].setNewPosition(0,m[e].sobj.position.x,0,t,c);t+=l.yDistanceBetween+a/2}}}}};static getAllMovables=(t,i)=>{var a=[];for(let e=0;e<i.length;++e){var n=R.getMovable(t,i[e].id);n&&a.push(n)}return a.sort(function(e,t){e=e.sobj.position,t=t.sobj.position;return e.y===t.y?e.x-t.x:e.y>t.y?-1:0}),a};static getAllDragsInsideArea=(t,i,a,n,s,r)=>{var o=[];for(let e=0;e<i.length;++e){var l,c=R.getMovable(t,i[e].id);c&&c.sobj&&(l=c.sobj.position).x>=a&&l.x<=n&&l.y>=s&&l.y<=r&&o.push(c)}return o.sort(function(e,t){e=e.sobj.position,t=t.sobj.position;return e.y===t.y?e.x-t.x:e.y>t.y?-1:0}),o}}const Bf=Uf;const Vf=class{static dispose=(e,t)=>{t.painter&&(t.painter.dispose(),t.painter=null)};static onMouseDown=(i,a,n,s,e,r)=>{var o=i.callback_getPainter(a.painterid);if(o){var l=R.getMovable(i,s);let e=null,t=(l&&(e=l.id||l.sobj.name),!1);if(l)e===o.brush&&(e=o.drawingBaseObj,t=!0);else{if(!o.spainter.paintCanvas||s!==o.spainter.paintCanvas.cube.name)return;e=o.drawingBaseObj}if(e===o.drawingBaseObj){if(!r.obj){if(r.obj=R.getMovable(i,o.drawingBaseObj),!r.obj)return;r.obj.computedata={},r.obj.computedata.mouse_start=new ie,r.obj.computedata.mouse_end=new ie,r.obj.orig_position=r.obj.sobj.position.clone(),r.obj.computedata.id=r.obj.id||r.obj.sobj.name,r.obj.computedata.dragDisplacement={x:0,y:0},r.obj.computedata.dragDisplacement.x=n.x-r.obj.sobj.position.x,r.obj.computedata.dragDisplacement.y=n.y-r.obj.sobj.position.y,r.obj.computedata.scripts=[],r.obj.nearestDistance=1e4}r.obj.computedata.mouse_start.x=n.x,r.obj.computedata.mouse_start.y=n.y,r.obj.computedata.mouse_end.x=n.x,r.obj.computedata.mouse_end.y=n.y,a.painter=o,a.isBrush=t,o.spainter.linewidth=a.thickness,o.spainter.color=a.color,"free hand"!==a.painter.paintType&&"path"===a.painter.paintType&&(l=n.x,s=n.y,(i=a.painter.spainter.getNearest(l,s,!0))&&i.nearestDistance<r.obj.nearestDistance&&n.distanceTo(i.pos)<=1.1*o.spainter.linewidth?(r.obj.computedata.scripts=[],r.obj.computedata.scripts.push(a.step_num),r.obj.nearestDistance=i.nearestDistance):(r.obj=null,a.isBrush=!1,a.painter=null))}}};static onMouseMove=(e,t,i,a,n)=>{if(n.obj&&n.obj.computedata.scripts.includes(t.step_num)&&t.painter){n.obj.computedata.mouse_end.x=i.x,n.obj.computedata.mouse_end.y=i.y;n=i.x,i=i.y;if("free hand"!==t.painter.paintType&&"path"===t.painter.paintType){var n=t.painter.spainter.getNearest(n,i,!0);if(t.painter.spainter.lastIndex=n.index,.95<n.index/n.max_index){var i=t.painter.spainter.getLastPoint();t.painter.brushImage&&t.painter.brushImage.setNewPosition(0,i.x,0,i.y,a),t.painter.spainter.drawTill(1),t.painter=null}else{t.painter.brushImage&&t.painter.brushImage.setNewPosition(0,n.pos.x,0,n.pos.y,a);let e=n.index/n.max_index;t.painter.spainter.drawTill(e),t.painter.brushImage&&(0===e&&(e=.01),i=t.painter.spainter.getPointAtProgress(e),a=t.painter.spainter.getPointAtProgress(e+.02),n=new Je(a.x,a.y,0),a=R.get2DLookAt(n,i)+t.painter.brush_rotation_displacement,t.painter.brushImage.setEulersInDegrees(0,0,a))}}}};static onMouseUp=(e,t,i,a)=>{return a.obj&&a.obj.computedata.scripts.includes(t.step_num)?(console.log("dist: ",a.obj.computedata.mouse_end.distanceTo(a.obj.computedata.mouse_start)),a.obj.computedata.mouse_end.distanceTo(a.obj.computedata.mouse_start)<.2?(a.obj=null,0):(t.painter=null,2)):0}};const Gf=class{static onload=(t,e)=>{if(e.stepid){var i=t.getStepForStepId(e.stepid);if(i&&i.paintCanvas){i.paintCanvas.dispose(),i.paintCanvas=null;for(let e=0;e<i.painters.length;++e)t.removeAnimationForPainterId(i.painters[e].painterid),i.painters[e].spainter=null}}}};const Hf=class{static onLoad=(i,a,n)=>{if("free hand"!==a.paintType&&"path"===a.paintType){let e=i.callback_getPainter(a.painterid);var s=i.getStepForSSID(a.path);let t=[];s&&(t=s.points),e||((e=new rf(i.camera,i.scene,a.thickness,a.color,t)).painterid=a.painterid,e.paintType=a.paintType,e.drawingBaseObj=a.drawingBaseObj,e.cube.name=Sf(),i.callback_addPainter(e),1===a.enable_prefill&&e.drawTill(a.prefill/100)),e.brush=a.brush;s=i.callback_getTextureWithId(a.brush);s&&(e.brushImage=s,e.points.length)&&(i=e.getPointAtProgress(1===a.enable_prefill?a.prefill/100:0))&&(s.setNewPosition(0,i.x,0,i.y,n),s.texture.position.z=i.z),a.pathPainter=e}}};class Wf{static frameUpdate=(e,t,i,a,n)=>{if(!t.obj||t.obj.sobj.name!==t.id){if(t.obj=R.getMovable(e,t.id),!t.obj)return 1;t.startTime=n,"fade out-in"===t.animation_type?t.subFunc=Wf.fadeOutIn:"fade in"===t.animation_type?t.subFunc=Wf.fadeIn:"fade out"===t.animation_type?t.subFunc=Wf.fadeOut:t.subFunc=null}let s=(n-t.startTime)/t.cycle_duration,r=(s%=1,0);return n-t.startTime>=t.duration&&(r=1,s=1),t.subFunc&&t.subFunc(t.obj,s),1===r&&(t.obj=null,t.subFunc=null),r};static fadeOutIn=(e,t)=>{t<.5?Wf.setOpacity(e,1-t/.5):Wf.setOpacity(e,(t-.5)/.5)};static fadeIn=(e,t)=>{Wf.setOpacity(e,t)};static fadeOut=(e,t)=>{Wf.setOpacity(e,1-t)};static setOpacity=(t,i)=>{if("container"===t.sobj.stype)for(let e=0;e<t.sobj.children.length;++e)t.sobj.children[e].material.opacity=i;else t.sobj.material.opacity=i}}const qf=Wf;const Xf=class{static frameUpdate=(t,i,e,a,n)=>{if(!i.objs){i.objs=[],i.startTime=n;for(let e=0;e<i.objects.length;++e){var s=R.getMovable(t,i.objects[e].id);i.objs.push({index:e,obj:s,stateIndex:0})}}let r=0,o=!1;for(let e=0;e<i.objs.length;++e)if(i.objs[e].obj){var l=i.objs[e],c=i.objects[e];if("path"===i.objects[e].type){if(!l.startTime){l.startTime=n,l.startPosition=l.obj.sobj.position.clone();var d=t.getStepForSSID(c.pathid);let e=[];d&&(e=d.points),l.pathPoints=R.getPointsWithSinglePointDistance(e)}if(0<l.pathPoints.length){let e=(n-l.startTime)/c.pathduration;1<=e&&(e=1);var d=Math.round(e*(l.pathPoints.length-1)),p=l.pathPoints[d];l.obj.sobj.position.set(p.x+c.displacement.x,p.y+c.displacement.y,p.z+c.displacement.z),1===e&&(l.startTime=null,l.obj=null),o=!0}}else if(c.states.length===i.objs[e].stateIndex)i.objs[e].obj=null;else{var u,p=c.states[l.stateIndex];l.startTime||(l.startTime=n,l.startPosition=l.obj.sobj.position.clone(),l.startScale=l.obj.sobj.scale.clone(),1===p.enable_euler&&(l.startQuaternion=l.obj.sobj.quaternion.clone(),u=new ga(p.euler.x,p.euler.y,p.euler.z*Math.PI/180),l.endQuaternion=(new m).setFromEuler(u)));let e=(n-l.startTime)/p.duration;1<=e&&(e=1),1===p.enable_position&&l.obj.sobj.position.lerpVectors(l.startPosition,p.position,e),1===p.enable_euler&&l.obj.sobj.quaternion.slerpQuaternions(l.startQuaternion,l.endQuaternion,e),1===p.enable_scale&&l.obj.sobj.scale.lerpVectors(l.startScale,p.scale,e),1===e&&(l.startTime=null,l.stateIndex+=1,l.stateIndex===c.states.length)&&(l.obj=null),o=!0}}return o||(r=1,i.objs=null),r}};const Yf=class{constructor(e){this.scene=e,this.boxWidth=window.innerWidth,this.boxHeight=window.innerHeight;this.geometry=new En(this.boxWidth,this.boxHeight,10);e=window.devicePixelRatio||1;this.ctx=document.createElement("canvas").getContext("2d"),this.contextWidth=window.innerWidth,this.contextHeight=window.innerHeight,this.ctx.canvas.width=this.contextWidth*e,this.ctx.canvas.height=this.contextHeight*e,this.ctx.fillStyle="#FFF",this.ctx.canvas.style.width=this.contextWidth+"px",this.ctx.canvas.style.height=this.contextHeight+"px",this.ctx.scale(e,e),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.canvastexture=new Js(this.ctx.canvas),this.drawingMaterial=new T({map:this.canvastexture,transparent:!0}),this.cube=new P(this.geometry,this.drawingMaterial),this.cube.position.set(0,0,-20),this.cube.name=Sf(),this.scene.add(this.cube),this.lines=[]}dispose=()=>{this.scene.remove(this.cube),this.drawingMaterial.dispose(),this.canvastexture.dispose()};addLine=(t,i,a,n)=>{let s=!1;for(let e=0;e<this.lines.length;++e)if(this.lines[e].id===t){this.lines[e].line=i,this.lines[e].linewidth=a,this.lines[e].color=n,s=!0;break}s||this.lines.push({id:t,line:i,linewidth:a,color:n}),this.redraw()};redraw=()=>{this.clear();for(let e=0;e<this.lines.length;++e){var t=this.lines[e].line;this.ctx.beginPath();for(var i=1;i<t.length;i++)this.ctx.moveTo(t[i-1].x,t[i-1].y),this.ctx.lineWidth=this.lines[e].linewidth,this.ctx.lineCap="round",this.ctx.strokeStyle=this.lines[e].color,this.ctx.lineTo(t[i].x,t[i].y);this.ctx.stroke()}this.canvastexture.needsUpdate=!0};clear=()=>{this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}};const Jf=class{static onLoad=(t,i,e)=>{0<i.painters.length&&(t.callback_getTextureWithId(i.frame),i.paintCanvas=new Yf(t.scene));for(let e=0;e<i.painters.length;++e){var a=i.painters[e];if(a.drawingBaseObj=i.frame,"free hand"!==a.paintType&&"path"===a.paintType){var n=t.getStepForSSID(a.path);let e=[];n&&(e=n.points),a.spainter=new rf(t.camera,t.scene,1,"00ff00",e,a.painterid),a.spainter.painterid=a.painterid,a.spainter.paintType=a.paintType,a.spainter.paintCanvas=i.paintCanvas,t.callback_addPainter(a.spainter),a.spainter.brush=a.brush;n=t.callback_getTextureWithId(a.brush);n&&(a.brushImage=n)}}}};const Kf=class{static onLoad=(e,t,i,a)=>{if(a&&1===t.enable_fill&&(a.spainter.linewidth=t.thickness,a.spainter.color=t.color,a.spainter.fill_target=t.fill/100,a.spainter.paint_start_time=-1,a.spainter.paint_duration=t.fill_duration,t.fill_duration<=0)&&a.spainter.drawTill(t.fill/100),a.brushImage&&a.spainter.points.length){t=a.spainter.getPointAtProgress(1===t.enable_fill?t.fill/100:0);if(t){a.brushImage.setNewPosition(0,t.x,0,t.y,i),a.brushImage.texture.position.z=t.z;var i=a.spainter.getNearest(t.x,t.y,!0);let e=i.index/i.max_index;a.brushImage&&(0===e&&(e=.01),t=a.spainter.getPointAtProgress(e),i=a.spainter.getPointAtProgress(e+.02),i=new Je(i.x,i.y,0),i=R.get2DLookAt(i,t)+a.brush_rotation_displacement,a.brushImage.setEulersInDegrees(0,0,i))}}};static frameUpdate=(e,t,i,a,n)=>{-1===t.spainter.paint_start_time&&(t.spainter.paint_start_time=n);let s=(n-t.spainter.paint_start_time)/t.spainter.paint_duration,r=0;if(n-t.spainter.paint_start_time>=t.spainter.paint_duration&&(r=1,s=1),t.spainter.drawTill(t.spainter.fill_target*s),t.brushImage&&t.spainter.points.length){n=t.spainter.getPointAtProgress(t.spainter.fill_target*s);if(n){t.brushImage.setNewPosition(0,n.x,0,n.y,i),t.brushImage.texture.position.z=n.z;var i=t.spainter.getNearest(n.x,n.y,!0);let e=i.index/i.max_index;t.brushImage&&(0===e&&(e=.01),n=t.spainter.getPointAtProgress(e),i=t.spainter.getPointAtProgress(e+.02))&&(i=new Je(i.x,i.y,0),i=R.get2DLookAt(i,n)+t.brush_rotation_displacement,t.brushImage.setEulersInDegrees(0,0,i))}}return r}};const Zf=class{static onload=(e,t,i)=>{var a;"completion percentage"===t.data_type&&t.painter&&(a=e.callback_getPainter(t.painter))&&a.spainter&&e.callback_saveData(t.key,a.spainter.lastIndex/a.spainter.points.length)}};const $f=class{constructor(e,t,i){this.videoid=e,this.path=t,this.meshid=i,this.paused=!1,this.loop=!1,this.pauseAtMode=!1,this.pauseAt=0,this.video=document.createElement("video"),this.source=document.createElement("source"),this.video.setAttribute("crossOrigin","anonymous"),this.video.pause(),this.source.setAttribute("src",t),this.video.appendChild(this.source),this.video.load(),this.video.style.position="absolute",this.video.style.top="-9999px",document.body.appendChild(this.video),document.body.appendChild(this.video),this.videoTexture=new Xs(this.video),this.videoTexture.format=Fe;e={color:16777215,map:this.videoTexture};this.videoMat=new T(e),this.video.addEventListener("canplay",this.canPlayCallback),this.video.addEventListener("waiting",this.waitingCallback),this.video.addEventListener("stalled",this.stalledCallback),this.video.addEventListener("timeupdate",this.timeUpdateCallback)}dispose=()=>{this.videoid=null,this.videoTexture&&this.videoTexture.dispose(),this.videoTexture=null,this.videoMat&&this.videoMat.dispose(),this.videoMat=null,this.video&&(this.video.removeEventListener("canplay",this.canPlayCallback),this.video.removeEventListener("waiting",this.waitingCallback),this.video.removeEventListener("stalled",this.stalledCallback),this.video.removeEventListener("timeupdate",this.timeUpdateCallback),this.video.remove()),this.video=null,this.source&&this.source.remove(),this.source=null};canPlayCallback=()=>{this.paused||this.video.play().catch(e=>console.error("Error trying to play video:",e))};waitingCallback=()=>{console.log("Video is waiting for more data...")};stalledCallback=()=>{console.log("Video data stalled...")};timeUpdateCallback=()=>{var e=this.video.buffered;0!==e.length&&(e.end(e.length-1),this.video.currentTime)};setLoop=e=>{this.video&&(this.video.loop=e)};pause=()=>{this.video.pause(),this.paused=!0};playFromStart=()=>{this.video.currentTime=0,this.play()};play=()=>{this.video.play(),this.paused=!1};seekto=e=>{this.video.currentTime=e,this.play()};fullscreen=()=>{this.video.requestFullscreen?this.video.requestFullscreen():this.video.mozRequestFullScreen?this.video.mozRequestFullScreen():this.video.webkitRequestFullscreen?this.video.webkitRequestFullscreen():this.video.msRequestFullscreen&&this.video.msRequestFullscreen()}};const Qf=class{static onload=(e,t,i)=>{var a=e.getVideoInfo(t.videoid);a?"init"===t.operation?(a.pausedDueToLowBuffer=!1,a.paused=!1,this.pauseAtMode=!1,this.pauseAt=0,a.playFromStart()):"play"===t.operation?a.play():"pause"===t.operation?a.pause():"pause at"===t.operation?(a.pauseAtMode=!0,a.pauseAt=t.pauseat):"play from start"===t.operation?a.playFromStart():"seek to"===t.operation?a.seekto(t.seekto):"seek by"===t.operation?a.seekto(a.video.currentTime+t.seekby):"fullscreen"===t.operation&&a.fullscreen():"init"===t.operation&&(a=e.getEnabledWithId(t.meshid))&&((t=new $f(t.videoid,t.videopath,t.meshid)).setLoop(!0),t.pausedDueToLowBuffer=!1,t.paused=!1,t.mesh=a,t.mesh.texture.material=t.videoMat,t.mesh.texture.mat=t.videoMat,e.addVideoInfo(t))}};R0(571);const e0=class P0{constructor(t,e){this.sobj=t,this.sobj.stype="model",this.sobj.smodeltype=e,this.id=t.modelid,this.ssid=t.modelid;for(let e=0;e<t.children.length;++e)console.log(t.children[e].isObject3D)}dispose=()=>{this.sobj&&(this.sobj.geometry&&this.sobj.geometry.dispose(),this.sobj.material&&(Array.isArray(this.sobj.material)?this.sobj.material.forEach(e=>this.disposeMaterial(e)):this.disposeMaterial(this.sobj.material)),this.sobj=null)};disposeMaterial(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.alphaMap&&e.alphaMap.dispose(),e.aoMap&&e.aoMap.dispose(),e.displacementMap&&e.displacementMap.dispose(),e.emissiveMap&&e.emissiveMap.dispose(),e.gradientMap&&e.gradientMap.dispose(),e.metalnessMap&&e.metalnessMap.dispose(),e.roughnessMap&&e.roughnessMap.dispose(),e.dispose()}clone=()=>{var e=this.sobj.clone(!0);return(e=new P0(e,this.smodeltype)).mat=this.sobj.mat.clone(),e.material=e.mat,e};setFreeMovement=e=>{this.freeMovement=e};getWidth=()=>1;getScaledSizeX(){return 1}getHeight=()=>1;getScaledSizeY(){return 1}setNewPosition=(e,t,i,a)=>{this.sobj.position.set(e,t,i)};setScale=(e,t,i=1)=>{this.sobj.scale.set(e,t,i)};setEulersInDegrees=(e,t,i)=>{this.sobj.setRotationFromEuler(new ga(e*Math.PI/180,t*Math.PI/180,i*Math.PI/180))};applyTiling=e=>{var t=this.sobj.material.map;t.wrapS=H,t.wrapT=H,t.repeat.set(e.tileX,e.tileY),t.offset.set(e.offsetX,e.offsetY)};setBlinking=(e,t=null)=>{this.time=0,this.totalBlinkTime=0,this.blinkDuration=e,this.blinking=!0,this.callback=t};endBlinking=()=>{this.blinking&&(this.texture.material.opacity=1),this.blinking=!1,this.callback&&this.callback.blinkingEnded(this)};doBlinking=e=>{this.blinking&&(this.time+=e,this.totalBlinkTime+=e,this.texture.material.opacity=this.time/.1,.1<=this.time&&(this.time=0),-1!=this.blinkDuration)&&this.totalBlinkTime>=this.blinkDuration&&this.endBlinking()};setLerp=(e,t,i,a,n,s=null,r=100)=>{this.startPos=e.clone(),this.endPos=t.clone(),this.startPosCopy=e.clone(),this.endPosCopy=t.clone(),this.duration=i,this.loop=a,this.cycle=n,this.time=0,this.lerping=!0,this.callback=s,this.totalTime=0,this.totalLerpDuration=r};endLerp=()=>{console.log("endLerp"),this.lerping&&(this.loop?this.texture.position.lerpVectors(this.endPos,this.startPos,1):this.texture.position.lerpVectors(this.startPos,this.endPos,1)),this.lerping=!1,this.callback&&this.callback.lerpEnded(this)};doLerp=e=>{this.lerping&&(this.time+=e,this.totalTime+=e,this.texture.position.lerpVectors(this.startPosCopy,this.endPosCopy,this.time/this.duration),this.time>=this.duration)&&(this.time=0,!this.loop||this.totalTime>=this.totalLerpDuration?this.endLerp():this.cycle&&(this.startPosCopy=this.endPos.clone(),this.endPosCopy=this.startPos.clone()))};static width(e){return 1}static height(e){return 1}};const t0=class{static onMouseDown=(e,t,i,a,n,s)=>{let r=!1;for(let e=0;e<t.buttons.length;++e)if(t.buttons[e].id===a){r=!0;break}if(r){if(!s.obj){if(s.obj=R.getMovable(e,a),!s.obj)return;s.obj.computedata={},s.obj.computedata.mouse_start=new ie,s.obj.computedata.mouse_end=new ie,s.obj.computedata.mouse_start.x=i.x,s.obj.computedata.mouse_start.y=i.y,s.obj.computedata.mouse_end.x=i.x,s.obj.computedata.mouse_end.y=i.y,s.obj.orig_position=s.obj.sobj.position.clone(),s.obj.computedata.id=s.obj.id||s.obj.sobj.name,s.obj.computedata.dragDisplacement={x:0,y:0},s.obj.computedata.dragDisplacement.x=i.x-s.obj.sobj.position.x,s.obj.computedata.dragDisplacement.y=i.y-s.obj.sobj.position.y,s.obj.computedata.scripts=[]}s.obj.computedata.scripts.push(t.step_num)}};static onMouseUp=(t,i,e,a)=>{if(a.obj&&a.obj.computedata.scripts.includes(i.step_num))for(let e=0;e<i.buttons.length;++e)if(i.buttons[e].id===a.obj.computedata.id)return"ready"===i.buttons[e].type?(t.startSpeechToTextStep(),0):(t.stopSpeechToTextStep(),1);return 0}};class i0{static onMouseDown=(e,t,i,a,n,s)=>{let r=!1;for(let e=0;e<2;++e)if(t.states[e].id===a){r=!0;break}var o,l,c;r&&(o=e.getTextInputBox(t.id))&&(l=e.getTextureWithId(t.states[0].id),c=e.getTextureWithId(t.states[1].id),l&&c&&(e.removeFromContainer(l,l.group_id),e.addToContainer(c,c.group_id),t.activeText=!0),this.updateText(e,o),e.enableTextInput(t.id))};static resetValues=(e,t)=>{i0.enableNormal(e,t)};static enableNormal=(e,t)=>{var i=e.getTextureWithId(t.states[0].id),a=e.getTextureWithId(t.states[1].id);i&&a&&(e.removeFromContainer(a,a.group_id),e.addToContainer(i,i.group_id)),t.activeText=!1};static setDisplayMode=(e,t)=>{i0.enableNormal(e,t)};static setDisableMode=(e,t)=>{i0.enableNormal(e,t)};static updateText=(e,t)=>{t.csstext&&(e.removeEnabledText(t.csstext.ssid),t.csstext.dispose(),t.csstext=null),t.text||(t.text="");var i=t.states[0],a=(t.csstextssid=Sf(),t.color),n={width:t.viewWidth,height:t.viewHeight};t.csstext=new Rf(t.text,0,0,i.position,1e4,i.alpha,t.fontSize,a,t.csstextssid,1,e,n),t.csstext.setNewPosition(0,t.position.x,0,t.position.y,e.size),t.csstext.sobj.stype="text",e.scene.add(t.csstext.sobj),e.enabledTexts.push(t.csstext)}}const a0=i0;const n0=class{constructor(e){this.scene=e;var e=new Xr(100,10),t=new T({color:16776960,side:We}),e=(this.background=new P(e,t),new Xr(100,10)),t=new T({color:255,side:We});this.fill=new P(e,t),this.fill.position.add(new Je(50,0,.1)),this.fillGO=new f,this.fillGO.add(this.fill),this.fillGO.position.x=-50,this.fillGO.scale.x=0,this.loadingBar=new f,this.loadingBar.add(this.background),this.loadingBar.add(this.fillGO),this.loadingManager=new Mo,console.error("adding loading bar"),this.loadingBar.parent||this.scene.add(this.loadingBar),this.loadingManager.onProgress=this.onProgress,this.loadingManager.onError=this.onError,this.loadingManager.onSceneLoaded=()=>{console.log("onSceneLoaded"),this.scene.remove(this.loadingBar)}}onProgress=(e,t,i)=>{this.fillGO.scale.x=t/i};onError=e=>{console.error("There was an error loading "+e)};get obj(){return this.loadingManager}dispose(){this.scene&&(this.loadingBar.remove(this.background),this.loadingBar.remove(this.fillGO),this.fill.geometry.dispose(),this.fill.material.dispose(),this.fill=null,this.background.geometry.dispose(),this.background.material.dispose(),this.background=null,this.fillGO=null,this.scene.remove(this.loadingBar),this.loadingBar=null,this.loadingManager.onProgress=null,this.loadingManager.onError=null,this.loadingManager=null,this.scene=null)}};const s0=class{static onLoad=(t,i)=>{for(let e=0;e<i.enables.length;++e){var a=i.enables[e];for(let e=0;e<t.animatableScripts.length;++e)if(t.animatableScripts[e].id===a.id)return;var n={x:0,y:0,z:0},n=(a.stopEuler&&(n.x=parseFloat(t.getSpecialVariableValue(a.stopEuler.x)),n.y=parseFloat(t.getSpecialVariableValue(a.stopEuler.y)),n.z=parseFloat(t.getSpecialVariableValue(a.stopEuler.z))),{id:a.id,animation:"rotationAnimationSteps",euler:{x:a.euler.x/100,y:a.euler.y/100,z:a.euler.z/100},startTime:t.time,durationType:a.durationType,duration:a.duration,stopAngleType:a.stopAngleType,stopEuler:n});n.sobj=R.getMovable(t,a.id),n.sobj&&t.animatableScripts.push(n)}};static stop=(e,t)=>{};static frameUpdate=(e,t,i,a)=>(t.sobj.sobj.rotation.x+=t.euler.x,t.sobj.sobj.rotation.y+=t.euler.y,t.sobj.sobj.rotation.z+=t.euler.z,"forever"!==t.durationType&&i-t.startTime>=parseFloat(t.duration)?("angle"===t.stopAngleType&&(t.sobj.sobj.rotation.x=R.degreeToRadian(t.stopEuler.x),t.sobj.sobj.rotation.y=R.degreeToRadian(t.stopEuler.y),t.sobj.sobj.rotation.z=R.degreeToRadian(t.stopEuler.z)),e.stopAnimatable(t),e.pushToResultsStored(t.id),e.goToNextStepIfWaiting(),-1):0)};class r0{constructor(e,t,i,a,n,s,r){this.scene=e,this.particleCount=1,this.geometry=new C,this.positions=new Float32Array(3*this.particleCount),this.velocities=[],this.colors=new Float32Array(3*this.particleCount),this.launchTime=a,this.targetPosition=i;for(let e=0;e<this.particleCount;e++)this.positions[3*e]=t.x,this.positions[3*e+1]=t.y,this.positions[3*e+2]=t.z,this.velocities.push({x:0,y:s,z:0}),this.colors[3*e]=r.r,this.colors[3*e+1]=r.g,this.colors[3*e+2]=r.b;this.geometry.setAttribute("position",new D(this.positions,3)),this.geometry.setAttribute("color",new D(this.colors,3)),this.material=new Us({size:n,vertexColors:!0,blending:Z,transparent:!0,depthWrite:!1}),this.particleSystem=new Ws(this.geometry,this.material),this.scene.add(this.particleSystem)}dispose=()=>{this.geometry.dispose(),this.material.dispose(),this.particleSystem&&(this.scene.remove(this.particleSystem),this.particleSystem=null)};updateNow=t=>{for(let e=0;e<this.particleCount;e++)this.positions[3*e]+=.5*this.velocities[e].x,this.positions[3*e+1]+=9.81*this.velocities[e].y*(t-this.launchTime)*.5,this.positions[3*e+2]+=.5*this.velocities[e].z;return this.geometry.attributes.position.needsUpdate=!0,!(this.positions[1]>=this.targetPosition.y&&(this.scene.remove(this.particleSystem),this.particleSystem=null,1))}}class o0{constructor(e,t,i,a,n,s,r){this.scene=e,this.particleCount=300,this.geometry=new C,this.positions=new Float32Array(3*this.particleCount),this.velocities=[],this.colors=new Float32Array(3*this.particleCount),this.launchTime=i;for(let e=0;e<this.particleCount;e++){this.positions[3*e]=t.x,this.positions[3*e+1]=t.y,this.positions[3*e+2]=t.z;var o=n/2+Math.random()*n,l=2*Math.random()*Math.PI,c=Math.acos(2*Math.random()-1);this.velocities.push({x:o*Math.sin(c)*Math.cos(l),y:o*Math.sin(c)*Math.sin(l),z:o*Math.cos(c)}),this.colors[3*e]=s.r,this.colors[3*e+1]=s.g,this.colors[3*e+2]=s.b}this.geometry.setAttribute("position",new D(this.positions,3)),this.geometry.setAttribute("color",new D(this.colors,3)),this.material=new Us({size:a,vertexColors:!0,blending:Z,transparent:!0,depthWrite:!1});r={x:t.x,y:-r/2,z:t.z};this.projectile=new r0(e,r,t,i,2*a,n,s)}dispose=()=>{this.projectile&&(this.projectile.dispose(),this.projectile=null),this.geometry.dispose(),this.material.dispose(),this.particleSystem&&(this.scene.remove(this.particleSystem),this.particleSystem=null)};updateNow=t=>{if(this.projectile)return!1===this.projectile.updateNow(t)&&(this.projectile.dispose(),this.projectile=null,this.launchTime=t,this.particleSystem=new Ws(this.geometry,this.material),this.scene.add(this.particleSystem)),!0;for(let e=0;e<this.particleCount;e++)this.positions[3*e]+=.5*this.velocities[e].x,this.positions[3*e+1]+=.5*this.velocities[e].y-4.905*(t-this.launchTime)*.5,this.positions[3*e+2]+=.5*this.velocities[e].z;return this.geometry.attributes.position.needsUpdate=!0,this.material.opacity=Math.max(1-(t-this.launchTime)/5,0),!(this.material.opacity<=0&&(this.scene.remove(this.particleSystem),this.particleSystem=null,1))}}class l0{constructor(e,t,i,a,n,s){this.scene=e,this.frustumSize=t,this.aspect=i/a,this.launchDuration=s.fireInterval,this.fireworks=[],this.lastLaunchTime=0,this.particleSize=s.particleSize,this.speed=s.speed,this.zPosition=s.zPosition,this.startTime=n,this.totalDuration=s.duration,this.colors=[];for(let t=0;t<s.colors.length;++t){let e=s.colors[t];var r=(e=e.startsWith("#")?e.slice(1):e).slice(0,2),o=e.slice(2,4),l=e.slice(4,6),r=parseInt(r,16),o=parseInt(o,16),l=parseInt(l,16);this.colors.push({r:r/255,g:o/255,b:l/255})}}dispose=()=>{for(;this.fireworks.length;)this.fireworks[0].dispose(),this.fireworks.splice(0,1)};updateNow(t){if(0<this.totalDuration&&t-this.startTime>=this.totalDuration)return!1;var e,i;t-this.lastLaunchTime>=this.launchDuration&&(this.lastLaunchTime=t,e={x:(Math.random()-.5)*this.frustumSize*this.aspect,y:Math.random()*this.frustumSize/2,z:this.zPosition},i=this.colors[Math.floor(Math.random()*this.colors.length)],this.fireworks.push(new o0(this.scene,e,t,this.particleSize,this.speed,i,this.frustumSize)));for(let e=this.fireworks.length-1;0<=e;e--)this.fireworks[e].updateNow(t)||(this.fireworks[e].dispose(),this.fireworks.splice(e,1));return!0}updateForResize=(e,t,i)=>{this.frustumSize=i,this.aspect=e/t}}const c0=4,d0=1024;function p0(e,t,i,a,n,s){e=e.image.data,s=c0*d0*s;e[t*c0+s]=nn.toHalfFloat(i),e[t*c0+s+1]=nn.toHalfFloat(a),e[t*c0+s+2]=nn.toHalfFloat(n),e[t*c0+s+3]=nn.toHalfFloat(1)}function u0(e,i,a=1){e.__ok||(e.__ok=!0,e.onBeforeCompile=e=>{var t;e.__modified||(e.__modified=!0,Object.assign(e.uniforms,i),t=`
		uniform sampler2D spineTexture;
		uniform float pathOffset;
		uniform float pathSegment;
		uniform float spineOffset;
		uniform float spineLength;
		uniform int flow;

		float textureLayers = ${4*a}.;
		float textureStacks = 1.;

		${e.vertexShader}
		`.replace("#include <beginnormal_vertex>","").replace("#include <defaultnormal_vertex>","").replace("#include <begin_vertex>","").replace(/void\s*main\s*\(\)\s*\{/,`
void main() {
#include <beginnormal_vertex>

vec4 worldPos = modelMatrix * vec4(position, 1.);

bool bend = flow > 0;
float xWeight = bend ? 0. : 1.;

#ifdef USE_INSTANCING
float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];
float spineLengthFromInstanceMatrix = instanceMatrix[3][0];
float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;
float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;
#else
float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;
float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;
#endif

mt = mod(mt, textureStacks);
float rowOffset = floor(mt);

#ifdef USE_INSTANCING
rowOffset += instanceMatrix[3][1] * 4.;
#endif

vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;
mat3 basis = mat3(a, b, c);

vec3 transformed = basis
	* vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)
	+ spinePos;

vec3 transformedNormal = normalMatrix * (basis * objectNormal);
			`).replace("#include <project_vertex>",`vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
				gl_Position = projectionMatrix * mvPosition;`),e.vertexShader=t)})}class h0{constructor(e,n=1){var t,e=e.clone(),i=([i=1]=[n],t=new Uint16Array(4*d0*i*c0),(t=new rs(t,d0,4*i,Fe,st)).wrapS=H,t.wrapY=H,t.magFilter=V,t.minFilter=V,t.needsUpdate=!0,t);const s={spineTexture:{value:i},pathOffset:{type:"f",value:0},pathSegment:{type:"f",value:1},spineOffset:{type:"f",value:161},spineLength:{type:"f",value:400},flow:{type:"i",value:1}};e.traverse(function(e){if(e instanceof P||e instanceof ys)if(Array.isArray(e.material)){var t=[];for(const a of e.material){var i=a.clone();u0(i,s,n),t.push(i)}e.material=t}else e.material=e.material.clone(),u0(e.material,s,n)}),this.curveArray=new Array(n),this.curveLengthArray=new Array(n),this.object3D=e,this.splineTexture=i,this.uniforms=s}updateCurve(e,t){if(e>=this.curveArray.length)throw Error("Index out of range for Flow");var i=t.getLength(),[a,i,n=0]=(this.uniforms.spineLength.value=i,this.curveLengthArray[e]=i,this.curveArray[e]=t,[this.splineTexture,t,e]),s=Math.floor(+d0),r=(i.arcLengthDivisions=s/2,i.updateArcLengths(),i.getSpacedPoints(s)),o=i.computeFrenetFrames(s,!0);for(let e=0;e<s;e++){var l=Math.floor(e/d0),c=e%d0,d=r[e];p0(a,c,d.x,d.y,d.z,0+l+4*n),p0(a,c,(d=o.tangents[e]).x,d.y,d.z,1+l+4*n),p0(a,c,(d=o.normals[e]).x,d.y,d.z,2+l+4*n),p0(a,c,(d=o.binormals[e]).x,d.y,d.z,3+l+4*n)}a.needsUpdate=!0}moveAlongCurve(e){this.uniforms.pathOffset.value+=e}}const m0=new Ke;class f0 extends h0{constructor(e,t,i,a){i=new ys(i,a,e);i.instanceMatrix.setUsage(35048),i.frustumCulled=!1,super(i,t),this.offsets=new Array(e).fill(0),this.whichCurve=new Array(e).fill(0)}writeChanges(e){m0.makeTranslation(this.curveLengthArray[this.whichCurve[e]],this.whichCurve[e],this.offsets[e]),this.object3D.setMatrixAt(e,m0),this.object3D.instanceMatrix.needsUpdate=!0}moveIndividualAlongCurve(e,t){this.offsets[e]+=t,this.writeChanges(e)}setCurve(e,t){if(isNaN(t))throw Error("curve index being set is Not a Number (NaN)");this.whichCurve[e]=t,this.writeChanges(e)}}class g0{constructor(e,t,i,a,n,s){this.stepDetails=s,this.scene=e,this.texture=null,this.aspect=i/a,this.frustumSize=t,this.originalFrustumSize=t,this.ribbonSpeed=25e-5,this.ribbonCount=20,this.deltaTime=0,this.flow=null,this.startTime=n,this.totalDuration=s.duration,this.colors=[];for(let e=0;e<s.colors.length;++e)this.colors.push(parseInt(s.colors[e].replace("#",""),16));this.ribbonArr=[this.createRibbons()]}dispose=()=>{this.ribbonArr.forEach(e=>{e&&(this.scene.remove(e.object3D),e.object3D.geometry.dispose(),e.object3D.material.dispose(),this.texture&&this.texture.dispose(),this.texture=e=null)})};updateNow(e){return!(0<this.totalDuration&&e-this.startTime>=this.totalDuration||(this.animateRibbons(),0))}updateForResize=(e,t,i)=>{this.frustumSize=i,this.aspect=e/t;this.ribbonArr.forEach(i=>{if(i){var t=this.generateStaticPoints(this.frustumSize).map(e=>new nr(e,!1,"centripetal",.7));t.forEach((e,t)=>i.updateCurve(t,e));for(let e=0;e<this.ribbonCount;e++){var a=e%t.length,n=(e+.05*e)/this.ribbonCount;i.setCurve(e,a),i.moveIndividualAlongCurve(e,n)}i.object3D.instanceMatrix.needsUpdate=!0}})};createRibbons(){var e=new Xr(.015*this.frustumSize,.2*this.frustumSize,100,100),t=(e.rotateX(Math.PI/2),e.rotateY(Math.PI/2),new T({map:this.texture,side:$e,transparent:!0})),i=this.generateStaticPoints(this.frustumSize).map(e=>new nr(e,!1,"centripetal",.7));const a=new f0(this.ribbonCount,i.length,e,t);i.forEach((e,t)=>a.updateCurve(t,e));for(let e=0;e<this.ribbonCount;e++){var n=e%i.length,n=(a.setCurve(e,n),a.moveIndividualAlongCurve(e,e/this.ribbonCount),new Ze(this.colors[Math.floor(Math.random()*this.colors.length)]));a.object3D.setColorAt(e,n)}return a.object3D.instanceMatrix.needsUpdate=!0,this.scene.add(a.object3D),a}generateStaticPoints(){var t=this.frustumSize/2+.2*this.frustumSize,i=(t-(-this.frustumSize/2-.2*this.frustumSize))/19,a=[.5*-Math.random(),.5*Math.random(),.5*-Math.random(),.5*Math.random(),.5*-Math.random()].map(e=>e*this.frustumSize*this.aspect);const n=Array(a.length).fill().map(()=>[]);var s=this.frustumSize/this.originalFrustumSize;let r=!0;for(let e=0;e<20;e++){const o=t-e*i*s*1,l=0===e||1===e||19===e||18===e?5*-this.frustumSize:Math.random()<.5?.035*-this.frustumSize:.035*this.frustumSize;a.forEach((e,t)=>{n[t].push(new Je(r?e+.02*this.frustumSize:e-.02*this.frustumSize,o,l))}),r=!r}return n}animateRibbons(){this.ribbonArr.forEach((t,e)=>{if(t)for(let e=0;e<this.ribbonCount;e++)t.moveIndividualAlongCurve(e,this.ribbonSpeed)})}}class _0{constructor(e,t,i,a,n,s){this.stepDetails=s,this.scene=e,this.texture=null,this.aspect=i/a,this.frustumSize=t,this.confettiCount=150,this.ribbonRotation=s.speed,this.deltaTime=0,this.startTime=n,this.totalDuration=s.duration,this.colors=[];for(let e=0;e<s.colors.length;++e)this.colors.push(parseInt(s.colors[e].replace("#",""),16));this.confettiPapers=[this.createConfetti()]}dispose=()=>{this.confettiPapers.forEach(e=>{this.scene.remove(e),e.geometry.dispose(),e.material.dispose()}),this.confettiPapers=[]};updateNow(e,t){return!(0<this.totalDuration&&e-this.startTime>=this.totalDuration||(this.animateConfetti(e),0))}updateForResize=(e,t,i)=>{this.frustumSize=i,this.aspect=e/t,this.confettiPapers.forEach(t=>{for(let e=0;e<this.confettiCount;e++){var i=new Je((Math.random()-.5)*this.aspect*this.frustumSize,this.frustumSize/2,0),a=new Ke;t.getMatrixAt(e,a),a.compose(i,new m,new Je(1,1,1)),t.setMatrixAt(e,a)}t.instanceMatrix.needsUpdate=!0})};createConfetti(){var e=(new Ko).copy(new Xr(this.stepDetails.particleSize,this.stepDetails.particleSize)),t=new T({side:We}),i=new ys(e,t,this.confettiCount);for(let e=0;e<this.confettiCount;e++){var a=new Je((Math.random()-.5)*this.aspect*this.frustumSize,this.frustumSize/2,this.stepDetails.zPosition),n=new Ze(this.colors[Math.floor(Math.random()*this.colors.length)]);i.setMatrixAt(e,(new Ke).compose(a,new m,new Je(1,1,1))),i.setColorAt(e,n),i.userData[e]=this.getRandomSpeed()}return this.scene.add(i),i}getRandomSpeed(){return{xSpeed:(Math.random()-.5)*this.frustumSize*this.aspect*2e-4,ySpeed:.1*-(.005*Math.random()*this.frustumSize),rotationSpeed:(Math.random()-.5)*this.frustumSize*.005}}animateConfetti(c){this.confettiPapers.forEach(t=>{for(let e=0;e<this.confettiCount;e++){var{xSpeed:i,ySpeed:a,rotationSpeed:n}=t.userData[e],s=new Ke,r=new Je,o=new m,l=new Je,o=(t.getMatrixAt(e,s),s.decompose(r,o,l),r.x+=i*this.stepDetails.speed,r.y+=a*this.stepDetails.speed,(r.y<.5*-this.frustumSize||r.x<.5*-this.frustumSize*this.aspect||r.x>.5*this.frustumSize*this.aspect)&&r.set((Math.random()-.5)*this.frustumSize*this.aspect,.5*this.frustumSize,this.stepDetails.zPosition),this.getRippleRotation(c,e,n));s.compose(r,o,new Je(.12*this.frustumSize,.12*this.frustumSize,.12*this.frustumSize)),t.setMatrixAt(e,s),t.instanceMatrix.needsUpdate=!0}})}getRippleRotation(e,t,i){var a=.1*Math.sin(3*e+.5*t),n=.1*Math.cos(2*e+.8*t),e=.5*Math.cos(1.5*e+.3*t);return(new m).setFromEuler(new ga(i+a*this.ribbonRotation,i+n*this.ribbonRotation,e))}}const y0=class{static onload=async(t,e,i)=>{if(!t.physicalCameraPlayer){e=t.getTextureWithId(e.imageid);if(e)if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{t.physicalCameraPlayer={stream:null,video:null,videoTexture:null,videoMaterial:null,oldMaterial:null},t.physicalCameraPlayer.stream=await navigator.mediaDevices.getUserMedia({video:!0}),t.physicalCameraPlayer.video=document.createElement("video"),t.physicalCameraPlayer.video.srcObject=t.physicalCameraPlayer.stream,t.physicalCameraPlayer.video.play(),await new Promise(e=>{t.physicalCameraPlayer.video.onloadedmetadata=()=>{e()}}),t.physicalCameraPlayer.videoTexture=new Xs(t.physicalCameraPlayer.video),t.physicalCameraPlayer.videoTexture.minFilter=V,t.physicalCameraPlayer.videoTexture.magFilter=V,t.physicalCameraPlayer.videoTexture.format=Fe,t.physicalCameraPlayer.videoMaterial=new T({map:t.physicalCameraPlayer.videoTexture});var a=t.physicalCameraPlayer.video.videoWidth/t.physicalCameraPlayer.video.videoHeight,n=e.sobj.scale.y*a;e.sobj.scale.x=n,t.physicalCameraPlayer.oldMaterial=e.sobj.material,e.sobj.material=t.physicalCameraPlayer.videoMaterial,e.sobj.mat=t.physicalCameraPlayer.videoMaterial}catch(e){console.error("Error accessing webcam:",e)}else alert("getUserMedia not supported on your browser!")}};static stop=async(e,t,i)=>{e.physicalCameraPlayer&&(t=e.getTextureWithId(t.imageid))&&(t.sobj.material=e.physicalCameraPlayer.oldMaterial,e.physicalCameraPlayer.stream.getTracks().forEach(e=>{e.stop()}),e.physicalCameraPlayer.videoTexture&&e.physicalCameraPlayer.videoTexture.dispose(),e.physicalCameraPlayer.video&&e.physicalCameraPlayer.video.parentNode&&e.physicalCameraPlayer.video.parentNode.removeChild(e.physicalCameraPlayer.video),e.physicalCameraPlayer=null)}};const b0=class{static onload=async(e,t,i,a)=>{};static stop=async(e,t,i)=>{};static frameUpdate=async(e,t,i)=>{}};class v0{constructor(e){this.stepDetails=e,this.partsToBeVisible=[];for(let e=0;e<this.stepDetails.includes.length;++e)1===this.stepDetails.includes[e].value&&this.partsToBeVisible.push(e)}dispose=e=>{e.stopAudioIfPlaying(this.stepDetails.audios[0].path)};checkNow(t,i){if(t.mediapipe&&t.mediapipe.poseLandmarker&&i)for(let e=0;e<i.length;e++){var a;if(this.partsToBeVisible.includes(e)&&i[e].visibility<=.5)return this.stepDetails.audios[0].path&&!t.isAnyAudioPlaying()&&t.playAudioPath(this.stepDetails.audios[0].path),this.stepDetails.notCalibratedImageId&&(a=t.getTextureWithId(this.stepDetails.notCalibratedImageId))&&t.addImage(a.id,a.xdisp,a.ydisp,0,a.xref,a.yref,a.sobj.scale.x,a.sobj.scale.y,a.sobj.scale.z,null),this.stepDetails.calibratedImageId&&(a=t.getTextureWithId(this.stepDetails.calibratedImageId))&&t.removeImage(a.id),!1}var e;return this.stepDetails.calibratedImageId&&(e=t.getTextureWithId(this.stepDetails.calibratedImageId))&&t.addImage(e.id,e.xdisp,e.ydisp,0,e.xref,e.yref,e.sobj.scale.x,e.sobj.scale.y,e.sobj.scale.z,null),this.stepDetails.notCalibratedImageId&&(e=t.getTextureWithId(this.stepDetails.notCalibratedImageId))&&t.removeImage(e.id),t.stopAudioIfPlaying(this.stepDetails.audios[0].path),!0}}var x0,S0,w0=R0(615);const T0=R0(685),A0=R0(155);let M0=!1,I0=!1;const E0=class{constructor(e,t,i,a,n,s,r,o,l,c){r.domElement.style.touchAction="none",this.callback=o,this.jsondata=n,this.divContainer=c,console.log("this.jsondata: ",this.jsondata),this.size={width:e,height:t,frustumSize:i},this.renderer=r,this.scene=s,this.cameraType=this.jsondata.settings.camera,this.loadingManager=new n0(this.scene);o=this.size.width/this.size.height,"orthographic"===this.cameraType?(this.camera=new qo(M.frustumSize*o/-2,M.frustumSize*o/2,M.frustumSize/2,-M.frustumSize/2,.1,R.OrthographicCamera),this.camera.position.z=400):(this.camera=new jn(50,o,.1,R.perspectiveCameraDepth),this.camera.position.set(0,0,400),this.camera.lookAt(new Je(0,0,0))),this.scene.background=new Ze(0),this.scene.add(this.camera),this.listener=new ll,this.camera.add(this.listener),this.backgroundSound=new cl(this.listener),this.backgroundVolume=1,c=window.location.href,e=new URL(c);this.modeparam=e.searchParams.get("mode"),"kreedo"!==E.company&&document.addEventListener("message",this.handlePostEvent),this.stepVariableMap={enableSteps:{type:"enable",func:this.enableStepFunc,callOnReload:!0},enableFromJSONSteps:{type:"enable_from_json",func:this.enableFromJSONStepFunc},enableAnimatedSteps:{type:"enable_animated",func:this.enableAnimatedSteppFunc},enableGifSteps:{type:"enable_gif",func:this.enableGifStepFunc},enableBackgroundSteps:{type:"enable_background",func:this.enableBackgroundFunc},enableContainerSteps:{type:"enable_container",func:this.enableContainerStepFunc},enableModelSteps:{type:"add_3d_model",func:this.enableModelStepFunc,callOnReload:!0},waitSteps:{type:"wait",func:this.waitFunc},disableSteps:{type:"disable",func:this.disableFunc},disableFromJSONSteps:{type:"disable_from_json",func:this.disableFromJSONFunc},texturePropertiesSteps:{type:"texture_properties",func:this.texturePropertiesFunc},backgroundColorSteps:{type:"background_color",func:this.backgroundColorFunc},translateAnimationSteps:{type:"translate_animation",func:this.translateAnimationStepFunc},audioSteps:{type:"audio",func:this.audioStepFunc},audioV2Steps:{type:"audio_v2",func:this.audioV2StepFunc},audioForLatestResultSteps:{type:"audio_for_latest_result",func:this.audioForLatestResultStepFunc},audioForLatestResult2Steps:{type:"audio_for_latest_result_2",func:this.audioForLatestResultV2StepFunc},stopAudioInstructionSteps:{type:"stop_audio_instruction",func:this.stopAudioInstructionStepFunc},imageAudioSteps:{type:"image_audio",func:this.imageAudioStepFunc},dragSteps:{type:"drag",func:this.dragStepFunc},menuSteps:{type:"menu",func:this.menuStepFunc},menu2Steps:{type:"menu2",func:this.menu2StepFunc},removeMenu2Steps:{type:"remove_menu_2",func:this.removeMenu2StepFunc},dontMoveForwardSteps:{type:"dontmoveforward",func:this.dontMoveForwardStepFunc},enableLayoutSteps:{type:"enable_layout",func:this.enableLayoutStepFunc},selectSteps:{type:"select",func:this.selectStepFunc},selectV2Steps:{type:"select_v2",func:this.selectV2StepFunc},microphoneSelectSteps:{type:"microphone_select",func:this.microphoneSelectStepFunc},interactionClickSteps:{type:"interaction_click",func:this.interactionClickStepFunc},dialogSteps:{type:"dialog",func:this.dialogStepFunc},toggleSteps:{type:"toggle",func:this.toggleStepFunc},toggleResultSteps:{type:"toggle_result",func:this.toggleResultStepFunc},wrongnessTrackerSteps:{type:"wrongness_tracker",func:this.wrongnessTrackerStepFunc},jumpToStateOnWrongResultSteps:{type:"jump_to_state_on_wrong_result",func:this.jumpToStateOnWrongResultStepFunc},verifyPositionsSteps:{type:"verify_positions",func:this.verifyPositionsStepFunc},verifyPositionsV2Steps:{type:"verify_positions_v2",func:this.verifyPositionsV2StepFunc},repositionIfWrongSteps:{type:"reposition_if_wrong",func:this.repositionIfWrongStepFunc},jumpToSteps:{type:"jump_to_step",func:this.jumpToStepStepFunc},enableDialogSteps:{type:"enable_dialog",func:this.enableDialogStepFunc},audioBackgroundSteps:{type:"audio_background",func:this.audioBackgroundFunc},audioBackgroundVolumeSteps:{type:"audio_background_volume",func:this.audiobackgroundVolumeFunc},logSteps:{type:"log_step",func:this.logStepFunc},textSteps:{type:"text",func:this.textStepFunc},text2Steps:{type:"text2",func:this.text2StepFunc},disabletextSteps:{type:"disable_text",func:this.disableTextStepFunc},gettextSteps:{type:"get_text",func:this.getTextStepFunc},progressBarSteps:{type:"progress_bar",func:this.progressBarStepFunc},progressBarFillSteps:{type:"progress_bar_fill",func:this.progressBarFillStepFunc},inputSteps:{type:"input",func:this.inputStepFunc},inputWaitSteps:{type:"input_wait",func:this.inputWaitStepFunc},disableInputSteps:{type:"disable_input",func:this.disableInputStepFunc},removeAllInputSteps:{type:"remove_all_input",func:this.removeAllInputStepFunc},dictionarySteps:{type:"dictionary",func:this.dictionaryStepFunc},enableInputClueSteps:{type:"enable_input_clue",func:this.enableInputClueStepFunc},resetWrongnessTrackerSteps:{type:"reset_wrongness_tracker",func:this.resetWrongnessTrackerStepFunc},interactionAudioAnytimeSteps:{type:"interaction_audio_anytime",func:this.interactionAudioAnytimeStepFunc},stopInteractionAudioAnytimeSteps:{type:"stop_interaction_audio_anytime",func:this.stopInteractionAudioAnytimeStepFunc},audioOnInactivitySteps:{type:"audio_on_inactivity",func:this.audioOnInActivityStepFunc},audioOnInactivityStopSteps:{type:"audio_on_inactivity_stop",func:this.audioOnInactivityStopStepFunc},pathSteps:{type:"path",func:this.pathStepFunc},paintPathSteps:{type:"paint_path",func:this.paintPathStepFunc},paintManytoManyPointsSteps:{type:"paint_many_to_many_points",func:this.paintManyToManyPointsStepFunc},paintRemovePaintersSteps:{type:"paint_remove_painters",func:this.paintRemovePaintersStepFunc},paintVerifyPaintersSteps:{type:"paint_verify_painters",func:this.paintVerifyPaintersStepFunc},clearPaintPathSteps:{type:"clear_paint_path",func:this.clearPaintPathStepFunc},lineSteps:{type:"line",func:this.lineStepFunc},lineDrawSteps:{type:"line_draw",func:this.lineDrawStepFunc},removeLineSteps:{type:"remove_line",func:this.removeLineStepFunc},translateAnimationByLineSteps:{type:"translate_animation_by_line",func:this.translateAnimationByLineStepFunc},paintLineSteps:{type:"paint_line",func:this.paintLineStepFunc},removePaintLineSteps:{type:"remove_paint_line",func:this.removePaintLineStepFunc},removeAllTimersSteps:{type:"remove_all_timers",func:this.removeAllTimersStepFunc},confettiSteps:{type:"confetti",func:this.confettiStepFunc},particlesSteps:{type:"particles",func:this.particlesStepFunc},keyboardKeysSteps:{type:"keyboard_keys",func:this.keyboardKeysFunc},recordSteps:{type:"record",func:this.recordStepFunc},conditionalJumpSteps:{type:"conditional_jump",func:this.conditionalJumpStepFunc},clearResultsSteps:{type:"clear_results",func:this.clearResultsStepFunc},shakeAnimationSteps:{type:"shake_animation",func:this.shakeAnimationStepFunc},dragDropSteps:{type:"drag_drop",func:this.dragDropStepFunc},dragDropV2Steps:{type:"drag_drop_v2",func:this.dragDropV2StepFunc},dragAreaDropSteps:{type:"drag_area_drop",func:this.dragAreaDropStepFunc},movebackLatestResultSteps:{type:"moveback_latest_result",func:this.movebackLatestResultStepFunc},movebackLatestResultIfNotGrabbedSteps:{type:"moveback_latest_result_ifnotgrabbed",func:this.movebackLatestResultIfNotGrabbedStepFunc},consoleLogSteps:{type:"console_log",func:this.consoleLogStepFunc},scrollingLayerSteps:{type:"scrolling_layer",func:this.scrollingLayerFunc},wrongnessAddSteps:{type:"wrongness_add",func:this.wrongnessAddStepFunc},correctnessAddSteps:{type:"correctness_add",func:this.correctnessAddStepFunc},lockForActionsSteps:{type:"lock_for_actions",func:this.lockForActionsStepFunc},lockForActionsClearSteps:{type:"lock_for_actions_clear",func:this.lockForActionsClearStepFunc},idMapSteps:{type:"id_map",func:this.idMapStepFunc},idmapDisableSteps:{type:"id_map_disable",func:this.idMapDisableStepFunc},saveValueSteps:{type:"save_value",func:this.saveValueStepFunc},saveValueClearSteps:{type:"save_value_clear",func:this.saveValueClearStepFunc},audioMapSteps:{type:"audio_map",func:this.audioMapStepFunc},playAudioByIdSteps:{type:"play_audio_by_id",func:this.playAudioByIdStepFunc},countConditionalJumpSteps:{type:"count_conditional_jump",func:this.countConditionalJumpStepFunc},countSteps:{type:"count",func:this.countStepFunc},customEventSteps:{type:"custom_event",func:this.customEventStepFunc},sendCustomEventSteps:{type:"send_custom_event",func:this.sendCustomEventFunc},receiveCustomEventSteps:{type:"receive_custom_event",func:this.func1},swapOnDragSteps:{type:"swap_on_drag",func:this.swapOnDragStepFunc},clearActionableSteps:{type:"clear_actionables",func:this.clearActionablesStepFunc},checkForOverlapSteps:{type:"check_for_overlap",func:this.chekForOverlapStepFunc},randomizePositionSteps:{type:"randomize_position",func:this.randomizePositionStepFunc},jsonDataSteps:{type:"json_input_data",func:this.jsonInputDataStepFunc},jsonCommSteps:{type:"json_comm",func:this.jsonCommStepFunc},jsonSaveDataSteps:{type:"json_save_data",func:this.jsonSaveDataStepFunc},jsonSaveDataFromPaintSteps:{type:"json_save_data_paint",func:this.jsonSaveDataFromPaintStepFunc},ifConditionSteps:{type:"if_condition",func:this.ifConditionStepFunc},applyForce2DSteps:{type:"apply_force_2d",func:this.applyForce2dStepFunc},buttonSteps:{type:"button",func:this.buttonStepFunc},openHREFSteps:{type:"open_href",func:this.openHREFStepFunc},rotateOnDrag2DSteps:{type:"rotate_on_drag_2d",func:this.rotateOnDrag2dStepFunc},speechToTextSteps:{type:"speech_to_text",func:this.speechToTextStepFunc},rotationAnimationSteps:{type:"rotation_animation",func:this.rotationAnimationStepFunc},objectsAlignerSteps:{type:"objects_aligner",func:this.objectsAlignerStepFunc},paintCanvasSteps:{type:"paint_canvas",func:this.paintCanvasStepFunc},painterSteps:{type:"painter",func:this.painterStepFunc},paintSteps:{type:"paint",func:this.paintStepFunc},clearPaintSteps:{type:"paint_clear",func:this.clearPaintStepFunc},alphaAnimationSteps:{type:"alpha_animation",func:this.alphaAnimationStepFunc},transformAnimationSteps:{type:"transform_animation",func:this.transformAnimationStepFunc},analyticsEventSteps:{type:"analytics_event",func:this.analyticsEventStepFunc},videoSteps:{type:"video",func:this.videoStepFunc},orbitalControlSteps:{type:"orbital_control",func:this.orbitalControlStepFunc},textInputSteps:{type:"text_input",func:this.textInputStepFunc},textInputActionSteps:{type:"text_input_action",func:this.textInputActionStepFunc},jumpToSceneSteps:{type:"jump_to_scene",func:this.jumpToSceneStepFunc},physicalCameraSteps:{type:"physical_camera",func:this.physicalCameraStepFunc},tensorFlowJSSteps:{type:"tensor_flow_js",func:this.tensorFlowJSFunc},mediaPipeSteps:{type:"media_pipe",func:this.mediaPipeFunc},skeletonCalibrationSteps:{type:"skeleton_calibration",func:this.skeletonCalibrationFunc},cameraSteps:{type:"camera",func:this.cameraSettingsFunc},goToSceneSteps:{type:"go_to_scene",func:this.goToSceneFunc},directionalLightSteps:{type:"directional_light",func:this.directionalLightFunc},arJSSteps:{type:"arjs_camera",func:this.arJSCameraFunc}},this.imagePaths=[],this.modelPathsMap=[],this.modelGLTFPathsMap=[],this.imagePathsGifs=[],this.imagePathsGifsMap=[],this.uint8FilePathsMap=[],this.fonts=[],this.settings=this.jsondata.settings,this.backgroundPlane=new hf(this.camera,"#ff0000",this.size);for(let e=0;e<n.objs.length;++e){if(0===n.objs[e].image_path.length)return void console.error("image_path cannot be empty");var d=n.objs[e].image_path+"?random="+("enable"===this.modeparam?"enable":"full");this.imagePaths.push(d)}for(let e=0;e<n.textSteps.length;++e){var p=n.textSteps[e];p.font&&this.fonts.push({id:p.font,path:p.font}),console.log("Text : ",p)}console.log("this.fonts: ",this.fonts);for(let e=0;e<n.enableGifSteps.length;++e){var u,h=n.enableGifSteps[e];for(let e=0;e<h.images.length;++e)h.images[e].image_path&&(u=h.images[e],this.imagePathsGifsMap.push({id:u.id||u.ssid,path:u.image_path}),this.imagePathsGifs.push(u.image_path))}if(n.enableContainerSteps)for(let e=0;e<n.enableContainerSteps.length;++e){var m,f=n.enableContainerSteps[e];if(f.enables_gif)for(let e=0;e<f.enables_gif.length;++e)f.enables_gif[e].path&&(m=f.enables_gif[e],this.imagePathsGifsMap.push({id:m.id||m.ssid,path:m.path}),this.imagePathsGifs.push(m.path))}this.audioPaths=[];for(let e=0;e<n.audioSteps.length;++e)this.addAudioPath(n.audioSteps[e].audio_path);if(n.audioV2Steps)for(let e=0;e<n.audioV2Steps.length;++e)n.audioV2Steps[e].audio_path&&this.addAudioPath(n.audioV2Steps[e].audio_path);for(let t=0;t<n.audioBackgroundSteps.length;++t)for(let e=0;e<n.audioBackgroundSteps[t].audio_paths.length;++e)this.addAudioPath(n.audioBackgroundSteps[t].audio_paths[e]);for(let t=0;t<n.dialogSteps.length;++t)for(let e=0;e<n.dialogSteps[t].audio_paths.length;++e)this.addAudioPath(n.dialogSteps[t].audio_paths[e]);for(let e=0;e<n.lineDrawSteps.length;++e)this.addAudioPath(n.lineDrawSteps[e].notCompletedAudio);for(let i=0;i<n.interactionClickSteps.length;++i)for(let t=0;t<n.interactionClickSteps[i].actions.length;++t)for(let e=0;e<n.interactionClickSteps[i].actions[t].audioclips.length;++e)this.addAudioPath(n.interactionClickSteps[i].actions[t].audioclips[e].audio_path);for(let e=0;e<n.dragSteps.length;++e)this.addAudioPath(n.dragSteps[e].repeatOnCompleteAudioClip);for(let e=0;e<n.verifyPositionsSteps.length;++e)this.addAudioPath(n.verifyPositionsSteps[e].wrongAudioClip);for(let e=0;e<n.audioOnInactivitySteps.length;++e)this.addAudioPath(n.audioOnInactivitySteps[e].clip);for(let e=0;e<n.toggleResultSteps.length;++e)this.addAudioPath(n.toggleResultSteps[e].wrongAudioClip);if(n.imageAudioSteps)for(let e=0;e<n.imageAudioSteps.length;++e)this.addAudioPath(n.imageAudioSteps[e].audio_path);if(n.dragSteps)for(let e=0;e<n.dragSteps.length;++e){var g=n.dragSteps[e];for(let e=0;e<g.drags.length;++e){var _=g.drags[e];if(_.touch_audios)for(let e=0;e<_.touch_audios.length;++e)this.addAudioPath(_.touch_audios[e].audio_path);if(_.drop_audios)for(let e=0;e<_.drop_audios.length;++e)this.addAudioPath(_.drop_audios[e].audio_path);if(_.drop_fail_audios)for(let e=0;e<_.drop_fail_audios.length;++e)this.addAudioPath(_.drop_fail_audios[e].audio_path)}}if(n.repositionIfWrongSteps)for(let t=0;t<n.repositionIfWrongSteps.length;++t)for(let e=0;e<n.repositionIfWrongSteps[t].destinations.length;++e){var y=n.repositionIfWrongSteps[t].destinations[e].repositions;for(let t=0;t<y.length;++t)for(let e=0;e<y[t].audios.length;++e)y[t].audios[e].audio_path&&this.addAudioPath(y[t].audios[e].audio_path)}if(n.selectSteps)for(let t=0;t<n.selectSteps.length;++t)for(let e=0;e<n.selectSteps[t].actions.length;++e){var b=n.selectSteps[t].actions[e].audioclips;for(let e=0;e<b.length;++e)b[e].audio_path&&this.addAudioPath(b[e].audio_path)}if(n.audioForLatestResultSteps)for(let i=0;i<n.audioForLatestResultSteps.length;++i)for(let e=0;e<n.audioForLatestResultSteps[i].audios.length;++e){let t=n.audioForLatestResultSteps[i].audios[e].audio_on_success;for(let e=0;e<t.length;++e)t[e].audio_path&&this.addAudioPath(t[e].audio_path);t=n.audioForLatestResultSteps[i].audios[e].audio_on_fail;for(let e=0;e<t.length;++e)t[e].audio_path&&this.addAudioPath(t[e].audio_path)}if(n.audioForLatestResult2Steps)for(let t=0;t<n.audioForLatestResult2Steps.length;++t)for(let e=0;e<n.audioForLatestResult2Steps[t].audios.length;++e){var v=n.audioForLatestResult2Steps[t].audios[e].audio_on_success;for(let e=0;e<v.length;++e)v[e].audio_path&&this.addAudioPath(v[e].audio_path)}if(n.audioMapSteps)for(let t=0;t<n.audioMapSteps.length;++t)for(let e=0;e<n.audioMapSteps[t].list.length;++e){var x=n.audioMapSteps[t].list[e].path;x&&this.addAudioPath(x)}if(n.enableModelSteps)for(let t=0;t<n.enableModelSteps.length;++t)for(let e=0;e<n.enableModelSteps[t].models.length;++e){var S=n.enableModelSteps[t].models[e];S.path&&("obj"===S.modeltype?this.modelPathsMap.push({id:S.id||S.ssid,path:S.path,modeltype:S.modeltype}):"gltf"===S.modeltype&&this.modelGLTFPathsMap.push({id:S.id||S.ssid,path:S.path,modeltype:S.modeltype}))}if(n.skeletonCalibrationSteps)for(let t=0;t<n.skeletonCalibrationSteps.length;++t)for(let e=0;e<n.skeletonCalibrationSteps[t].audios.length;++e){var w=n.skeletonCalibrationSteps[t].audios[e].path;w&&this.addAudioPath(w)}this.settings.enableMediaPipe&&this.uint8FilePathsMap.push({id:"mediapipe_full",path:"./mediapipe/models/pose_landmarker_full.task",modeltype:"mediapipe_full"}),M.audioInstructionOnlyOnReplay=1===this.jsondata.settings.audioInstructionOnlyOnReplay,this.imageAssets=[],this.levelNum=a,this.sdk=l,this.audioLoader=new el,this.assetManager=new Qu,this.raycaster=new bl,this.mouse=new ie,this.mouse_start=new ie,this.mouse_end=new ie,this.lerpingObjs=[],this.blinkingObjs=[],this.clock=new il,this.resetAllGlobalWrongnessVariables=!0,this.playableCheckPoints=[],this.chosenCheckPoints=[],this.loadAllPlayableCheckPoints(),this.time=0,this.timer=new ih(this),this.enableEvents=!0,this.lines=[],this.replay_only_wrong=!1,this.logs=new sh(l),this.hintDialogEnabled=!1,this.audioPlayers=[],this.interaction_audio_anytime=[],this.positionalObjs=[],this.enabledImages=[],this.enabledAnimatedImages=[],this.enabledGifMeshes=[],this.enabledTexts=[],this.progressBars=[],this.steps=[],this.stepIndex=0,this.currentAudioPath=null,this.skipWrongnessTrackerReset=!1,this.painters=[],this.dictionaries=[],this.inputs=[],this.inputWait=null,this.currentInput=-1,this.enableInputClue=null,this.stepDetails=null,this.drags=[],this.dragDetails=null,this.currentDrag=null,this.timeToDragCompletionAnnoucement=0,this.dragDisplacement={x:0,y:0},this.interaction_click_actions=null,this.completion_action_ids=null,this.userInteractionDisableTime=0,this.userInteractionDisableDuration=0,this.interaction_overlay=null,this.interaction_overlayStartTime=0,this.interaction_overlayDuration=0,this.toggles=[],this.toggleResult=null,this.toggleClearStart=-1,this.toggleClearDuration=-1,this.wrongnessTracker=null,this.wrongnessTrackerLocal=null,this.verifyPositions=null,this.dialogs=[],this.dialog=null,this.menu=null,this.menus=[],this.mouseDown=!1,this.pointerId=0,this.jumpToStep=0,this.audioInstruction=null,this.skipOnHint=!1,this.hintFromStep=-1,this.wrongnessFromContinue=!1,this.increasePlaycount=!1,this.presentationCheckpoint=-1,this.noInteractions=0,this.removeImageOnTimerIds=[],this.audio_on_inactivity=null,this.audio_on_inactivity_start=0,this.local_level_completed_status=!1,this.paint_lines=[],this.myConfetti=null,this.confettiTimeout=null,this.timespent=0,this.timeSinceLastInteraction=0,this.durationToStopCountingTimespent=60,this.positionsOccupiedMultiple=0,this.keyboardKeysStepDetails=null,this.keyboardKeysEnabled=!1,this.latest_key="",this.imageAudios=[],this.playing_again=!1,this.previousX=0,this.previousY=0,this.activeScript="",this.resultsStored=[],this.updatingSteps=[],this.scrollingLayers=[],this.recentResultsCount=1,this.lockForActions=[],this.savedValues=[],this.audioMap=[],this.countValues={},this.customEvents=[],this.waitingForCustomEvent=!1,this.actionableScripts=[],this.animatableScripts=[],this.paths=[],this.paint_paths=[],this.mouseMoved=!1,this.id_maps=[],this.json_save_data={},this.lastGrabbed="",this.latest_result_angle={x:0,y:0,z:0},this.enabledContainers=[],this.physicsShapes=[],this.physics_shape_material=new T({color:"#FF0000",transparent:!0,opacity:.5}),this.euler=new ga(0,0,0,"XYZ"),this.animations=[],this.speech_recognition=null,this.speech_recognition_status="stopped",this.paintCanvases=[],this.paint_fill_steps=[],this.activeObjData={obj:null},this.videoInfos=[],this.tpos=new Je(0,0,0),this.models=[],this.animationMixers=[],this.arJS=null,this.textInputSteps=[],this.activeTextInputId="",this.activeTextInputDetails=[],this.particles=[],this.audioRecordingChunks=null,this.audioRecordingStartTime=0,this.load(this.loadingManager.obj),this.makeConfettiCanvas0(),document.addEventListener("update_progressbars",this.updateProgressBars,!1)}dispose(){this.loadingManager.dispose(),this.loadingManager=null,this.backgroundSound&&(this.backgroundSound.isPlaying&&this.backgroundSound.stop(),this.backgroundSound=null),this.cancelConfetti(),"kreedo"!==E.company&&document.removeEventListener("message",this.handlePostEvent),this.renderer.domElement.removeEventListener("pointerdown",this.onDocumentMouseDown,!1),this.renderer.domElement.removeEventListener("pointermove",this.onDocumentMouseMove,!1),this.renderer.domElement.removeEventListener("pointerup",this.onDocumentMouseUp,!1),this.renderer.domElement.removeEventListener("pointerout",this.onDocumentMouseOut,!1),document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("update_progressbars",this.updateProgressBars,!1),this.assetManager.dispose();for(let e=0;e<this.audioPlayers.length;++e)this.audioPlayers[e].dispose();for(let e=0;e<this.imageAssets.length;++e)this.scene.remove(this.imageAssets[e]);this.removeAllImages(),this.removeAllModels(),this.removeAllTexts(),this.removeAllParticles();for(let e=0;e<this.positionalObjs.length;++e)this.positionalObjs[e].dispose();this.backgroundPlane.dispose(),this.modelPathsMap=null,this.modelGLTFPathsMap=null,this.uint8FilePathsMap=null}func1=(e,t)=>{console.error(`Not implemented: ${t.type} : stepDetails: `,e),this.goToNextStep()};handlePostEvent=e=>{if("kreedo"!==E.company)try{var t=JSON.parse(e);"vexhibit"===t.app&&!0===t.comm&&(this.commData=t)}catch(e){this.commData=null}};removeAllTexts=()=>{for(;0<this.enabledTexts.length;)this.scene.remove(this.enabledTexts[0].sobj),this.enabledTexts[0].dispose(),this.enabledTexts.splice(0,1)};removeAllParticles=()=>{for(;0<this.particles.length;)this.particles[0].dispose(),this.particles.splice(0,1)};addAudioPath=e=>{!this.isAudioPathLoaded(e)&&0<e.length&&this.audioPaths.push({path:e})};isAudioPathLoaded=t=>{for(let e=0;e<this.audioPaths.length;++e)if(this.audioPaths[e]==t)return!0;return!1};stopAllAudio=()=>{for(let e=0;e<this.audioPlayers.length;++e)this.audioPlayers[e].dispose();this.audioPlayers=[]};removeAsset=e=>{e=this.imageAssets.indexOf(e);-1<e&&this.imageAssets.splice(e,1)};load=async e=>{console.log("Level loading..."),await this.assetManager.loadAll(e,this.imagePaths,this.audioPaths,this.imagePathsGifs,this.modelPathsMap,this.modelGLTFPathsMap,this.fonts,this.uint8FilePathsMap,this.sdk,this.callback),console.log("this.uint8FilePathsMap: ",this.uint8FilePathsMap),this.createScene(),e.onSceneLoaded()};setEnableEvents=e=>{this.enableEvents=e};updateForResize=(e,t,i)=>{this.size.width=e,this.size.height=t,this.size.frustumSize=i,this.css3DRenderer&&this.css3DRenderer.setSize(e,t);for(let e=0;e<this.enabledImages.length;++e)this.enabledImages[e].updateForResize(this.size);for(let e=0;e<this.enabledGifMeshes.length;++e)this.enabledGifMeshes[e].updateForResize(this.size);for(let e=0;e<this.enabledTexts.length;++e)this.enabledTexts[e].updateForResize(this.size);for(let e=0;e<this.particles.length;++e)this.particles[e].updateForResize(this.size.width,this.size.height,M.frustumSize);this.arJS&&this.arJS.onResize()};getTexture=(e,t,i,a,n,s,r=null,o=null,l=null)=>{e=R.getTexture(e,t,i,a,n,s,r,o,l);return this.imageAssets.push(e),e};getTexture2=(e,t,i,a,n,s,r,o,l=null,c=null,d=null)=>{e=this.getTexture(e,t,i,n,r,o,l,c,d);return new th(e,a,n,s,r)};getGifMeshForTexture=(e,t)=>{var i,a;if(e)return i=new T({map:e,transparent:!0}),a=new Xr(+e.meshWidth,+e.meshHeight),((a=new P(a,i)).mat=i).needsUpdate=!0,a.name=t,a.gifTexture=e,new th(a,0,0,0,0)};getTextureWithId=t=>{for(let e=0;e<this.positionalObjs.length;++e)if(this.positionalObjs[e].texture.name===t)return this.positionalObjs[e];return null};getEnabledWithId=t=>{for(let e=0;e<this.enabledImages.length;++e)if(this.enabledImages[e].texture.name===t)return this.enabledImages[e];return null};getContainerWithId=t=>{for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].id===t)return this.enabledContainers[e];return null};getTextWithId=t=>{console.log("id: ",t);for(let e=0;e<this.enabledTexts.length;++e)if(this.enabledTexts[e].sobj.name===t)return this.enabledTexts[e];return null};getGifMeshWithId=t=>{for(let e=0;e<this.gifMeshes.length;++e)if(this.gifMeshes[e].texture.name===t)return this.gifMeshes[e];return null};getEnabledGifMesh=t=>{for(let e=0;e<this.enabledGifMeshes.length;++e)if(this.enabledGifMeshes[e].texture.name===t)return this.enabledGifMeshes[e];return null};getModelWithId=t=>{for(let e=0;e<this.models.length;++e)if(this.models[e].id===t)return this.models[e];return null};addStep=t=>{var i=t.details.step_num;for(let e=0;e<this.steps.length;++e)if(this.steps[e].details.step_num>i)return void this.steps.splice(e,0,t);this.steps.push(t)};fetchAndStep=(t,i)=>{if(t in this.jsondata)for(let e=0;e<this.jsondata[t].length;++e){var a={type:i,details:this.jsondata[t][e]};this.addStep(a)}};createMeshFromBody=e=>{var t=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,t=new En(t,i,1),i=new P(t,this.physics_shape_material);return i.position.set(e.position.x,e.position.y,0),i};setup2DPhysics=()=>{this.physicsEngine||(this.physicsEngine=df.Engine.create(),this.physicsEngine.gravity.y=-.98,df.Events.on(this.physicsEngine,"collisionStart",e=>{console.error("collisionStart: "),e.pairs.forEach(function(e){console.log("pair.bodyA.sobj_id: ",e.bodyA.sobj_id),console.log("pair.bodyB.sobj_id: ",e.bodyB.sobj_id),console.log("Collision detected between:",e.bodyA.id,"and",e.bodyB.id)})}))};setupCSSRenderer=()=>{this.css3DRenderer=new cp,this.css3DRenderer.setSize(this.size.width,this.size.height),this.css3DRenderer.domElement.style.position="absolute",this.css3DRenderer.domElement.style.top="0",this.css3DRenderer.domElement.style.pointerEvents="none",document.body.appendChild(this.css3DRenderer.domElement);var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(`
        body { margin: 0; }
        .overlay-text {
            position: absolute;
            color: white;
            font-size: 24px;
            pointer-events: none;
        }
    `)),document.head.appendChild(e)};createScene=()=>{this.setup2DPhysics();for(let e=0;e<this.jsondata.objs.length;++e){var t=this.jsondata.objs[e],i=t.position,a=t.scale,t=(console.log(this.assetManager.textures[e],t.id,!0,t.xref,i.x,t.yref,i.y,i.z),this.getTexture2(this.assetManager.textures[e],t.id,!0,t.xref,i.x,t.yref,i.y,i.z));t.setScale(a.x,a.y),this.positionalObjs.push(t)}this.gifMeshes=[];for(let e=0;e<this.imagePathsGifsMap.length&&e<this.assetManager.gifTextures.length;++e){var n=this.getGifMeshForTexture(this.assetManager.gifTextures[e],this.imagePathsGifsMap[e].id);this.positionalObjs.push(n)}for(const e in this.stepVariableMap)this.fetchAndStep(e,e);if(this.renderer.domElement.addEventListener("pointerdown",this.onDocumentMouseDown,!1),this.renderer.domElement.addEventListener("pointermove",this.onDocumentMouseMove,!1),this.renderer.domElement.addEventListener("pointerup",this.onDocumentMouseUp,!1),this.renderer.domElement.addEventListener("pointerout",this.onDocumentMouseOut,!1),document.addEventListener("keydown",this.onKeyDown,!1),this.setupCSSRenderer(),I0)this.postInit();else if(M0){let e=!1;this.logs.IsLevelCompleted(this.levelNum)&&0<this.jsondata.settings.gameplay_stepnum&&(this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.stepIndex=this.jsondata.settings.gameplay_stepnum,this.goToCheckPoint(),e=!0),e||(console.log("NotpostInit 4"),this.stepIndex=0,this.loadStep(this.stepIndex))}else this.stepIndex=0,this.loadStep(this.stepIndex);this.updateForResize(this.size.width,this.size.height,this.size.frustumSize)};postInit=()=>{var e;I0=!0,localStorage.getItem(M.getUniqueKeyFor("skipped_level"))?(localStorage.removeItem(M.getUniqueKeyFor("skipped_level")),(e=localStorage.getItem(M.getUniqueKeyFor("previous_step_completed_"+this.levelNum)))?(this.loadAllPlayableCheckPointsResults(),this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),e=parseInt(e),this.stepIndex=e,this.goToCheckPoint()):(this.stepIndex=0,this.logs.IsLevelCompleted(this.levelNum)&&0<this.jsondata.settings.gameplay_stepnum&&(this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.stepIndex=this.jsondata.settings.gameplay_stepnum,this.goToCheckPoint()),0==this.stepIndex&&this.loadStep(this.stepIndex))):!this.logs.IsPresentationCompleted(this.levelNum)||(this.stepIndex=this.jsondata.settings.gameplay_stepnum,-1==this.stepIndex)?(this.stepIndex=0,this.loadStep(this.stepIndex)):(this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.goToCheckPoint()),this.sdk.setPlaycount(this.levelNum)};pauseAtVideoNow=e=>{console.log("--- pauseAtVideoNow --- ",e),e.pause(),e.pauseAtMode=!1,this.pushToResultsStored(e.videoid),this.goToNextStepIfWaiting()};update=()=>{var t=this.clock.getDelta();this.time+=t,Wm(),this.arJS&&this.arJS.update(t);for(let e=0;e<this.animationMixers.length;++e)this.animationMixers[e].mixer.update(t);this.css3DRenderer&&this.css3DRenderer.render(this.scene,this.camera),this.physicsEngine&&df.Engine.update(this.physicsEngine);for(let e=0;e<this.particles.length;++e)!1===this.particles[e].updateNow(this.time,t)&&(this.particles[e].dispose(),this.particles.splice(e,1),--e);for(let e=0;e<this.videoInfos.length;++e){var i=this.videoInfos[e];i.video&&(i.pauseAtMode&&i.video.currentTime>=i.pauseAt&&this.pauseAtVideoNow(i),i.video.readyState===i.video.HAVE_ENOUGH_DATA)&&(i.videoTexture.needsUpdate=!0)}this.settings.enableMediaPipe&&this.mediapipe&&(b0.frameUpdate(this,null,this.size),this.skeletonCalibration)&&this.skeletonCalibration.checkNow(this,this.mediapipe.customlandmarks);for(let e=0;e<this.animations.length;++e)0!==this.animations[e].func(this,this.animations[e].details,this.size,t,this.time)&&(this.animations.splice(e,1),--e);for(let e=0;e<this.enabledImages.length;++e){var a=this.enabledImages[e];a.texture.gifTexture&&a.texture.gifTexture.draw(this.time,t),a.physics_shape&&(a.texture.position.set(a.physics_shape.position.x,a.physics_shape.position.y,a.texture.position.z),a.texture.rotation.set(0,0,a.physics_shape.angle),a.physics_shape_view)&&a.physics_shape_view.position.set(a.physics_shape.position.x,a.physics_shape.position.y,a.texture.position.z+.01)}for(let e=0;e<this.enabledContainers.length;++e)this.enabledContainers[e].my_update();this.time-this.timeSinceLastInteraction<this.durationToStopCountingTimespent&&(this.timespent+=t),this.timer.update(),this.doAnimation(this.time,t);for(let e=0;e<this.enabledAnimatedImages.length;++e)this.enabledAnimatedImages[e].update(t);let e=0;for(;e<this.lerpingObjs.length;)this.lerpingObjs[e].doLerp(t),e+=1;for(e=0;e<this.blinkingObjs.length;)this.blinkingObjs[e].doBlinking(t),e+=1;tf.update(this,this.scrollingLayers,t);for(let e=0;e<this.updatingSteps.length;++e);if(null!=this.interaction_overlay&&0<this.interaction_overlayDuration&&this.time-this.interaction_overlayStartTime>=this.interaction_overlayDuration){for(let e=0;e<this.enabledImages.length;++e)if(this.enabledImages[e].texture.name==this.interaction_overlay.texture.name){this.removePhysicsShape(this.enabledImages[e]),this.scene.remove(this.enabledImages[e].texture),this.enabledImages.splice(e,1);break}this.interaction_overlay=null,this.interaction_overlayDuration=0}if(0<this.toggleClearDuration&&this.time-this.toggleClearStart>=this.toggleClearDuration&&(this.toggleClearDuration=-1,this.toggleClearStart=-1,this.resetAlltoggles()),0<this.drags.length&&this.dragDetails&&0!=this.timeToDragCompletionAnnoucement&&0<=this.time-this.timeToDragCompletionAnnoucement&&(this.timeToDragCompletionAnnoucement=this.time+this.dragDetails.repeatOnCompleteInterval,this.playAudioPath(this.dragDetails.repeatOnCompleteAudioClip),0<this.dragDetails.hightlightClickButton.length)&&(o=this.dragDetails.click_action,this.removeImage(this.dragDetails.hightlightClickButton),this.addImage(this.dragDetails.hightlightClickButton,o.position.x,o.position.y,o.position.z,o.position.xref,o.position.yref,o.scale.x,o.scale.y,o.scale.z,o.id)),this.cleaupAudioEnded(),null!=this.inputWait){let t=-1==this.currentInput,i=0;this.currentInput=this.inputWait.inputids.length-1;for(let e=0;e<this.inputWait.inputids.length;++e){var n,s=this.getInput(this.inputWait.inputids[e]);if(0==s.dynamicKey.length){if(this.currentInput!=e){t=!0;for(let e=0;e<s.enables.length;++e)this.removeImage(s.enables[e].id)}this.currentInput=e;break}i+=1;for(let e=0;e<s.enables.length;++e)this.removeImage(s.enables[e].id);this.enableInputClue&&(n=this.enableInputClue.inputClueHighlightIds[e],this.removeImage(n))}var r,o=this.getTextureWithId(this.inputWait.deleteid),o=(0==i?this.removeImage(this.inputWait.deleteid):this.addImage(this.inputWait.deleteid,o.xdisp,o.ydisp,0,o.xref,o.yref,1,1,1,null),this.getTextureWithId(this.inputWait.exitid)),l=(i==this.inputWait.inputids.length?(this.isImageEnabled(this.inputWait.exitid)||this.addImage(this.inputWait.exitid,o.xdisp,o.ydisp,0,o.xref,o.yref,1,1,1,null),this.isImageEnabled(this.inputWait.exit_highlight_id)||this.timer.isRefAdded("add_input_highlight_after_complete")||this.timer.addTimeOut(this.inputWait.enable_highlight_after_complete,"add_input_highlight_after_complete")):(this.removeImage(this.inputWait.exitid),this.removeImage(this.inputWait.exit_highlight_id),this.timer.removeTimeOutAll("add_input_highlight_after_complete")),this.getInput(this.inputWait.inputids[this.currentInput]));for(let e=0;e<l.enables.length;++e)!t&&this.isImageEnabled(l.enables[e].id)||this.addImage(l.enables[e].id,l.enables[e].position.x,l.enables[e].position.y,l.enables[e].position.z,0,0,1,1,1,l.enables[e].parentid);this.enableInputClue&&(o=this.enableInputClue.inputClueIds[this.currentInput],r=this.enableInputClue.inputClueHighlightIds[this.currentInput],this.removeImage(r),this.addImage(r,0,0,0,0,0,1,1,1,o))}if(this.audio_on_inactivity&&!this.dialog&&this.audio_on_inactivity_start+parseFloat(this.audio_on_inactivity.duration)<this.time){let t="";if(1===this.audio_on_inactivity.fromaudiomapid){var c=this.getSpecialVariableValue(this.audio_on_inactivity.audiomapid);if(0<c.length&&this.audioMap)for(let e=0;e<this.audioMap.length;++e)this.audioMap[e].id===c&&(t=this.audioMap[e].path)}else t=this.audio_on_inactivity.clip;t&&this.playAudioPath(t,!0),this.audio_on_inactivity_start=this.time}if(this.line_draw&&(r=(this.time-this.line_draw.starttime)/this.line_draw.details.duration,this.line_draw.line.drawTill(r),1<=r)&&(this.line_draw=null),this.paint_line&&(o=(this.time-this.paint_line.starttime)/this.paint_line.details.duration,this.paint_line.painter.drawTill(this.paint_line.line,o),1<=o)&&(this.paint_line=null),this.translate_animation_by_line){let t=(this.time-this.translate_animation_by_line.starttime)/this.translate_animation_by_line.details.duration;1<=t&&(t=1);var d=this.translate_animation_by_line.line.getAtProgress(t);for(let e=0;e<this.translate_animation_by_line.images.length;++e){1==this.translate_animation_by_line.details.elements[e].enable_lookatnext&&(p=this.translate_animation_by_line.details.elements[e].rotation_displacement,h=this.translate_animation_by_line.images[e].texture.position.clone(),u=this.translate_animation_by_line.line.getAtProgress(t+.02),u=new Je(u.x,u.y,0),u=this.get2DLookAt(u,h)+p.z,this.translate_animation_by_line.images[e].setEulersInDegrees(0,0,u));var p,u,h=this.translate_animation_by_line.details.elements[e].displacement;this.translate_animation_by_line.images[e].setNewPosition(0,d.x+h.x,0,d.y+h.y,this.size)}1<=t&&(this.translate_animation_by_line=null)}this.orbitalControls&&this.orbitalControls.update(),this.renderer.render(this.scene,this.camera),this.capturer&&this.capturer.capture(this.renderer.domElement)};updateScale=(e,t)=>{var i=e/t;"orthographic"===this.cameraType?(this.camera.left=M.frustumSize*i/-2,this.camera.right=M.frustumSize*i/2,this.camera.top=M.frustumSize/2,this.camera.bottom=-M.frustumSize/2):this.camera.aspect=i,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t),this.updateForResize(e,t,M.frustumSize),1<=i&&"portrait"===this.jsondata.settings.orietnation&&console.log("Rotate the device. Only Portrait is support"),i<1&&"landscape"===this.jsondata.settings.orientation&&console.log("Rotate the device. Only Landscape is support")};get2DLookAt=(e,t)=>(e.z=0,e.x=e.x-t.x,e.y=e.y-t.y,180*Math.atan2(e.y,e.x)/Math.PI);isImageEnabled=t=>{for(let e=0;e<this.enabledImages.length;++e)if(this.enabledImages[e].texture.name==t)return!0;return!1};getInput=t=>{for(let e=0;e<this.inputs.length;++e)if(this.inputs[e].uniqueid==t)return this.inputs[e];return null};getDictionary=(t,i)=>{let a=null;for(let e=0;e<this.dictionaries.length;++e)if(this.dictionaries[e].key==t){a=this.dictionaries[e];break}null==a&&(a=this.dictionaries[0]);for(let e=0;e<a.elements.length;++e)if(a.elements[e].key==i)return a.elements[e].values;return[]};onARStartedFromARJS=()=>{console.log("onARStartedFromARJS: "),this.goToNextStep()};goToNextWronggedStep=()=>{this.stepIndex+=1,console.log("this.stepIndex: ",this.stepIndex);let t=!1;for(let e=0;e<this.playableCheckPoints.length;++e){var i=this.playableCheckPoints[e];if(this.stepIndex>=this.playableCheckPoints[e].start_step_num&&this.stepIndex<=this.playableCheckPoints[e].end_step_num){if(0!=this.playableCheckPoints[e].wrongnessTracker)return i.resetWrongnessTracker=1,this.stepIndex=this.playableCheckPoints[e].start_step_num,void this.loadStep(this.stepIndex);t=!0}else if(t&&0!=this.playableCheckPoints[e].wrongnessTracker)return i.result=0,i.resetWrongnessTracker=1,this.stepIndex=this.playableCheckPoints[e].start_step_num,void this.loadStep(this.stepIndex)}this.dumpAllPlayableCheckPointsResults();for(let e=this.playableCheckPoints[this.playableCheckPoints.length-1].start_step_num;e<this.steps.length;++e)if("jumpToStateOnWrongResultSteps"===this.steps[e].type)return this.stepIndex=e,void this.loadStep(this.stepIndex);console.error("Control should not come here. Something wrong. please check")};goToNextStepIfWaiting=()=>{"waitSteps"===this.activeScript&&this.goToNextStep()};goToNextStep=()=>{if(this.replay_only_wrong)for(let e=0;e<this.playableCheckPoints.length-1;++e)if(this.playableCheckPoints[e].end_step_num==this.stepIndex)return void this.goToNextWronggedStep();this.stepIndex+=1,this.loadStep(this.stepIndex)};getTextureWithIdForInput=(t,i)=>{for(let e=0;e<this.inputs.length;++e)if(this.inputs[e].uniqueid==t){var a;if(0<this.inputs[e].dynamicKey.length)return this.removeImage(this.inputs[e].dynamicKey),-1!=i&&(0<(a=this.getDictionary(this.inputs[e].key,this.inputs[e].dynamicInput)).length?this.inputs[e].dynamicKey=a[i]:this.inputs[e].dynamicInput=""),this.getTextureWithId(this.inputs[e].dynamicKey);break}return null};enableAnimatedStep=a=>{if(a.images)for(let i=0;i<a.images.length;++i){var n=a.images[i],s=this.getTextureWithId(n.id),r=new Je(0,0,s.texture.position.z);r.x=n.position.x,r.y=n.position.y;let e=n.xref,t=n.yref;0<n.parentid.length&&(o=this.getTextureWithId(n.parentid))&&(0!=o.xref||0!=o.yref?(r.x+=o.xdisp,r.y+=o.ydisp):(r.x+=o.texture.position.x,r.y+=o.texture.position.y),e=o.xref,t=o.yref),s.texture.material.opacity=n.alpha,s.setNewPosition(e,r.x,t,r.y,this.size),s.setScale(n.scale.x,n.scale.y),s.setEulersInDegrees(n.euler.x,n.euler.y,n.euler.z),this.scene.add(s.texture);var o=new Pm(s.texture.rawAsset,parseInt(n.xtiles),parseInt(n.ytiles),parseInt(n.total_tiles),parseFloat(n.tile_display_duration));this.enabledImages.push(s),this.enabledAnimatedImages.push(o),o.texture.name=n.id}};isEnabledImageStartsWithInPosition=(t,e)=>{var i=[],a=A0(e);t=(t=t.replace("@{starts_with}{","")).replace("}",""),console.error("-- startValue: ",t);for(let e=0;e<this.enabledImages.length;++e){var n=this.enabledImages[e];n.texture.name.startsWith(t)&&(a.z=n.texture.position.z,console.error(a.distanceTo(n.texture.position)),a.distanceTo(n.texture.position)<1)&&i.push(n.texture.name)}return console.error("-- position: ",e),console.error("-- ",i),i};isEnabledImageEndsWithInPosition=(t,e)=>{var i=[],a=A0(e);t=(t=t.replace("@{ends_with}{","")).replace("}","");for(let e=0;e<this.enabledImages.length;++e){var n=this.enabledImages[e];n.texture.name.endsWith(t)&&(a.z=n.texture.position.z,a.distanceTo(n.texture.position)<1)&&i.push(n.texture.name)}return i};getValueFromJSONPath=(e,t)=>{let i=e;for(const n of t.replace(/\[([^\]]+)\]/g,".$1").split("."))if(isNaN(n)){if(void 0===i[n])return;i=i[n]}else{var a=parseInt(n,10);if(a<0||a>=i.length||void 0===i[a])return;i=i[a]}return i};getSpecialVariableValue=(n,s=!1)=>{if("number"!=typeof n){if((n=A0(n)).includes("@{saved_value}")){let t="",i=0;for(let e=0;e<n.length;++e)if("$"===n[e])i=1;else if("{"===n[e]&&1===i)i+=1;else{if("}"===n[e]&&2===i)break;2===i&&(t+=n[e])}0<t.length?(r=parseInt(t))<this.savedValues.length&&(n=(n=n.replace("@{saved_value}",this.savedValues[r])).replace("${"+t+"}","")):0<this.savedValues.length&&(n=n.replace("@{saved_value}",this.savedValues[this.savedValues.length-1]))}if(n.includes("@saved_value")){let t="",i=0;for(let e=0;e<n.length;++e)if("$"===n[e])i=1;else if("{"===n[e]&&1===i)i+=1;else{if("}"===n[e]&&2===i)break;2===i&&(t+=n[e])}0<t.length?(r=parseInt(t))<this.savedValues.length&&(n=(n=n.replace("@saved_value",this.savedValues[r])).replace("${"+t+"}","")):0<this.savedValues.length&&(n=n.replace("@saved_value",this.savedValues[this.savedValues.length-1]))}if(n.includes("@{count}")){var r="@{count}${",a=n.indexOf(r);if(-1!==a){let t="";for(let e=a+r.length;e<n.length&&"}"!==n[e];++e)t+=n[e];if(0<t.length&&void 0!==this.countValues[t])return n=n.slice(0,a)+this.countValues[t]+n.slice(a+r.length+t.length+1),this.getSpecialVariableValue(n,s)}}if(n.includes("@count${")||n.includes("@{count}")){let i="@count${";n.includes("@{count}${")&&(i="@{count}${");a=n.indexOf(i);if(-1!==a){let t="";for(let e=a+i.length;e<n.length&&"}"!==n[e];++e)t+=n[e];if(0<t.length&&void 0!==this.countValues[t])return n=n.slice(0,a)+this.countValues[t]+n.slice(a+i.length+t.length+1),this.getSpecialVariableValue(n,s)}}if(n.includes("@count(")){for(var e=/@count\(([^@]+?)\)/;i=e.exec(n);){var t=i[0],i=i[1];let e="";0<i.length&&void 0!==this.countValues[i]&&(e=this.countValues[i]),n=n.replace(t,e)}return this.getSpecialVariableValue(n,s)}if(n.includes("@{time}")||n.includes("@time")){let e="@time";n.includes("@{time}")&&(e="@{time}");r=Date.now()/1e3;return n=n.replace(e,r),this.getSpecialVariableValue(n,s)}if(n.includes("@result_euler"))return n=n.replace(/@result_euler\((x|y|z)\)/g,(e,t)=>this.latest_result_angle[t]),this.getSpecialVariableValue(n,s);if(n.includes("@latest_result")||n.includes("@{latest_result}")||n.includes("@result")){let e="@latest_result";if(n.includes("@{latest_result}")&&(e="@{latest_result}"),n.includes("@result")&&(e="@result"),0<this.resultsStored.length)return n=n.replace(e,this.resultsStored[this.resultsStored.length-1]),this.getSpecialVariableValue(n,s)}if(n.includes("@grabbed")||n.includes("@{grabbed}"))if(n.includes("@{grabbed}"),0<this.resultsStored.length)return n=this.lastGrabbed,this.getSpecialVariableValue(n,s);if(n.includes("@key"))return n=n.replace("@key",this.latest_key),this.getSpecialVariableValue(n,s);if(n.includes("@textbox("))return n=n.replace(/@textbox\(([^}]+)\)/g,(e,t)=>this.getTextFromTextInputBox(t)),this.getSpecialVariableValue(n,s);if(n.includes("@{input}"),n.includes("@{jsondata}")){a=n.indexOf("@{jsondata}${");if(-1!==a){let t="";for(let e=a+"@{jsondata}${".length;e<n.length&&"}"!==n[e];++e)t+=n[e];n=n.replace("@{jsondata}${","");let e="";return this.json_input_data&&0<t.length&&(e=(e=this.getValueFromJSONPath(this.json_input_data,t))||""),n=n.slice(0,a)+e+n.slice(a+t.length+1),this.getSpecialVariableValue(n,s)}}if(n.includes("@jsondata${")||n.includes("@jsondata(")){let i="@jsondata${",a="}";n.includes("@jsondata(")&&(i="@jsondata(",a=")");r=n.indexOf(i);if(-1!==r){let t="";for(let e=r+i.length;e<n.length&&n[e]!==a;++e)t+=n[e];n=n.replace(i,"");let e="";return(this.json_input_data&&0<t.length&&(e=(e=this.getValueFromJSONPath(this.json_input_data,t))||""),s||Array.isArray(e))?e:(n=n.slice(0,r)+e+n.slice(r+t.length+1),this.getSpecialVariableValue(n,s))}}if(n.includes("@data(")){for(var o=/@data\(([^@]+?)\)/;c=o.exec(n);){var l=c[0],c=c[1],c=this.getValueFromJSONPath(this.json_save_data,c);n=n.replace(l,c)}return this.getSpecialVariableValue(n,s)}if(n.includes("@comm(")){for(var d=/@comm\(([^@]+?)\)/;u=d.exec(n);){var p=u[0],u=u[1];let e=this.getValueFromJSONPath(this.commData,u);null===e||"object"!=typeof e&&!Array.isArray(e)||(e=JSON.stringify(e)),n=n.replace(p,e)}return this.getSpecialVariableValue(n,!0)}if(n.includes("@comm"))return this.commData;if(n.includes("@data")||n.includes("@{data}")||n.includes("@{json_saved}")||n.includes("@json_saved")){let i="@data${";n.includes("@{data}")&&(i="@{data}${"),n.includes("@{json_saved}")&&(i="@{json_saved}${"),n.includes("@json_saved")&&(i="@json_saved${");a=n.lastIndexOf(i);if(-1!==a){let t="";var h=[];for(let e=a+i.length;e<n.length;++e){if("{"===n[e]&&h.push("{"),"}"===n[e]){if(!(0<h.length))break;h.pop()}t+=n[e]}if(-1!==(n=n.slice(0,a)+t+n.slice(a+i.length+t.length+1)).lastIndexOf(i))return this.getSpecialVariableValue(n,s);{let e=this.getValueFromJSONPath(this.json_save_data,t);e=e||"",n=n.replace(t,e)}}}if(n.includes("@round"))return n=n.replace(/@round\(([^}]+)\)/g,(e,t)=>Math.round(t)),this.getSpecialVariableValue(n,s);if(n.includes("@int(")){for(var m=/@int\(([^@]+?)\)/;g=m.exec(n);){var f=g[0],g=g[1];n=n.replace(f,parseInt(g))}return this.getSpecialVariableValue(n,s)}if(n.includes("@eulerx(")){for(var _=/@eulerx\(([^@]+?)\)/;b=_.exec(n);){var y=b[0],b=b[1],b=R.getMovable(this,b);b&&(n=n.replace(y,pi.radToDeg(b.sobj.rotation.x)))}return this.getSpecialVariableValue(n,s)}if(n.includes("@eulery(")){for(var v=/@eulery\(([^@]+?)\)/;S=v.exec(n);){var x=S[0],S=S[1],S=R.getMovable(this,S);S&&(n=n.replace(x,pi.radToDeg(S.sobj.rotation.y)))}return this.getSpecialVariableValue(n,s)}if(n.includes("@eulerz(")){for(var w=/@eulerz\(([^@]+?)\)/;A=w.exec(n);){var T=A[0],A=A[1],A=R.getMovable(this,A);A&&(n=n.replace(T,pi.radToDeg(A.sobj.rotation.z)))}return this.getSpecialVariableValue(n,s)}if(n.includes("@calc")){for(var M=/@calc\(([^@]+?)\)/;E=M.exec(n);){var I=E[0],E=E[1],E=this.safeEval(E);n=n.replace(I,E)}return this.getSpecialVariableValue(n,s)}if(n.includes("@json(")){for(var z=/@json\(([^@]+?)\)/;k=z.exec(n);){var k=k[1];try{return JSON.parse(k)}catch(e){return k}}return{}}}return n};safeEval=e=>{if(!/^[0-9+\-*/% ()]+$/.test(e))return"Invalid characters in expression";try{return new Function("return "+e)()}catch(e){return"Error in expression"}};addToContainer=(t,i)=>{for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].id===i){this.enabledContainers[e].sobj.add(t.texture);break}};removeFromContainer=(t,i)=>{for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].id===i){this.enabledContainers[e].sobj.remove(t.texture);break}};enableImages=(t,e=0,n=!0)=>{var s=[];try{for(let e=0;e<t.length;++e){var r=t[e];let i=r.id;if(!i||0===i.length)return;if(i.includes("@")&&0===(i=this.getSpecialVariableValue(i)).length)return;var o=this.isImageEnabled(i);let a=this.getTextureWithId(i);if(a=null==a?this.getTextureWithIdForInput(r.id,r.indexInDictionary):a){1===r.enable_tiling&&(a=a.clone()),1===this.settings.enableZPosition&&r.position&&(a.texture.position.z=r.position.z),Xm.stopForImage(this,a);var l,c,d,p,u,h,m,f=new Je(0,0,a.texture.position.z);r.position&&(f.x=r.position.x,f.y=r.position.y);let e=r.xref||0,t=r.yref||0;r.parentid&&0<r.parentid.length&&(l=this.getSpecialVariableValue(r.parentid),c=R.getMovable(this,l))&&(0!==c.xref||0!==c.yref?(f.x+=c.xdisp,f.y+=c.ydisp):(f.x+=c.sobj.position.x,f.y+=c.sobj.position.y),e=c.xref,t=c.yref,1===this.settings.enableZPosition)&&(a.texture.position.z=c.sobj.position.z+r.position.z),a.id=i,r.color&&(d=r.color,p=parseInt(d.replace("#",""),16),a.texture.material.color.setHex(p)),void 0!==r.alpha&&(a.texture.material.opacity=r.alpha),1===r.enable_tiling&&a.applyTiling(r.tiling),a.setNewPosition(e,f.x,t,f.y,this.size),r.scale&&a.setScale(r.scale.x,r.scale.y),r.euler&&a.setEulersInDegrees(r.euler.x,r.euler.y,r.euler.z),n&&!o&&this.scene.add(a.texture),a.physics_shape_view&&(a.texture.remove(a.physics_shape_view),a.physics_shape_view.geometry.dispose(),a.physics_shape_view=null),r&&1===r.enable_physics&&(u={isStatic:!!r.physics.is_static,restitution:r.physics.bounciness?parseFloat(r.physics.bounciness):0,friction:r.physics.friction?parseFloat(r.physics.friction):0,density:r.physics.density?parseFloat(r.physics.density)/1e3:.001,frictionAir:r.physics.frictionAir?parseFloat(r.physics.frictionAir):.01,angle:r.euler.z*Math.PI/180},f.x,parseFloat(r.physics.shapeposition.x),f.y,parseFloat(r.physics.shapeposition.y),"rectangle"===r.physics.shape?(h=parseFloat(r.physics.shaperect.width),m=parseFloat(r.physics.shaperect.height),a.physics_shape&&df.World.remove(this.physicsEngine.world,a.physics_shape),a.physics_shape=df.Bodies.rectangle(a.texture.position.x,a.texture.position.y,h,m,u),df.World.add(this.physicsEngine.world,a.physics_shape)):"circle"===r.physics.shape&&(a.physics_shape&&df.World.remove(this.physicsEngine.world,a.physics_shape),a.physics_shape=df.Bodies.circle(a.texture.position.x,a.texture.position.y,r.physics.shaperadius,u),df.World.add(this.physicsEngine.world,a.physics_shape)),a.physics_shape.sobj_id=i),s.push(a),o||this.enabledImages.push(a),a.texture.gifTexture&&(r.speed||(r.speed=1),a.texture.gifTexture.speed=parseFloat(r.speed),a.texture.gifTexture.reset())}}}catch(e){console.error(e)}return s};enableButtons=t=>{for(let e=0;e<t.length;++e){var i,a=t[e];0==a.toggle?this.getTextureWithId(a.normal_id)&&(this.addImage(a.normal_id,a.position.x,a.position.y,a.position.z,a.xref,a.yref,a.scale.x,a.scale.y,a.scale.z,a.parent_id),a.active):(this.addImage(a.state1_id,a.position.x,a.position.y,a.position.z,a.xref,a.yref,a.scale.x,a.scale.y,a.scale.z,a.parent_id),this.addImage(a.state2_id,a.position.x,a.position.y,a.position.z,a.xref,a.yref,a.scale.x,a.scale.y,a.scale.z,a.parent_id),this.removeImage(a.state2_id),"music_setting"==a.action&&(console.log("details[action]  2"),1==(i=null==(i=localStorage.getItem(M.getUniqueKeyFor("background_music")))?1:parseInt(i))?(this.removeImage(a.state2_id),this.addImage(a.state1_id,a.position.x,a.position.y,a.position.z,a.xref,a.yref,a.scale.x,a.scale.y,a.scale.z,a.parent_id)):(this.removeImage(a.state1_id),this.addImage(a.state2_id,a.position.x,a.position.y,a.position.z,a.xref,a.yref,a.scale.x,a.scale.y,a.scale.z,a.parent_id))))}};enableStep=e=>{var t=e.images;this.enableImages(t,e)};enableModelStep=t=>{console.log("--- enableModelStep: ",t);try{for(let e=0;e<t.models.length;++e){var i=t.models[e],a=this.assetManager.getModelWithId(i.id),n=new e0(a,i.modeltype);if(n.setNewPosition(i.position.x,i.position.y,i.position.z,this.size),n.setScale(i.scale.x,i.scale.y,i.scale.z),n.setEulersInDegrees(i.euler.x,i.euler.y,i.euler.z),this.models.push(n),this.scene.add(n.sobj),"gltf"===n.sobj.modeltype)if(n.sobj.gltfAnimations&&n.sobj.gltfAnimations.length){let t=new _l(n.sobj);n.sobj.gltfAnimations.forEach(e=>{t.clipAction(e).play()}),this.animationMixers.push({mixer:t,model:n})}else console.warn("No animations found in GLTF file.")}}catch(e){console.error("Error loading the OBJ file:",e)}};enableContainerStep=t=>{var i,a=A0(t.position),n=(a.x=parseFloat(a.x),a.y=parseFloat(a.y),a.z=parseFloat(a.z),this.euler.x=pi.degToRad(parseFloat(t.euler.x)),this.euler.y=pi.degToRad(parseFloat(t.euler.y)),this.euler.z=pi.degToRad(parseFloat(t.euler.z)),A0(t.scale));n.x=parseFloat(n.x),n.y=parseFloat(n.y),n.z=parseFloat(n.z);for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].id===t.id)return(i=this.enabledContainers[e]).sobj.position.copy(a),i.sobj.rotation.copy(this.euler),void i.sobj.scale.copy(n);var e=new Lf(this,this.scene,t.id,a,this.euler,n,t,this.divContainer);return this.enabledContainers.push(e),e};enableFromJSON=e=>{var t,i="$."+this.getSpecialVariableValue(e.path),i=w0.query(this.json_input_data,i);try{i&&i[0]&&(t=i[0],this.enableImages(t,e))}catch(e){console.log(e),Df.log("Error in parsing JSON data")}};enableGifStep=t=>{for(let e=0;e<t.images.length;++e){var i=t.images[e],a=i.id||i.ssid;a&&i.image_path&&0<i.image_path.length&&this.addGifImage(a,parseFloat(i.position.x),parseFloat(i.position.y),parseFloat(i.position.z),i.xref,i.yref,pi.degToRad(parseFloat(i.euler.x)),pi.degToRad(parseFloat(i.euler.y)),pi.degToRad(parseFloat(i.euler.z)),parseFloat(i.scale.x),parseFloat(i.scale.y),parseFloat(i.scale.z),i.alpha,i.speed)}};enableBackgroundStep=e=>{console.log("********** enable background step");let t=null;console.log(e.overridable),this.current_background_step&&1==e.overridable?t=this.current_background_step.images:(t=e.images,this.current_background_step=e),this.enableImages(t)};removeFromAnimated=t=>{for(let e=0;e<this.enabledAnimatedImages.length;++e)if(this.enabledAnimatedImages[e].texture.name===t){this.enabledAnimatedImages.splice(e,1);break}};removeImageAudioSteps=t=>{for(let e=0;e<this.imageAudios.length;++e)if(this.imageAudios[e].image_id===t){this.imageAudios.splice(e,1);break}};removePhysicsShape=e=>{e.physics_shape&&df.World.remove(this.physicsEngine.world,e.physics_shape),e.physics_shape_view&&(e.texture.remove(e.physics_shape_view),e.physics_shape_view.geometry.dispose(),e.physics_shape_view=null)};disableStep=e=>{console.log("********** disable step");e=e.images;this.disableImages(e)};disableImages=t=>{if(t)for(let e=0;e<t.length;++e){var i=t[e];if(i&&0!==i.length){if(0===(i=this.getSpecialVariableValue(i)).length)return;var a=i.split(",");for(let e=0;e<a.length;++e){var n,s=a[e];let i=!1;for(let e=0;e<this.enabledImages.length;++e)this.enabledImages[e].texture.name===s&&(Xm.stopForImage(this,this.enabledImages[e]),this.removePhysicsShape(this.enabledImages[e]),this.enabledImages[e].group_id?(n=this.getContainerWithId(this.enabledImages[e].group_id))&&n.removeImage(this.enabledImages[e].texture):this.scene.remove(this.enabledImages[e].texture),this.enabledImages.splice(e,1),this.removeFromAnimated(s),this.removeImageAudioSteps(s),i=!0);if(!i)for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].id===s){this.enabledContainers[e].dispose(),this.enabledContainers.splice(e,1),i=!0;break}if(!i)for(let t=0;t<this.inputs.length;++t)if(this.inputs[t].uniqueid==s){for(let e=0;e<this.enabledImages.length;++e)if(this.enabledImages[e].texture.name===this.inputs[t].dynamicKey){this.removePhysicsShape(this.enabledImages[e]),this.scene.remove(this.enabledImages[e].texture),this.enabledImages.splice(e,1),i=!0;break}break}i=i||this.removeGifImage(s);for(let e=0;e<this.videoInfos.length;++e)if(this.videoInfos[e].meshid===s){this.videoInfos[e].dispose(),this.videoInfos.splice(e,1);break}if(!i)for(let e=0;e<this.particles.length;++e)if(this.particles[e].ssid===s){this.particles[e].dispose(),this.particles.splice(e,1),i=!0;break}i=i||this.removeModel(s)}}}};disableFromJSONStep=e=>{e="$."+this.getSpecialVariableValue(e.path)+"[*].id",e=w0.query(this.json_input_data,e);try{e&&this.disableImages(e)}catch(e){console.log(e),Df.log("Error in parsing JSON data")}};waitStep=e=>{console.log("********** wait step");e=e.duration;this.timer.addTimeOut(e,"nextstep")};startSpeechToTextStep=()=>{let i=this.microphoneSelectStep;console.error("startSpeechToTextStep called: ",i),"stopped"===this.speech_recognition_status&&(this.speech_recognition=new window.webkitSpeechRecognition,this.speech_recognition.continuous=!0,this.speech_recognition.interimResults=!0,"English"!==i.language&&"Kannada"===i.language?this.speech_recognition.lang="kn-IN":this.speech_recognition.lang="en-US",console.error("this.speech_recognition starting now"),this.speech_recognition.onstart=()=>{console.error("speech_recognition.onstart")},this.speech_recognition.onresult=e=>{var t,e=e.results[e.results.length-1];e&&0<e.length&&(console.error(e[0].transcript),i&&i.intermediate_text_id&&0<i.intermediate_text_id.length&&((t=this.getTextWithId(i.intermediate_text_id)).sobj.text=e[0].transcript,t.sobj.sync()),e.isFinal)&&this.pushToResultsStored(e[0].transcript)},this.speech_recognition.onerror=e=>{console.error("speech_recognition.onerror"),"started"===this.speech_recognition_status&&(this.stopSpeechToTextStep(null),this.goToNextStepIfWaiting()),console.error("event error: ",e),console.error("Speech recognition error:",e.error)},this.speech_recognition.onend=()=>{"stopped"!==this.speech_recognition_status&&(this.speech_recognition_status="stopped",this.stopSpeechToTextStep(null),this.goToNextStepIfWaiting())},this.speech_recognition.start(),this.speech_recognition_status="started",console.log("Listening..."),this.updateSpeechToTextButtonStatus(i))};stopSpeechToTextStep=(e,t)=>{console.error("*** stopSpeechToTextStep"),console.log("this.enabledImages: ",this.enabledImages),this.speech_recognition&&(this.speech_recognition.stop(),this.speech_recognition_status="stopped",this.speech_recognition=null),t&&this.microphoneSelectStep&&(console.log("Removing images for microphoneSelectStep"),this.disableImages([this.microphoneSelectStep.buttons[1].id,this.microphoneSelectStep.buttons[0].id])),this.updateSpeechToTextButtonStatus(this.microphoneSelectStep)};updateSpeechToTextButtonStatus=e=>{e&&(this.isImageEnabled(e.buttons[1].id)||this.isImageEnabled(e.buttons[0].id))&&(this.speech_recognition&&"stopped"!==this.speech_recognition_status?(this.disableImages([e.buttons[0].id]),this.enableImages([e.buttons[1]])):(this.disableImages([e.buttons[1].id]),this.enableImages([e.buttons[0]])))};translationStep=e=>{console.log("********** translate_animation step");var t=e.translations;for(let e=0;e<t.length;++e){var i,a,n=t[e],s=this.getTextureWithId(n.id);s?(i=s.texture.position,a=new Je(n.position.x,n.position.y,s.texture.position.z),s.dest_pos_z=a.z,i=A0(i),a=A0(a),i.z+=30,a.z+=30,0<i.z&&(i.z=0),0<a.z&&(a.z=0),s.texture.position.z=i.z,s.setLerp(i,a,n.duration,!1,!1,this,n.duration),this.lerpingObjs.push(s)):(i=this.getContainerWithId(n.id))&&(a=new Je(n.position.x,n.position.y,n.position.z),i.lerpTo(a,n.duration),this.lerpingObjs.push(i))}};audioStep=t=>{console.log("********** audio step");let i="";if(1===t.fromaudiomapid){var a=this.getSpecialVariableValue(t.audiomapid);if(0<a.length&&this.audioMap)for(let e=0;e<this.audioMap.length;++e)this.audioMap[e].id===a&&(i=this.audioMap[e].path)}else i=t.audio_path;if(1!=t.audio_instruction||(this.audioInstruction=i,!M.audioInstructionOnlyOnReplay)){var e=this.jsondata.settings.gameplay_stepnum;if(this.stepIndex<e)this.playAudioPath(i,this.playing_again||1===t.stoppableOnAction,1===t.avoidAudioOverlap);else{let e=1===t.stoppableOnAction;e=e||this.local_level_completed_status,this.playAudioPath(i,e,1===t.avoidAudioOverlap)}return 1===t.waitTillAudioCompletes?(0<(e=this.getAudioDurationForPath(i))&&this.timer.addTimeOut(e,"nextstep_timer"),1):0}};audioBackgroundStep=e=>{console.log("********** audio background"),console.log("audioBackgroundStep stepDetails: ",e);var e=e.audio_paths,t=Math.floor(Math.random()*e.length);this.playBackgroundMusic(!0,e[t].audio_path,1)};dialogStep=e=>{this.dialogs.push(A0(e))};enableDialogStep=e=>{if("dialog_lets_play"==e.type){if(M0)return void this.goToNextStep();M0=!0}this.enableDialog(e.type),"dialog_level_completed"==e.type&&(0!=this.levelNum&&this.logs.logEventLevelEndDuration(this.levelNum,parseInt(this.timespent)),this.updateRewardsText())};menuStep=e=>{console.log("********** menu step"),this.enableImages(e.images),this.enableButtons(e.buttons),this.menu=A0(e),this.validateMenuButtons()};menu2Step=e=>{console.log("********** menu2 step"),this.enableImages(e.images),this.enableButtons(e.buttons),this.menus.push(A0(e))};removeMenu2Step=t=>{console.log("********** removeMenu2Step step");for(let e=0;e<this.menus.length;++e)if(this.menus[e].instance_id===t.menu2_id){console.log("removeMenu2Step");var i=this.menus[e];for(let e=0;e<i.buttons.length;++e)i.buttons[e].normal_id&&this.removeImage(i.buttons[e].normal_id),i.buttons[e].pressed_id&&this.removeImage(i.buttons[e].pressed_id),i.buttons[e].inactive_id&&this.removeImage(i.buttons[e].inactive_id),i.buttons[e].state1_id&&this.removeImage(i.buttons[e].state1_id),i.buttons[e].state2_id&&this.removeImage(i.buttons[e].state2_id);this.menus.splice(e,1);break}};validateMenuButtons=()=>{let t=!1;for(let e=0;e<this.enabledImages.length;++e)"button_home"==this.enabledImages[e].texture.name&&(t=!0);var e;0!=t&&(-1==this.jsondata.settings.gameplay_stepnum?this.levelNum==M.presentationLevel&&this.logs.IsLevelCompleted(this.levelNum)||this.removeImage("button_skip"):this.stepIndex<this.jsondata.settings.gameplay_stepnum?(this.removeImage("button_back"),this.removeImage("button_hint"),this.removeImage("button_back_inactive"),this.removeImage("button_hint_inactive"),e=this.getTextureWithId("button_back_inactive"),this.addImage("button_back_inactive",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null),e=this.getTextureWithId("button_hint_inactive"),this.addImage("button_hint_inactive",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null),this.skipOnHint?(this.skipWrongnessTrackerReset=!0,e=this.getTextureWithId("button_skip"),this.addImage("button_skip",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null)):this.removeImage("button_skip")):(this.levelNum!=M.firstLevel&&(e=this.getTextureWithId("button_back"),this.addImage("button_back",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null),this.removeImage("button_back_inactive")),e=this.getTextureWithId("button_hint"),this.levelNum!=M.presentationLevel&&(this.addImage("button_hint",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null),this.removeImage("button_hint_inactive")),this.logs.IsLevelCompleted(this.levelNum)?(e=this.getTextureWithId("button_skip"),this.addImage("button_skip",e.xdisp,e.ydisp,0,e.xref,e.yref,1,1,1,null)):this.removeImage("button_skip")))};textStep=t=>{var i=new Je(0,0,t.position.z);i.x=t.position.x,i.y=t.position.y;let a=t.xref,n=t.yref;t.parentid&&0<t.parentid.length&&(0!=(e=this.getTextureWithId(t.parentid)).xref||0!=e.yref?(i.x+=e.xdisp,i.y+=e.ydisp):(i.x+=e.texture.position.x,i.y+=e.texture.position.y),a=e.xref,n=e.yref);for(let e=0;e<this.enabledTexts.length;++e){var s=this.enabledTexts[e];if(console.log("stored_sstext: ",s),s.sobj.name===t.ssid)return s.setNewPosition(a,i.x,n,i.y,this.size),void("rewards"===t.textid?this.updateRewardsText():(s.sobj.text=this.getSpecialVariableValue(t.text),s.sobj.sync()))}var e=new wm;this.scene.add(e),t.anchor&&(e.anchorX=t.anchor),t.alignment&&(e.textAlign=t.alignment),e.fontSize=t.fontSize,e.position.z=i.z;let r=t.color;r=r.replace("#","0x"),e.color=parseInt(r,16),e.name=t.ssid;var o,e=new Tm(e,a,i.x,n,i.y,t.textid,t.ssid);e.setNewPosition(a,i.x,n,i.y,this.size),this.enabledTexts.push(e),"rewards"===t.textid?this.updateRewardsText():(0<(o=parseFloat(t.maxwidth))&&(e.sobj.maxWidth=o),e.sobj.text=this.getSpecialVariableValue(t.text),e.sobj.sync())};text2Step=t=>{this.tpos.x=t.position.x,this.tpos.y=t.position.y,this.tpos.z=t.position.z;for(let e=0;e<this.enabledTexts.length;++e){var i=this.enabledTexts[e];if(i.sobj.name===t.ssid){this.removeEnabledText(i.ssid);break}}var e=parseFloat(t.maxwidth),a=parseFloat(t.alpha),e=new Rf(this.getSpecialVariableValue(t.text),t.xref,t.yref,this.tpos,e,a,t.fontSize,t.color,t.ssid,t.paddingMultiplier,this);e.setNewPosition(t.xref,this.tpos.x,t.yref,this.tpos.y,this.size),this.scene.add(e.sobj),this.enabledTexts.push(e),e.setColor(t.color)};disableTextStep=e=>{console.log("********** disable Text step");var t=e.texts;for(let e=0;e<t.length;++e){var i=t[e];for(let e=0;e<this.enabledTexts.length;++e)if(this.enabledTexts[e].ssid===i){var a=this.enabledTexts[e];this.enabledTexts[e].group_id||(this.scene.remove(a.sobj),a.dispose()),this.enabledTexts.splice(e,1);break}}};removeEnabledText=t=>{for(let e=0;e<this.enabledTexts.length;++e)if(this.enabledTexts[e].ssid===t){var i=this.enabledTexts[e];this.enabledTexts[e].group_id||(this.scene.remove(i.sobj),i.dispose()),this.enabledTexts.splice(e,1);break}};getTextStep=e=>{console.log("********** get Text step")};inputStep=e=>{let t=A0(e),i=!1;for(let e=0;e<this.inputs.length;++e)if(this.inputs[e].uniqueid===t.uniqueid){i=!0,t=this.inputs[e];break}t.dynamicInput="",t.dynamicKey="",i||this.inputs.push(t)};inputWaitStep=e=>{this.timer.removeTimeOutAll("add_input_highlight_after_complete"),this.inputWait=e,this.currentInput=-1};disableInputStep=i=>{for(let t=0;t<i.inputids.length;++t)for(let e=0;e<this.inputs.length;++e)if(this.inputs[e].uniqueid===i.inputids[t]){this.removeImage(this.inputs[e].dynamicKey),this.inputs[e].dynamicKey="",this.inputs[e].dynamicInput="",this.inputs.splice(e,1);break}};removeAllInputStep=e=>{for(;0<this.inputs.length;){var t=this.inputs[0];this.disableInputStep(t),this.inputs.splice(0,1)}this.inputs=[]};dictionaryStep=e=>{console.log("--- dictionaryStep --- "),this.dictionaries.push(e)};progressBarStep=e=>{var t=e.position,t=new Am(this.scene,t.x,t.y,t.z,e.id),e=null!=(e=localStorage.getItem(M.getUniqueKeyFor(t.id)))?e:0;e=parseFloat(e),t.setProgress(e),this.progressBars.push(t)};progressBarFillStep=t=>{for(let e=0;e<this.progressBars.length;++e)if(this.progressBars[e].id==t.id){var i=t.fill,a=null!=(a=localStorage.getItem(M.getUniqueKeyFor(this.progressBars[e].id)))?a:0;parseFloat(a)<i&&(localStorage.setItem(M.getUniqueKeyFor(this.progressBars[e].id),i),this.progressBars[e].setProgress(i));break}};updateProgressBars=e=>{for(let e=0;e<this.progressBars.length;++e){var t,i=this.progressBars[e];localStorage.getItem(M.getUniqueKeyFor("progressbar_level"+(e+1)))&&(t=parseFloat(localStorage.getItem(M.getUniqueKeyFor("progressbar_level"+(e+1)))),i.setProgress(t))}};updateRewardsText=()=>{for(let e=0;e<this.enabledTexts.length;++e)if("rewards"===this.enabledTexts[e].textid){this.enabledTexts[e].sobj.text=""+this.sdk.getTotalRewardPoints(),this.enabledTexts[e].sobj.sync();break}};updateWrongnessTracker=(e,t,i)=>{"global"===e?this.wrongnessTracker&&("set"===t?this.wrongnessTracker.wrongResults=i:"add"===t&&(this.wrongnessTracker.wrongResults+=i),console.log("Global Wrongness Tracker: ",this.wrongnessTracker.wrongResults)):"local"===e&&this.wrongnessTrackerLocal&&("set"===t?this.wrongnessTrackerLocal.wrongResults=i:"add"===t&&(this.wrongnessTrackerLocal.wrongResults+=i))};enableStepFunc=(e,t)=>{this.enableStep(e),this.goToNextStep()};enableModelStepFunc=(e,t)=>{this.enableModelStep(e),this.goToNextStep()};enableContainerStepFunc=(e,t)=>{this.enableContainerStep(e),this.goToNextStep()};getTextFromTextInputBox=t=>{for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].isTextInput&&this.enabledContainers[e].id===t)return this.enabledContainers[e].step.details.csstext?this.enabledContainers[e].step.details.csstext.sobj.text:"";return""};getTextInputBox=t=>{for(let e=0;e<this.activeTextInputDetails.length;++e)if(this.activeTextInputDetails[e].id===t)return this.activeTextInputDetails[e];return null};textInputStepFunc=(e,t)=>{e.enables=e.states;var i=this.enableContainerStep(e);i.isTextInput=!0,i.step=t,this.addTextInput(e),a0.enableNormal(this,e),this.goToNextStep()};textInputActionStepFunc=(t,e)=>{for(let e=0;e<this.enabledContainers.length;++e)if(this.enabledContainers[e].isTextInput&&this.enabledContainers[e].id===t.id){this.activeTextInputId=this.enabledContainers[e].id,this.addActionable(this.enabledContainers[e].step);break}this.goToNextStep()};jumpToSceneStepFunc=(e,t)=>{this.callback.playLevel(e.levelNum)};enableFromJSONStepFunc=(e,t)=>{this.enableFromJSON(e),this.goToNextStep()};enableAnimatedSteppFunc=(e,t)=>{this.enableAnimatedStep(e),this.goToNextStep()};enableGifStepFunc=(e,t)=>{console.error("enableGifStepFunc called "),this.enableStep(e),this.goToNextStep()};buttonStepFunc=(e,t)=>{this.enableStep(e),this.addActionable(t)};texturePropertiesFunc=(e,t)=>{lf.onload(this,e,this.size),this.goToNextStep()};backgroundColorFunc=(e,t)=>{this.scene.background=new Ze(e.color),this.goToNextStep()};scrollingLayerFunc=(e,t)=>{tf.add(this,e,this.scrollingLayers),this.goToNextStep()};enableBackgroundFunc=(e,t)=>{this.enableBackgroundStep(e),this.goToNextStep()};waitFunc=(e,t)=>{M.debug1&&e.step_num<this.jsondata.settings.gameplay_stepnum||M.debug2&&e.step_num>=this.jsondata.settings.gameplay_stepnum?this.goToNextStep():1!==e.waitForever&&this.waitStep(e)};disableFunc=(e,t)=>{this.disableStep(e),this.goToNextStep()};disableFromJSONFunc=(e,t)=>{this.disableFromJSONStep(e),this.goToNextStep()};keyboardKeysFunc=(e,t)=>{this.keyboardKeysStepDetails=e,this.keyboardKeysEnabled=!0,this.goToNextStep()};audioBackgroundFunc=(e,t)=>{this.audioBackgroundStep(e),this.goToNextStep()};audiobackgroundVolumeFunc=(e,t)=>{console.log("stepDetails: ",e),console.log("stepDetails.volume: ",e.volume),this.backgroundSound&&this.backgroundSound.setVolume(e.volume),this.backgroundVolume=e.volume,this.goToNextStep()};sendCustomEventFunc=(e,t)=>{var i={name:this.getSpecialVariableValue(e.name),param1:this.getSpecialVariableValue(e.param1),param2:this.getSpecialVariableValue(e.param2),param3:this.getSpecialVariableValue(e.param3)};console.log("sendCustomEvent: ",i),window.parent.postMessage(JSON.stringify(i),e.origin||"*"),this.goToNextStep()};selectStepFunc=(e,t)=>{console.log("********** select step"),(this.stepDetails=e).nonblocker&&(this.addActionable(t),this.goToNextStep())};selectV2StepFunc=(e,t)=>{console.log("********** select v2 step"),this.stepDetails=e,this.addActionable(t),this.goToNextStep()};microphoneSelectStepFunc=(e,t)=>{console.log("********** microphone select step"),this.stepDetails=e,console.log("stepDetails: ",e),this.microphoneSelectStep=e,this.enableImages([e.buttons[0]]),this.addActionable(t),this.goToNextStep()};translateAnimationStepFunc=(e,t)=>{M.enable_transalate_animation?this.translationStep(e):this.goToNextStep()};audioStepFunc=(e,t)=>{let i=!0;M.debug1&&e.step_num<this.jsondata.settings.gameplay_stepnum||M.debug2&&e.step_num>=this.jsondata.settings.gameplay_stepnum||1===this.audioStep(e)&&(i=!1),i&&this.goToNextStep()};audioV2StepFunc=(e,t)=>{let i=!0;M.debug1&&e.step_num<this.jsondata.settings.gameplay_stepnum||M.debug2&&e.step_num>=this.jsondata.settings.gameplay_stepnum||1===this.audioStep(e)&&(i=!1),i&&this.goToNextStep()};audioForLatestResultStepFunc=(e,t)=>{$m.onload(this,e,this.size)};audioForLatestResultV2StepFunc=(e,t)=>{Qm.onload(this,e,this.size)};imageAudioStepFunc=(t,e)=>{if(1===t.fromaudiomapid){t.audio_path="";var i=this.getSpecialVariableValue(t.audiomapid);if(this.audioMap)for(let e=0;e<this.audioMap.length;++e)if(this.audioMap[e].id===i){t.audio_path=this.audioMap[e].path;break}}t.image_id=this.getSpecialVariableValue(t.image_id),this.imageAudios.push(t),this.goToNextStep()};stopAudioInstructionStepFunc=(e,t)=>{this.audioInstruction=null,this.goToNextStep()};inputStepFunc=(e,t)=>{this.inputStep(e),this.goToNextStep()};inputWaitStepFunc=(e,t)=>{this.inputWaitStep(e)};disableInputStepFunc=(e,t)=>{this.disableInputStep(e),this.goToNextStep()};removeAllInputStepFunc=(e,t)=>{this.removeAllInputStep(e),this.goToNextStep()};dictionaryStepFunc=(e,t)=>{this.dictionaryStep(e),this.goToNextStep()};enableInputClueStepFunc=(e,t)=>{this.enableInputClue=e,this.goToNextStep()};progressBarStepFunc=(e,t)=>{this.progressBarStep(e),this.goToNextStep()};progressBarFillStepFunc=(e,t)=>{this.progressBarFillStep(e),this.goToNextStep()};dragStepFunc=(e,t)=>{console.log("********** drag step"),this.dragDetails=e,this.timeToDragCompletionAnnoucement=0,this.drags=e.drags;for(let e=0;e<this.drags.length;++e){var i=this.getTextureWithId(this.drags[e].id);this.drags[e].image=i,this.drags[e].image.orig_position=new Je(i.texture.position.x,i.texture.position.y,i.texture.position.z),this.drags[e].orig_position=new Je(i.texture.position.x,i.texture.position.y,i.texture.position.z)}};chekForOverlapStepFunc=(e,t)=>{mf.onload(this,e)};dragDropStepFunc=(e,t)=>{1===(this.stepDetails=e).nonblocker&&(this.addActionable(t),this.goToNextStep())};dragDropV2StepFunc=(e,t)=>{this.stepDetails=e,this.addActionable(t),1!==e.blocker&&this.goToNextStep()};dragAreaDropStepFunc=(e,t)=>{uf.onload(this,e,this.size),this.addActionable(t),this.goToNextStep()};movebackLatestResultStepFunc=(e,t)=>{this.stepDetails=e,Zm.onload(this,this.stepDetails,this.size)};movebackLatestResultIfNotGrabbedStepFunc=(e,t)=>{this.stepDetails=e,Cf.onload(this,this.stepDetails,this.size)};consoleLogStepFunc=(t,e)=>{console.log("stepDetails.message: ",t.message);t=this.getSpecialVariableValue(t.message);console.log(t);try{var i=JSON.parse(t);console.error(i)}catch(e){console.error(t)}Df.log(t),this.goToNextStep()};wrongnessAddStepFunc=(e,t)=>{this.addWrongness(e.step_num),this.goToNextStep()};correctnessAddStepFunc=(e,t)=>{this.addCorrectNess(e.step_num),this.goToNextStep()};physicalCameraStepFunc=async(e,t)=>{"start"===e.operation?await y0.onload(this,e,this.size):await y0.stop(this,e,this.size),this.goToNextStep()};tensorFlowJSFunc=async(e,t)=>{};mediaPipeFunc=async(t,e)=>{if("start"===t.operation){for(let e=0;e<this.uint8FilePathsMap.length;++e)if("mediapipe_full"===this.uint8FilePathsMap[e].id){await b0.onload(this,t,this.size,this.uint8FilePathsMap[e].buffer);break}}else await b0.stop(this,t,this.size);this.goToNextStep()};skeletonCalibrationFunc=async(e,t)=>{"start"===e.operation?this.skeletonCalibration=new v0(e):(this.skeletonCalibration&&this.skeletonCalibration.dispose(this),this.skeletonCalibration=null),this.goToNextStep()};cameraSettingsFunc=(e,t)=>{this.camera.position.set(e.position.x,e.position.y,e.position.z),this.camera.rotation.set(R.degreeToRadian(e.euler.x),R.degreeToRadian(e.euler.y),R.degreeToRadian(e.euler.z)),this.goToNextStep()};goToSceneFunc=(e,t)=>{switch(console.log("goToSceneFunc: ",e),e.type){case"custom":console.log("Calling Custom"),this.callback.playLevelWithName(e.sceneName);break;case"next":this.callback.playNextLevel();break;case"previous":this.callback.playPreviousLevel()}};directionalLightFunc=(e,t)=>{this.directionalLight&&this.scene.remove(this.directionalLight),this.directionalLight=new Yo(e.color,e.intensity),this.directionalLight.position.set(e.position.x,e.position.y,e.position.z),this.scene.add(this.directionalLight),this.goToNextStep()};arJSCameraFunc=(e,t)=>{};audioMapStepFunc=(e,t)=>{this.audioMap=e.list,this.goToNextStep()};playAudioByIdStepFunc=(e,t)=>{this.playAudioFromAudioMap(e.id,e.stoppableOnAction,e.avoidAudioOverlap),this.goToNextStep()};idMapStepFunc=(t,e)=>{let i=!1;for(let e=0;e<this.id_maps.length;++e)if(this.id_maps[e].instance_id===t.idmap_step_id){i=!0;break}i||this.id_maps.push(t),this.goToNextStep()};idMapDisableStepFunc=(e,t)=>{for(let t=0;t<this.id_maps.length;++t)if(this.id_maps[t].instance_id===e.idmap_step_id)for(let e=0;e<this.id_maps[t].idmaps.length;++e){var i=this.id_maps[t].idmaps[e].list;for(let e=0;e<i.length;++e)this.removeImage(i[e].id)}this.goToNextStep()};lockForActionsStepFunc=(t,e)=>{if("latest_result"===t.type)0<this.resultsStored.length&&(this.lockForActions.push(this.resultsStored[this.resultsStored.length-1]),1<this.recentResultsCount)&&1<this.resultsStored.length&&this.lockForActions.push(this.resultsStored[this.resultsStored.length-2]);else if("custom"===t.type)for(let e=0;e<t.locks.length;++e)0<t.locks[e].image.length&&this.lockForActions.push(t.locks[e].image);this.goToNextStep()};lockForActionsClearStepFunc=(e,t)=>{this.lockForActions=[],this.goToNextStep()};saveValueStepFunc=(e,t)=>{let i=e.value;i.includes("@{latest_result}")&&(i=(i=0<this.resultsStored.length?this.resultsStored[this.resultsStored.length-1]:i).replace("@{latest_result}",i)),"one"===e.type&&(this.savedValues=[i]),"array"===e.type&&this.savedValues.push(i),this.goToNextStep()};saveValueClearStepFunc=(e,t)=>{this.savedValues=[],this.goToNextStep()};enableLayoutStepFunc=(i,e)=>{console.log("********** enable_layout step: "),console.log(i);var a=i.enables,n=[];let s=0;for(let t=0;t<a.length;++t){0<t&&(s+=i.distanceBetween);let e=this.getTextureWithId(a[t].id);null==e&&null==(e=this.getTextureWithIdForInput(a[t].id,a[t].indexInDictionary))&&console.error("error in enabling image from input",a[t].id),1==i.layout?s+=e.getWidth()*a[t].scale.x:s+=e.getHeight()*a[t].scale.y,e.setScale(a[t].scale.x,a[t].scale.y),n.push(e)}var t=A0(i.position);console.log(t),1==i.layout?t.x+=-s/2:t.y+=-s/2;for(let e=0;e<n.length;++e)0<e&&(1==i.layout?t.x+=i.distanceBetween:t.y+=i.distanceBetween),1==i.layout?t.x+=n[e].getWidth()*n[e].texture.scale.x/2:t.y+=n[e].getHeight()*n[e].texture.scale.y/2,console.log(t.x),n[e].setNewPosition(0,t.x,0,t.y,this.size),1==i.layout?t.x+=n[e].getWidth()*n[e].texture.scale.x/2:t.y+=n[e].getHeight()*n[e].texture.scale.y/2,this.scene.add(n[e].texture),this.enabledImages.push(n[e]);this.goToNextStep()};rotateOnDrag2dStepFunc=(e,t)=>{this.addActionable(t),this.goToNextStep()};rotationAnimationStepFunc=(e,t)=>{s0.onLoad(this,e),this.goToNextStep()};objectsAlignerStepFunc=(e,t)=>{Bf.onLoad(this,e,this.size),this.goToNextStep()};speechToTextStepFunc=(e,t)=>{this.goToNextStep()};paintCanvasStepFunc=(t,e)=>{for(let e=0;e<this.paintCanvases.length;++e)if(this.paintCanvases[e].instance_id===t.instance_id||this.paintCanvases[e].frame===t.frame){this.paintCanvases.splice(e,1);break}this.paintCanvases.push(t),Jf.onLoad(this,t,this.size),this.goToNextStep()};painterStepFunc=(e,t)=>{Hf.onLoad(this,e,this.size),this.goToNextStep()};paintStepFunc=(e,t)=>{var i=this.callback_getPainter(e.painterid);i&&("path"===i.paintType&&1===e.enable_fill?(Kf.onLoad(this,e,this.size,i),0<e.fill_duration&&this.animations.push({details:i,func:Kf.frameUpdate})):this.addActionable(t)),this.goToNextStep()};clearPaintStepFunc=(e,t)=>{Gf.onload(this,e),this.goToNextStep()};clearPaintFillStep=t=>{if(t.paintCanvas){t.paintCanvas.dispose(),t.paintCanvas=null;for(let e=0;e<t.painters.length;++e)t.painters[e].spainter=null}};removeAnimationForPainterId=t=>{for(let e=0;e<this.animations.length;++e)if(this.animations[e].details.painterid&&this.animations[e].details.painterid===t){this.animations.splice(e,1);break}};clearAllPaintFillSteps=()=>{for(;0<this.paintCanvases.length;){if(this.paintCanvases[0].paintCanvas){this.paintCanvases[0].paintCanvas.dispose(),this.paintCanvases[0].paintCanvas=null;for(let e=0;e<this.paintCanvases[0].painters.length;++e)this.removeAnimationForPainterId(this.paintCanvases[0].painters[e].painterid),this.paintCanvases[0].painters[e].spainter=null}this.paintCanvases.splice(0,1)}};alphaAnimationStepFunc=(e,t)=>{this.animations.push({details:e,func:qf.frameUpdate}),e.obj=null,this.goToNextStep()};transformAnimationStepFunc=(e,t)=>{this.animations.push({details:e,func:Xf.frameUpdate}),e.objs=null,this.goToNextStep()};analyticsEventStepFunc=(t,e)=>{var i={key:"vexhibit",type:t.type,name:t.name||"",attributes:{}};for(let e=0;e<t.attributesArray.length;++e){var a=""+this.getSpecialVariableValue(t.attributesArray[e].key),n=this.getSpecialVariableValue(t.attributesArray[e].value);0<a.length&&(i.attributes[a]=n)}window.postMessage(JSON.stringify(i),"*"),this.goToNextStep()};videoStepFunc=(e,t)=>{Qf.onload(this,e),this.goToNextStep()};orbitalControlStepFunc=(e,t)=>{var i,a;"enable"===e.type?(i=new Je(parseFloat(e.targetPosition.x),parseFloat(e.targetPosition.y),parseFloat(e.targetPosition.z)),this.orbitalControls&&this.orbitalControls.dispose(),this.orbitalControls=new yp(this.camera,this.renderer.domElement),this.orbitalControls.target.set(i.x,i.y,i.z),this.orbitalControls.minDistance=e.minDistance,this.orbitalControls.maxDistance=e.maxDistance,a=(new Je).subVectors(i,this.camera.position).normalize(),this.camera.position.copy(i).addScaledVector(a,e.distance)):"disable"===e.type&&(this.orbitalControls&&this.orbitalControls.dispose(),this.orbitalControls=null),this.goToNextStep()};conditionalJumpStepFunc=(e,t)=>{this.stepDetails=e,Lm.onload(this,this.stepDetails,this.size)};countConditionalJumpStepFunc=(e,t)=>{this.stepDetails=e,af.onload(this,this.stepDetails,this.countValues,this.size)};countStepFunc=(e,t)=>{this.stepDetails=e,nf.onload(this,this.stepDetails,this.countValues,this.size),this.goToNextStep()};randomizePositionStepFunc=(e,t)=>{this.stepDetails=e,ff.onload(this,this.stepDetails,this.size),this.goToNextStep()};jsonCommStepFunc=(e,t)=>{this.commData=e.json||e.default_json,this.goToNextStep()};jsonInputDataStepFunc=(e,t)=>{this.stepDetails=e,this.json_input_data=e.json,this.goToNextStep()};jsonSaveDataStepFunc=(n,e)=>{this.stepDetails=n,console.error("jsonSaveDataStepFunc: ",n);let i;i="communication"===n.storage?this.commData:this.json_save_data;try{console.log("stepDetails.key: ",n.key);var s,r=n.key.replace(/\[([^\]]+)\]/g,".$1").split(".");let a=i;for(let e=0;e<r.length-1;e++)a[r[e]]||(a[r[e]]={}),a=a[r[e]];if("string"===n.data_type)a[r[r.length-1]]=this.getSpecialVariableValue(n.value);else if("number"===n.data_type)a[r[r.length-1]]=parseFloat(this.getSpecialVariableValue(n.value));else if("array"===n.data_type){this.getValueFromJSONPath(i,n.key)||(a[r[r.length-1]]=[]),R.isArrayType(a[r[r.length-1]])||(a[r[r.length-1]]=[]),console.log("stepDetails.value: ",n.value);let t=this.getSpecialVariableValue(n.value);try{t=JSON.parse(t)}catch(e){}if("push"===n.operation)a[r[r.length-1]].push(t);else if("pop"===n.operation)a[r[r.length-1]]=a[r[r.length-1]].pop();else if("insert at index"===n.operation){let e=this.getSpecialVariableValue(n.index);void 0!==e&&(e=parseInt(e),a[r[r.length-1]][e]=t),a[r[r.length-1]].splice(e,0,t)}else if("remove at index"===n.operation)a[r[r.length-1]].splice(parseInt(this.getSpecialVariableValue(n.value)),1);else if("set"===n.operation){if(a[r[r.length-1]]=[],n.values)for(let t=0;t<n.values.length;++t){let e=n.values[t].value;isNaN(parseFloat(e))?console.log("It's not a number."):(console.log("It's a number."),e=parseFloat(e)),a[r[r.length-1]].push(e)}}else"set at index"===n.operation?void 0!==(s=this.getSpecialVariableValue(n.index))&&(s=parseInt(s),a[r[r.length-1]][s]=this.getSpecialVariableValue(n.value)):"clear"===n.operation&&(a[r[r.length-1]]=[])}else if("dictionary"===n.data_type){this.getValueFromJSONPath(i,n.key)||(a[r[r.length-1]]=[]),R.isArrayType(a[r[r.length-1]])||(a[r[r.length-1]]=[]),console.log("stepDetails.value: ",n.value);let t=this.getSpecialVariableValue(n.value);if(console.log("inData: 1 ",t),"string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}console.log("inData: 2",t),a[r[r.length-1]]=t}else if("string from ids"===n.data_type){let t="",i=[];if(1===n.textfromids.ids_from_data){console.error("stepDetails.textfromids.jsondatapath: ",n.textfromids.jsondatapath);var o=this.getSpecialVariableValue(n.textfromids.jsondatapath);let t=[];if(Array.isArray(o)){if(0<o.length)if(o[0].id)for(let e=0;e<o.length;++e)t.push(o[e].id);else t=o}else{var l=o.split(",");t=Array.isArray(l)?l:[o]}if(console.error("ids: ",t),console.error("ids.length: ",t.length),t&&0<t.length)for(let e=0;e<t.length;++e)t[e].id?i.push(t[e]):i.push({id:t[e]})}else i=n.textfromids.ids;console.error("allids: ",i);for(let e=0;e<i.length;++e){var c=R.getMovable(this,i[e].id);if(c){if("text"===c.sobj.stype&&(0<t.length&&n.textfromids.delimiter&&(t+=n.textfromids.delimiter),t+=c.sobj.text),"container"===c.sobj.stype)for(let e=0;e<c.sobj.children.length;++e){var d=c.sobj.children[e];"text"===d.stype&&(0<t.length&&n.textfromids.delimiter&&(t+=n.textfromids.delimiter),t+=d.text)}console.error(t)}}a[r[r.length-1]]=t}else if("elements sequence in 2D area"===n.data_type){var t=[];for(let e=0;e<this.enabledImages.length;++e){var p=this.enabledImages[e];if(p&&!p.group_id)for(let e=0;e<n.elementsSequenceIn2DArea.includes.length;++e){var u=n.elementsSequenceIn2DArea.includes[e],h=u.x-u.width/2,m=u.y-u.height/2;if(p.sobj.position.x>=h&&p.sobj.position.x<=h+u.width&&p.sobj.position.y>=m&&p.sobj.position.y<=m+u.height){t.push(p);break}}}for(let e=0;e<this.enabledContainers.length;++e){var f=this.enabledContainers[e];if(f)for(let e=0;e<n.elementsSequenceIn2DArea.includes.length;++e){var g=n.elementsSequenceIn2DArea.includes[e],_=g.x-g.width/2,y=g.y-g.height/2;if(f.sobj.position.x>=_&&f.sobj.position.x<=_+g.width&&f.sobj.position.y>=y&&f.sobj.position.y<=y+g.height){t.push(f);break}}}for(let e=0;e<this.enabledTexts.length;++e){var b=this.enabledTexts[e];if(b&&!b.group_id)for(let e=0;e<n.elementsSequenceIn2DArea.includes.length;++e){var v=n.elementsSequenceIn2DArea.includes[e],x=v.x-v.width/2,S=v.y-v.height/2;if(b.sobj.position.x>=x&&b.sobj.position.x<=x+v.width&&b.sobj.position.y>=S&&b.sobj.position.y<=S+v.height){t.push(b);break}}}t.sort(function(e,t){return e.dragdroprowNum===t.dragdroprowNum?e.sobj.position.x-t.sobj.position.x:t.sobj.position.y-e.sobj.position.y}),a[r[r.length-1]]=[];for(let e=0;e<t.length;++e)a[r[r.length-1]].push(t[e].sobj.name);console.error("current[keys[keys.length - 1]]: ",a[r[r.length-1]])}}catch(e){console.error(e)}this.goToNextStep()};jsonSaveDataFromPaintStepFunc=(e,t)=>{Zf.onload(this,e,this.size),this.goToNextStep()};ifConditionStepFunc=(e,t)=>{this.stepDetails=e,Mf.onload(this,this.stepDetails,this.size)};customEventStepFunc=(e,t)=>{this.waitingForCustomEvent=!0};swapOnDragStepFunc=(e,t)=>{this.stepDetails=e,this.addActionable(t),this.goToNextStep()};removeActionable=t=>{for(let e=0;e<this.actionableScripts.length;++e)if(this.actionableScripts[e].details.instance_id===t.instance_id){a0.enableNormal(this,t),this.actionableScripts.splice(e,1);break}};clearActionablesStepFunc=(i,e)=>{if(1===i.all)this.clearAllActionables();else for(let t=0;t<i.actionables.length;++t)for(let e=0;e<this.actionableScripts.length;++e)if(this.actionableScripts[e].details.instance_id===i.actionables[t].actionable_ssid){try{this.disposeActionable(this.actionableScripts[e])}catch(e){console.log(e)}this.actionableScripts.splice(e,1);break}this.goToNextStep()};shakeAnimationStepFunc=(e,t)=>{var i;console.log("********** shake_animation step"),this.stepDetails=e,this.stepDetails.startTime=this.time,this.stepDetails.type=t.type,e.movable&&Xm.stop(this,e),0===this.stepDetails.id.length&&0<this.resultsStored.length?e.movable=R.getMovable(this,this.resultsStored[this.resultsStored.length-1]):(i=this.getSpecialVariableValue(this.stepDetails.id),e.movable=R.getMovable(this,i)),e.movable&&(e.movable.shakeAnimationRunning||(e.movable.originalPosition=e.movable.sobj.position.clone(),e.movable.originalRotation=e.movable.sobj.rotation.clone()),Xm.stop(this,e),Xm.onLoad(this,e,this.size),Xm.setStoppableOnMouseDown(this,e,this.playing_again),this.addActionable(t)),this.goToNextStep()};clearResultsStepFunc=(e,i)=>{if(1===i.details.all)this.resultsStored=[];else if(i.details.results)for(let t=0;t<i.details.results.length;++t)for(let e=0;e<this.resultsStored.length;++e){var a=this.getSpecialVariableValue(i.details.results[t].result_ssid);this.resultsStored[e]===a&&(this.resultsStored.splice(e,1),--e)}this.goToNextStep()};interactionClickStepFunc=(e,t)=>{this.stepDetails=e,this.interaction_click_actions=e.actions,this.completion_action_ids=A0(e.completion_action_ids)};toggleStepFunc=(e,t)=>{this.toggles.push(e),console.log(this.toggles.length),e.current_state=-1,this.setToggleImages(e),this.goToNextStep()};toggleResultStepFunc=(e,t)=>{this.toggleResult=e};wrongnessTrackerStepFunc=(e,t)=>{if("global"==e.type){this.wrongnessFromContinue||this.skipWrongnessTrackerReset||(this.wrongnessTracker=e,this.updateWrongnessTracker("global","set",0)),this.skipWrongnessTrackerReset=!1,this.wrongnessFromContinue=!1;for(let e=0;e<this.playableCheckPoints.length;++e)this.updateWrongnessTracker("global","add",this.playableCheckPoints[e].wrongnessTracker)}else"local"==e.type&&(this.wrongnessTrackerLocal=e,this.updateWrongnessTracker("local","set",0));this.goToNextStep()};resetWrongnessTrackerStepFunc=(e,t)=>{"global"===e.type?(this.updateWrongnessTracker("global","set",0),this.loadAllPlayableCheckPoints()):this.updateWrongnessTracker("local","set",0),this.goToNextStep()};jumpToStateOnWrongResultStepFunc=(e,t)=>{if(null!=this.wrongnessTracker&&this.wrongnessTracker.wrongResults>=e.afterNWrongResults)if(this.updateWrongnessTracker("global","set",0),"replay_all_on_wrongness"===this.jsondata.settings.wrongness_replay_mode)this.stepIndex=this.playableCheckPoints[0].start_step_num-1;else{if("replay_only_wrong_on_wrongness"===this.jsondata.settings.wrongness_replay_mode)return this.replay_only_wrong=!0,this.stepIndex=this.playableCheckPoints[0].start_step_num-1,void this.goToNextWronggedStep();if("replay_n_wrong_on_wrongness"===this.jsondata.settings.wrongness_replay_mode){let t=!1;if(0<this.chosenCheckPoints.length){console.error("Entering into 2nd round because this.chosenCheckPoints present");for(let e=this.chosenCheckPoints.length-this.jsondata.settings.replay_n_checkpoints;e<this.chosenCheckPoints.length;++e)if(0!==this.chosenCheckPoints[e].wrongnessTracker){console.error("Got wrongness"),t=!0;break}}else{console.error("Entering into 1st round because this.chosenCheckPoints absent");for(let e=this.playableCheckPoints.length-this.jsondata.settings.replay_n_checkpoints;e<this.playableCheckPoints.length;++e)if(0!==this.playableCheckPoints[e].wrongnessTracker){console.error("Got wrongness"),t=!0;break}}if(!t)return void this.goToNextStep();console.error("----------------------------"),console.error("Replaying n wrong on wrongness"),console.error("----------------------------");this.replay_only_wrong,this.replay_only_wrong=!0,this.stepIndex=this.playableCheckPoints[0].start_step_num-1;for(let e=0;e<this.playableCheckPoints.length;++e)this.playableCheckPoints[e].wrongnessTracker=0;let e=parseInt(this.jsondata.settings.replay_n_checkpoints||2);var i=this.playableCheckPoints.length;for(e>i&&(e=i),this.chosenCheckPoints=[];0<e;){var a=Math.floor(Math.random()*(i-1));0===this.playableCheckPoints[a].wrongnessTracker&&(this.playableCheckPoints[a].wrongnessTracker=1,this.chosenCheckPoints.push(this.playableCheckPoints[a]),--e)}return this.printWrongness(),void this.goToNextWronggedStep()}}this.goToNextStep()};verifyPositionsStepFunc=(i,e)=>{this.verifyPositions=i;let a=0,n=!1,s=0;for(let e=0;e<i.destinations.length;++e){var r=i.destinations[e];if(r.rightids&&0<r.rightids.length){let t=!1;s+=r.rightids.length;for(let e=0;e<r.rightids.length;++e){var o=new Je(r.position.x,r.position.y,0),l=this.getSpecialVariableValue(r.rightids[e].id);if(l.includes("@{starts_with}")){o.z=0;var c=this.isEnabledImageStartsWithInPosition(l,o);if(console.error("resultIds: ",c),c&&0<c.length&&(a+=1,"latest_result"===i.type)&&0<this.resultsStored.length&&0<this.recentResultsCount)for(let e=1;e<=this.recentResultsCount;++e)if(c.includes(this.resultsStored[this.resultsStored.length-e])){n=!0;break}}else if(l.includes("@{ends_with}")){o.z=0;var d=this.isEnabledImageEndsWithInPosition(l,o);if(d&&0<d.length&&(a+=1,"latest_result"===i.type)&&0<this.resultsStored.length&&0<this.recentResultsCount)for(let e=1;e<=this.recentResultsCount;++e)if(d.includes(this.resultsStored[this.resultsStored.length-e])){n=!0;break}}else{var p=this.getTextureWithId(l);if(p&&(o.z=p.texture.position.z,this.isImageEnabled(l))&&o.distanceTo(p.texture.position)<5){a+=1,t=!0;for(let e=0;e<r.rightMarks.length;++e){var u=r.rightMarks[e];this.addImage(u.id,u.position.x,u.position.y,u.position.z,u.xref,u.yref,u.scale.x,u.scale.y,u.scale.z,u.parentid)}if("latest_result"===i.type&&0<this.resultsStored.length&&0<this.recentResultsCount)for(let e=1;e<=this.recentResultsCount;++e)if(l===this.resultsStored[this.resultsStored.length-e]){n=!0;break}}}}if(!t)for(let e=0;e<r.wrongMarks.length;++e){var h=r.wrongMarks[e];this.addImage(h.id,h.position.x,h.position.y,h.position.z,h.xref,h.yref,h.scale.x,h.scale.y,h.scale.z,h.parentid)}}}let t=!1;(t="latest_result"===i.type?n:"any"===i.type?0<a:a===s)?(console.log("2"),this.setForNextStepNum(i.jumpToStepOnRight),0!==i.track_correctness&&a===s&&(console.error("logCorrectAttempt"),this.logs.logCorrectAttempt(this.levelNum),this.saveStepResult(i.step_num,1))):(console.log("1"),0<i.wrongAudioClip.length&&this.playAudioPath(i.wrongAudioClip),1===i.track_wrongness&&(this.updateWrongnessTracker("global","add",1),this.updateWrongnessTracker("local","add",1),console.error("logWrongAttempt"),this.logs.logWrongAttempt(this.levelNum),this.saveStepResult(i.step_num,0)),this.wrongnessTrackerLocal&&0<i.showClueAfterNTries&&this.wrongnessTrackerLocal.wrongResults>=i.showClueAfterNTries?this.setForNextStepNum(i.jumpToStepOnClue):this.setForNextStepNum(i.jumpToStepOnWrong)),this.timer.addTimeOut(i.wait,"nextstep")};verifyPositionsV2StepFunc=(e,t)=>{jf.onload(this,e,this.size)};repositionIfWrongStepFunc=(t,e)=>{for(let e=0;e<t.destinations.length;++e){var i=t.destinations[e];if(i.ids&&0<i.ids.length)for(let e=0;e<i.ids.length;++e){var a=this.getTextureWithId(i.ids[e].id),n=new Je(i.position.x,i.position.y,a.texture.position.z);if(console.log(i.ids[e].id),console.log(n),console.log(a.texture.position),this.isImageEnabled(i.ids[e].id)&&5<n.distanceTo(a.texture.position)){console.log(i.repositions);var s=i.repositions;for(let e=0;e<s.length;++e){console.log(s[e].id);var r=this.getTextureWithId(s[e].id);r&&(console.log("setting to new position"),r.setNewPosition(r.xref,s[e].position.x,r.yref,s[e].position.y,this.size))}}}}this.goToNextStep()};jumpToStepStepFunc=(e,t)=>{this.stepIndex=this.getStepIndexForInstanceId(e.jump_instance_id),this.goToNextStep()};dialogStepFunc=(e,t)=>{this.dialogStep(e),this.goToNextStep()};enableDialogStepFunc=(e,t)=>{this.enableDialogStep(e)};dontMoveForwardStepFunc=(e,t)=>{};menuStepFunc=(e,t)=>{this.menuStep(e),this.goToNextStep()};menu2StepFunc=(e,t)=>{this.menu2Step(e),this.goToNextStep()};removeMenu2StepFunc=(e,t)=>{this.removeMenu2Step(e),this.goToNextStep()};textStepFunc=(e,t)=>{this.textStep(e),this.goToNextStep()};text2StepFunc=(e,t)=>{console.error("text2StepFunc"),this.text2Step(e),this.goToNextStep()};disableTextStepFunc=(e,t)=>{this.disableTextStep(e),this.goToNextStep()};getTextStepFunc=(e,t)=>{this.getTextStep(e),this.goToNextStep()};removeAllTimersStepFunc=(e,t)=>{this.timer.clearAll(),this.goToNextStep()};confettiStepFunc=(e,t)=>{this.cancelConfetti(),this.showConfetti(),this.goToNextStep()};particlesStepFunc=(e,t)=>{let i=null;"Fireworks"===e.particlesType?i=new l0(this.scene,M.frustumSize,this.size.width,this.size.height,this.time,e):"Ribbons Fall"===e.particlesType?i=new g0(this.scene,M.frustumSize,this.size.width,this.size.height,this.time,e):"Confetti 1"===e.particlesType&&(i=new _0(this.scene,M.frustumSize,this.size.width,this.size.height,this.time,e)),i&&(i.ssid=e.ssid,this.particles.push(i)),this.goToNextStep()};interactionAudioAnytimeStepFunc=(e,t)=>{this.interaction_audio_anytime.push(e),this.goToNextStep()};stopInteractionAudioAnytimeStepFunc=(e,t)=>{this.interaction_audio_anytime=[],this.goToNextStep()};audioOnInActivityStepFunc=(e,t)=>{this.audio_on_inactivity=e,this.audio_on_inactivity_start=this.time,this.goToNextStep()};audioOnInactivityStopStepFunc=(e,t)=>{this.audio_on_inactivity=null,this.goToNextStep()};pathStepFunc=(e,t)=>{this.paths.push(t),this.goToNextStep()};paintPathStepFunc=(e,t)=>{this.addActionable(t);for(let e=0;e<this.paths.length;++e)if(this.paths[e].details.id===t.details.path_id){t.details.path=this.paths[e];break}this.paint_paths.push(t),of.onLoad(this,t.details,this.camera,this.scene,this.size),this.goToNextStep()};paintManyToManyPointsStepFunc=(e,t)=>{this.addActionable(t),wf.onLoad(this,t.details,this.camera,this.scene,this.size),this.goToNextStep()};paintRemovePaintersStepFunc=(e,t)=>{Tf.onLoad(this,t.details),this.goToNextStep()};paintVerifyPaintersStepFunc=(e,t)=>{Af.onLoad(this,t.details)};clearPaintPathStepFunc=(i,e)=>{for(let t=0;t<i.paths.length;++t)for(let e=0;e<this.paint_paths.length;++e)if(this.paint_paths[e].details.path_id===i.paths[t].path){this.paint_paths[e].details.painter.dispose(),this.paint_paths.splice(e,1);break}this.goToNextStep()};lineStepFunc=(e,t)=>{e=new Dm(e,this.scene,e.thickness,.1,.5,!1);this.lines.push(e),this.goToNextStep()};lineDrawStepFunc=(t,e)=>{var i={details:t};for(let e=0;e<this.lines.length;++e)if(this.lines[e].details.instance_id==t.line_instance_id){i.line=this.lines[e];break}1==i.details.manual?this.line_draw_manual=i:(0==i.duration?(i.drawTill(t.percentage),this.line_draw=null):(this.line_draw=i,this.line_draw.starttime=this.time),this.goToNextStep())};paintLineStepFunc=(t,e)=>{let i=null;for(let e=0;e<this.lines.length;++e)if(this.lines[e].details.instance_id==t.line_instance_id){i=this.lines[e];break}var a=new Cm(this.width,this.height,this.camera,this.scene,t.brushSize,i.details.color),a={details:t,line:i,painter:a};this.paint_lines.push(a),1==a.details.manual?this.line_paint_manual=a:(0==a.details.duration?(a.drawTill(i,t.percentage),this.paint_line=null):(this.paint_line=a,this.paint_line.starttime=this.time),this.goToNextStep())};removePaintLineStepFunc=(i,e)=>{for(let t=0;t<i.line_instance_ids.length;++t){for(let e=0;e<this.lines.length;++e)if(this.lines[e].details.instance_id==i.line_instance_ids[t]){this.lines[e].dispose(),this.lines.splice(e,1);break}for(let e=0;e<this.paint_lines.length;++e)this.paint_lines[e].details.line_instance_id==i.line_instance_ids[t]&&(this.paint_lines[e].painter.dispose(),this.scene.remove(this.paint_lines[e].object3d))}this.goToNextStep()};translateAnimationByLineStepFunc=(t,e)=>{this.translate_animation_by_line={details:t};for(let e=0;e<this.lines.length;++e)if(this.lines[e].details.instance_id==t.line_instance_id){this.translate_animation_by_line.line=this.lines[e];break}this.translate_animation_by_line.starttime=this.time,this.translate_animation_by_line.images=[];for(let e=0;e<t.elements.length;++e){var i=this.getTextureWithId(t.elements[e].id);this.translate_animation_by_line.images.push(i)}this.goToNextStep()};removeLineStepFunc=(i,e)=>{for(let t=0;t<i.line_instance_ids.length;++t)for(let e=0;e<this.lines.length;++e)if(this.lines[e].details.instance_id==i.line_instance_ids[t]){this.lines[e].dispose(),this.lines.splice(e,1);break}this.goToNextStep()};recordStepFunc=(e,t)=>{"start"===t.details.action?(console.log("Record Action: start"),"audio"===t.details.mediatype?this.recordAudio():this.recordVideo()):"stop"===t.details.action&&(console.log("Record Action: stop"),"audio"===t.details.mediatype?this.stopAudioRecording():this.capturer?(this.capturer.stop(),this.capturer.save(),this.capturer=null):console.error("Recorder has not started but calling stop!!")),this.goToNextStep()};mergeAudioWithTiming=async e=>{const a=new AudioContext;let i=0;e=await Promise.all(e.map(async({time:e,buffer:t})=>(i=Math.max(i,e+t.duration),{time:e,buffer:t})));const n=a.createBuffer(e[0].buffer.numberOfChannels,i*a.sampleRate,a.sampleRate);e.forEach(({time:e,buffer:t})=>{var i=Math.floor(e*a.sampleRate);for(let e=0;e<t.numberOfChannels;e++)n.getChannelData(e).set(t.getChannelData(e),i)});var e=this.audioBufferToWav(n),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download="merged_audio.wav",document.body.appendChild(t),t.click(),document.body.removeChild(t)};audioBufferToWav=t=>{var i=t.numberOfChannels,e=t.length*i*2+44,a=new ArrayBuffer(e);const n=new DataView(a);var s=[];let r=0,o=0;function l(t){for(let e=0;e<t.length;e++)n.setUint8(o++,t.charCodeAt(e))}function c(t,i){for(let e=0;e<i;e++)n.setUint8(o++,255&t),t>>=8}l("RIFF"),c(e-8,4),l("WAVE"),l("fmt "),c(16,4),c(1,2),c(i,2),c(t.sampleRate,4),c(t.sampleRate*i*2,4),c(2*i,2),c(16,2),l("data"),c(e-o-4,4);for(let e=0;e<i;e++)s.push(t.getChannelData(e));for(;o<e;){for(let e=0;e<i;e++){var d=Math.max(-1,Math.min(1,s[e][r]));c(d<0?32768*d:32767*d,2)}r++}return new Blob([a],{type:"audio/wav"})};stopAudioRecording=()=>{this.audioRecordingChunks&&(this.mergeAudioWithTiming(this.audioRecordingChunks),this.audioRecordingChunks=null)};recordAudio=async()=>{this.audioRecordingChunks||(this.audioRecordingChunks=[],this.audioRecordingStartTime=this.time)};recordVideo=async()=>{this.capturer?console.error("Already one more Recorder is going on. Please stop before calling record again!!"):(this.capturer=new window.CCapture({format:"webm",framerate:60,verbose:!0,width:this.size.width,height:this.size.height,quality:100,audio:!0}),this.capturer.start())};applyForce2dStepFunc=(e,t)=>{If.onload(this,e),this.goToNextStep()};openHREFStepFunc=(e,t)=>{Pf.onload(this,e),this.goToNextStep()};logStepFunc=(e,t)=>{"presentation_start"==e.even_name?this.logs.logEventPresentationStartDuration(this.levelNum,parseInt(this.timespent)):"presentation_end"==e.even_name&&(this.logs.logEventPresentationEndDuration(this.levelNum,parseInt(this.timespent)),console.log(this.sdk)),this.goToNextStep()};loadStep=e=>{var t,i;null!=this.dialog||(this.cleaupAudioEnded(),e>=this.steps.length)||(t=this.steps[e],this.activeScript=t.type,i=t.details,Df.log(t.details.step_num+":"+t.details.checkpointTitle+"->"+t.details.step_title+"->"+t.type),"enableDialogSteps"!==this.activeScript&&this.validateMenuButtons(),this.increasePlaycount&&(0==this.levelNum?this.sdk.setPlaycount(this.levelNum):e<this.jsondata.settings.gameplay_stepnum-1&&-1!=this.presentationCheckpoint&&(this.sdk.setLevelStarted(this.levelNum),this.presentationCheckpoint=-1),this.increasePlaycount=!1),e===this.jsondata.settings.gameplay_stepnum&&this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),e===this.jsondata.settings.gameplay_stepnum-1&&-1!=this.hintFromStep?(this.hintDialogEnabled=!0,this.enableDialog("dialog_hint")):(e=this.stepVariableMap[t.type])?(console.log(`********** ${t.type} ***********`),e.func(i,t)):(console.error("this type of step is not implemented yet: ",t.type),this.goToNextStep()))};playAudioFromAudioMap=(t,i,a)=>{if(0<(t=this.getSpecialVariableValue(t)).length&&this.audioMap)for(let e=0;e<this.audioMap.length;++e)this.audioMap[e].id===t&&this.playAudioPath(this.audioMap[e].path,this.playing_again||i,a)};addActionable=t=>{for(let e=0;e<this.actionableScripts.length;++e)if(this.actionableScripts[e].details.step_num===t.details.step_num)return;this.actionableScripts.push(t)};addAnimatable=t=>{for(let e=0;e<this.animatableScripts.length;++e)if(this.animatableScripts[e].details.step_num===t.details.step_num)return;this.animatableScripts.push(t)};doAnimation=(t,i)=>{for(let e=0;e<this.animatableScripts.length;++e){var a=this.animatableScripts[e];"rotationAnimationSteps"===a.animation&&s0.frameUpdate(this,a,t,i)}};stopAnimatable=t=>{for(let e=0;e<this.animatableScripts.length;++e)if(this.animatableScripts[e].id===t.id){this.animatableScripts.splice(e,1);break}};resetCurrentObj=(e=!0)=>{this.activeObjData.obj&&this.activeObjData.obj.sobj&&this.activeObjData.obj.orig_position&&(e&&this.activeObjData.obj.setNewPosition(this.activeObjData.obj.xref,this.activeObjData.obj.orig_position.x,this.activeObjData.obj.yref,this.activeObjData.obj.orig_position.y,this.size),this.activeObjData.obj.sobj.position.z=this.activeObjData.obj.orig_position.z),this.activeObjData.obj=null};actionablesOnMouseDown=(t,i)=>{this.resetCurrentObj(!0);for(let e=0;e<this.actionableScripts.length;++e)"buttonSteps"===this.actionableScripts[e].type&&zf.onMouseDown(this,this.actionableScripts[e].details,i,this.size);if("waitSteps"===this.activeScript&&0<this.actionableScripts.length)for(let e=0;e<this.actionableScripts.length;++e)"swapOnDragSteps"===this.actionableScripts[e].type?sf.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"selectSteps"===this.actionableScripts[e].type?Rm.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"selectV2Steps"===this.actionableScripts[e].type?Ef.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"paintPathSteps"===this.actionableScripts[e].type?of.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"dragAreaDropSteps"===this.actionableScripts[e].type?uf.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"dragDropSteps"===this.actionableScripts[e].type?Jm.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"dragDropV2Steps"===this.actionableScripts[e].type?Km.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"rotateOnDrag2DSteps"===this.actionableScripts[e].type?Nf.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"paintManytoManyPointsSteps"===this.actionableScripts[e].type?wf.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size):"paintSteps"===this.actionableScripts[e].type?Vf.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"microphoneSelectSteps"===this.actionableScripts[e].type?t0.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"textInputSteps"===this.actionableScripts[e].type?a0.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData):"shakeAnimationSteps"===this.actionableScripts[e].type&&Xm.onMouseDown(this,this.actionableScripts[e].details,t,i,this.size,this.activeObjData)};addTextInput=t=>{for(let e=0;e<this.activeTextInputDetails.length;++e)if(this.activeTextInputDetails[e].id===t.id)return;this.activeTextInputDetails.push(t)};removeTextInput=e=>{this.activeTextInputDetails.splice(e,1)};enableTextInput=e=>{this.activeTextInputId=e};initializeActionableObj=e=>{this.activeObjData.obj||(this.activeObjData.obj=R.getMovable(this,this.intersectName),this.activeObjData.obj&&(this.activeObjData.obj.computedata={},this.activeObjData.obj.computedata.mouse_start=new ie,this.activeObjData.obj.computedata.mouse_end=new ie,this.activeObjData.obj.computedata.mouse_start.x=e.x,this.activeObjData.obj.computedata.mouse_start.y=e.y,this.activeObjData.obj.computedata.mouse_end.x=e.x,this.activeObjData.obj.computedata.mouse_end.y=e.y,this.activeObjData.obj.orig_position=this.activeObjData.obj.sobj.position.clone(),this.activeObjData.obj.computedata.id=this.activeObjData.obj.id||this.activeObjData.obj.sobj.name,this.activeObjData.obj.computedata.dragDisplacement={x:0,y:0},this.activeObjData.obj.computedata.dragDisplacement.x=e.x-this.activeObjData.obj.sobj.position.x,this.activeObjData.obj.computedata.dragDisplacement.y=e.y-this.activeObjData.obj.sobj.position.y,this.activeObjData.obj.computedata.scripts=[]))};actionableOnMouseMove=(t,e)=>{if("waitSteps"===this.activeScript&&0<this.actionableScripts.length)for(let e=0;e<this.actionableScripts.length;++e)"swapOnDragSteps"===this.actionableScripts[e].type?sf.onMouseMove(this,this.actionableScripts[e].details,t,this.size,this.activeObjData):"paintPathSteps"===this.actionableScripts[e].type?of.onMouseMove(this,this.actionableScripts[e].details,t,this.size):"dragAreaDropSteps"===this.actionableScripts[e].type?uf.onMouseMove(this,this.actionableScripts[e].details,t,this.size,this.activeObjData):"dragDropSteps"===this.actionableScripts[e].type?Jm.onMouseMove(this,this.actionableScripts[e].details,t,this.size):"dragDropV2Steps"===this.actionableScripts[e].type?Km.onMouseMove(this,this.actionableScripts[e].details,t,this.size,this.activeObjData):"rotateOnDrag2DSteps"===this.actionableScripts[e].type?Nf.onMouseMove(this,this.actionableScripts[e].details,t,this.size):"paintManytoManyPointsSteps"===this.actionableScripts[e].type?wf.onMouseMove(this,this.actionableScripts[e].details,t,this.size):"paintSteps"===this.actionableScripts[e].type&&Vf.onMouseMove(this,this.actionableScripts[e].details,t,this.size,this.activeObjData)};actionableOnMouseUp=()=>{if("waitSteps"===this.activeScript&&0<this.actionableScripts.length){let i=!1;for(let t=0;t<this.actionableScripts.length;++t){let e=0;if("swapOnDragSteps"===this.actionableScripts[t].type?e=sf.onMouseUp(this,this.actionableScripts[t].details,this.size,this.activeObjData):"paintPathSteps"===this.actionableScripts[t].type?of.onMouseUp(this,this.actionableScripts[t].details,this.size):"dragAreaDropSteps"===this.actionableScripts[t].type?e=uf.onMouseUp(this,this.actionableScripts[t].details,this.size,this.activeObjData):"dragDropSteps"===this.actionableScripts[t].type?1===Jm.onMouseUp(this,this.actionableScripts[t].details,this.size)&&(i=!0):"dragDropV2Steps"===this.actionableScripts[t].type?e=Km.onMouseUp(this,this.actionableScripts[t].details,this.size,this.activeObjData):"rotateOnDrag2DSteps"===this.actionableScripts[t].type?1===Nf.onMouseUp(this,this.actionableScripts[t].details,this.size)&&(i=!0):"paintManytoManyPointsSteps"===this.actionableScripts[t].type?wf.onMouseUp(this,this.actionableScripts[t].details,this.size):"paintSteps"===this.actionableScripts[t].type?e=Vf.onMouseUp(this,this.actionableScripts[t].details,this.size,this.activeObjData):"microphoneSelectSteps"===this.actionableScripts[t].type&&(e=t0.onMouseUp(this,this.actionableScripts[t].details,this.size,this.activeObjData)),0!==e&&(i=!0),2===e)break}this.resetCurrentObj(!1),i&&this.callback_MoveNext()}};disposeActionable=e=>{"paintManytoManyPointsSteps"===e.type&&wf.dispose(e.details)};clearAllActionables=()=>{for(;0<this.actionableScripts.length;){try{this.disposeActionable(this.actionableScripts[0])}catch(e){console.log(e)}this.actionableScripts.splice(0,1)}this.actionableScripts=[]};loadAllPlayableCheckPoints=()=>{if(this.printWrongness(),this.jsondata.playableCheckPoints){this.playableCheckPoints=[];for(let e=0;e<this.jsondata.playableCheckPoints.length;++e){var t=this.jsondata.playableCheckPoints[e];this.resetAllGlobalWrongnessVariables&&(t.result=0,t.wrongnessTracker=0,t.resetWrongnessTracker=0),this.playableCheckPoints.push(t)}this.resetAllGlobalWrongnessVariables=!1}};printWrongness=()=>{let t="";for(let e=0;e<this.playableCheckPoints.length;++e)0<t.length&&(t+=","),t+=""+this.playableCheckPoints[e].wrongnessTracker;console.error("printWrongness: ",t)};loadAllPlayableCheckPointsResults=()=>{var e=localStorage.getItem(M.getUniqueKeyFor("playable_result_"+this.levelNum));0<e.length&&(this.playableCheckPoints=JSON.parse(e))};dumpAllPlayableCheckPointsResults=()=>{var e=JSON.stringify(this.playableCheckPoints);console.log(e),localStorage.setItem(M.getUniqueKeyFor("playable_result_"+this.levelNum),e),console.log("After dump")};saveStepResult=(t,i)=>{for(let e=0;e<this.playableCheckPoints.length;++e)if(t>=this.playableCheckPoints[e].start_step_num&&t<=this.playableCheckPoints[e].end_step_num){1==this.playableCheckPoints[e].resetWrongnessTracker&&(this.playableCheckPoints[e].resetWrongnessTracker=0,this.playableCheckPoints[e].wrongnessTracker=0),0==i&&(this.playableCheckPoints[e].wrongnessTracker+=1),this.playableCheckPoints[e].result=i;break}this.printWrongness()};setForNextStepNum=t=>{console.log("setForNextStepNum: ",t);for(let e=0;e<this.steps.length;++e)if(this.steps[e].details.instance_id===t){this.stepIndex=e-1;break}console.log("this.stepIndex: ",this.stepIndex)};getStepIndexForInstanceId=t=>{let i=-1;for(let e=0;e<this.steps.length;++e)if(this.steps[e].details.instance_id==t){i=e-1;break}return i};getStepForStepId=t=>{for(let e=0;e<this.steps.length;++e)if(this.steps[e].details.instance_id===t)return this.steps[e].details;return null};getStepForSSID=t=>{for(let e=0;e<this.steps.length;++e)if(this.steps[e].details.id===t)return this.steps[e].details;return null};onScreenLoaded=e=>{};lerpEnded=e=>{var t,e=this.lerpingObjs.indexOf(e);-1<e&&(t=this.lerpingObjs[e].dest_pos_z,this.lerpingObjs[e].texture.position.z=t,this.lerpingObjs[e].setNewPosition(this.lerpingObjs[e].xref,this.lerpingObjs[e].texture.position.x,this.lerpingObjs[e].yref,this.lerpingObjs[e].texture.position.y,this.size),this.lerpingObjs.splice(e,1)),0==this.lerpingObjs.length&&this.goToNextStep()};lerpContainerEnded=e=>{e=this.lerpingObjs.indexOf(e);-1<e&&this.lerpingObjs.splice(e,1),0===this.lerpingObjs.length&&this.goToNextStep()};blinkingEnded=e=>{e=this.blinkingObjs.indexOf(e);-1<e&&this.blinkingObjs.splice(e,1)};resetAlltoggles=()=>{for(let e=0;e<this.toggles.length;++e){var t=this.toggles[e];t.current_state=-1,this.setToggleImages(t);for(let e=0;e<t.right.length;++e)this.removeImage(t.right[e]);for(let e=0;e<t.wrong.length;++e)this.removeImage(t.wrong[e])}};setToggleImages=i=>{for(let e=0;e<i.state1.length;++e){var a=i.state2[e];if(1==i.current_state||-1==i.current_state){var t=this.getTextureWithId(a);this.scene.add(t.texture),this.enabledImages.push(t)}else{let t=!1;for(let e=0;e<i.state2.length;++e)if(a==i.state2[e]){t=!0;break}t||this.removeImage(a)}}for(let e=0;e<i.state2.length;++e){var n=i.state2[e];if(2==i.current_state){var s=this.getTextureWithId(n);this.scene.add(s.texture),this.enabledImages.push(s)}else{let t=!1;for(let e=0;e<i.state1.length;++e)if(n==i.state1[e]){t=!0;break}t||this.removeImage(n)}}};setToggleRightWrongImages=(t,i)=>{for(let e=0;e<t.right.length;++e){var a;i?(a=this.getTextureWithId(t.right[e]),this.scene.add(a.texture),this.enabledImages.push(a)):this.removeImage(t.right[e])}for(let e=0;e<t.wrong.length;++e){var n;i?this.removeImage(t.wrong[e]):(n=this.getTextureWithId(t.wrong[e]),this.scene.add(n.texture),this.enabledImages.push(n))}};addImage=(e,t,i,a,n,s,r,o,l,c)=>{this.removeImage(e);var e=this.getTextureWithId(e),d=A0(e.texture.position);d.x=t,d.y=i,null!=c&&0<c.length&&(t=this.getTextureWithId(c),d.x+=t.xdisp,d.y+=t.ydisp,n=t.xref,s=t.yref),e.setNewPosition(n,d.x,s,d.y,this.size),e.setScale(r,o,l),this.scene.add(e.texture),this.enabledImages.push(e)};addGifImage=(e,t,i,a,n,s,r,o,l,c,d,p,u,h)=>{this.removeGifImage(e);var m,e=this.getGifMeshWithId(e);if(e)return(m=A0(e.texture.position)).x=t,m.y=i,m.z=a,this.euler.x=r,this.euler.y=o,this.euler.z=l,e.texture.rotation.copy(this.euler),e.setNewPosition(n,m.x,s,m.y,this.size),e.setScale(c,d),e.texture.material.opacity=parseFloat(u),e.texture.gifTexture.speed=parseFloat(h),this.scene.add(e.texture),this.enabledGifMeshes.push(e),e};removeImage=t=>{for(let e=0;e<this.enabledImages.length;++e)if(this.enabledImages[e].texture.name===t){this.scene.remove(this.enabledImages[e].texture),this.removePhysicsShape(this.enabledImages[e]),this.enabledImages.splice(e,1),this.removeFromAnimated(t);break}};removeGifImage=t=>{for(let e=0;e<this.enabledGifMeshes.length;++e)if(this.enabledGifMeshes[e].texture.name===t)return this.scene.remove(this.enabledGifMeshes[e].texture),this.enabledGifMeshes.splice(e,1),!0;return!1};enableDialog=t=>{console.log("################ Enabling dialog: ",t);for(let e=0;e<this.dialogs.length;++e)if(this.dialogs[e].type==t){this.dialog=A0(this.dialogs[e]),this.enableImages(this.dialog.images),this.enableButtons(this.dialog.buttons),this.timer.clearAll();for(let e=0;e<this.dialog.audio_paths.length;++e)this.playAudioPath(this.dialog.audio_paths[e]);this.noInteractions=this.time+.6;break}};disableDialog=e=>{for(let t=0;t<this.dialogs.length;++t)if(this.dialogs[t].type==e){for(let e=0;e<this.dialogs[t].images.length;++e)this.removeImage(this.dialogs[t].images[e].id);for(let e=0;e<this.dialogs[t].buttons.length;++e)this.removeImage(this.dialogs[t].buttons[e].normal_id);break}this.dialog=null};removeModel=a=>{for(let i=0;i<this.animations.length;++i){let t=!1;for(let e=0;e<this.animations[i].details.objs.length;++e)if(this.animations[i].details.objs[e].obj&&this.animations[i].details.objs[e].obj.ssid===a){this.animations.splice(i,1),t=!0;break}if(t)break}for(let e=0;e<this.models.length;++e){var t=this.models[e];if(t.id===a)return this.scene.remove(t.sobj),this.removeModelMixer(t),t.sobj.traverse(e=>{if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)e.material.dispose();else for(const t of e.material)t.dispose()}),this.models.splice(e,1),t.dispose(),!0}return!1};removeAllModels=()=>{for(;0<this.models.length;){var e=this.models[0];this.removeModelMixer(e),this.scene.remove(e.sobj),e.dispose(),this.models.splice(0,1)}};removeModelMixer=t=>{for(let e=0;e<this.animationMixers.length;++e)if(this.animationMixers[e].model===t){this.animationMixers[e].mixer.stopAllAction(),this.animationMixers.splice(e,1);break}};removeAllImages=()=>{for(;0<this.enabledContainers.length;)this.enabledContainers[0].dispose(),this.enabledContainers.splice(0,1);for(;0<this.enabledImages.length;)this.removePhysicsShape(this.enabledImages[0]),this.scene.remove(this.enabledImages[0].texture),this.enabledImages.splice(0,1);for(;0<this.enabledAnimatedImages.length;)this.enabledAnimatedImages.splice(0,1);for(;this.progressBars.length;){var e=this.progressBars[0];this.progressBars.splice(0,1),this.scene.remove(e.obj)}for(;0<this.lines.length;)this.lines[0].dispose(),this.lines.splice(0,1);for(;0<this.paint_lines.length;)this.paint_lines[0].painter.dispose(),this.scene.remove(this.paint_lines[0].object3d),this.paint_lines.splice(0,1)};stopAllLerpingObjs=()=>{for(let e=0;e<this.lerpingObjs.length;++e){var t=this.lerpingObjs[e].dest_pos_z;this.lerpingObjs[e].texture.position.z=t}this.lerpingObjs=[]};getVideoInfo=t=>{console.log("getVideoInfo: this.videoInfos: ",this.videoInfos);for(let e=0;e<this.videoInfos.length;++e){var i=this.videoInfos[e];if(i.videoid===t)return console.log("Got it"),i}return null};addVideoInfo=e=>{this.videoInfos.push(e)};cleanAll=()=>{console.log("------- cleanAll --------- "),this.timer.clearAll(),this.updatingSteps=[],this.resultsStored=[],this.imageAudios=[],this.removeAllPainters(),this.clearAllPaintFillSteps(),this.animations=[],this.clearAllActionables(),this.stopAllLerpingObjs(),this.stopSpeechToTextStep(null,!0);for(let e=0;e<this.audioPlayers.length;++e)this.audioPlayers[e].dispose();this.audioPlayers=[],this.interaction_audio_anytime=[],this.audio_on_inactivity=null,this.removeAllImages(),this.removeAllModels(),this.removeAllTexts(),this.removeAllParticles(),this.currentAudioPath=null,this.drags=[],this.dragDetails=null,this.currentDrag=null,this.interaction_click_actions=null,this.completion_action_ids=null,this.userInteractionDisableTime=0,this.userInteractionDisableDuration=0,this.interaction_overlay=null,this.interaction_overlayStartTime=0,this.interaction_overlayDuration=0,this.toggles=[],this.toggleResult=null,this.toggleClearStart=-1,this.toggleClearDuration=-1,this.wrongnessTrackerLocal=null,this.verifyPositions=null,this.dialogs=[],this.dialog=null,this.menu=null,this.menus=[],this.jumpToStep=0,this.audioInstruction=null,this.inputWait=null,this.inputs=[],this.dictionaries=[],this.timer.removeTimeOutAll("add_input_highlight_after_complete"),this.updateWrongnessTracker("global","set",0)};removeAllAndLoadBackground=()=>{this.cleanAll();var t=this.jsondata.backgroundSteps;for(let e=0;e<t.length;++e){var i=this.steps[t[e]-1],a=i.details,n=this.stepVariableMap[i.type];if(n&&n.callOnReload,"enableSteps"===i.type)this.enableStep(a);else if("enableModelSteps"===i.type)this.enableModelStep(a);else if("buttonSteps"==i.type)this.enableStep(a);else if("enableBackgroundSteps"==i.type)this.enableBackgroundStep(a);else if("scrollingLayerSteps"==i.type)tf.add(this,a,this.scrollingLayers);else if("disableSteps"==i.type)this.disableStep(a);else if("dialogSteps"==i.type)this.dialogStep(a);else if("menuSteps"==i.type)this.menuStep(a);else if("progressBarSteps"==i.type)this.progressBarStep(a);else if("textSteps"==i.type)this.textStep(a);else if("text2Steps"==i.type)this.text2Step(a);else if("disabletextSteps"==i.type)this.disableTextStep(a);else if("dictionarySteps"==i.type)this.dictionaryStep(a);else if("wrongnessTrackerSteps"==i.type&&"global"==a.type){this.wrongnessTracker=a,this.updateWrongnessTracker("global","set",0),this.skipWrongnessTrackerReset=!1,this.wrongnessFromContinue=!1;for(let e=0;e<this.playableCheckPoints.length;++e)this.updateWrongnessTracker("global","add",this.playableCheckPoints[e].wrongnessTracker)}}};goToCheckPoint=()=>{this.removeAllAndLoadBackground();var t=this.jsondata.checkPoints;console.log(t);let i=t[0];if(console.log(i),-1!=this.jsondata.settings.gameplay_stepnum){console.log(t);for(let e=1;e<t.length;++e){if(console.log(t[e]),this.stepIndex>=i&&this.stepIndex<t[e]){this.stepIndex=i;break}console.log(t[e]),i=t[e]}}console.log(i),this.presentationCheckpoint=t[1]-1,this.stepIndex=i-1,-1==this.stepIndex&&(this.stepIndex=0),this.loadStep(this.stepIndex)};addWrongness=e=>{null!=this.wrongnessTracker&&this.updateWrongnessTracker("global","add",1),null!=this.wrongnessTrackerLocal&&this.updateWrongnessTracker("local","add",1),this.logs.logWrongAttempt(this.levelNum),this.saveStepResult(e,0)};addCorrectNess=e=>{this.logs.logCorrectAttempt(this.levelNum),this.saveStepResult(e,1)};onDocumentMouseDown=(e,t,i)=>{console.log("-------- onDocumentMouseDown ------------");let a=e.offsetX,n=e.offsetY;if(t&&(t=R.getCanvasPointOfThreeJS(t,this.camera,this.renderer.domElement.clientWidth,this.renderer.domElement.clientHeight),a=t.x-i.x/2+e.offsetX,n=t.y-i.y/2+e.offsetY),this.timeSinceLastInteraction=this.time,this.enableEvents&&!(this.time<this.noInteractions)&&(!this.mouseDown||0===this.pointerId)){if(this.mouseDown=!0,this.pointerId=e.pointerId,0<this.activeTextInputDetails.length){for(let e=0;e<this.activeTextInputDetails.length;++e)a0.enableNormal(this,this.activeTextInputDetails[e]);this.activeTextInputId=""}null!=this.dragDetails&&0!=this.timeToDragCompletionAnnoucement&&(this.timeToDragCompletionAnnoucement=this.time+this.dragDetails.repeatOnCompleteInterval),this.audio_on_inactivity&&(this.audio_on_inactivity_start=this.time),this.mouse.x=a/this.renderer.domElement.clientWidth*2-1,this.mouse.y=2*-(n/this.renderer.domElement.clientHeight)+1,this.raycaster.setFromCamera(this.mouse,this.camera);t=this.raycaster.intersectObjects(this.scene.children,!0);if(0<t.length){var s,r=t[0].object.name,o=t[0].point;if(0<this.lockForActions.length){if(this.lockForActions.includes(r))return;var i=R.getMovable(this,r);if(i&&this.lockForActions.includes(i.id))return}if(this.mouse_start.x=o.x,this.mouse_start.y=o.y,this.mouse_end.x=this.mouse_start.x,this.mouse_end.y=this.mouse_start.y,null!=this.menu)for(let e=0;e<this.menu.buttons.length;++e){var l,c=this.menu.buttons[e];if(0==c.toggle){if(c.normal_id==r)return void("replay_audio"==c.action?null==this.audioInstruction||this.isAnyAudioPlaying()||this.playAudioPath(this.audioInstruction,!0):"home"==c.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.enableDialog("dialog_home")):"back"==c.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.enableDialog("dialog_back")):"skip"==c.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),l=localStorage.getItem(M.getUniqueKeyFor("previous_step_completed_"+(this.levelNum+1))),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.enableDialog("dialog_skip_fromhint"):4==this.levelNum?this.enableDialog("dialog_skip_fromlastlevel"):l?this.enableDialog("dialog_skip_frompreviousleveljump"):this.enableDialog("dialog_skip_fromplayagain")):"hint"==c.action&&(this.cleanAll(),this.recentResultsCount=1,this.pushToResultsStored("hint"),this.current_background_step=null,this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.hintFromStep=this.stepIndex,this.levelNum!=this.presentationLevel&&this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&(l=this.getTextureWithId("button_skip"),this.scene.add(l.texture)),this.skipOnHint=!0,this.stepIndex=-1,this.goToNextStep()))}else{if(c.state1_id==r)return this.removeImage(c.state1_id),this.addImage(c.state2_id,c.position.x,c.position.y,c.position.z,c.xref,c.yref,c.scale.x,c.scale.y,c.scale.z,c.parent_id),void("music_setting"==c.action&&this.backgroundSound&&(this.backgroundSound.pause(),localStorage.setItem(M.getUniqueKeyFor("background_music"),0..toString())));if(c.state2_id==r)return this.removeImage(c.state2_id),this.addImage(c.state1_id,c.position.x,c.position.y,c.position.z,c.xref,c.yref,c.scale.x,c.scale.y,c.scale.z,c.parent_id),void("music_setting"==c.action&&this.backgroundSound&&(this.backgroundSound.play(),localStorage.setItem(M.getUniqueKeyFor("background_music"),1..toString())))}}for(let t=0;t<this.menus.length;++t)for(let e=0;e<this.menus[t].buttons.length;++e){var d,p=this.menus[t].buttons[e];if(0==p.toggle){if(p.normal_id==r)return void("jumptostep"==p.action?(this.stopAllLerpingObjs(),this.timer.clearAll(),this.stopAllAudio(),p.actiondata&&(this.stepIndex=this.getStepIndexForInstanceId(p.actiondata),this.goToNextStep())):"replay_audio"===p.action?null==this.audioInstruction||this.isAnyAudioPlaying()||this.playAudioPath(this.audioInstruction,!0):"home"===p.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.enableDialog("dialog_home")):"back"===p.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.enableDialog("dialog_back")):"skip"===p.action?(this.removeAllAndLoadBackground(),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.logs.logEventTimespentPresentJumpedInBetween(this.levelNum,parseInt(this.timespent)):this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),d=localStorage.getItem(M.getUniqueKeyFor("previous_step_completed_"+(this.levelNum+1))),this.stepIndex<this.jsondata.settings.gameplay_stepnum?this.enableDialog("dialog_skip_fromhint"):4==this.levelNum?this.enableDialog("dialog_skip_fromlastlevel"):d?this.enableDialog("dialog_skip_frompreviousleveljump"):this.enableDialog("dialog_skip_fromplayagain")):"hint"===p.action?(this.cleanAll(),this.recentResultsCount=1,this.pushToResultsStored("hint"),this.current_background_step=null,this.logs.logEventTimespentLevelJumpedInBetween(this.levelNum,parseInt(this.timespent)),this.hintFromStep=this.stepIndex,this.levelNum!=this.presentationLevel&&this.stepIndex>=this.jsondata.settings.gameplay_stepnum&&(d=this.getTextureWithId("button_skip"),this.scene.add(d.texture)),this.skipOnHint=!0,this.stepIndex=-1,this.goToNextStep()):"play_again"===p.action&&(this.stepIndex=0,this.current_background_step=null,this.playing_again=!0,this.chosenCheckPoints=[],this.resetAllGlobalWrongnessVariables=!0,this.replay_only_wrong=!1,this.hintDialogEnabled=!1,this.removeAllAndLoadBackground(),this.loadStep(this.stepIndex)))}else{if(p.state1_id==r)return this.removeImage(p.state1_id),this.addImage(p.state2_id,p.position.x,p.position.y,p.position.z,p.xref,p.yref,p.scale.x,p.scale.y,p.scale.z,p.parent_id),void("music_setting"==p.action&&this.backgroundSound&&(this.backgroundSound.pause(),localStorage.setItem(M.getUniqueKeyFor("background_music"),0..toString())));if(p.state2_id==r)return this.removeImage(p.state2_id),this.addImage(p.state1_id,p.position.x,p.position.y,p.position.z,p.xref,p.yref,p.scale.x,p.scale.y,p.scale.z,p.parent_id),void("music_setting"==p.action&&this.backgroundSound&&(this.backgroundSound.play(),localStorage.setItem(M.getUniqueKeyFor("background_music"),1..toString())))}}if(null!=this.dialog){for(let e=0;e<this.dialog.buttons.length;++e)if(this.dialog.buttons[e].normal_id===r){if("play_again"===this.dialog.buttons[e].action){this.stepIndex=0,this.current_background_step=null,!this.hintDialogEnabled&&0<this.jsondata.settings.gameplay_stepnum&&(this.cancelConfetti(),this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.stepIndex=this.jsondata.settings.gameplay_stepnum-1,this.local_level_completed_status=!0),this.playing_again=!0,this.chosenCheckPoints=[],this.resetAllGlobalWrongnessVariables=!0,this.replay_only_wrong=!1,this.hintDialogEnabled=!1,this.sdk.setPlaycount(this.levelNum),this.removeAllAndLoadBackground(),this.loadStep(this.stepIndex);break}if("play_again_2"===this.dialog.buttons[e].action){console.log("----- play_again_2 -----"),this.stepIndex=0,this.current_background_step=null,!this.hintDialogEnabled&&0<this.jsondata.settings.gameplay_stepnum&&(this.cancelConfetti(),this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.stepIndex=this.jsondata.settings.gameplay_stepnum-1),this.playing_again=!1,this.chosenCheckPoints=[],this.resetAllGlobalWrongnessVariables=!0,this.replay_only_wrong=!1,this.hintDialogEnabled=!1,this.sdk.setPlaycount(this.levelNum),this.removeAllAndLoadBackground(),this.loadStep(this.stepIndex);break}if("next_level"==this.dialog.buttons[e].action)return this.dumpAllPlayableCheckPointsResults(),void this.callback.playNextLevel();if("next_game"==this.dialog.buttons[e].action)return localStorage.setItem(M.getUniqueKeyFor("present_level"),1),this.dumpAllPlayableCheckPointsResults(),void this.callback.playNextGame();if("continue_game"==this.dialog.buttons[e].action){this.wrongnessFromContinue=!0,this.increasePlaycount=!0,this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),this.goToCheckPoint();break}if("pick_new_game"==this.dialog.buttons[e].action)return localStorage.setItem(M.getUniqueKeyFor("present_level"),this.levelNum),void this.callback.playNextGame();if("previous_level"==this.dialog.buttons[e].action){this.dumpAllPlayableCheckPointsResults(),localStorage.setItem(M.getUniqueKeyFor("previous_step_completed_"+this.levelNum),this.stepIndex.toString()),this.callback.playPreviousLevel();break}if("exit"==this.dialog.buttons[e].action){if(this.current_background_step=null,this.logs.logEventLevelStartDuration(this.levelNum,parseInt(this.timespent)),-1!=this.hintFromStep){this.stepIndex=this.hintFromStep,this.hintFromStep=-1,this.goToCheckPoint();break}localStorage.setItem(M.getUniqueKeyFor("skipped_level"),"1"),this.callback.playNextLevel()}else if("hint_play_game"==this.dialog.buttons[e].action){if(this.hintDialogEnabled=!1,-1!=this.hintFromStep)return this.current_background_step=null,this.stepIndex=this.hintFromStep,this.hintFromStep=-1,void this.goToCheckPoint()}else if("lets_play"==this.dialog.buttons[e].action)return this.disableDialog("dialog_lets_play"),void(I0||this.postInit())}}else{if(this.isAnyAudioPlaying())if(this.stopAudioIfStoppable()&&("waitSteps"===(e=this.steps[this.stepIndex]).type?1!==e.details.waitForever&&1!==e.details.wakeupOnAction&&(this.timer.removeTimeOutAll("nextstep"),this.goToNextStep()):this.timer.isRefAdded("nextstep_timer")&&(this.timer.removeTimeOutAll("nextstep_timer"),this.goToNextStep())),this.isAnyAudioPlaying())return;if(0<this.interaction_audio_anytime.length){let i=!1;for(let t=0;t<this.interaction_audio_anytime.length&&!i;++t)for(let e=0;e<this.interaction_audio_anytime[t].ids.length&&!i;++e)if(this.interaction_audio_anytime[t].ids[e]==r){this.playAudioPath(this.interaction_audio_anytime[t].audioclip),i=!0;break}}if(0<this.toggles.length&&this.toggleClearDuration<=0){let t=0;for(let e=0;e<this.toggles.length;++e){var u=this.toggles[e],h=u.toggle_action_images;for(let e=0;e<h.length;++e)if(h[e]==r){if(u.current_state=-1==u.current_state||1==u.current_state?2:1,this.setToggleImages(u),!M.debug2)for(let e=0;e<u.audio_paths.length;++e)this.playAudioPath(u.audio_paths[e]);break}2==u.current_state&&(t+=1)}t>=this.toggleResult.state2ForValidity?this.addImage(this.toggleResult.validStateAction,0,0,0,0,0,1,1,1,this.toggleResult.invalidStateAction):this.removeImage(this.toggleResult.validStateAction)}if(0<this.drags.length)for(let e=0;e<this.drags.length;++e)if(R.isClickedOnDrag(this.drags[e],r)){this.currentDrag=this.drags[e],this.dragDisplacement.x=o.x-this.currentDrag.image.texture.position.x,this.dragDisplacement.y=o.y-this.currentDrag.image.texture.position.y;var m=this.currentDrag.image,f=m.texture.position.z;this.currentDrag.dest_pos_z=f,m.texture.position.z=f+30,this.currentDrag.followers_dest_pos_z=[],this.currentDrag.followers_images=[];for(let e=0;e<this.currentDrag.followers.length;++e){var g=this.getTextureWithId(this.currentDrag.followers[e].id),_=(this.currentDrag.followers_images.push(g),g.texture.position.z);this.currentDrag.followers_dest_pos_z.push(_),g.texture.position.z=_+30}break}if(this.actionablesOnMouseDown(o,r),"selectSteps"===this.activeScript)Rm.onMouseDown(this,this.stepDetails,r,this.size);else if("dragDropSteps"===this.activeScript)Jm.onMouseDown(this,this.stepDetails,o,r,this.size);else if("dragDropV2Steps"===this.activeScript)Km.onMouseDown(this,this.stepDetails,o,r,this.size);else if("swapOnDragSteps"===this.activeScript)sf.onMouseDown(this,this.stepDetails,o,r,this.size);else if(null!=this.interaction_click_actions){if(this.time-this.userInteractionDisableTime>=this.userInteractionDisableDuration)for(let e=0;e<this.interaction_click_actions.length;++e){var y=this.interaction_click_actions[e];if(y.id==r){0==M.debug1&&(this.userInteractionDisableTime=this.time,this.userInteractionDisableDuration=y.disableInteractionDuration);var b=y.audioclips;if(!M.debug2)for(let e=0;e<b.length;++e)this.playAudioPath(b[e].audio_path,this.playing_again);var v,x,S,w,T=y.overlayImage.id;0<T.length&&((v=(T=this.getTextureWithId(T)).texture.position).x=y.overlayImage.position.x,v.y=y.overlayImage.position.y,S=x=0,w=this.getTextureWithId(r),v.x+=w.texture.position.x,v.y+=w.texture.position.y,x=w.xref,S=w.yref,T.setNewPosition(x,v.x,S,v.y,this.size),this.scene.add(T.texture),this.enabledImages.push(T),0<y.overlayDuration)&&(this.interaction_overlay=T,this.interaction_overlayStartTime=this.time,this.interaction_overlayDuration=y.overlayDuration);let t=!1;for(let e=0;e<this.completion_action_ids.length;++e)if(this.completion_action_ids[e].id==r){this.completion_action_ids.splice(e,1),t=!0;break}t?1===this.stepDetails.track_correctness&&this.addCorrectNess(this.stepDetails.step_num):1===this.stepDetails.track_wrongness&&this.addWrongness(this.stepDetails.step_num),!t||0!==this.completion_action_ids.length&&"anyone"!==this.stepDetails.completionMode?this.stepDetails.hintJump&&0<this.getStepIndexForInstanceId(this.stepDetails.hintJump)&&this.wrongnessTrackerLocal&&this.wrongnessTrackerLocal.wrongResults>=this.stepDetails.showHintAfter&&(this.setForNextStepNum(this.stepDetails.hintJump),this.timer.addTimeOut(0,"nextstep")):(this.interaction_click_actions=null,this.completion_action_ids=null,this.stepDetails.correctJump&&0<this.getStepIndexForInstanceId(this.stepDetails.correctJump)?(this.updateWrongnessTracker("local","set",0),this.setForNextStepNum(this.stepDetails.correctJump),this.timer.addTimeOut(0,"nextstep")):this.goToNextStep());break}}}else if(null!=this.toggleResult){if(this.toggleResult.validStateAction==r){this.removeImage(this.toggleResult.validStateAction);let e=0;for(let i=0;i<this.toggles.length;++i){let t=-1;for(let e=0;e<this.toggleResult.toggles.length;++e)if(this.toggleResult.toggles[e]==this.toggles[i].guid){t=e;break}-1==this.toggles[i].current_state||1==this.toggles[i].current_state?2==this.toggleResult.results[t]&&(e+=1):1==this.toggleResult.results[t]&&(e+=1),-1!=this.toggles[i].current_state&&1!=this.toggles[i].current_state&&(s=this.toggleResult.results[t]==this.toggles[i].current_state,this.setToggleRightWrongImages(this.toggles[i],s))}if(0==e)0<this.toggleResult.onCompleteStep&&this.setForNextStepNum(this.toggleResult.onCompleteStep),this.toggles=[],this.addCorrectNess(this.toggleResult.step_num),this.toggleResult=null,this.timer.addTimeOut(0,"nextstep");else{if(this.toggleClearStart=this.time,this.toggleClearDuration=this.toggleResult.resultResetDuration,this.addWrongness(this.toggleResult.step_num),null!=this.wrongnessTrackerLocal&&0<this.toggleResult.showClueAfterNTries&&this.wrongnessTrackerLocal.wrongResults>=this.toggleResult.showClueAfterNTries)if(0<this.toggleResult.onClueStep)this.setForNextStepNum(this.toggleResult.onClueStep),this.timer.addTimeOut(.2,"nextstep");else for(let i=0;i<this.toggles.length;++i){let t=-1;for(let e=0;e<this.toggleResult.toggles.length;++e)if(this.toggleResult.toggles[e]==this.toggles[i].guid){t=e;break}if(2==this.toggleResult.results[t])for(let e=0;e<this.toggles[i].clue.length;++e){var A=this.getTextureWithId(this.toggles[i].clue[e]);this.scene.add(A.texture),this.enabledImages.push(A)}}0<this.toggleResult.wrongAudioClip.length&&this.playAudioPath(this.toggleResult.wrongAudioClip)}}}else if(null!=this.dragDetails)(this.dragDetails.click_action.id==r||0<this.dragDetails.hightlightClickButton.length&&this.dragDetails.hightlightClickButton==r)&&(this.removeImage(this.dragDetails.click_action.id),0<this.dragDetails.hightlightClickButton.length&&this.removeImage(this.dragDetails.hightlightClickButton),this.dragDetails=null,this.drags=[],this.goToNextStep());else if(null!=this.inputWait)if(this.inputWait.exitid==r||this.inputWait.exit_highlight_id==r){var t=this.getDictionary("",this.inputWait.exitid);0<t.length&&(this.addImage(t[0],0,0,0,0,0,1,1,1,r),this.removeImageOnTimerIds.push(t[0]),this.timer.addTimeOut(.15,"remove_image_timer")),this.removeImage(this.inputWait.exitid),this.removeImage(this.inputWait.exit_highlight_id),this.timer.removeTimeOutAll("add_input_highlight_after_complete"),this.enableInputClue&&-1!=this.enableInputClue.keyHighlightIndexInDictionary&&(i=this.enableInputClue.inputClueHighlightIds[this.currentInput],this.removeImage(i)),this.inputWait=null,this.currentInput=-1,this.enableInputClue=null,this.goToNextStep()}else if(this.inputWait.deleteid==r){var e=this.getDictionary("",this.inputWait.deleteid);if(0<e.length&&(this.addImage(e[0],0,0,0,0,0,1,1,1,r),this.removeImageOnTimerIds.push(e[0]),this.timer.addTimeOut(.15,"remove_image_timer")),-1!=this.currentInput){let e=this.getInput(this.inputWait.inputids[this.currentInput]);0<e.dynamicKey.length?(this.getTextureWithId(e.dynamicKey).dictionaryKey="",this.removeImage(e.dynamicKey),e.dynamicInput="",e.dynamicKey="",--this.currentInput):0<this.currentInput&&(--this.currentInput,0<(e=this.getInput(this.inputWait.inputids[this.currentInput])).dynamicKey.length&&(this.getTextureWithId(e.dynamicKey).dictionaryKey="",this.removeImage(e.dynamicKey)),e.dynamicInput="",e.dynamicKey="")}}else{t=this.getInput(this.inputWait.inputids[this.currentInput]);t&&0<(i=this.getDictionary("",r)).length&&(t.dynamicInput=r,0<=t.keyHighlightIndexInDictionary&&(this.addImage(i[t.keyHighlightIndexInDictionary],0,0,0,0,0,1,1,1,r),this.removeImageOnTimerIds.push(i[t.keyHighlightIndexInDictionary]),this.timer.addTimeOut(.15,"remove_image_timer")),0<t.dynamicKey.length&&((e=this.getTextureWithId(t.dynamicKey))&&(e.dictionaryKey=""),this.removeImage(t.dynamicKey),t.dynamicKey=""),t.indexInDictionary<i.length)&&(t.dynamicKey=i[t.indexInDictionary],this.removeImage(t.dynamicKey),e=this.getTextureWithId(t.dynamicKey),this.addImage(t.dynamicKey,t.position.x,t.position.y,t.position.z,t.xref,t.yref,t.scale.x,t.scale.y,t.scale.z,t.parentid),e.dictionaryKey=r)}else null!=this.line_draw_manual?r==this.line_draw_manual.details.brush&&(i=this.getTextureWithId(r),this.line_draw_manual_brush=i,this.line_draw_manual_brush_pointindex=this.line_draw_manual.line.getNearest(i.x,i.y),this.line_draw_manual.line.lastIndex=this.line_draw_manual_brush_pointindex.index):null!=this.line_paint_manual&&(r==this.line_paint_manual.details.brush?(t=this.getTextureWithId(r),this.line_paint_manual_brush=t,this.line_paint_manual_brush_pointindex=this.line_paint_manual.line.getNearest(t.x,t.y),this.line_paint_manual.line.lastIndex=this.line_paint_manual_brush_pointindex.index):(e=this.line_paint_manual.line.getNearestStartPoint(o.x,o.y))&&(i=this.getTextureWithId(this.line_paint_manual.details.brush),(this.line_paint_manual_brush=i).texture.position.x=e.x,i.texture.position.y=e.y,this.line_paint_manual_brush_pointindex=this.line_paint_manual.line.getNearest(e.x,e.y),this.line_paint_manual.line.wrongStartIndex=this.line_paint_manual_brush_pointindex,this.line_paint_manual.line.lastIndex=this.line_paint_manual_brush_pointindex.index))}}}};callback_saveData=(e,t)=>{this.json_save_data[e]=t};callback_getJSONPathArray1=e=>{e="$."+this.getSpecialVariableValue(e),e=w0.query(this.json_input_data,e);try{if(e&&e[0])return e[0]}catch(e){console.log(e)}return[]};callback_enableImages=e=>{this.enableImages(e)};callback_addResult=e=>{this.recentResultsCount=1,this.pushToResultsStored(e)};callback_getKeyboardKeys=()=>this.keyboardKeys;callback_clearKeyboardKeys=()=>{this.keyboardKeys=""};callback_clearResult=e=>{this.resultsStored=[]};callback_getResults=()=>this.resultsStored;callback_getRecentResultsCount=()=>this.recentResultsCount;callback_setLastGrabbed=e=>{this.lastGrabbed=e};callback_getLastGrabbed=e=>this.lastGrabbed;callback_addCorrectness=e=>{this.addCorrectNess(e)};callback_addWrongness=e=>{this.addWrongness(e)};callback_playaudio2=e=>{this.playAudioPath(e,this.playing_again)};callback_playaudio=(e,t)=>{this.playAudioPath(e,t)};callback_MoveNext=()=>{this.timer.removeTimeOutAll("nextstep"),this.goToNextStep()};callback_jumpToStep=e=>{e&&0<e.length&&(this.stepIndex=this.getStepIndexForInstanceId(e)),this.goToNextStep()};callback_addImage=(i,a,n,s,r,o)=>{if(0<i.length){var i=this.getTextureWithId(i),l=i.texture.position;l.x=a,l.y=n,l.z=s;let e=0,t=0;0<r.length&&(a=this.getTextureWithId(r),l.x+=a.texture.position.x,l.y+=a.texture.position.y,l.z+=a.texture.position.z,e=a.xref,t=a.yref),i.texture.position.z=l.z,i.setNewPosition(e,l.x,t,l.y,this.size),this.scene.add(i.texture),this.enabledImages.push(i),0<o&&(this.interaction_overlay=i,this.interaction_overlayStartTime=this.time,this.interaction_overlayDuration=o)}};callback_removeImage=e=>{this.removeImage(e)};callback_getTextureWithId=e=>this.getTextureWithId(e);callback_getEnabledWithId=e=>this.getEnabledWithId(e);callback_getContainerWithId=e=>this.getContainerWithId(e);callback_getModelWithId=e=>this.getModelWithId(e);callback_playAudio=(e,t)=>{this.playAudioPath(e,t)};callback_stopAudioIfStoppable=()=>{this.stopAudioIfStoppable()};callback_getPainter=i=>{for(let t=0;t<this.paintCanvases.length;++t)for(let e=0;e<this.paintCanvases[t].painters.length;++e){var a=this.paintCanvases[t].painters[e];if(a.painterid===i)return a}return null};callback_addPainter=e=>{this.painters.push(e)};callback_removePainter=t=>{for(let e=0;e<this.painters.length;++e){var i=this.painters[e];if(i.uuid===t.uuid){this.painters.splice(e,1),i.dispose();break}}};callback_getPainters=()=>this.painters;callback_removeAllPainters=t=>{for(let e=0;e<this.painters.length;++e){var i=this.painters[e];i.instance_id===t&&(this.painters.splice(0,1),i.dispose(),--e)}};callback_getSpecialVariableValue=(e,t=!1)=>this.getSpecialVariableValue(e,t);removeAllPainters=()=>{for(;0<this.painters.length;){var e=this.painters[0];this.painters.splice(0,1),e.dispose()}};isAnyAudioPlaying=()=>{for(let e=0;e<this.audioPlayers.length;++e)if(this.audioPlayers[e].isAudioPlaying())return!0;return!1};stopAudioIfStoppable=()=>{let t=!1;for(let e=0;e<this.audioPlayers.length;++e){var i=this.audioPlayers[e];i.isAudioPlaying()&&i.stoppable&&(this.audioPlayers.splice(e,1),i.dispose(),--e,t=!0)}return t};cleaupAudioEnded=()=>{for(let e=0;e<this.audioPlayers.length;++e)if(0==this.audioPlayers[e].isAudioPlaying()){var t=this.audioPlayers[e];this.audioPlayers.splice(e,1),t.dispose();break}};onDocumentMouseMove=(a,n,s)=>{if(this.timeSinceLastInteraction=this.time,this.mouseDown&&this.pointerId===a.pointerId){let e=a.offsetX,t=a.offsetY;n&&(n=R.getCanvasPointOfThreeJS(n,this.camera,this.renderer.domElement.clientWidth,this.renderer.domElement.clientHeight),e=n.x-s.x/2+a.offsetX,t=n.y-s.y/2+a.offsetY),this.mouse.x=e/this.renderer.domElement.clientWidth*2-1,this.mouse.y=2*-(t/this.renderer.domElement.clientHeight)+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r,n=this.raycaster.intersectObjects(this.scene.children,!0);let i=null;if(n&&0<n.length&&(i=n[0].point,this.mouse_end.x=i.x,this.mouse_end.y=i.y,this.actionableOnMouseMove(i)),this.mouseMoved=!0,"dragDropSteps"===this.activeScript)Jm.onMouseMove(this,this.stepDetails,i,this.size);else if("dragDropV2Steps"===this.activeScript)Km.onMouseMove(this,this.stepDetails,i,this.size);else if("swapOnDragSteps"===this.activeScript)sf.onMouseMove(this,this.stepDetails,i,this.size);else if(null!=this.currentDrag)this.stopAudioIfStoppable(),i&&(s=this.currentDrag.image.xref,a=this.currentDrag.image.yref,n=i.x-this.dragDisplacement.x,r=i.y-this.dragDisplacement.y,this.currentDrag.image.setNewPosition(s,n,a,r,this.size),this.setPositionForFollowers(this.currentDrag.followers_images,n,r,s,a));else if(null!=this.line_draw_manual_brush){if(i){var o=this.line_draw_manual_brush.xref,l=this.line_draw_manual_brush.yref,c=new Je(this.previousX,this.previousY,0),d=new Je(i.x,i.y,0),p=c.distanceTo(d);for(let e=1;e<=p;e+=1){var u=e/p,h=new Je,u=(h.lerpVectors(c,d,u),h.x),h=h.y,u=this.line_draw_manual.line.getNearest(u,h,!0);if(this.line_draw_manual.line.lastIndex=u.index,.99<u.index/u.max_index){h=this.line_draw_manual.line.getLastPoint();this.line_draw_manual_brush.setNewPosition(o,h.x,l,h.y,this.size),this.line_draw_manual.line.drawTillIndex(u.max_index),this.line_draw_manual=null,this.line_draw_manual_brush=null,this.goToNextStep();break}this.audio_on_inactivity&&(this.audio_on_inactivity_start=this.time),this.line_draw_manual_brush.setNewPosition(o,u.pos.x,l,u.pos.y,this.size),this.line_draw_manual.line.drawTillIndex(u.index)}}}else null!=this.line_paint_manual_brush&&i&&(n=this.line_paint_manual_brush.xref,r=this.line_paint_manual_brush.yref,s=i.x,a=i.y,s=this.line_paint_manual.line.getNearest(s,a,!0),this.line_paint_manual.line.lastIndex=s.index,.95<s.index/s.max_index?(a=this.line_paint_manual.line.getLastPoint(),this.line_paint_manual_brush.setNewPosition(n,a.x,r,a.y,this.size),this.line_paint_manual.line.wrongStartIndex?this.resetPaintBrushAndJump():(this.line_paint_manual.painter.drawTill(this.line_paint_manual.line,1),this.stepIndex=this.line_paint_manual.details.jumpToStepOnRight-1,this.addCorrectNess(this.line_paint_manual.details.step_num),this.line_paint_manual=null,this.line_paint_manual_brush=null,this.loadStep(this.stepIndex))):(this.line_paint_manual_brush.setNewPosition(n,s.pos.x,r,s.pos.y,this.size),a=s.index/s.max_index,this.line_paint_manual.painter.drawTill(this.line_paint_manual.line,a),this.setBrushRotation(a)),this.previousX=i.x,this.previousY=i.y)}};onDocumentMouseOut=e=>{let t=!1;t=!(0<e.offsetX&&e.offsetX<this.size.width),(t=!(0<e.offsetY&&e.offsetY<this.size.height))&&this.onDocumentMouseUp(e)};onDocumentMouseUp=t=>{if(console.error("-------- onDocumentMouseUp ------------: "),this.timeSinceLastInteraction=this.time,this.mouseDown&&this.pointerId===t.pointerId&&0!==this.pointerId){let e=!1;if(e=this.mouse_end.distanceTo(this.mouse_start)<3?!0:e){this.raycaster.setFromCamera(this.mouse,this.camera);t=this.raycaster.intersectObjects(this.scene.children,!0);if(0<t.length&&0<this.imageAudios.length){var i=R.getMovable(this,t[0].object.name).id;for(let e=0;e<this.imageAudios.length;++e)i!==this.imageAudios[e].image_id||this.isAnyAudioPlaying()||this.playAudioPath(this.imageAudios[e].audio_path,this.playing_again)}}this.onDocumentMouseUpNext()}};onDocumentMouseUpNext=()=>{let a=!1;if(this.mouse_end.distanceTo(this.mouse_start)<3&&(a=!0),this.pointerId=0,this.mouseMoved=!1,this.actionableOnMouseUp(),"dragDropSteps"===this.activeScript)Jm.onMouseUp(this,this.stepDetails,this.size);else if("dragDropV2Steps"===this.activeScript)Km.onMouseUp(this,this.stepDetails,this.size);else if("swapOnDragSteps"===this.activeScript)sf.onMouseUp(this,this.stepDetails,this.size);else if(null!=this.currentDrag){var n,s,r,o=this.currentDrag.positions,l=new Je(0,0,this.currentDrag.image.texture.position.z);let t=!1;for(let e=0;e<o.length;++e)if(l.x=o[e].x,l.y=o[e].y,l.distanceTo(this.currentDrag.image.texture.position)<this.currentDrag.grabDistance){let e=!1;for(let i=0;i<this.drags.length;++i)if(this.drags[i].image.texture.name!=this.currentDrag.image.texture.name){let t=!1;for(let e=0;e<this.drags[i].followers.length;++e)if(this.drags[i].followers[e].id===this.currentDrag.image.texture.name){t=!0;break}if(!t){var c=new Je(this.drags[i].image.texture.position.x,this.drags[i].image.texture.position.y,l.z);if(l.distanceTo(c)<this.currentDrag.grabDistance){e=!0;break}}}if(!e||this.dragDetails.allowMultipleAtSameDestination){if(t=!0,this.currentDrag.replaceid&&0<this.currentDrag.replaceid.length&&this.currentDrag.image.texture.name!=this.currentDrag.replaceid&&(n=this.currentDrag.image.texture.position.z,this.currentDrag.image.texture.position.z=this.currentDrag.dest_pos_z,this.removeImage(this.currentDrag.id),this.addImage(this.currentDrag.replaceid,l.x,l.y,l.z,0,0,1,1,1,null),s=this.getTextureWithId(this.currentDrag.replaceid),this.currentDrag.image=s,r=A0(s.texture.position.z),this.currentDrag.dest_pos_z=r,s.texture.position.z=n),!a&&this.currentDrag.drop_audios)for(let e=0;e<this.currentDrag.drop_audios.length;++e)this.playAudioPath(this.currentDrag.drop_audios[e].audio_path,this.playing_again);if(this.recentResultsCount=1,this.pushToResultsStored(this.currentDrag.id),this.currentDrag.followers)for(let e=0;e<this.currentDrag.followers.length;++e)this.recentResultsCount+=1,this.pushToResultsStored(this.currentDrag.followers[e].id);this.currentDrag.image.setNewPosition(0,l.x,0,l.y,this.size),this.currentDrag.image.texture.position.z=this.currentDrag.dest_pos_z,this.positionsOccupiedMultiple+=1,this.setPositionForFollowers(this.currentDrag.followers_images,l.x,l.y,0,0),this.setZPositionForFollowers(this.currentDrag.followers_images,this.currentDrag.followers_dest_pos_z);break}}let i=0;var d=new Je(0,0,0);for(let e=0;e<o.length;++e){d.x=o[e].x,d.y=o[e].y;for(let e=0;e<this.drags.length;++e)if(d.z=this.drags[e].image.texture.position.z,d.distanceTo(this.drags[e].image.texture.position)<this.currentDrag.grabDistance){i+=1;break}}if(a&&this.currentDrag.touch_audios)for(let e=0;e<this.currentDrag.touch_audios.length;++e)this.playAudioPath(this.currentDrag.touch_audios[e].audio_path,this.playing_again);if(!t){if(!a){if(this.currentDrag.drop_fail_audios)for(let e=0;e<this.currentDrag.drop_fail_audios.length;++e)this.playAudioPath(this.currentDrag.drop_fail_audios[e].audio_path,this.playing_again);1===this.dragDetails.track_wrongness&&this.addWrongness(this.dragDetails.step_num)}var p=this.currentDrag.orig_position;this.currentDrag.image.setNewPosition(0,p.x,0,p.y,this.size),this.currentDrag.image.texture.position.z=this.currentDrag.dest_pos_z,console.log("bringing back to original position: ",this.currentDrag.image.texture.position),this.setPositionForFollowers(this.currentDrag.followers_images,p.x,p.y,0,0),this.setZPositionForFollowers(this.currentDrag.followers_images,this.currentDrag.followers_dest_pos_z)}if(!a)if("drop_exit"===this.dragDetails.type)t?this.setForNextStepNum(this.dragDetails.jumpToStepOnRight):(console.log(this.dragDetails.jumpToStepOnWrong),this.setForNextStepNum(this.dragDetails.jumpToStepOnWrong)),this.dragDetails=null,this.drags=[],this.goToNextStep();else if("drop_complete_and_wait_for_click_action"==this.dragDetails.type){var u,p=this.dragDetails.click_action;let e=this.dragDetails.minNumberOfDragsTobeFilled;0==e&&(e=this.dragDetails.drags.length),i!=e?this.removeImage(p.id):(u=this.getTextureWithId(p.id),0<p.parentid.length?this.addImage(p.id,p.position.x,p.position.y,p.position.z,p.xref,p.yref,p.scale.x,p.scale.y,p.scale.z,p.parentid):this.addImage(p.id,u.texture.position.x,u.texture.position.y,u.texture.position.z,u.xref,u.yref,u.texture.scale.x,u.texture.scale.y,u.texture.scale.z,null),this.dragDetails.repeatOnCompleteAudioClip&&0<this.dragDetails.repeatOnCompleteAudioClip.length&&(this.timeToDragCompletionAnnoucement=this.time+this.dragDetails.repeatOnCompleteInterval))}else"drop_and_wait_for_click_action"==this.dragDetails.type?(p=this.dragDetails.click_action,0==i?this.removeImage(p.id):(u=this.getTextureWithId(p.id),0<p.parentid.length?this.addImage(p.id,p.position.x,p.position.y,p.position.z,p.xref,p.yref,p.scale.x,p.scale.y,p.scale.z,p.parentid):this.addImage(p.id,u.texture.position.x,u.texture.position.y,u.texture.position.z,u.xref,u.yref,u.texture.scale.x,u.texture.scale.y,u.texture.scale.z,null))):"drop_complete_and_continue"==this.dragDetails.type?!a&&t&&(this.dragDetails=null,this.drags=[],this.goToNextStep()):"drop_complete_destination_and_continue"==this.dragDetails.type&&(this.positionsOccupiedMultiple==this.dragDetails.drags.length?(this.dragDetails=null,this.drags=[],this.positionsOccupiedMultiple=0,this.goToNextStep()):i==this.dragDetails.drags.length&&0==this.dragDetails.allowMultipleAtSameDestination&&(this.dragDetails=null,this.drags=[],this.goToNextStep()))}null!=this.line_draw_manual_brush&&(this.line_draw_manual.details.notCompletedAudio&&this.playAudioPath(this.line_draw_manual.details.notCompletedAudio,this.local_level_completed_status),1==this.line_draw_manual.details.resetWhenLiftedWithoutCompleting&&(p=this.line_draw_manual.line.getFirstPoint(),this.line_draw_manual_brush.setNewPosition(this.line_draw_manual_brush.xref,p.x,this.line_draw_manual_brush.yref,p.y,this.size),this.line_draw_manual.line.drawTillIndex(0),this.logs.logWrongAttempt(this.levelNum)),this.line_draw_manual_brush=null),null!=this.line_paint_manual_brush&&this.resetPaintBrushAndJump(),this.mouseDown=!1,this.currentDrag=null};onKeyDown=e=>{var t,e=e.key;console.log("charCode: ",e),1===e.length?(this.latest_key=e,this.keyboardKeysEnabled?(this.keyboardKeysEnabled=!1,this.goToNextStep()):0<this.activeTextInputDetails.length&&0<this.activeTextInputId.length&&(t=this.getTextInputBox(this.activeTextInputId))&&t.activeText&&(t.text+=e,a0.updateText(this,t))):0<this.activeTextInputDetails.length&&0<this.activeTextInputId.length&&(t=this.getTextInputBox(this.activeTextInputId))&&("Backspace"===e?(t.text=t.text.slice(0,-1),a0.updateText(this,t)):"Enter"===e&&(this.removeActionable(t),this.activeTextInputId="",this.goToNextStep()))};resetPaintBrushAndJump=()=>{this.line_paint_manual.line.wrongStartIndex=null,this.line_paint_manual.painter.drawTill(this.line_paint_manual.line,0),this.addWrongness(this.line_paint_manual.details.step_num),0<this.line_paint_manual.details.showClueAfterNTries&&this.wrongnessTrackerLocal.wrongResults>=this.line_paint_manual.details.showClueAfterNTries?this.stepIndex=this.line_paint_manual.details.jumpToStepOnClue-1:this.stepIndex=this.line_paint_manual.details.jumpToStepOnWrong-1,this.line_paint_manual=null,this.line_paint_manual_brush=null,this.loadStep(this.stepIndex)};setBrushRotation=e=>{var t,i;1==this.line_paint_manual.details.enable_lookatnext&&(t=this.line_paint_manual.details.rotation_displacement,i=this.line_paint_manual.line.getAtProgress(e=0==e?.01:e),e=this.line_paint_manual.line.getAtProgress(e+.02),e=new Je(e.x,e.y,0),e=this.get2DLookAt(e,i)+t.z,this.line_paint_manual_brush.setEulersInDegrees(0,0,e))};setPositionForFollowers=(t,i,a,n,s)=>{for(let e=0;e<t.length;++e)t[e].setNewPosition(n,i,s,a,this.size)};setZPositionForFollowers=(t,i)=>{for(let e=0;e<t.length;++e)t[e].texture.position.z=i[e]};updateSuper=e=>{this.timer.update();let t=0;for(;t<this.lerpingObjs.length;)this.lerpingObjs[t].doLerp(e),t+=1;for(t=0;t<this.blinkingObjs.length;)this.blinkingObjs[t].doBlinking(e),t+=1};pause=t=>{this.clock.getDelta(),this.timer.pause(t);for(let e=0;e<this.audioPlayers.length;++e)this.audioPlayers[e].pause(t);var e;this.backgroundSound&&(!1===t?1===(e=null==(e=localStorage.getItem(M.getUniqueKeyFor("background_music")))?1:parseInt(e))&&this.backgroundSound.play():this.backgroundSound.pause()),this.stopSpeechToTextStep(null),this.onDocumentMouseUpNext()};getAudioDurationForPath=t=>{for(let e=0;e<this.audioPaths.length;++e)if(this.audioPaths[e].path===t)return this.audioPaths[e].buffer?this.audioPaths[e].buffer.duration:0;return 0};playAudioPath=(i,a=!1,e=!1)=>{if(!e||!this.isAnyAudioPlaying()){this.currentAudioPath=i;for(let e=0;e<this.audioPlayers.length;++e)if(this.audioPlayers[e].soundfile==i)return;if(!(10<this.audioPlayers.length)){let t=!1;for(let e=0;e<this.audioPaths.length;++e)if(this.audioPaths[e].path===i){var n=new nh(this,this.listener,a);this.audioPlayers.push(n),n.play(i,this.audioPaths[e].buffer),t=!0,this.addToAudioRecording(this.audioPaths[e].buffer);break}t||console.error("Audio file is not loaded: ",i)}}};addToAudioRecording=e=>{this.audioRecordingChunks&&this.audioRecordingChunks.push({time:this.time-this.audioRecordingStartTime,buffer:e})};stopAudioIfPlaying=t=>{for(let e=0;e<this.audioPlayers.length;++e){var i=this.audioPlayers[e];if(i.soundfile===t){this.audioPlayers.splice(e,1),i.dispose();break}}};playBackgroundMusic=(t,e,i)=>{this.audioLoader.load(e,e=>{this.backgroundSound.isPlaying&&this.backgroundSound.stop(),this.backgroundSound.setBuffer(e),this.backgroundSound.setLoop(t),this.backgroundSound.setVolume(this.backgroundVolume);e=localStorage.getItem(M.getUniqueKeyFor("background_music"));console.log("val: ",e),1==(null==e?1:parseInt(e))&&this.backgroundSound.play()})};onTimeOut=e=>{switch(e){case"nextstep":case"nextstep_timer":this.goToNextStep();break;case"next_confetti":this.showConfetti();break;case"remove_image_timer":0<this.removeImageOnTimerIds.length&&(this.removeImage(this.removeImageOnTimerIds[0]),this.removeImageOnTimerIds.splice(0,1));break;case"add_input_highlight_after_complete":this.inputWait&&this.addImage(this.inputWait.exit_highlight_id,0,0,0,0,0,1,1,1,this.inputWait.exitid)}};makeConfettiCanvas0=()=>{};showConfetti=()=>{var i={origin:{y:.7}};this.myConfetti=T0.create(null,{resize:!0});let a=this.myConfetti;function e(e,t){a(Object.assign({},i,t,{particleCount:Math.floor(200*e)}))}e(.25,{spread:26,startVelocity:55}),e(.2,{spread:60}),e(.35,{spread:100,decay:.91,scalar:.8}),e(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),e(.1,{spread:120,startVelocity:45}),this.confettiTimeout=setTimeout(()=>{this.myConfetti&&(this.myConfetti.reset(),this.myConfetti=null)},4e3)};cancelConfetti=()=>{this.makeConfettiCanvas0(),this.myConfetti&&(this.myConfetti.reset(),this.myConfetti=null),this.confettiTimeout&&(clearTimeout(this.confettiTimeout),this.confettiTimeout=null)};pushToResultsStored=e=>{this.resultsStored.push(e),10<this.resultsStored.length&&this.resultsStored.splice(0,1)};onNewMessageFromApp=(e,t)=>{this.waitingForCustomEvent&&"voice_word_detected"===e&&(this.waitingForCustomEvent=!1,this.pushToResultsStored(t),this.timer.addTimeOut(0,"nextstep"))}};void 0!==document.hidden?(x0="hidden",S0="visibilitychange"):void 0!==document.msHidden?(x0="msHidden",S0="msvisibilitychange"):void 0!==document.webkitHidden&&(x0="webkitHidden",S0="webkitvisibilitychange");var pl=class{constructor(e,t){window.addEventListener("resize",()=>{this.width=window.innerWidth,this.height=window.innerHeight,this.level&&this.level.updateScale(this.width,this.height)});null==localStorage.getItem(M.getUniqueKeyFor("volume"))&&localStorage.setItem(M.getUniqueKeyFor("volume"),"1"),this.scenesData=t,this.scene=new Wn,this.container=e,this.width=window.innerWidth,this.height=window.innerHeight,this.renderer=new ip({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),this.sdk=new ap,localStorage.setItem(M.getUniqueKeyFor("background_music"),"1");var t=window.location.href,e=new URL(t),t=e.searchParams.get("level"),i=e.searchParams.get("letsplay");this.localStoragePresentLevel=localStorage.getItem(M.getUniqueKeyFor("present_level")),this.modeparam=e.searchParams.get("mode"),this.localtest=e.searchParams.get("localtest"),null!=this.localStoragePresentLevel&&(t=this.localStoragePresentLevel,i=!0),this.levelNum=t?parseInt(t):M.startLevel,i&&(M.showLetsPlay=!0),this.pause=!1,this.levelLoaded=!1,Df.clear(),1===parseInt(this.localtest)?window.addEventListener("message",e=>{this.levelLoaded||e.data.objs&&(this.levelLoaded=!0,e.data.settings)&&(console.log("event.data.settings: ",e.data.settings),e=e.data,this.level=new E0(this.width,this.height,M.frustumSize,parseInt(e.settings.level_num),e,this.scene,this.renderer,this,this.sdk,this.container),this.level.updateScale(this.width,this.height))}):(this.loadLevel(),this.level&&this.level.updateScale(this.width,this.height)),localStorage.removeItem(M.getUniqueKeyFor("presentStep")),localStorage.removeItem(M.getUniqueKeyFor("skipClicked")),document.addEventListener(S0,this.handleVisibilityChange,!1),window.addEventListener("focus",()=>{console.log("Window has gained focus")}),window.addEventListener("blur",()=>{console.log("Window has lost focus"),this.level&&this.level.stopSpeechToTextStep(null)}),this.nextFrameRequest=null;const a=()=>{!1===this.pause&&this.level&&this.level.update(),this.nextFrameRequest=requestAnimationFrame(a)};a()}dispose(){if(this.container)try{window.removeEventListener("message",this.onNewMessage,!1),this.nextFrameRequest&&(cancelAnimationFrame(this.nextFrameRequest),this.nextFrameRequest=null),this.level&&(this.level.dispose(),this.level=null),this.renderer&&(this.container.removeChild(this.renderer.domElement),this.renderer.dispose(),this.renderer=null),this.scenesData=null,this.container=null,this.scene&&(this.scene.traverse(e=>{if(e.isMesh)if(console.log("dispose geometry!"),e.geometry.dispose(),e.material.isMaterial)this.cleanMaterial(e.material);else for(const t of e.material)this.cleanMaterial(t)}),this.scene=null)}catch(e){console.log("Error in dispose of game")}}isSafari=()=>{var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("chromium")&&!e.includes("edg")};onNewMessage=e=>{e.data.settings};focusin=()=>{console.log("focusin"),this.pause=!1,this.level&&this.level.pause(!1)};focusout=()=>{console.log("focusout"),this.pause=!0,this.level&&this.level.pause(!0)};handleVisibilityChange=()=>{document[x0]&&!this.pause?this.focusout():this.pause&&this.focusin()};readSceneData=async e=>{e=await(await fetch(e)).text();console.log("text:",e)};loadLevel=()=>{Df.clear(),this.scenesData&&this.levelNum<this.scenesData.length&&(this.level=new E0(this.width,this.height,M.frustumSize,this.levelNum,this.scenesData[this.levelNum],this.scene,this.renderer,this,this.sdk,this.container))};playAgain=()=>{this.level.dispose(),this.loadLevel()};playNextLevel=()=>{localStorage.setItem(M.getUniqueKeyFor("previous_level_action_from"),(-1).toString()),this.level&&(this.level.dispose(),this.level=null);var e=this.levelNum;(e+=1)<this.scenesData.length&&(this.levelNum=e),this.loadLevel()};playLevel=e=>{localStorage.setItem(M.getUniqueKeyFor("previous_level_action_from"),(-1).toString()),this.level&&(this.level.dispose(),this.level=null),0<e&&e<this.scenesData.length&&(this.levelNum=e),this.loadLevel()};playLevelWithName=t=>{localStorage.setItem(M.getUniqueKeyFor("previous_level_action_from"),(-1).toString()),this.level&&(this.level.dispose(),this.level=null);for(let e=0;e<this.scenesData.length;++e)if(this.scenesData[e].settings.levelName===t){this.levelNum=this.scenesData[e].settings.level_num,this.loadLevel();break}};playPreviousLevel=()=>{this.level.dispose();var e=this.levelNum;0<=(e-=1)&&(this.levelNum=e),this.loadLevel()};playNextGame=()=>{this.sdk.saveDataOnExit()};onNewMessageFromApp=(e,t)=>{this.level&&this.level.onNewMessageFromApp(e,t)}},e=JSON.parse('{"settings":{"level_num":0,"gameplay_stepnum":20,"camera":"orthographic","wrongness_replay_mode":"replay_none","enableZPosition":1,"enableMediaPipe":false,"gameplay_ssid":"step_20","levelName":"Scene 0","orientation":"all","outputWidth":"640","outputHeight":480},"objs":[{"id":"bg_left_1","ssid":"0c2034d3-a4e6-44e3-a9a9-bab0624f1e59","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-852,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":-1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1},{"id":"bg_center_1","ssid":"92459500-e2fe-45e4-aaeb-bba5d7dab84d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1},{"id":"bg_right_1","ssid":"2006cf6b-2e74-40f7-9526-61ed849963e2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":852,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1},{"id":"child_0","ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","xref":0,"yref":0,"alpha":1},{"id":"child_1","ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","xref":0,"yref":0,"alpha":1},{"id":"child_2","ssid":"51f00350-241b-40e6-a4c7-faf806202560","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","xref":0,"yref":0,"alpha":1},{"id":"child_3","ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","xref":0,"yref":0,"alpha":1},{"id":"child_4","ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","xref":0,"yref":0,"alpha":1},{"id":"child_5","ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","xref":0,"yref":0,"alpha":1},{"id":"child_6","ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","xref":0,"yref":0,"alpha":1},{"id":"child_7","ssid":"617934f6-4de0-4312-b7c6-762552584c08","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","xref":0,"yref":0,"alpha":1},{"id":"child_8","ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","xref":0,"yref":0,"alpha":1},{"id":"child_9","ssid":"fb61a068-f77f-40af-afde-272bd484fb86","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","xref":0,"yref":0,"alpha":1},{"id":"child_0_1","ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","xref":0,"yref":0,"alpha":1},{"id":"child_1_1","ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","xref":0,"yref":0,"alpha":1},{"id":"child_2_1","ssid":"51f00350-241b-40e6-a4c7-faf806202560","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","xref":0,"yref":0,"alpha":1},{"id":"child_3_1","ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","xref":0,"yref":0,"alpha":1},{"id":"child_4_1","ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","xref":0,"yref":0,"alpha":1},{"id":"child_5_1","ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","xref":0,"yref":0,"alpha":1},{"id":"child_6_1","ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","xref":0,"yref":0,"alpha":1},{"id":"child_7_1","ssid":"617934f6-4de0-4312-b7c6-762552584c08","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","xref":0,"yref":0,"alpha":1},{"id":"child_8_1","ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","xref":0,"yref":0,"alpha":1},{"id":"child_9_1","ssid":"fb61a068-f77f-40af-afde-272bd484fb86","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_left","ssid":"a66bc555-a699-4e46-b4c6-daaf5df73d20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_center","ssid":"746a1dfe-7ff4-4d30-bfc5-833f8354c183","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_right","ssid":"c6cee987-b589-4bde-97c5-b8a8f83b5e92","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_left","ssid":"5645c9e2-55b0-470b-8ffa-07f637a97295","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_center","ssid":"749ca808-b3ec-4248-a060-2f582a6d7dc7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_right","ssid":"da17c8d2-f1af-4744-8106-ce86148a3f0e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_left","ssid":"db3bbe24-f7e5-4cd7-bcd3-8b5ab108005d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_center","ssid":"28f24e9b-56e4-4c8e-b4db-0b7b46c0ee2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_right","ssid":"632c0bc3-fe9d-46ce-96f6-c7becd551f05","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"black_colour","ssid":"6b5921ed-8093-48cc-be61-c447eaa50ec1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/black.png","xref":0,"yref":0,"alpha":1},{"id":"blue_colour","ssid":"3ad162a8-c974-40db-bac3-22f5dc6550c0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/blue.png","xref":0,"yref":0,"alpha":1},{"id":"brown_colour","ssid":"1487b308-a3b1-42ca-84df-4dd5f315dbb0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/brown.png","xref":0,"yref":0,"alpha":1},{"id":"green_colour","ssid":"b4d71fcc-2665-4c45-819d-438aca02c900","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/green.png","xref":0,"yref":0,"alpha":1},{"id":"grey_colour","ssid":"d0ab1e9c-3162-40b7-abe7-f12a24110467","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/grey.png","xref":0,"yref":0,"alpha":1},{"id":"orange_colour","ssid":"788e938a-4bbd-4baa-8ab2-1663031f3a56","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/orange.png","xref":0,"yref":0,"alpha":1},{"id":"pink_colour","ssid":"db9d4bdd-685b-40c4-af67-204f4b48fe34","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/pink.png","xref":0,"yref":0,"alpha":1},{"id":"purple_colour","ssid":"aa098e25-2096-46eb-95da-b1690e76e06d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/purple.png","xref":0,"yref":0,"alpha":1},{"id":"red_colour","ssid":"9b1bbf9d-b340-428c-9e30-2908a10d7ab6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/red.png","xref":0,"yref":0,"alpha":1},{"id":"yellow_colour","ssid":"a4c77c99-c324-47cd-bd5d-ca0be0747e5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/yellow.png","xref":0,"yref":0,"alpha":1},{"id":"book_image","ssid":"56a454af-1aea-438f-958d-aab65a009e53","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/book.png","xref":0,"yref":0,"alpha":1},{"id":"clock_image","ssid":"c5bd80c3-a769-445d-b3b6-fc3458dd38c4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/clock.png","xref":0,"yref":0,"alpha":1},{"id":"coffee_maker_image","ssid":"5657ebb1-a88d-4da7-a1ee-1e509abe3d79","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/coffe_maker.png","xref":0,"yref":0,"alpha":1},{"id":"cooker_image","ssid":"76a79b42-399d-429b-bb34-28fcc77f049a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/cooker.png","xref":0,"yref":0,"alpha":1},{"id":"cutlery_image","ssid":"3a3a52e4-4ef7-4934-9857-cef38bc110d3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/cutlery.png","xref":0,"yref":0,"alpha":1},{"id":"dishwasher_image","ssid":"d9e526ee-265d-44d5-bfc6-cc7ae247680f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/dish_washer.png","xref":0,"yref":0,"alpha":1},{"id":"fridge_image","ssid":"b9fb3a67-6595-4e2e-96a5-05b284f57975","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/fridge .png","xref":0,"yref":0,"alpha":1},{"id":"gas_cylinder_image","ssid":"e5655d74-cc87-497e-a96c-46a9a8558cf3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/gas_cylinder.png","xref":0,"yref":0,"alpha":1},{"id":"iron_box_image","ssid":"e54ccdbe-4921-4f96-b42f-87a8abc835ab","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/iron_box.png","xref":0,"yref":0,"alpha":1},{"id":"jug_image","ssid":"51830452-b3d2-4c3e-9054-22e1210b4e14","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/jug.png","xref":0,"yref":0,"alpha":1},{"id":"lamp_image","ssid":"30733376-0aaa-4001-aeb9-3824563142c7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/lamp.png","xref":0,"yref":0,"alpha":1},{"id":"mirror_image","ssid":"1595914c-4954-4c2c-ae56-d03bf99d9673","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/mirror.png","xref":0,"yref":0,"alpha":1},{"id":"mop_image","ssid":"e9a63fa6-539d-4e07-9673-d98ec3a6d6b3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/mop.png","xref":0,"yref":0,"alpha":1},{"id":"shower_image","ssid":"eefeb8d1-56f8-4ec7-85c5-9c0e1aafe17a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/shower.png","xref":0,"yref":0,"alpha":1},{"id":"sofa_image","ssid":"921a2fb9-c125-42b9-be06-cc809ae41253","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/sofa.png","xref":0,"yref":0,"alpha":1},{"id":"table_image","ssid":"b02335a3-eaff-49e9-9bab-645dc3a49929","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/table.png","xref":0,"yref":0,"alpha":1},{"id":"toaster_image","ssid":"e5962807-7bf0-4b8a-89f9-ec2edeab6f45","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/toaster.png","xref":0,"yref":0,"alpha":1},{"id":"towel_image","ssid":"87335885-406a-4924-bf4b-6ee8edcfd75f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/towel.png","xref":0,"yref":0,"alpha":1},{"id":"tv_image","ssid":"01f62f20-cc5f-41f8-a37a-e508462a2dc0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/tv.png","xref":0,"yref":0,"alpha":1},{"id":"vase_image","ssid":"9d798bc4-b51b-4563-aba8-76cb06e75037","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/vase_image.png","xref":0,"yref":0,"alpha":1},{"id":"bathroom","ssid":"484ea74a-3078-4208-a27c-a369bdf81f02","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/bathroom.png","xref":0,"yref":0,"alpha":1},{"id":"bedroom","ssid":"6720f552-76f6-47f7-9192-d1ef9aecd680","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/bedroom.png","xref":0,"yref":0,"alpha":1},{"id":"dining_room","ssid":"bb449b09-0c8d-4248-b530-f083f17dccc5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/dinig room.png","xref":0,"yref":0,"alpha":1},{"id":"kitchen","ssid":"bd0c1381-ab50-473f-9c05-12ed8fa93834","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/kitchen.png","xref":0,"yref":0,"alpha":1},{"id":"living_room","ssid":"7b032da6-f066-4621-88e7-4e587d2ee206","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/livin room.png","xref":0,"yref":0,"alpha":1},{"id":"aeroplane","ssid":"0c0faf2f-e3be-4190-b89a-be25e2c71f99","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/aeroplane.png","xref":0,"yref":0,"alpha":1},{"id":"anchor","ssid":"36d92e99-d8ec-4323-9708-b41a0f8c83d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Anchor.png","xref":0,"yref":0,"alpha":1},{"id":"backpack","ssid":"00da07de-33fd-4249-82fd-a5c21539d91e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Backpack.png","xref":0,"yref":0,"alpha":1},{"id":"bathtub","ssid":"12dc5841-de0d-4acf-889b-dcd00144f259","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/bathtub.png","xref":0,"yref":0,"alpha":1},{"id":"bed","ssid":"08a89cf1-7de0-46f2-8484-81b006d015f0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/bed.png","xref":0,"yref":0,"alpha":1},{"id":"belt","ssid":"6d8c6208-80e0-4942-b187-1cd91872d421","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","xref":0,"yref":0,"alpha":1},{"id":"candle","ssid":"8f0a2c90-69a6-4c55-9d68-003ff159d301","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/candle.png","xref":0,"yref":0,"alpha":1},{"id":"compass","ssid":"8803e4ed-c3b9-4500-a870-0bc07ac822b4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/compass.png","xref":0,"yref":0,"alpha":1},{"id":"cooker","ssid":"89cc7a47-a68f-40da-964b-f9b9e9be18ab","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/cooker.png","xref":0,"yref":0,"alpha":1},{"id":"crayons","ssid":"3599fc0e-af72-413a-b734-98053f9affc5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/crayons.png","xref":0,"yref":0,"alpha":1},{"id":"cycle","ssid":"5b16eb77-87b4-4730-b32c-491a58bdec59","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/cycle.png","xref":0,"yref":0,"alpha":1},{"id":"fork","ssid":"591e6fc9-5642-40b4-8e8a-057230ba1c03","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/fork_image.png","xref":0,"yref":0,"alpha":1},{"id":"gloves","ssid":"5c50b64a-8fdd-425f-9ea8-831b3f86cbb3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","xref":0,"yref":0,"alpha":1},{"id":"grinder","ssid":"79b8813d-6cb4-43e3-bb40-91f4d13d8941","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/grinder.png","xref":0,"yref":0,"alpha":1},{"id":"hammer","ssid":"6a803e0a-c23c-4d18-b41d-9038dcbc41a0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/hammer.png","xref":0,"yref":0,"alpha":1},{"id":"handkerchief","ssid":"0e3d5432-e229-4a84-8189-30cf43660efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/handkerchief.png","xref":0,"yref":0,"alpha":1},{"id":"kettle","ssid":"64c34fa8-e6ef-46b2-aafe-63eefb725e9c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","xref":0,"yref":0,"alpha":1},{"id":"keyboard","ssid":"e5d2737f-0f76-4920-abb3-1c18c4bac4ff","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Key board.png","xref":0,"yref":0,"alpha":1},{"id":"ladder","ssid":"22a2ae52-e185-42e1-8ace-f46056f2c551","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/ladder.png","xref":0,"yref":0,"alpha":1},{"id":"leaf","ssid":"7b4b06e4-b439-4fc2-a1c4-648c18395b3e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/leaf.png","xref":0,"yref":0,"alpha":1},{"id":"map","ssid":"5d928101-5228-4e71-8678-8594b980661b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/map.png","xref":0,"yref":0,"alpha":1},{"id":"microwave","ssid":"e911a74c-5d05-4acc-b56d-0c95e7637058","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Microwave .png","xref":0,"yref":0,"alpha":1},{"id":"mixer","ssid":"f07d08c7-c2cd-4f2e-b8f5-428cfaa5c7f2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/mixer.png","xref":0,"yref":0,"alpha":1},{"id":"monkey","ssid":"bbefb219-6923-4f14-8292-60c41de5d94d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/monkey.png","xref":0,"yref":0,"alpha":1},{"id":"mouse","ssid":"e5a849f0-ebe0-4ce3-a321-20a530b3efdc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/mouse.png","xref":0,"yref":0,"alpha":1},{"id":"orange","ssid":"a3b2305d-22f9-4623-bb29-75886442a8eb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","xref":0,"yref":0,"alpha":1},{"id":"pan","ssid":"69b38bda-0b40-4011-bddd-b297f5cfa2f2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pan.png","xref":0,"yref":0,"alpha":1},{"id":"pillow","ssid":"188596ee-0dfa-475f-b2bb-89cb35725487","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pillow.png","xref":0,"yref":0,"alpha":1},{"id":"pot","ssid":"6c416bf9-0870-4ca1-bac5-9a0dd935098e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pot.png","xref":0,"yref":0,"alpha":1},{"id":"quilt","ssid":"ff0451f7-6044-43e8-b226-d36efd9efa4d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/quilt_image.png","xref":0,"yref":0,"alpha":1},{"id":"radio","ssid":"0c829a19-b1c0-457f-b4fc-2df788ea06dc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/radio.png","xref":0,"yref":0,"alpha":1},{"id":"raincoat","ssid":"aa616c65-15ba-4cab-90a1-f878a224846c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/rain_coat.png","xref":0,"yref":0,"alpha":1},{"id":"scissor","ssid":"48bd0156-f12b-4d97-a1d8-f6f6665f1bc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Scissor.png","xref":0,"yref":0,"alpha":1},{"id":"sharpener","ssid":"2272d86b-c624-4c9a-b350-dfb72522e384","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/sharpner.png","xref":0,"yref":0,"alpha":1},{"id":"ship","ssid":"7f8a664b-827d-476d-8a7d-d2d09ed1c3d0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/ship.png","xref":0,"yref":0,"alpha":1},{"id":"sweater","ssid":"4206c3a7-5229-4ac0-a308-96b1a70bb1c5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/sweater.png","xref":0,"yref":0,"alpha":1},{"id":"tap","ssid":"5ba86346-b5bd-4b6a-8eb0-37dcb40f2720","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Tap.png","xref":0,"yref":0,"alpha":1},{"id":"telephone","ssid":"5653ee5b-69ec-4787-91a4-9c47e86da98e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/telephone.png","xref":0,"yref":0,"alpha":1},{"id":"thermo_meter","ssid":"b763a878-72a7-4329-9fdf-625ba636a6bb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/thermo meter.png","xref":0,"yref":0,"alpha":1},{"id":"towel","ssid":"a3b26841-befb-4444-a23b-3555f2f87191","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/towel.png","xref":0,"yref":0,"alpha":1},{"id":"truck","ssid":"4ccb387f-9026-4c4b-b295-d7890725ce64","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/truck.png","xref":0,"yref":0,"alpha":1},{"id":"washing_machine","ssid":"84cc7763-c3b6-4bb6-baa9-2869c8493f52","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/washing machine.png","xref":0,"yref":0,"alpha":1},{"id":"water_bottle","ssid":"caa416ca-8f46-443f-beaa-0a38ab6991e9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/water bottle.png","xref":0,"yref":0,"alpha":1},{"id":"whistle","ssid":"17c7630e-d22d-4870-9d82-ed58e7f6f32a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Whistle.png","xref":0,"yref":0,"alpha":1},{"id":"belt","ssid":"56c7b9e4-0fee-49cd-afb7-a2abefe8effc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","xref":0,"yref":0,"alpha":1},{"id":"blanket","ssid":"2f835838-8202-487a-817c-7b083a5eceb2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/blanket.png","xref":0,"yref":0,"alpha":1},{"id":"drum","ssid":"23f13687-6318-40e9-b2d7-bd78058ec4b3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/drum .png","xref":0,"yref":0,"alpha":1},{"id":"emergency_lamp","ssid":"9047485a-dbef-4d96-b750-87805755a3c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/emergency lamp.png","xref":0,"yref":0,"alpha":1},{"id":"fridge","ssid":"b72490a2-b594-477f-b62d-bdd052f89445","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/fridge .png","xref":0,"yref":0,"alpha":1},{"id":"gloves","ssid":"09228148-f7c1-415b-aaa9-a833aa1113d3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","xref":0,"yref":0,"alpha":1},{"id":"glue_stick","ssid":"d19580a1-bd06-42c5-9f89-8f3abd9e1292","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/glue stick.png","xref":0,"yref":0,"alpha":1},{"id":"hand_wash","ssid":"71480cdc-e354-4864-84e0-388ae271f8e6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/hand wash.png","xref":0,"yref":0,"alpha":1},{"id":"headphones","ssid":"e42539c8-cb05-492f-8fe0-38c38e5735fa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/headphones.png","xref":0,"yref":0,"alpha":1},{"id":"helicopter","ssid":"fe3b92b9-67ec-49a9-bc41-09a2ed35149d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/helicopter.png","xref":0,"yref":0,"alpha":1},{"id":"kettle","ssid":"5a64eead-c021-4294-8ef6-d5b1dbfd88d9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","xref":0,"yref":0,"alpha":1},{"id":"nail","ssid":"158379ba-4d53-4985-8bed-5deb5a22432e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/nail_image.png","xref":0,"yref":0,"alpha":1},{"id":"orange","ssid":"f1cedfff-1858-4ffa-8900-4b78e5bf60d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","xref":0,"yref":0,"alpha":1},{"id":"photo_frame","ssid":"a977162e-8c16-4661-b1d1-0fab6242159e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/photo frame.png","xref":0,"yref":0,"alpha":1},{"id":"screwdriver","ssid":"c2fbb54c-332f-4233-9fdd-905acc4976ef","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/screwdriver.png","xref":0,"yref":0,"alpha":1},{"id":"shampoo","ssid":"8e830e0b-a1e7-4523-a2b1-c281d9671613","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/shampoo.png","xref":0,"yref":0,"alpha":1},{"id":"violin","ssid":"bb7c75a6-a300-4924-b799-eb2a6654892d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/violin.png","xref":0,"yref":0,"alpha":1},{"id":"walkie_talkie","ssid":"201339cd-11a5-4ae9-8dcc-9f0c68d5da63","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/walkie talkie.png","xref":0,"yref":0,"alpha":1},{"id":"whale","ssid":"03d33272-e9fd-43a7-8010-0b6fbf7bec61","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/whale.png","xref":0,"yref":0,"alpha":1},{"id":"letter_a","ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_a.png","xref":0,"yref":0,"alpha":1},{"id":"letter_b","ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_b.png","xref":0,"yref":0,"alpha":1},{"id":"letter_c","ssid":"beb13a53-53d4-49cb-baad-206b4791138c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_c.png","xref":0,"yref":0,"alpha":1},{"id":"letter_g","ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_g.png","xref":0,"yref":0,"alpha":1},{"id":"letter_i","ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_i.png","xref":0,"yref":0,"alpha":1},{"id":"letter_m","ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_m.png","xref":0,"yref":0,"alpha":1},{"id":"letter_n","ssid":"450bd042-2862-4631-9a39-7713f676f38c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_n.png","xref":0,"yref":0,"alpha":1},{"id":"letter_o","ssid":"246e433f-7f21-495f-98c9-06d3d9035928","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_o.png","xref":0,"yref":0,"alpha":1},{"id":"letter_p","ssid":"22333689-7943-479e-9df2-9b34c07edf8a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_p.png","xref":0,"yref":0,"alpha":1},{"id":"letter_s","ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_s.png","xref":0,"yref":0,"alpha":1},{"id":"letter_t","ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_t.png","xref":0,"yref":0,"alpha":1},{"id":"letter_u","ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_u.png","xref":0,"yref":0,"alpha":1},{"id":"letter_a_1","ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_a.png","xref":0,"yref":0,"alpha":1},{"id":"letter_b_1","ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_b.png","xref":0,"yref":0,"alpha":1},{"id":"letter_c_1","ssid":"beb13a53-53d4-49cb-baad-206b4791138c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_c.png","xref":0,"yref":0,"alpha":1},{"id":"letter_g_1","ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_g.png","xref":0,"yref":0,"alpha":1},{"id":"letter_i_1","ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_i.png","xref":0,"yref":0,"alpha":1},{"id":"letter_m_1","ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_m.png","xref":0,"yref":0,"alpha":1},{"id":"letter_n_1","ssid":"450bd042-2862-4631-9a39-7713f676f38c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_n.png","xref":0,"yref":0,"alpha":1},{"id":"letter_o_1","ssid":"246e433f-7f21-495f-98c9-06d3d9035928","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_o.png","xref":0,"yref":0,"alpha":1},{"id":"letter_p_1","ssid":"22333689-7943-479e-9df2-9b34c07edf8a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_p.png","xref":0,"yref":0,"alpha":1},{"id":"letter_s_1","ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_s.png","xref":0,"yref":0,"alpha":1},{"id":"letter_t_1","ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_t.png","xref":0,"yref":0,"alpha":1},{"id":"letter_u_1","ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_u.png","xref":0,"yref":0,"alpha":1},{"id":"2_apples","ssid":"6cb0bb54-1894-4373-a7a7-6f49b5c4bf54","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_apple.png","xref":0,"yref":0,"alpha":1},{"id":"8_apples","ssid":"205fb4c3-791e-4067-9a82-dde0298ed043","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_apple.png","xref":0,"yref":0,"alpha":1},{"id":"3_basket_balls","ssid":"762433ca-826d-406a-a7e0-ba52a7985522","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"9_basket_balls","ssid":"da5cf215-339d-4121-b3bd-55fb5d0ac665","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"2_bowling_ball","ssid":"fcb522e6-4f60-4f91-a05f-faf1c24c5827","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"4_bowling_ball","ssid":"a3d0b7e5-cc53-48ad-8de9-f69840a6b505","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"9_bowling_ball","ssid":"8347022f-39ed-47db-9d1a-73a885bb3d25","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"3_bowls","ssid":"55d352eb-9d4d-4d55-92d5-efd03a4c303c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"7_bowls","ssid":"7173ca33-86b5-4b07-877a-936f746fc038","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"9_bowls","ssid":"23a16a15-6aa7-4455-8c24-f3d7ac2ee60d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"4_broccoli","ssid":"86b5bb64-9a50-48b2-b18a-e06c060898db","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_broccoli.png","xref":0,"yref":0,"alpha":1},{"id":"7_broccoli","ssid":"56eda782-ce30-4c65-8bf3-c1e6052e7830","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_broccoli.png","xref":0,"yref":0,"alpha":1},{"id":"3_carrot","ssid":"be672fa1-3026-4559-876d-1dbb4d3e2478","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_carrot.png","xref":0,"yref":0,"alpha":1},{"id":"7_carrot","ssid":"dfbe4fd3-711a-47ea-aa4a-b24dfb4e03c9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_carrot.png","xref":0,"yref":0,"alpha":1},{"id":"1_clocks","ssid":"6a903b40-56ab-4320-8a56-5b3335ca0119","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_clock.png","xref":0,"yref":0,"alpha":1},{"id":"10_clocks","ssid":"56e0499b-589e-4098-ad4b-4fd62ae7aaff","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_clocks.png","xref":0,"yref":0,"alpha":1},{"id":"4_cricket_ball","ssid":"34e89f65-9228-4dd2-b671-21d1f1758580","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_Cricket ball.png","xref":0,"yref":0,"alpha":1},{"id":"6_cricket_balls","ssid":"a15e55cf-8837-4c3c-97fd-f98a74aeeae1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"9_cricket_ball","ssid":"dd434abd-d014-44e2-82b0-bf64cca5e379","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_Cricket ball.png","xref":0,"yref":0,"alpha":1},{"id":"10_cricket_balls","ssid":"bb7efa6d-0ec3-4ec1-ac39-861cc6b1595c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"1_dog","ssid":"9355362c-40c2-4186-9e6c-39bb00d7be3c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_dog.png","xref":0,"yref":0,"alpha":1},{"id":"4_dog","ssid":"16037e0c-8617-4a94-8602-face2b8e23b4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_dogs.png","xref":0,"yref":0,"alpha":1},{"id":"8_dog","ssid":"09f4d193-456b-4b0a-8434-0ebfb33e3361","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_dogs.png","xref":0,"yref":0,"alpha":1},{"id":"2_ice_cream","ssid":"186eb432-7e59-4ef0-a0da-4a314b95ddd6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"6_ice_cream","ssid":"fb482ea5-bfc8-41a2-bc79-e3505d2bccc9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"10_ice_cream","ssid":"dc2cc6e2-2bfa-4a78-a5d3-d75f4fc746bc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"1_kite","ssid":"5946e6e8-5539-49fb-a8d3-ec81e97e95f1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_kite.png","xref":0,"yref":0,"alpha":1},{"id":"6_kite","ssid":"0af194b0-1bec-4677-9e11-ec4a34536a15","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_kites.png","xref":0,"yref":0,"alpha":1},{"id":"1_locks","ssid":"bae52f65-9394-4bca-8221-2d9eb7596383","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_lock.png","xref":0,"yref":0,"alpha":1},{"id":"7_locks","ssid":"b01524a9-04be-4018-9bf0-69b529c6e316","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_locks.png","xref":0,"yref":0,"alpha":1},{"id":"10_locks","ssid":"725edfd1-1463-49f7-99b9-47b307c378d8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_locks.png","xref":0,"yref":0,"alpha":1},{"id":"1_mangoes","ssid":"940aef86-36ad-4bd4-9e31-f4b77eeeb837","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_mango.png","xref":0,"yref":0,"alpha":1},{"id":"5_mangoes","ssid":"d90b25e9-cacb-4074-8646-409da4f25e01","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/5_mangoes.png","xref":0,"yref":0,"alpha":1},{"id":"9_mangoes","ssid":"c25a7618-e909-4c0d-9962-27c5d100354e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_mangoes.png","xref":0,"yref":0,"alpha":1},{"id":"3_mug","ssid":"9bf755b2-3e47-4c29-b589-c9f09a40105e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_mugs.png","xref":0,"yref":0,"alpha":1},{"id":"8_mug","ssid":"d5a1c4ab-5c70-495e-b179-c21c4f89590d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_mugs.png","xref":0,"yref":0,"alpha":1},{"id":"4_pants","ssid":"4382539a-73e5-4c74-9b56-dba91689491f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","xref":0,"yref":0,"alpha":1},{"id":"7_pants","ssid":"b4467df5-9829-4016-90a9-ca4e6edf02e4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/7_pants.png","xref":0,"yref":0,"alpha":1},{"id":"4_peaches","ssid":"bf49d241-c3b3-431c-86a6-e115ad181c2b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"8_peaches","ssid":"56808963-71e1-4d6a-ab07-0ba13ea183e6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"3_piece_cake","ssid":"ffcf3e2f-fa3d-49ad-8dc6-e10910d601c5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"7_piece_cake","ssid":"250d663a-0a9c-4986-9d73-ec7b90ab7d92","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"10_piece_cake","ssid":"603580fa-077d-4ee2-b4f3-7b5ff5ca3f98","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"2_sunglass","ssid":"6543f850-d4ee-4975-820a-af91d016cb7e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"6_sunglass","ssid":"d47e5f29-6b44-443a-85bf-d4825b45b341","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"8_sunglass","ssid":"a07ecede-ff3d-4aa7-93f8-9fc588dde70f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"2_toy_horse","ssid":"32367666-846b-4deb-b77a-abbe824e61e3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/2_toy horse.png","xref":0,"yref":0,"alpha":1},{"id":"9_toy_horse","ssid":"9092d8a9-c5bf-4fc7-8b2a-999989c7a3fe","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/9_toy horse.png","xref":0,"yref":0,"alpha":1},{"id":"10_cricket_balls_1","ssid":"818c1b11-0f44-4428-a99e-1a282403543b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"3_basket_balls_1","ssid":"ee66c669-7b9c-4e2d-9382-1832a8d9cfe7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"4_pants_1","ssid":"23bf1956-f2b1-41bc-8aca-73210c3494b5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","xref":0,"yref":0,"alpha":1},{"id":"8_peaches_1","ssid":"4b345dca-7db4-41ef-a8db-49c6222ebc36","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"1_helmet","ssid":"b09ec8a0-c777-4df8-b8e8-bfe645b69a98","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/1_helmet.png","xref":0,"yref":0,"alpha":1},{"id":"1_bat","ssid":"4aab7d6d-90cd-4637-a1d0-91f49038b039","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/1_bat.png","xref":0,"yref":0,"alpha":1},{"id":"2_turnips","ssid":"f8ba7b0f-364f-4a19-9b8d-c2471a9a617c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/2_turnips.png","xref":0,"yref":0,"alpha":1},{"id":"2_bear","ssid":"05ef665d-e0b5-4fae-b247-336ebc86366d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/2_bears.png","xref":0,"yref":0,"alpha":1},{"id":"3_eagles","ssid":"4959081d-237d-4f8c-bf71-48faa1bbb783","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/3_eagles.png","xref":0,"yref":0,"alpha":1},{"id":"3_horse","ssid":"3a171c85-5abd-4b17-bbf9-0fb462823568","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/3_horses.png","xref":0,"yref":0,"alpha":1},{"id":"4_cows","ssid":"25c104af-4f38-416e-b5a1-afc6a8fc5823","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/4_cows.png","xref":0,"yref":0,"alpha":1},{"id":"4_lotus","ssid":"e3fb5d1f-38ce-4c12-a644-dea106b3e401","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/4_lotuses.png","xref":0,"yref":0,"alpha":1},{"id":"5_cars","ssid":"146275bb-7b44-46b1-b788-82ef9f8f5a5f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/5_cars.png","xref":0,"yref":0,"alpha":1},{"id":"5_rose","ssid":"33c55d96-c102-47e3-97e9-e4cd16e186d6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/5_roses.png","xref":0,"yref":0,"alpha":1},{"id":"6_cats","ssid":"644c5e93-a399-4200-8020-61a128586dfa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/6_cats.png","xref":0,"yref":0,"alpha":1},{"id":"6_lilies","ssid":"ec56f8d2-0654-428b-ba01-5cbc89f54ccd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/6_lilies.png","xref":0,"yref":0,"alpha":1},{"id":"7_hats","ssid":"c63e61e7-e6be-4854-9343-ebdf442993aa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/7_hats.png","xref":0,"yref":0,"alpha":1},{"id":"7_cycle_helmets","ssid":"202bb085-e339-4a99-9da6-5092cd137365","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/7_cycle helmets.png","xref":0,"yref":0,"alpha":1},{"id":"8_bags","ssid":"e1f7fbb5-e021-4c2d-bde7-7c75bd6fa2bd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bags.png","xref":0,"yref":0,"alpha":1},{"id":"8_banana","ssid":"9cf686bb-a5f9-473b-b0b1-faf0146bc16d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bananas.png","xref":0,"yref":0,"alpha":1},{"id":"9_watermelons","ssid":"815320a5-edf8-4c59-bc98-b1d98edc441e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/9_watermelons.png","xref":0,"yref":0,"alpha":1},{"id":"9_wheels","ssid":"01bc564e-226a-4c60-ae79-b69af0a416bc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/9_wheels.png","xref":0,"yref":0,"alpha":1},{"id":"10_shoes","ssid":"dce2c678-bcd0-4619-a0cf-d8613fab8c70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/10_shoes.png","xref":0,"yref":0,"alpha":1},{"id":"10_paint_brush","ssid":"4cb6b1fa-69ea-4e34-b50a-5957205af1b1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/10_paint brushes.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_1_1","ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_2_1","ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_3_1","ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_4_1","ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_5_1","ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_6_1","ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_7_1","ssid":"f83a6337-d1db-449b-8f0f-090448707a70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_8_1","ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_9_1","ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_0_1","ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","xref":0,"yref":0,"alpha":1},{"id":"ref_options_space_bar","ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_1","ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_2","ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_3","ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_4","ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_5","ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_6","ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_7","ssid":"f83a6337-d1db-449b-8f0f-090448707a70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_8","ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_9","ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_0","ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","xref":0,"yref":0,"alpha":1},{"id":"ref_options_space_bar","ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","xref":0,"yref":0,"alpha":1},{"id":"child_0","ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","xref":0,"yref":0,"alpha":1},{"id":"child_1","ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","xref":0,"yref":0,"alpha":1},{"id":"child_2","ssid":"51f00350-241b-40e6-a4c7-faf806202560","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","xref":0,"yref":0,"alpha":1},{"id":"child_3","ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","xref":0,"yref":0,"alpha":1},{"id":"child_4","ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","xref":0,"yref":0,"alpha":1},{"id":"child_5","ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","xref":0,"yref":0,"alpha":1},{"id":"child_6","ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","xref":0,"yref":0,"alpha":1},{"id":"child_7","ssid":"617934f6-4de0-4312-b7c6-762552584c08","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","xref":0,"yref":0,"alpha":1},{"id":"child_8","ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","xref":0,"yref":0,"alpha":1},{"id":"child_9","ssid":"fb61a068-f77f-40af-afde-272bd484fb86","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","xref":0,"yref":0,"alpha":1},{"id":"child_0_1","ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","xref":0,"yref":0,"alpha":1},{"id":"child_1_1","ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","xref":0,"yref":0,"alpha":1},{"id":"child_2_1","ssid":"51f00350-241b-40e6-a4c7-faf806202560","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","xref":0,"yref":0,"alpha":1},{"id":"child_3_1","ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","xref":0,"yref":0,"alpha":1},{"id":"child_4_1","ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","xref":0,"yref":0,"alpha":1},{"id":"child_5_1","ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","xref":0,"yref":0,"alpha":1},{"id":"child_6_1","ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","xref":0,"yref":0,"alpha":1},{"id":"child_7_1","ssid":"617934f6-4de0-4312-b7c6-762552584c08","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","xref":0,"yref":0,"alpha":1},{"id":"child_8_1","ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","xref":0,"yref":0,"alpha":1},{"id":"child_9_1","ssid":"fb61a068-f77f-40af-afde-272bd484fb86","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_left","ssid":"a66bc555-a699-4e46-b4c6-daaf5df73d20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_center","ssid":"746a1dfe-7ff4-4d30-bfc5-833f8354c183","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_oral_right","ssid":"c6cee987-b589-4bde-97c5-b8a8f83b5e92","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_left","ssid":"5645c9e2-55b0-470b-8ffa-07f637a97295","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_center","ssid":"749ca808-b3ec-4248-a060-2f582a6d7dc7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_type_right","ssid":"da17c8d2-f1af-4744-8106-ce86148a3f0e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_left","ssid":"db3bbe24-f7e5-4cd7-bcd3-8b5ab108005d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_center","ssid":"28f24e9b-56e4-4c8e-b4db-0b7b46c0ee2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"background_tap_right","ssid":"632c0bc3-fe9d-46ce-96f6-c7becd551f05","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","xref":0,"yref":0,"alpha":1},{"id":"black_colour","ssid":"6b5921ed-8093-48cc-be61-c447eaa50ec1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/black.png","xref":0,"yref":0,"alpha":1},{"id":"blue_colour","ssid":"3ad162a8-c974-40db-bac3-22f5dc6550c0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/blue.png","xref":0,"yref":0,"alpha":1},{"id":"brown_colour","ssid":"1487b308-a3b1-42ca-84df-4dd5f315dbb0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/brown.png","xref":0,"yref":0,"alpha":1},{"id":"green_colour","ssid":"b4d71fcc-2665-4c45-819d-438aca02c900","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/green.png","xref":0,"yref":0,"alpha":1},{"id":"grey_colour","ssid":"d0ab1e9c-3162-40b7-abe7-f12a24110467","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/grey.png","xref":0,"yref":0,"alpha":1},{"id":"orange_colour","ssid":"788e938a-4bbd-4baa-8ab2-1663031f3a56","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/orange.png","xref":0,"yref":0,"alpha":1},{"id":"pink_colour","ssid":"db9d4bdd-685b-40c4-af67-204f4b48fe34","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/pink.png","xref":0,"yref":0,"alpha":1},{"id":"purple_colour","ssid":"aa098e25-2096-46eb-95da-b1690e76e06d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/purple.png","xref":0,"yref":0,"alpha":1},{"id":"red_colour","ssid":"9b1bbf9d-b340-428c-9e30-2908a10d7ab6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/red.png","xref":0,"yref":0,"alpha":1},{"id":"yellow_colour","ssid":"a4c77c99-c324-47cd-bd5d-ca0be0747e5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Sensorial/Type 0/yellow.png","xref":0,"yref":0,"alpha":1},{"id":"book_image","ssid":"56a454af-1aea-438f-958d-aab65a009e53","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/book.png","xref":0,"yref":0,"alpha":1},{"id":"clock_image","ssid":"c5bd80c3-a769-445d-b3b6-fc3458dd38c4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/clock.png","xref":0,"yref":0,"alpha":1},{"id":"coffee_maker_image","ssid":"5657ebb1-a88d-4da7-a1ee-1e509abe3d79","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/coffe_maker.png","xref":0,"yref":0,"alpha":1},{"id":"cooker_image","ssid":"76a79b42-399d-429b-bb34-28fcc77f049a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/cooker.png","xref":0,"yref":0,"alpha":1},{"id":"cutlery_image","ssid":"3a3a52e4-4ef7-4934-9857-cef38bc110d3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/cutlery.png","xref":0,"yref":0,"alpha":1},{"id":"dishwasher_image","ssid":"d9e526ee-265d-44d5-bfc6-cc7ae247680f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/dish_washer.png","xref":0,"yref":0,"alpha":1},{"id":"fridge_image","ssid":"b9fb3a67-6595-4e2e-96a5-05b284f57975","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/fridge .png","xref":0,"yref":0,"alpha":1},{"id":"gas_cylinder_image","ssid":"e5655d74-cc87-497e-a96c-46a9a8558cf3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/gas_cylinder.png","xref":0,"yref":0,"alpha":1},{"id":"iron_box_image","ssid":"e54ccdbe-4921-4f96-b42f-87a8abc835ab","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/iron_box.png","xref":0,"yref":0,"alpha":1},{"id":"jug_image","ssid":"51830452-b3d2-4c3e-9054-22e1210b4e14","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/jug.png","xref":0,"yref":0,"alpha":1},{"id":"lamp_image","ssid":"30733376-0aaa-4001-aeb9-3824563142c7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/lamp.png","xref":0,"yref":0,"alpha":1},{"id":"mirror_image","ssid":"1595914c-4954-4c2c-ae56-d03bf99d9673","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/mirror.png","xref":0,"yref":0,"alpha":1},{"id":"mop_image","ssid":"e9a63fa6-539d-4e07-9673-d98ec3a6d6b3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/mop.png","xref":0,"yref":0,"alpha":1},{"id":"shower_image","ssid":"eefeb8d1-56f8-4ec7-85c5-9c0e1aafe17a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/shower.png","xref":0,"yref":0,"alpha":1},{"id":"sofa_image","ssid":"921a2fb9-c125-42b9-be06-cc809ae41253","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/sofa.png","xref":0,"yref":0,"alpha":1},{"id":"table_image","ssid":"b02335a3-eaff-49e9-9bab-645dc3a49929","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/table.png","xref":0,"yref":0,"alpha":1},{"id":"toaster_image","ssid":"e5962807-7bf0-4b8a-89f9-ec2edeab6f45","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/toaster.png","xref":0,"yref":0,"alpha":1},{"id":"towel_image","ssid":"87335885-406a-4924-bf4b-6ee8edcfd75f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/towel.png","xref":0,"yref":0,"alpha":1},{"id":"tv_image","ssid":"01f62f20-cc5f-41f8-a37a-e508462a2dc0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/tv.png","xref":0,"yref":0,"alpha":1},{"id":"vase_image","ssid":"9d798bc4-b51b-4563-aba8-76cb06e75037","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/vase_image.png","xref":0,"yref":0,"alpha":1},{"id":"bathroom","ssid":"484ea74a-3078-4208-a27c-a369bdf81f02","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/bathroom.png","xref":0,"yref":0,"alpha":1},{"id":"bedroom","ssid":"6720f552-76f6-47f7-9192-d1ef9aecd680","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/bedroom.png","xref":0,"yref":0,"alpha":1},{"id":"dining_room","ssid":"bb449b09-0c8d-4248-b530-f083f17dccc5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/dinig room.png","xref":0,"yref":0,"alpha":1},{"id":"kitchen","ssid":"bd0c1381-ab50-473f-9c05-12ed8fa93834","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/kitchen.png","xref":0,"yref":0,"alpha":1},{"id":"living_room","ssid":"7b032da6-f066-4621-88e7-4e587d2ee206","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/livin room.png","xref":0,"yref":0,"alpha":1},{"id":"aeroplane","ssid":"0c0faf2f-e3be-4190-b89a-be25e2c71f99","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/aeroplane.png","xref":0,"yref":0,"alpha":1},{"id":"anchor","ssid":"36d92e99-d8ec-4323-9708-b41a0f8c83d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Anchor.png","xref":0,"yref":0,"alpha":1},{"id":"backpack","ssid":"00da07de-33fd-4249-82fd-a5c21539d91e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Backpack.png","xref":0,"yref":0,"alpha":1},{"id":"bathtub","ssid":"12dc5841-de0d-4acf-889b-dcd00144f259","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/bathtub.png","xref":0,"yref":0,"alpha":1},{"id":"bed","ssid":"08a89cf1-7de0-46f2-8484-81b006d015f0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/bed.png","xref":0,"yref":0,"alpha":1},{"id":"belt","ssid":"6d8c6208-80e0-4942-b187-1cd91872d421","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","xref":0,"yref":0,"alpha":1},{"id":"candle","ssid":"8f0a2c90-69a6-4c55-9d68-003ff159d301","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/candle.png","xref":0,"yref":0,"alpha":1},{"id":"compass","ssid":"8803e4ed-c3b9-4500-a870-0bc07ac822b4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/compass.png","xref":0,"yref":0,"alpha":1},{"id":"cooker","ssid":"89cc7a47-a68f-40da-964b-f9b9e9be18ab","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/cooker.png","xref":0,"yref":0,"alpha":1},{"id":"crayons","ssid":"3599fc0e-af72-413a-b734-98053f9affc5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/crayons.png","xref":0,"yref":0,"alpha":1},{"id":"cycle","ssid":"5b16eb77-87b4-4730-b32c-491a58bdec59","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/cycle.png","xref":0,"yref":0,"alpha":1},{"id":"fork","ssid":"591e6fc9-5642-40b4-8e8a-057230ba1c03","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/fork_image.png","xref":0,"yref":0,"alpha":1},{"id":"gloves","ssid":"5c50b64a-8fdd-425f-9ea8-831b3f86cbb3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","xref":0,"yref":0,"alpha":1},{"id":"grinder","ssid":"79b8813d-6cb4-43e3-bb40-91f4d13d8941","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/grinder.png","xref":0,"yref":0,"alpha":1},{"id":"hammer","ssid":"6a803e0a-c23c-4d18-b41d-9038dcbc41a0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/hammer.png","xref":0,"yref":0,"alpha":1},{"id":"handkerchief","ssid":"0e3d5432-e229-4a84-8189-30cf43660efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/handkerchief.png","xref":0,"yref":0,"alpha":1},{"id":"kettle","ssid":"64c34fa8-e6ef-46b2-aafe-63eefb725e9c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","xref":0,"yref":0,"alpha":1},{"id":"keyboard","ssid":"e5d2737f-0f76-4920-abb3-1c18c4bac4ff","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Key board.png","xref":0,"yref":0,"alpha":1},{"id":"ladder","ssid":"22a2ae52-e185-42e1-8ace-f46056f2c551","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/ladder.png","xref":0,"yref":0,"alpha":1},{"id":"leaf","ssid":"7b4b06e4-b439-4fc2-a1c4-648c18395b3e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/leaf.png","xref":0,"yref":0,"alpha":1},{"id":"map","ssid":"5d928101-5228-4e71-8678-8594b980661b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/map.png","xref":0,"yref":0,"alpha":1},{"id":"microwave","ssid":"e911a74c-5d05-4acc-b56d-0c95e7637058","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Microwave .png","xref":0,"yref":0,"alpha":1},{"id":"mixer","ssid":"f07d08c7-c2cd-4f2e-b8f5-428cfaa5c7f2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/mixer.png","xref":0,"yref":0,"alpha":1},{"id":"monkey","ssid":"bbefb219-6923-4f14-8292-60c41de5d94d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/monkey.png","xref":0,"yref":0,"alpha":1},{"id":"mouse","ssid":"e5a849f0-ebe0-4ce3-a321-20a530b3efdc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/mouse.png","xref":0,"yref":0,"alpha":1},{"id":"orange","ssid":"a3b2305d-22f9-4623-bb29-75886442a8eb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","xref":0,"yref":0,"alpha":1},{"id":"pan","ssid":"69b38bda-0b40-4011-bddd-b297f5cfa2f2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pan.png","xref":0,"yref":0,"alpha":1},{"id":"pillow","ssid":"188596ee-0dfa-475f-b2bb-89cb35725487","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pillow.png","xref":0,"yref":0,"alpha":1},{"id":"pot","ssid":"6c416bf9-0870-4ca1-bac5-9a0dd935098e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/pot.png","xref":0,"yref":0,"alpha":1},{"id":"quilt","ssid":"ff0451f7-6044-43e8-b226-d36efd9efa4d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/quilt_image.png","xref":0,"yref":0,"alpha":1},{"id":"radio","ssid":"0c829a19-b1c0-457f-b4fc-2df788ea06dc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/radio.png","xref":0,"yref":0,"alpha":1},{"id":"raincoat","ssid":"aa616c65-15ba-4cab-90a1-f878a224846c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/rain_coat.png","xref":0,"yref":0,"alpha":1},{"id":"scissor","ssid":"48bd0156-f12b-4d97-a1d8-f6f6665f1bc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Scissor.png","xref":0,"yref":0,"alpha":1},{"id":"sharpener","ssid":"2272d86b-c624-4c9a-b350-dfb72522e384","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/sharpner.png","xref":0,"yref":0,"alpha":1},{"id":"ship","ssid":"7f8a664b-827d-476d-8a7d-d2d09ed1c3d0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/ship.png","xref":0,"yref":0,"alpha":1},{"id":"sweater","ssid":"4206c3a7-5229-4ac0-a308-96b1a70bb1c5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/sweater.png","xref":0,"yref":0,"alpha":1},{"id":"tap","ssid":"5ba86346-b5bd-4b6a-8eb0-37dcb40f2720","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Tap.png","xref":0,"yref":0,"alpha":1},{"id":"telephone","ssid":"5653ee5b-69ec-4787-91a4-9c47e86da98e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/telephone.png","xref":0,"yref":0,"alpha":1},{"id":"thermo_meter","ssid":"b763a878-72a7-4329-9fdf-625ba636a6bb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/thermo meter.png","xref":0,"yref":0,"alpha":1},{"id":"towel","ssid":"a3b26841-befb-4444-a23b-3555f2f87191","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/towel.png","xref":0,"yref":0,"alpha":1},{"id":"truck","ssid":"4ccb387f-9026-4c4b-b295-d7890725ce64","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/truck.png","xref":0,"yref":0,"alpha":1},{"id":"washing_machine","ssid":"84cc7763-c3b6-4bb6-baa9-2869c8493f52","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/washing machine.png","xref":0,"yref":0,"alpha":1},{"id":"water_bottle","ssid":"caa416ca-8f46-443f-beaa-0a38ab6991e9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/water bottle.png","xref":0,"yref":0,"alpha":1},{"id":"whistle","ssid":"17c7630e-d22d-4870-9d82-ed58e7f6f32a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/Whistle.png","xref":0,"yref":0,"alpha":1},{"id":"belt","ssid":"56c7b9e4-0fee-49cd-afb7-a2abefe8effc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","xref":0,"yref":0,"alpha":1},{"id":"blanket","ssid":"2f835838-8202-487a-817c-7b083a5eceb2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/blanket.png","xref":0,"yref":0,"alpha":1},{"id":"drum","ssid":"23f13687-6318-40e9-b2d7-bd78058ec4b3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/drum .png","xref":0,"yref":0,"alpha":1},{"id":"emergency_lamp","ssid":"9047485a-dbef-4d96-b750-87805755a3c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/emergency lamp.png","xref":0,"yref":0,"alpha":1},{"id":"fridge","ssid":"b72490a2-b594-477f-b62d-bdd052f89445","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/fridge .png","xref":0,"yref":0,"alpha":1},{"id":"gloves","ssid":"09228148-f7c1-415b-aaa9-a833aa1113d3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","xref":0,"yref":0,"alpha":1},{"id":"glue_stick","ssid":"d19580a1-bd06-42c5-9f89-8f3abd9e1292","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/glue stick.png","xref":0,"yref":0,"alpha":1},{"id":"hand_wash","ssid":"71480cdc-e354-4864-84e0-388ae271f8e6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/hand wash.png","xref":0,"yref":0,"alpha":1},{"id":"headphones","ssid":"e42539c8-cb05-492f-8fe0-38c38e5735fa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/headphones.png","xref":0,"yref":0,"alpha":1},{"id":"helicopter","ssid":"fe3b92b9-67ec-49a9-bc41-09a2ed35149d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/helicopter.png","xref":0,"yref":0,"alpha":1},{"id":"kettle","ssid":"5a64eead-c021-4294-8ef6-d5b1dbfd88d9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","xref":0,"yref":0,"alpha":1},{"id":"nail","ssid":"158379ba-4d53-4985-8bed-5deb5a22432e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/nail_image.png","xref":0,"yref":0,"alpha":1},{"id":"orange","ssid":"f1cedfff-1858-4ffa-8900-4b78e5bf60d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","xref":0,"yref":0,"alpha":1},{"id":"photo_frame","ssid":"a977162e-8c16-4661-b1d1-0fab6242159e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/photo frame.png","xref":0,"yref":0,"alpha":1},{"id":"screwdriver","ssid":"c2fbb54c-332f-4233-9fdd-905acc4976ef","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/screwdriver.png","xref":0,"yref":0,"alpha":1},{"id":"shampoo","ssid":"8e830e0b-a1e7-4523-a2b1-c281d9671613","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/shampoo.png","xref":0,"yref":0,"alpha":1},{"id":"violin","ssid":"bb7c75a6-a300-4924-b799-eb2a6654892d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/violin.png","xref":0,"yref":0,"alpha":1},{"id":"walkie_talkie","ssid":"201339cd-11a5-4ae9-8dcc-9f0c68d5da63","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/walkie talkie.png","xref":0,"yref":0,"alpha":1},{"id":"whale","ssid":"03d33272-e9fd-43a7-8010-0b6fbf7bec61","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 1/whale.png","xref":0,"yref":0,"alpha":1},{"id":"letter_a","ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_a.png","xref":0,"yref":0,"alpha":1},{"id":"letter_b","ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_b.png","xref":0,"yref":0,"alpha":1},{"id":"letter_c","ssid":"beb13a53-53d4-49cb-baad-206b4791138c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_c.png","xref":0,"yref":0,"alpha":1},{"id":"letter_g","ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_g.png","xref":0,"yref":0,"alpha":1},{"id":"letter_i","ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_i.png","xref":0,"yref":0,"alpha":1},{"id":"letter_m","ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_m.png","xref":0,"yref":0,"alpha":1},{"id":"letter_n","ssid":"450bd042-2862-4631-9a39-7713f676f38c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_n.png","xref":0,"yref":0,"alpha":1},{"id":"letter_o","ssid":"246e433f-7f21-495f-98c9-06d3d9035928","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_o.png","xref":0,"yref":0,"alpha":1},{"id":"letter_p","ssid":"22333689-7943-479e-9df2-9b34c07edf8a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_p.png","xref":0,"yref":0,"alpha":1},{"id":"letter_s","ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_s.png","xref":0,"yref":0,"alpha":1},{"id":"letter_t","ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_t.png","xref":0,"yref":0,"alpha":1},{"id":"letter_u","ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_u.png","xref":0,"yref":0,"alpha":1},{"id":"letter_a_1","ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_a.png","xref":0,"yref":0,"alpha":1},{"id":"letter_b_1","ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_b.png","xref":0,"yref":0,"alpha":1},{"id":"letter_c_1","ssid":"beb13a53-53d4-49cb-baad-206b4791138c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_c.png","xref":0,"yref":0,"alpha":1},{"id":"letter_g_1","ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_g.png","xref":0,"yref":0,"alpha":1},{"id":"letter_i_1","ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_i.png","xref":0,"yref":0,"alpha":1},{"id":"letter_m_1","ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_m.png","xref":0,"yref":0,"alpha":1},{"id":"letter_n_1","ssid":"450bd042-2862-4631-9a39-7713f676f38c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_n.png","xref":0,"yref":0,"alpha":1},{"id":"letter_o_1","ssid":"246e433f-7f21-495f-98c9-06d3d9035928","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_o.png","xref":0,"yref":0,"alpha":1},{"id":"letter_p_1","ssid":"22333689-7943-479e-9df2-9b34c07edf8a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_p.png","xref":0,"yref":0,"alpha":1},{"id":"letter_s_1","ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_s.png","xref":0,"yref":0,"alpha":1},{"id":"letter_t_1","ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_t.png","xref":0,"yref":0,"alpha":1},{"id":"letter_u_1","ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/Letter_u.png","xref":0,"yref":0,"alpha":1},{"id":"2_apples","ssid":"6cb0bb54-1894-4373-a7a7-6f49b5c4bf54","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_apple.png","xref":0,"yref":0,"alpha":1},{"id":"8_apples","ssid":"205fb4c3-791e-4067-9a82-dde0298ed043","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_apple.png","xref":0,"yref":0,"alpha":1},{"id":"3_basket_balls","ssid":"762433ca-826d-406a-a7e0-ba52a7985522","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"9_basket_balls","ssid":"da5cf215-339d-4121-b3bd-55fb5d0ac665","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"2_bowling_ball","ssid":"fcb522e6-4f60-4f91-a05f-faf1c24c5827","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"4_bowling_ball","ssid":"a3d0b7e5-cc53-48ad-8de9-f69840a6b505","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"9_bowling_ball","ssid":"8347022f-39ed-47db-9d1a-73a885bb3d25","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowling balls.png","xref":0,"yref":0,"alpha":1},{"id":"3_bowls","ssid":"55d352eb-9d4d-4d55-92d5-efd03a4c303c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"7_bowls","ssid":"7173ca33-86b5-4b07-877a-936f746fc038","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"9_bowls","ssid":"23a16a15-6aa7-4455-8c24-f3d7ac2ee60d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowls.png","xref":0,"yref":0,"alpha":1},{"id":"4_broccoli","ssid":"86b5bb64-9a50-48b2-b18a-e06c060898db","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_broccoli.png","xref":0,"yref":0,"alpha":1},{"id":"7_broccoli","ssid":"56eda782-ce30-4c65-8bf3-c1e6052e7830","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_broccoli.png","xref":0,"yref":0,"alpha":1},{"id":"3_carrot","ssid":"be672fa1-3026-4559-876d-1dbb4d3e2478","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_carrot.png","xref":0,"yref":0,"alpha":1},{"id":"7_carrot","ssid":"dfbe4fd3-711a-47ea-aa4a-b24dfb4e03c9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_carrot.png","xref":0,"yref":0,"alpha":1},{"id":"1_clocks","ssid":"6a903b40-56ab-4320-8a56-5b3335ca0119","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_clock.png","xref":0,"yref":0,"alpha":1},{"id":"10_clocks","ssid":"56e0499b-589e-4098-ad4b-4fd62ae7aaff","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_clocks.png","xref":0,"yref":0,"alpha":1},{"id":"4_cricket_ball","ssid":"34e89f65-9228-4dd2-b671-21d1f1758580","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_Cricket ball.png","xref":0,"yref":0,"alpha":1},{"id":"6_cricket_balls","ssid":"a15e55cf-8837-4c3c-97fd-f98a74aeeae1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"9_cricket_ball","ssid":"dd434abd-d014-44e2-82b0-bf64cca5e379","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_Cricket ball.png","xref":0,"yref":0,"alpha":1},{"id":"10_cricket_balls","ssid":"bb7efa6d-0ec3-4ec1-ac39-861cc6b1595c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"1_dog","ssid":"9355362c-40c2-4186-9e6c-39bb00d7be3c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_dog.png","xref":0,"yref":0,"alpha":1},{"id":"4_dog","ssid":"16037e0c-8617-4a94-8602-face2b8e23b4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_dogs.png","xref":0,"yref":0,"alpha":1},{"id":"8_dog","ssid":"09f4d193-456b-4b0a-8434-0ebfb33e3361","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_dogs.png","xref":0,"yref":0,"alpha":1},{"id":"2_ice_cream","ssid":"186eb432-7e59-4ef0-a0da-4a314b95ddd6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"6_ice_cream","ssid":"fb482ea5-bfc8-41a2-bc79-e3505d2bccc9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"10_ice_cream","ssid":"dc2cc6e2-2bfa-4a78-a5d3-d75f4fc746bc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_ice cream.png","xref":0,"yref":0,"alpha":1},{"id":"1_kite","ssid":"5946e6e8-5539-49fb-a8d3-ec81e97e95f1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_kite.png","xref":0,"yref":0,"alpha":1},{"id":"6_kite","ssid":"0af194b0-1bec-4677-9e11-ec4a34536a15","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_kites.png","xref":0,"yref":0,"alpha":1},{"id":"1_locks","ssid":"bae52f65-9394-4bca-8221-2d9eb7596383","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_lock.png","xref":0,"yref":0,"alpha":1},{"id":"7_locks","ssid":"b01524a9-04be-4018-9bf0-69b529c6e316","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_locks.png","xref":0,"yref":0,"alpha":1},{"id":"10_locks","ssid":"725edfd1-1463-49f7-99b9-47b307c378d8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_locks.png","xref":0,"yref":0,"alpha":1},{"id":"1_mangoes","ssid":"940aef86-36ad-4bd4-9e31-f4b77eeeb837","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/1_mango.png","xref":0,"yref":0,"alpha":1},{"id":"5_mangoes","ssid":"d90b25e9-cacb-4074-8646-409da4f25e01","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/5_mangoes.png","xref":0,"yref":0,"alpha":1},{"id":"9_mangoes","ssid":"c25a7618-e909-4c0d-9962-27c5d100354e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/9_mangoes.png","xref":0,"yref":0,"alpha":1},{"id":"3_mug","ssid":"9bf755b2-3e47-4c29-b589-c9f09a40105e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_mugs.png","xref":0,"yref":0,"alpha":1},{"id":"8_mug","ssid":"d5a1c4ab-5c70-495e-b179-c21c4f89590d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_mugs.png","xref":0,"yref":0,"alpha":1},{"id":"4_pants","ssid":"4382539a-73e5-4c74-9b56-dba91689491f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","xref":0,"yref":0,"alpha":1},{"id":"7_pants","ssid":"b4467df5-9829-4016-90a9-ca4e6edf02e4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/7_pants.png","xref":0,"yref":0,"alpha":1},{"id":"4_peaches","ssid":"bf49d241-c3b3-431c-86a6-e115ad181c2b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/4_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"8_peaches","ssid":"56808963-71e1-4d6a-ab07-0ba13ea183e6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"3_piece_cake","ssid":"ffcf3e2f-fa3d-49ad-8dc6-e10910d601c5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"7_piece_cake","ssid":"250d663a-0a9c-4986-9d73-ec7b90ab7d92","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/7_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"10_piece_cake","ssid":"603580fa-077d-4ee2-b4f3-7b5ff5ca3f98","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_piece cake.png","xref":0,"yref":0,"alpha":1},{"id":"2_sunglass","ssid":"6543f850-d4ee-4975-820a-af91d016cb7e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/2_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"6_sunglass","ssid":"d47e5f29-6b44-443a-85bf-d4825b45b341","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/6_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"8_sunglass","ssid":"a07ecede-ff3d-4aa7-93f8-9fc588dde70f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_sunglasses.png","xref":0,"yref":0,"alpha":1},{"id":"2_toy_horse","ssid":"32367666-846b-4deb-b77a-abbe824e61e3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/2_toy horse.png","xref":0,"yref":0,"alpha":1},{"id":"9_toy_horse","ssid":"9092d8a9-c5bf-4fc7-8b2a-999989c7a3fe","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/9_toy horse.png","xref":0,"yref":0,"alpha":1},{"id":"10_cricket_balls_1","ssid":"818c1b11-0f44-4428-a99e-1a282403543b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","xref":0,"yref":0,"alpha":1},{"id":"3_basket_balls_1","ssid":"ee66c669-7b9c-4e2d-9382-1832a8d9cfe7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","xref":0,"yref":0,"alpha":1},{"id":"4_pants_1","ssid":"23bf1956-f2b1-41bc-8aca-73210c3494b5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","xref":0,"yref":0,"alpha":1},{"id":"8_peaches_1","ssid":"4b345dca-7db4-41ef-a8db-49c6222ebc36","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","xref":0,"yref":0,"alpha":1},{"id":"1_helmet","ssid":"b09ec8a0-c777-4df8-b8e8-bfe645b69a98","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/1_helmet.png","xref":0,"yref":0,"alpha":1},{"id":"1_bat","ssid":"4aab7d6d-90cd-4637-a1d0-91f49038b039","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/1_bat.png","xref":0,"yref":0,"alpha":1},{"id":"2_turnips","ssid":"f8ba7b0f-364f-4a19-9b8d-c2471a9a617c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/2_turnips.png","xref":0,"yref":0,"alpha":1},{"id":"2_bear","ssid":"05ef665d-e0b5-4fae-b247-336ebc86366d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/2_bears.png","xref":0,"yref":0,"alpha":1},{"id":"3_eagles","ssid":"4959081d-237d-4f8c-bf71-48faa1bbb783","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/3_eagles.png","xref":0,"yref":0,"alpha":1},{"id":"3_horse","ssid":"3a171c85-5abd-4b17-bbf9-0fb462823568","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/3_horses.png","xref":0,"yref":0,"alpha":1},{"id":"4_cows","ssid":"25c104af-4f38-416e-b5a1-afc6a8fc5823","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/4_cows.png","xref":0,"yref":0,"alpha":1},{"id":"4_lotus","ssid":"e3fb5d1f-38ce-4c12-a644-dea106b3e401","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/4_lotuses.png","xref":0,"yref":0,"alpha":1},{"id":"5_cars","ssid":"146275bb-7b44-46b1-b788-82ef9f8f5a5f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/5_cars.png","xref":0,"yref":0,"alpha":1},{"id":"5_rose","ssid":"33c55d96-c102-47e3-97e9-e4cd16e186d6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/5_roses.png","xref":0,"yref":0,"alpha":1},{"id":"6_cats","ssid":"644c5e93-a399-4200-8020-61a128586dfa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/6_cats.png","xref":0,"yref":0,"alpha":1},{"id":"6_lilies","ssid":"ec56f8d2-0654-428b-ba01-5cbc89f54ccd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/6_lilies.png","xref":0,"yref":0,"alpha":1},{"id":"7_hats","ssid":"c63e61e7-e6be-4854-9343-ebdf442993aa","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/7_hats.png","xref":0,"yref":0,"alpha":1},{"id":"7_cycle_helmets","ssid":"202bb085-e339-4a99-9da6-5092cd137365","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/7_cycle helmets.png","xref":0,"yref":0,"alpha":1},{"id":"8_bags","ssid":"e1f7fbb5-e021-4c2d-bde7-7c75bd6fa2bd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bags.png","xref":0,"yref":0,"alpha":1},{"id":"8_banana","ssid":"9cf686bb-a5f9-473b-b0b1-faf0146bc16d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bananas.png","xref":0,"yref":0,"alpha":1},{"id":"9_watermelons","ssid":"815320a5-edf8-4c59-bc98-b1d98edc441e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/9_watermelons.png","xref":0,"yref":0,"alpha":1},{"id":"9_wheels","ssid":"01bc564e-226a-4c60-ae79-b69af0a416bc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/9_wheels.png","xref":0,"yref":0,"alpha":1},{"id":"10_shoes","ssid":"dce2c678-bcd0-4619-a0cf-d8613fab8c70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/10_shoes.png","xref":0,"yref":0,"alpha":1},{"id":"10_paint_brush","ssid":"4cb6b1fa-69ea-4e34-b50a-5957205af1b1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/10_paint brushes.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_1_1","ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_2_1","ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_3_1","ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_4_1","ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_5_1","ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_6_1","ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_7_1","ssid":"f83a6337-d1db-449b-8f0f-090448707a70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_8_1","ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_9_1","ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_0_1","ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","xref":0,"yref":0,"alpha":1},{"id":"ref_options_space_bar","ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_1","ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_2","ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_3","ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_4","ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_5","ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_6","ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_7","ssid":"f83a6337-d1db-449b-8f0f-090448707a70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_8","ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_9","ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","xref":0,"yref":0,"alpha":1},{"id":"type_num_0","ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","xref":0,"yref":0,"alpha":1},{"id":"ref_options_space_bar","ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","xref":0,"yref":0,"alpha":1},{"id":"button_exit","ssid":"button_exit","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/0b42d213-99e0-453b-b40a-04a65bebe107.png","xref":-1,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":25,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/64454face975f13829046372/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"inactive_audio_replay","ssid":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":25,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/64454face975f13829046372/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"black_left","ssid":"99f8ce97-2e95-499e-a759-97e554de88de","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","ssid":"137ac817-da22-4690-b9b3-c7f8553fc532","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","ssid":"eb9cd38c-115a-4104-947c-d8df3cf0ecd7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"statement_2","ssid":"09b1699c-3009-47ba-9d28-34c896c5ec95","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":85,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/d6440b55-5367-4612-9904-9b6723d739f1.png","xref":0,"yref":0,"alpha":1},{"id":"button_playagain","ssid":"button_playagain","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-70,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/fb1bb456-e474-495e-83b4-a3f5484e66ac.png","xref":0,"yref":0,"alpha":1},{"id":"button_play_game","ssid":"button_play_game","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-70,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/b87f96f8-9c20-4c58-a6a5-16369d35521c.png","xref":0,"yref":0,"alpha":1},{"id":"black_left","ssid":"9e9eda3a-9d17-4bd8-9669-c5f04bbb587a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","ssid":"7e438a1b-a462-40a9-960e-3f1e017a2dc4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","ssid":"56d42404-966a-4114-b734-034742c0e971","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"button_lets_play","ssid":"button_lets_play","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":11},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/09406f0d-fe67-44b6-aa1f-12fe2bfc1179.png","xref":0,"yref":0,"alpha":1},{"id":"black_left","ssid":"738ae1ce-55cd-4cd6-9fe7-a827cc29d254","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","ssid":"dd5367de-f3ce-4f94-a408-e23149a11c5b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","ssid":"732beb2d-c1f1-495b-87af-07cdc430f78e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"26b7aba2-8bea-49aa-a336-88bc397353ca","ssid":"ebcc4893-568e-4dbc-b1ad-f02d813e0bbf","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/b497e19f-8ff1-4f14-a801-cbe87ff98018.png","xref":0,"yref":0,"alpha":1},{"id":"button_continue","ssid":"button_continue","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-75,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/b87f96f8-9c20-4c58-a6a5-16369d35521c.png","xref":0,"yref":0,"alpha":1},{"id":"pick_new_game","ssid":"pick_new_game","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-75,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/fb1bb456-e474-495e-83b4-a3f5484e66ac.png","xref":0,"yref":0,"alpha":1},{"id":"progress_bar_parent","ssid":"d6102910-8e75-46c1-8769-9459b609c62c","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"fcd64e6b-596f-418e-abb0-ecd0d56ebe21","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"02f1457d-895d-4dea-90f2-2d236dac8342","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"87cfca14-9ffa-4516-bf1c-9a0e7c16e926","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"452eb5f0-fd7b-44e6-b2de-d99c69327b36","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"d3634a29-61a6-485f-b124-239904574631","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"bd502a64-7e0a-4349-9895-ff1550c967ca","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"e9ecad21-087a-495e-85dd-c3e0b89b02a5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"17c3b398-53f4-43dc-8f03-ba44df0052ce","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_holder_pre","ssid":"c27cffeb-c186-46c4-a940-afbe7648a9c8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6792009014ff6b5945d48f0b/assets/Assessment_5/Images/1_placeholder/761d6089-a77d-4245-83c5-a76811a17df0.png","xref":0,"yref":0,"alpha":1},{"id":"demarcation_line","ssid":"8463826b-627a-431b-967e-045f30a95ff0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-90,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1},{"id":"mic_pre1","ssid":"097baed2-57d2-4b2b-9d65-95a5030d700f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-170,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/a130ae15-7462-417f-9c17-761abd1f5a96.png","xref":0,"yref":0,"alpha":0},{"id":"image_1560","ssid":"image_1560","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/c5d9ed1d-b127-4c4b-b1f9-075f52a7a8dc.png","xref":0,"yref":0,"alpha":1},{"id":"image_1561","ssid":"image_1561","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/6ae93993-f8a6-493b-bbd0-837ba32f861c.png","xref":0,"yref":0,"alpha":1},{"id":"image_1562","ssid":"image_1562","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/c5d9ed1d-b127-4c4b-b1f9-075f52a7a8dc.png","xref":0,"yref":0,"alpha":1},{"id":"inactive_audio_replay","ssid":"3f0acf91-cfb6-4163-b295-62ac12a1c0cd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"inactive_audio_replay","ssid":"0e1495de-56fd-411e-945d-44daa0c8d034","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"black_screen_right","ssid":"1e4b8870-7ac7-4d7b-bd15-b0f2997eab69","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_screen_center","ssid":"25abc333-0951-4b54-8a2d-b4932075939b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_screen_left","ssid":"01038874-7227-4f77-adc6-34735cd410a8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"statement_1","ssid":"bd23b848-edde-4640-be78-11722a1d0ac2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":75,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/e13ce12b-7cd0-4572-bc94-e55955d0571d.png","xref":0,"yref":0,"alpha":1},{"id":"overrule","ssid":"16e02a31-4f80-4994-9f58-ed2b25d1c1b9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-70,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/e795486d-dffc-4a10-bff7-7f743a4a27f4.png","xref":0,"yref":0,"alpha":1},{"id":"do_not_overrule","ssid":"faa4d101-480e-4d67-9798-1d30cc2606d0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-70,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/common/Textures/update_image/b72c9a02-8b85-44f0-a540-f536c485e212.png","xref":0,"yref":0,"alpha":1},{"id":"button_replay_audio","ssid":"e5a598c2-ad81-4612-9594-97a665fbe20e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"d7fd8fac-d345-4215-b864-cab5c4ce24c2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"67e68a92-c221-421f-8dc3-28e90986fc95","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"91dc0cdc-5f28-4932-a355-b96123dcf337","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"left_slot_ref","ssid":"1e7bd918-d785-473c-b4d3-b88b88264e77","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1},{"id":"middle_slot_ref","ssid":"059105a2-8a37-45ad-b8a8-590c9386ebf3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1},{"id":"right_slot_ref","ssid":"8c594315-378b-41fb-b61d-358131d1676a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1},{"id":"image_holder_left_slot","ssid":"3f8ecae1-4ddb-421e-a1ac-30b057022e42","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":0,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1},{"id":"image_holder_right_slot","ssid":"image_322","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":0,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1},{"id":"equal_placeholder_top","ssid":"image_326","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":70,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal question.png","xref":0,"yref":0,"alpha":1},{"id":"equal_placeholder_left","ssid":"image_324","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-200,"y":-150,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal options.png","xref":0,"yref":0,"alpha":1},{"id":"equal_placeholder_right","ssid":"image_325","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":200,"y":-150,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal options.png","xref":0,"yref":0,"alpha":1},{"id":"demarcation_line","ssid":"d769b573-679e-4ac8-8df9-9b8604e9149b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-50,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1},{"id":"image_335","ssid":"image_335","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-100},"euler":{"x":0,"y":0,"z":0},"scale":{"x":10,"y":10,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1},{"id":"inactive_audio_replay","ssid":"42847027-93a7-4a8b-af40-787609ff3fcd","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_102","ssid":"b0d6a097-a131-4777-8b0f-a0b2d207d6ee","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"c6b45283-ac4e-46d6-ad3e-678528e909fb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"a03d8fd9-67ba-42be-9e36-5f9429c2d5de","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"51951e84-a6b0-4cc4-8896-dafcef5591ab","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"number_placeholder","ssid":"5221c674-33ef-4b40-9dbf-152f7abd5584","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":118,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.9,"y":0.55,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7b8b88ed-382b-4f2b-a15d-c2f423e4eb0e.png","xref":0,"yref":0,"alpha":1},{"id":"square_box_center","ssid":"image_297","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":18,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/Group 1681.png","xref":0,"yref":0,"alpha":1},{"id":"rectangle_keyboard","ssid":"b2bee578-a0a1-4cf9-a068-ffc81c5e82df","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-130,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/25980908-81f0-461f-9818-158357ea6462.png","xref":0,"yref":0,"alpha":1},{"id":"num_0","ssid":"aacfb830-9263-4319-b695-861201e9e62e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-255,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/6a9c2a8a-18b7-4c9c-854e-893667e27e4f.png","xref":0,"yref":0,"alpha":1},{"id":"num_1","ssid":"877a6048-93dc-44e9-95f1-d10615a062c5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-130,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/1d2895a0-4275-4fef-ad3a-086be95f30ef.png","xref":0,"yref":0,"alpha":1},{"id":"num_2","ssid":"03a0a17e-d4bb-4212-8031-13d2af255c8d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/49d2e36b-eecd-4178-835a-4660f31e98a5.png","xref":0,"yref":0,"alpha":1},{"id":"num_3","ssid":"b27a37e0-3be4-42ff-9dee-5384035ef99b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":130,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/9744564e-3fc2-49f9-acc0-7ebf434bb26d.png","xref":0,"yref":0,"alpha":1},{"id":"num_4","ssid":"fd12f006-54d5-417e-9ae2-fdbc0bbc4e4e","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":255,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/5bbd5c04-5e39-4f8e-8227-ea4e34e87eb3.png","xref":0,"yref":0,"alpha":1},{"id":"num_5","ssid":"66b188d8-c6e4-4d37-a965-dc5a2bf5d2e4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-255,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/148521e9-34cb-4285-bbbe-13e1046410bf.png","xref":0,"yref":0,"alpha":1},{"id":"num_6","ssid":"11ec8d3a-2854-41fb-982f-f25a2d93ac03","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-130,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/45c02dba-fc66-4692-a7f4-610051db9303.png","xref":0,"yref":0,"alpha":1},{"id":"num_7","ssid":"a7934a97-8034-4301-bcf6-eaaf7deb2343","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/9c3b3da8-8d86-4611-a5b7-e98fe29ed27f.png","xref":0,"yref":0,"alpha":1},{"id":"num_8","ssid":"edcdb409-78a4-4c4a-856b-5a0e28c5a742","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":130,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/67ccd52f-0271-414e-8eb5-8e6bce60e44d.png","xref":0,"yref":0,"alpha":1},{"id":"num_9","ssid":"119c91dd-b1dc-4061-a523-72c6e3c0e5ef","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":255,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/f9c0cda7-6791-4c5c-8fcb-2a2a5fddf957.png","xref":0,"yref":0,"alpha":1},{"id":"image_102","ssid":"c563dc92-5d5d-4270-acac-9c941e47cc72","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"inactive_audio_replay","ssid":"48d0314e-03c7-4a90-8ca1-1f026825c951","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_102","ssid":"59c39832-9ce9-4fc3-885e-ae1211607555","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"0ec96758-9909-4a42-974b-6d7afedefb83","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"6c6a3774-9c66-4625-8fc7-f234bc5207f1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"f5551391-7167-4792-afe4-e74695e3abb4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"square_box_","ssid":"2de1f088-9736-4d19-a8e9-bd90d2040f79","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":75,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.5,"y":0.5,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a58ffd86eae420f9d5a455/assets/Assessment game 7/Images/placeholders/fd4f83e6-4e02-4cbe-bc63-51e158f43ae3.png","xref":0,"yref":0,"alpha":1},{"id":"rectangle_box","ssid":"cbb87469-0b0c-437e-8e17-87bfa264a010","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-130,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_placeholder.png","xref":0,"yref":0,"alpha":1},{"id":"inactive_audio_replay","ssid":"97c8c9b4-1b99-41aa-b6dd-e1daad304bcf","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"inactive_audio_replay","ssid":"d913fd4c-1ea0-4345-adc7-e8c217132bf8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_102","ssid":"dbed62cd-634f-4462-8df8-20c08b3b9df5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"44f8c3b4-e235-4e6d-a68b-c909a023fe70","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"589e476b-fa1a-494e-a718-e2133e80b3e0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"8bebe3db-cb0b-468f-aae9-a8cf2c348ce3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"left_slot","ssid":"9106aca8-815c-4afd-87d7-4ef1c77a1f74","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1},{"id":"middle_slot","ssid":"ce97d6d8-8153-4597-b444-d7c6f29520bc","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1},{"id":"right_slot","ssid":"22e6c952-e39b-48a4-b2e4-4c5c5a787777","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1},{"id":"inactive_audio_replay","ssid":"ae618c9b-116f-44e2-bcc8-66ff56d69b05","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_102","ssid":"d998a4fb-4aa9-4bc9-980e-ba08f395ee57","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"progress_bar_parent","ssid":"7a4e33b1-5c28-4f28-9ccd-be8ed5dd3f4a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"9b42eaf2-5f4d-464c-ad59-91233599ec0d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1},{"id":"button_replay_audio","ssid":"7e481139-bc21-4ff0-a447-4ea38729fc31","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_holder_pre","ssid":"008981c3-1f75-4218-8527-19d966e31cd8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":50,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6792009014ff6b5945d48f0b/assets/Assessment_5/Images/1_placeholder/761d6089-a77d-4245-83c5-a76811a17df0.png","xref":0,"yref":0,"alpha":1},{"id":"demarcation_line","ssid":"1713a946-acff-40ac-9bab-689498bed5d8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-90,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1},{"id":"slot_left","ssid":"1d04a5d7-b804-4284-9197-3a164ff7ed84","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-185,"y":-170,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/object and places_button.png","xref":0,"yref":0,"alpha":1},{"id":"slot_right","ssid":"7e0dd784-df22-41e8-8cf5-8126dc82b0b6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":185,"y":-170,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/object and places_button.png","xref":0,"yref":0,"alpha":1},{"id":"inactive_audio_replay","ssid":"7e5f4f08-51bc-4ee9-a90f-1eee9c7d5ea2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"image_102","ssid":"03170579-30d3-4193-bcc5-6e4d1894237b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1},{"id":"bg_left_statment","ssid":"3b56a10e-4276-42bc-8705-391d2c9962ed","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":-1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1},{"id":"bg_center_statment","ssid":"245adc14-7dd9-4428-a447-0b46ced4f44f","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1},{"id":"bg_right_statment","ssid":"9e861ac0-58e0-4713-8718-5c6e5d330b25","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1},{"id":"progress_bar_parent","ssid":"5b1d826c-b57b-4d82-a569-5cc84142e58a","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1},{"id":"child_text","ssid":"9a66108c-8c4b-471d-aeed-9a4c0a29e837","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1}],"models":[],"backgroundSteps":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],"checkPoints":[1,75,101,173,226,296,363,409,455],"playableCheckPoints":[{"start_step_num":101,"end_step_num":172,"decider_step_num":-1},{"start_step_num":296,"end_step_num":362,"decider_step_num":-1},{"start_step_num":455,"end_step_num":500,"decider_step_num":-1}],"screens":[],"buttonSteps":[],"dontMoveForwardSteps":[],"enableSteps":[{"step_num":1,"instance_id":"step_1","step_title":"Enable Background","images":[{"id":"bg_left_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-852,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":-1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null},{"id":"bg_center_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null},{"id":"bg_right_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":852,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/e0d43486-0dee-4949-af70-1ddae8ae7581.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null}],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":12,"instance_id":"step_12","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":13,"instance_id":"step_13","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":77,"instance_id":"step_132","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"reference"},{"step_num":78,"instance_id":"step_133","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"reference"},{"step_num":95,"instance_id":"step_150","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"reference"},{"step_num":96,"instance_id":"step_151","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"reference"},{"step_num":102,"instance_id":"step_759","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":103,"instance_id":"step_760","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":110,"instance_id":"step_767","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":112,"instance_id":"step_769","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":113,"instance_id":"step_770","step_title":"all image","images":[{"id":"image_holder_pre","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6792009014ff6b5945d48f0b/assets/Assessment_5/Images/1_placeholder/761d6089-a77d-4245-83c5-a76811a17df0.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"demarcation_line","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-90,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"mic_pre1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-170,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/a130ae15-7462-417f-9c17-761abd1f5a96.png","xref":0,"yref":0,"alpha":0,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":125,"instance_id":"step_956","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":137,"instance_id":"step_789","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":141,"instance_id":"step_793","step_title":"❌❌❌ wrong  ❌❌❌❌","images":[],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":143,"instance_id":"step_795","step_title":"------------- message  ------------------","images":[],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":146,"instance_id":"step_798","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":149,"instance_id":"step_801","step_title":"enable black image","images":[{"id":"black_screen_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"black_screen_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"black_screen_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"statement_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":75,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/e13ce12b-7cd0-4572-bc94-e55955d0571d.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"overrule","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-70,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/e795486d-dffc-4a10-bff7-7f743a4a27f4.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"do_not_overrule","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-70,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/common/Textures/update_image/b72c9a02-8b85-44f0-a540-f536c485e212.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":155,"instance_id":"step_807","step_title":"------------- do_not_overrule ------------------","images":[],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":159,"instance_id":"step_811","step_title":"------------- overrule ------------------ ","images":[],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":169,"instance_id":"step_821","step_title":"Enable audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":174,"instance_id":"step_896","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":175,"instance_id":"step_897","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":182,"instance_id":"step_904","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":184,"instance_id":"step_906","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":196,"instance_id":"step_917","step_title":"all image","images":[{"id":"left_slot_ref","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"middle_slot_ref","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"right_slot_ref","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_most least.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"left_slot_ref","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"middle_slot_ref","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[2])","parentid":"right_slot_ref","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":198,"instance_id":"step_942","step_title":"all image","images":[{"id":"image_holder_left_slot","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":0,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"image_holder_right_slot","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":0,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"image_holder_left_slot","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"image_holder_right_slot","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":200,"instance_id":"step_945","step_title":"all image","images":[{"id":"equal_placeholder_top","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":70,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal question.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)_1","parentid":"equal_placeholder_top","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"equal_placeholder_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-200,"y":-150,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal options.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"equal_placeholder_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":200,"y":-150,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_equal options.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"equal_placeholder_left","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"equal_placeholder_right","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"image_339","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":201,"instance_id":"step_946","step_title":"demarcation_line","images":[{"id":"demarcation_line","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-50,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"image_335","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-100},"euler":{"x":0,"y":0,"z":0},"scale":{"x":10,"y":10,"z":1},"image_path":"./assets/Assessment_game_11/images/placeholder/placeholder_big.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":211,"instance_id":"step_926","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 0: maths"},{"step_num":214,"instance_id":"step_929","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":216,"instance_id":"step_931","step_title":"❌❌❌wrong ❌❌❌❌","images":[],"checkpointTitle":"type 0: maths"},{"step_num":219,"instance_id":"step_934","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: maths"},{"step_num":227,"instance_id":"step_397","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":228,"instance_id":"step_398","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":235,"instance_id":"step_405","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":237,"instance_id":"step_407","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":241,"instance_id":"step_411","step_title":"ref  square_box","images":[{"id":"number_placeholder","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":118,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.9,"y":0.55,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7b8b88ed-382b-4f2b-a15d-c2f423e4eb0e.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"square_box_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":18,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/Maths/Type 1/Group 1681.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","parentid":"number_placeholder","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":1},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":251,"instance_id":"step_424","step_title":"square_box","images":[{"id":"rectangle_keyboard","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-130,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/25980908-81f0-461f-9818-158357ea6462.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_0","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-255,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/6a9c2a8a-18b7-4c9c-854e-893667e27e4f.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-130,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/1d2895a0-4275-4fef-ad3a-086be95f30ef.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/49d2e36b-eecd-4178-835a-4660f31e98a5.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":130,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/9744564e-3fc2-49f9-acc0-7ebf434bb26d.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_4","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":255,"y":-85,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/5bbd5c04-5e39-4f8e-8227-ea4e34e87eb3.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_5","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-255,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/148521e9-34cb-4285-bbbe-13e1046410bf.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_6","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-130,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/45c02dba-fc66-4692-a7f4-610051db9303.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_7","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/9c3b3da8-8d86-4611-a5b7-e98fe29ed27f.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_8","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":130,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/67ccd52f-0271-414e-8eb5-8e6bce60e44d.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"num_9","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":255,"y":-175,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Maths/Addition/f9c0cda7-6791-4c5c-8fcb-2a2a5fddf957.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":262,"instance_id":"step_435","step_title":"enable bottom_left_@result","images":[{"id":"type_num_@result","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":1},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.75,"y":0.75,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":265,"instance_id":"step_438","step_title":"enable bottom_left_@result","images":[{"id":"type_num_@result_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":1},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.75,"y":0.75,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":273,"instance_id":"step_446","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":282,"instance_id":"step_455","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 1 : sequence"},{"step_num":285,"instance_id":"step_458","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":287,"instance_id":"step_460","step_title":"❌❌❌wrong ❌❌❌❌","images":[],"checkpointTitle":"type 1 : sequence"},{"step_num":290,"instance_id":"step_463","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1 : sequence"},{"step_num":297,"instance_id":"step_827","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":298,"instance_id":"step_828","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":305,"instance_id":"step_835","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":307,"instance_id":"step_837","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":326,"instance_id":"step_856","step_title":"square_box","images":[{"id":"square_box_","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":75,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.5,"y":0.5,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/67a58ffd86eae420f9d5a455/assets/Assessment game 7/Images/placeholders/fd4f83e6-4e02-4cbe-bc63-51e158f43ae3.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-215,"y":50,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":335,"instance_id":"step_865","step_title":"all image","images":[{"id":"rectangle_box","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-130,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/language/Type 0/keypad_placeholder.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-75,"y":60,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":115,"y":60,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[2])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":285,"y":60,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[3])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-75,"y":-65,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[4])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":115,"y":-65,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[5])","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":285,"y":-65,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":344,"instance_id":"step_951","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":345,"instance_id":"step_872","step_title":"square_box","images":[{"id":"@result_1","parentid":"square_box_","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":0.75,"y":0.75,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":348,"instance_id":"step_875","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":351,"instance_id":"step_878","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":353,"instance_id":"step_881","step_title":"❌❌❌wrong ❌❌❌❌","images":[],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":356,"instance_id":"step_884","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":364,"instance_id":"step_475","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":365,"instance_id":"step_476","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":372,"instance_id":"step_483","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":374,"instance_id":"step_485","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":385,"instance_id":"step_496","step_title":"all image","images":[{"id":"left_slot","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"middle_slot","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"right_slot","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":270,"y":0,"z":-80},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/Language/984439f6-ab61-4ffd-8a0e-37c634de6e87.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"left_slot","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"middle_slot","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[2])","parentid":"right_slot","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":394,"instance_id":"step_505","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 1: language letter select"},{"step_num":397,"instance_id":"step_508","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":399,"instance_id":"step_510","step_title":"❌❌❌wrong ❌❌❌❌","images":[],"checkpointTitle":"type 1: language letter select"},{"step_num":402,"instance_id":"step_513","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 1: language letter select"},{"step_num":410,"instance_id":"step_165","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":411,"instance_id":"step_166","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":418,"instance_id":"step_173","step_title":"Enable Background","images":[{"id":"@jsondata(@count(subject_number).@count(type_number).background)_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).background)_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-99},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":420,"instance_id":"step_175","step_title":"Active audio button ","images":[{"id":"button_replay_audio","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/Audio_Replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":431,"instance_id":"step_186","step_title":"all image","images":[{"id":"image_holder_pre","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":50,"z":-95},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6792009014ff6b5945d48f0b/assets/Assessment_5/Images/1_placeholder/761d6089-a77d-4245-83c5-a76811a17df0.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"demarcation_line","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-90,"z":-90},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/fb52a653-352a-4d71-ab25-994645ac01f4.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"slot_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-185,"y":-170,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/object and places_button.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"slot_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":185,"y":-170,"z":-50},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"./assets/Assessment_game_11/images/EVS/type 0/object and places_button.png","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[0])","parentid":"slot_left","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"@data(re_arrange_option[1])","parentid":"slot_right","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":5},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":440,"instance_id":"step_195","step_title":"✅✅✅correct ✅✅✅✅","images":[],"checkpointTitle":"type 0 : same size object"},{"step_num":443,"instance_id":"step_199","step_title":"enable inactive audio button clone clone","images":[{"id":"inactive_audio_replay","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":445,"instance_id":"step_202","step_title":"❌❌❌wrong ❌❌❌❌","images":[],"checkpointTitle":"type 0 : same size object"},{"step_num":448,"instance_id":"step_205","step_title":"enable inactive audio button clone clone clone","images":[{"id":"image_102","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/66b990a6721f8c1d47d45522/assets/common/textures/interactions/inactive_audio_replay.png","xref":1,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"type 0 : same size object"},{"step_num":480,"instance_id":"step_723","step_title":"Level completed ","images":[],"checkpointTitle":"exam completion criteria(copy)"},{"step_num":481,"instance_id":"step_724","step_title":"Enable Background","images":[{"id":"bg_left_statment","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":-1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null},{"id":"bg_center_statment","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null},{"id":"bg_right_statment","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":-110},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/1. Backgrounds/c3787d16-5ae1-44e6-a50f-43bd1e04aa4c.png","xref":0,"yref":0,"alpha":1,"enable_tiling":null}],"checkpointTitle":"exam completion criteria(copy)"},{"step_num":483,"instance_id":"step_727","step_title":"child","images":[{"id":"progress_bar_parent","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":-35,"z":-30},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/a31d2971-1518-4190-b8dc-1fb10b2c5c1d.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null},{"id":"child_text","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-10,"y":-35,"z":-25},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/c48a983a-7bb6-4980-b157-f65d5d80e295.png","xref":0,"yref":1,"alpha":1,"enable_tiling":null}],"checkpointTitle":"exam completion criteria(copy)"},{"step_num":484,"instance_id":"step_728","step_title":"enable child  image","images":[{"id":"child_@count(right_number)","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null},{"id":"child_@count(left_number)_1","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":0},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"physics":0,"enable_tiling":null}],"checkpointTitle":"exam completion criteria(copy)"}],"enableModelSteps":[],"enableContainerSteps":[],"enableFromJSONSteps":[],"waitSteps":[{"step_num":121,"instance_id":"step_777","step_title":"Wait Forever","duration":1.656,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":126,"instance_id":"step_954","step_title":"Wait Forever clone","duration":1.656,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":152,"instance_id":"step_804","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":208,"instance_id":"step_923","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0: maths"},{"step_num":248,"instance_id":"step_421","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 1 : sequence"},{"step_num":258,"instance_id":"step_431","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 1 : sequence"},{"step_num":274,"instance_id":"step_447","step_title":"wait 1","duration":1,"waitForever":0,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 1 : sequence"},{"step_num":332,"instance_id":"step_862","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0: letter type(copy)"},{"step_num":340,"instance_id":"step_870","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0: letter type(copy)"},{"step_num":346,"instance_id":"step_873","step_title":"wait clone","duration":1,"waitForever":0,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0: letter type(copy)"},{"step_num":391,"instance_id":"step_502","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 1: language letter select"},{"step_num":437,"instance_id":"step_192","step_title":"wait","duration":0.3,"waitForever":1,"wakeUpOnAction":0,"clickToExit":false,"checkpointTitle":"type 0 : same size object"}],"disableSteps":[{"step_num":17,"instance_id":"step_17","step_title":"New Step 20","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1"],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":94,"instance_id":"step_149","step_title":"New Step 20","images":["progress_bar_parent","child_ref_1","child_text_1_ref","bg_left_1","bg_center_1","bg_right_1"],"checkpointTitle":"reference"},{"step_num":111,"instance_id":"step_768","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay","mic_pre"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":124,"instance_id":"step_955","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":145,"instance_id":"step_797","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":147,"instance_id":"step_799","step_title":"Disable mic and ref image ","images":["image_85","button_replay_audio","image_holder_pre","demarcation_line","mic_pre1","@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","mic_pre","inactive_audio_replay","black_screen","statement_1","overrule","do_not_overrule"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":148,"instance_id":"step_800","step_title":"Disable mic","images":["image_1560","image_1561","image_1562"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":156,"instance_id":"step_808","step_title":"Disable message","images":["black_screen","statement_1","overrule","do_not_overrule"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":167,"instance_id":"step_819","step_title":"Disable mic","images":["image_1560","image_1561","image_1562"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":168,"instance_id":"step_820","step_title":"Disable All images clone clone","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_right","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_left","button_replay_audio ","image_holder_pre","demarcation_line","mic_pre1","@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","inactive_audio_replay","black_screen_right","black_screen_center","black_screen_left","statement_1","overrule","do_not_overrule","button_replay_audio"],"checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":183,"instance_id":"step_905","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay"],"checkpointTitle":"type 0: maths"},{"step_num":213,"instance_id":"step_928","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0: maths"},{"step_num":218,"instance_id":"step_933","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 0: maths"},{"step_num":220,"instance_id":"step_935","step_title":"New Step 10","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_left","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_right","button_replay_audio","left_slot_ref","middle_slot_ref","right_slot_ref","@data(re_arrange_option[0])","@data(re_arrange_option[1])","@data(re_arrange_option[2])","image_holder_left_slot","image_holder_right_slot","equal_placeholder_top","@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)_1","equal_placeholder_left","equal_placeholder_right","demarcation_line","image_335","inactive_audio_replay","image_102"],"checkpointTitle":"type 0: maths"},{"step_num":236,"instance_id":"step_406","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay"],"checkpointTitle":"type 1 : sequence"},{"step_num":271,"instance_id":"step_444","step_title":"disable keyboard","images":["rectangle_keyboard","num_0","num_1","num_2","num_3","num_4","num_5","num_6","num_7","num_8","num_9"],"checkpointTitle":"type 1 : sequence"},{"step_num":272,"instance_id":"step_445","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 1 : sequence"},{"step_num":284,"instance_id":"step_457","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 1 : sequence"},{"step_num":289,"instance_id":"step_462","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 1 : sequence"},{"step_num":291,"instance_id":"step_464","step_title":"New Step 10","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_left","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_right","button_replay_audio","number_placeholder","square_box_center","@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","rectangle_keyboard","num_0","num_1","num_2","num_3","num_4","num_5","num_6","num_7","num_8","num_9","type_num_@result","type_num_@result_1","image_102","inactive_audio_replay"],"checkpointTitle":"type 1 : sequence"},{"step_num":306,"instance_id":"step_836","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":342,"instance_id":"step_891","step_title":"remove option","images":["rectangle_box","@data(re_arrange_option[0])","@data(re_arrange_option[1])","@data(re_arrange_option[2])","@data(re_arrange_option[3])","@data(re_arrange_option[4])","@data(re_arrange_option[5])"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":343,"instance_id":"step_950","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":350,"instance_id":"step_877","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":355,"instance_id":"step_883","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":357,"instance_id":"step_885","step_title":"New Step 10","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_left","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_right","button_replay_audio","square_box_","@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","rectangle_box","@data(re_arrange_option[0])","@data(re_arrange_option[1])","@data(re_arrange_option[2])","@data(re_arrange_option[3])","@data(re_arrange_option[4])","@data(re_arrange_option[5])","@result_1","inactive_audio_replay","image_102"],"checkpointTitle":"type 0: letter type(copy)"},{"step_num":373,"instance_id":"step_484","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay"],"checkpointTitle":"type 1: language letter select"},{"step_num":396,"instance_id":"step_507","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 1: language letter select"},{"step_num":401,"instance_id":"step_512","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 1: language letter select"},{"step_num":403,"instance_id":"step_514","step_title":"New Step 10","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_left","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_right","button_replay_audio","left_slot","middle_slot","right_slot","@data(re_arrange_option[0])","@data(re_arrange_option[1])","@data(re_arrange_option[2])","inactive_audio_replay","image_102"],"checkpointTitle":"type 1: language letter select"},{"step_num":419,"instance_id":"step_174","step_title":"disable inactive audio button  clone","images":["inactive_audio_replay"],"checkpointTitle":"type 0 : same size object"},{"step_num":442,"instance_id":"step_198","step_title":"Disable_active_replay ","images":["button_replay_audio"],"checkpointTitle":"type 0 : same size object"},{"step_num":447,"instance_id":"step_204","step_title":"Disable_active_replay  clone","images":["button_replay_audio"],"checkpointTitle":"type 0 : same size object"},{"step_num":449,"instance_id":"step_206","step_title":"disable all","images":["progress_bar_parent","child_text","child_@count(right_number)","child_@count(left_number)_1","@jsondata(@count(subject_number).@count(type_number).background)_left","@jsondata(@count(subject_number).@count(type_number).background)_center","@jsondata(@count(subject_number).@count(type_number).background)_right","button_replay_audio","image_holder_pre","@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","demarcation_line","slot_left","slot_right","@data(re_arrange_option[0])","@data(re_arrange_option[1])","inactive_audio_replay","image_102"],"checkpointTitle":"type 0 : same size object"}],"disableFromJSONSteps":[],"backgroundColorSteps":[],"enableAnimatedSteps":[],"enableGifSteps":[],"texturePropertiesSteps":[],"disableAnimatedSteps":[],"translateAnimationSteps":[],"transformAnimationSteps":[],"audioSteps":[],"audioV2Steps":[{"step_num":85,"instance_id":"step_140","step_title":"lets start","audio_id":"","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Audio/8cf48c69-02e4-41a4-91ac-f333c3bce6d4.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":1.03,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":0,"waitTillAudioCompletes":1,"checkpointTitle":"reference"},{"step_num":114,"instance_id":"step_771","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Audio_updated/e60ed623-9002-4f50-afc5-fe0fd2640e4b.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":1.238,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":115,"instance_id":"step_772","step_title":"Audio instruction all set clone","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Audio_updated/e60ed623-9002-4f50-afc5-fe0fd2640e4b.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":1.238,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":203,"instance_id":"step_918","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":2.382,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: maths"},{"step_num":204,"instance_id":"step_919","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Audios/830951ca-e2b7-4544-876a-43c28433fa1d.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":2.98,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: maths"},{"step_num":242,"instance_id":"step_415","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":2.382,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 1 : sequence"},{"step_num":243,"instance_id":"step_416","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Audios/830951ca-e2b7-4544-876a-43c28433fa1d.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":2.98,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 1 : sequence"},{"step_num":327,"instance_id":"step_857","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":2.382,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: letter type(copy)"},{"step_num":328,"instance_id":"step_858","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Audios/830951ca-e2b7-4544-876a-43c28433fa1d.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":2.98,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: letter type(copy)"},{"step_num":386,"instance_id":"step_497","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":2.382,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","checkpointTitle":"type 1: language letter select"},{"step_num":387,"instance_id":"step_498","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Audios/830951ca-e2b7-4544-876a-43c28433fa1d.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":2.98,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","checkpointTitle":"type 1: language letter select"},{"step_num":432,"instance_id":"step_187","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","volume":1,"audio_instruction":1,"repeat":0,"duration":2.382,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":0,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : same size object"},{"step_num":433,"instance_id":"step_188","step_title":"Audio instruction all set","audio_id":"audio_168","audio_path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Audios/830951ca-e2b7-4544-876a-43c28433fa1d.mp3","volume":1,"audio_instruction":0,"repeat":0,"duration":2.98,"stoppableOnAction":0,"avoidAudioOverlap":0,"fromaudiomapid":1,"waitTillAudioCompletes":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : same size object"}],"audioBackgroundSteps":[],"audioBackgroundVolumeSteps":[],"stopAudioInstructionSteps":[{"step_num":164,"instance_id":"step_816","step_title":"StopAudioInstruction","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":461,"instance_id":"step_704","step_title":"Stop Audio Instruction","checkpointTitle":"exam completion criteria(copy)"}],"dragSteps":[],"enableLayoutSteps":[],"selectSteps":[],"selectV2Steps":[{"actions":[{"ssid":"d0303799-61da-4704-92b2-fcb3993a8378","id":"image_1560","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":120,"instance_id":"step_952","step_title":"select mic image_1560","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actions":[{"ssid":"4f1825a3-eb11-49ee-b039-cff48f6c549d","id":"do_not_overrule","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"5c70c1a4-9a98-4890-8c06-f7654a141520","id":"overrule","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":151,"instance_id":"step_803","step_title":"Select","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actions":[{"ssid":"fda433db-2e86-4496-8c25-24cf679fbd51","id":"left_slot_ref","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[0])"},{"ssid":"e6ab6bef-1b2d-4edc-963f-5f2df6b559f5","id":"middle_slot_ref","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[1])"},{"ssid":"87346f9d-d69b-4d9e-ba82-857a3151cb97","id":"right_slot_ref","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[2])"},{"ssid":"e4e9a41c-7f20-4e0a-bd27-3b6da87801ed","id":"@data(re_arrange_option[0])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"5ad3e66b-7bd6-4255-90bb-92a74796b87a","id":"@data(re_arrange_option[1])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"ceb38a0e-31ec-46f2-a768-7747f4cde218","id":"@data(re_arrange_option[2])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"fc9ed599-88ca-4cc3-8dcc-2d19dfd1c6dc","id":"equal_placeholder_left","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[0])"},{"ssid":"39aaf0ab-f56b-400c-b83e-b45c5af4004f","id":"equal_placeholder_right","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[1])"},{"ssid":"9bdefe04-17df-40ee-87af-9324b7e51a1a","id":"image_holder_left_slot","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[0])"},{"ssid":"669a61b4-53ef-407b-86cb-0e6f1166f34f","id":"image_holder_right_slot","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[1])"}],"step_num":207,"instance_id":"step_922","step_title":"Select","checkpointTitle":"type 0: maths"},{"actions":[{"ssid":"b9e92153-2489-400f-bd0a-473ab2310158","id":"square_box_center","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":247,"instance_id":"step_420","step_title":"Select","checkpointTitle":"type 1 : sequence"},{"actions":[{"ssid":"06aece1d-2466-4be8-a714-f2de8e01b4f2","id":"num_0","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"0"},{"ssid":"362c2897-9054-494e-b071-30ca38693f09","id":"num_1","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"1"},{"ssid":"57f30c96-cae2-4e54-add2-041e77419ae9","id":"num_2","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"2"},{"ssid":"a0597533-3793-4e1c-8206-0ecf03b9620a","id":"num_3","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"3"},{"ssid":"f31180b0-a84f-45f6-8557-96b11bd905e4","id":"num_4","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"4"},{"ssid":"81916029-1383-4e4d-9e76-1f7efc715dcc","id":"num_5","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"5"},{"ssid":"5dd740fe-20e9-4202-b4bc-223b6b21c0f3","id":"num_6","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"6"},{"ssid":"68c5041a-3368-4a11-a343-fc5ed51550f7","id":"num_7","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"7"},{"ssid":"3b2f2a47-0f9d-43c7-b4bd-8b38942c1a9d","id":"num_8","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"8"},{"ssid":"9e8f8839-e4f5-480e-86e3-6c632bbf6ed8","id":"num_9","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"9"}],"step_num":257,"instance_id":"step_430","step_title":"Select","checkpointTitle":"type 1 : sequence"},{"actions":[{"ssid":"feb65aac-9c95-4253-8b28-c0708ed65d54","id":"square_box_","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":331,"instance_id":"step_861","step_title":"Select","checkpointTitle":"type 0: letter type(copy)"},{"actions":[{"ssid":"00cc537a-96d3-4644-b2c3-1cac1c687a03","id":"@data(re_arrange_option[0])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"ff03e79b-04ce-4583-a48a-bace8e0b4597","id":"@data(re_arrange_option[1])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"bd369e6d-aa83-49bd-91cf-e5f3abd3fb0c","id":"@data(re_arrange_option[2])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"cc3f1ae8-0bf8-4c94-ade1-f1ae15488756","id":"@data(re_arrange_option[3])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"ba20b3f0-6eb0-4a4f-818e-056d170dcb54","id":"@data(re_arrange_option[4])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"2c38841e-002a-4c32-a4e9-04bc78c79c92","id":"@data(re_arrange_option[5])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":339,"instance_id":"step_869","step_title":"Select","checkpointTitle":"type 0: letter type(copy)"},{"actions":[{"ssid":"fda433db-2e86-4496-8c25-24cf679fbd51","id":"left_slot","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[0])"},{"ssid":"e6ab6bef-1b2d-4edc-963f-5f2df6b559f5","id":"middle_slot","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[1])"},{"ssid":"87346f9d-d69b-4d9e-ba82-857a3151cb97","id":"right_slot","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[2])"},{"ssid":"e4e9a41c-7f20-4e0a-bd27-3b6da87801ed","id":"@data(re_arrange_option[0])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"5ad3e66b-7bd6-4255-90bb-92a74796b87a","id":"@data(re_arrange_option[1])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"ceb38a0e-31ec-46f2-a768-7747f4cde218","id":"@data(re_arrange_option[2])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0}],"step_num":390,"instance_id":"step_501","step_title":"Select","checkpointTitle":"type 1: language letter select"},{"actions":[{"ssid":"927afc61-ddf2-4901-bd2d-024e76c0fd83","id":"@data(re_arrange_option[0])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"685365da-eba5-4035-974a-57d066330b31","id":"@data(re_arrange_option[1])","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0},{"ssid":"7113deda-fa2b-4ee3-b704-c658a461cf04","id":"slot_left","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[0])"},{"ssid":"6ef0e058-9a3a-463c-89df-56955dac1560","id":"slot_right","overlays":[],"overlayDuration":0,"audioclips":[],"audio_paths":[],"disableInteractionDuration":0,"result":"@data(re_arrange_option[1])"}],"step_num":436,"instance_id":"step_191","step_title":"Select","checkpointTitle":"type 0 : same size object"}],"microphoneSelectSteps":[{"buttons":[{"type":"ready","path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/c5d9ed1d-b127-4c4b-b1f9-075f52a7a8dc.png","id":"image_1560","ssid":"image_1560","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"xref":0,"yref":0,"alpha":1},{"type":"recording","path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/6ae93993-f8a6-493b-bbd0-837ba32f861c.png","id":"image_1561","ssid":"image_1561","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"xref":0,"yref":0,"alpha":1},{"type":"error","path":"https://interactivecreator.s3.amazonaws.com/projects/66ffd3370ecdbeccc5b3c630/assets/Fruit Vocabulary Fun/Level 1/Assets/c5d9ed1d-b127-4c4b-b1f9-075f52a7a8dc.png","id":"image_1562","ssid":"image_1562","position":{"x":0,"y":-170,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"xref":0,"yref":0,"alpha":1}],"alpha":1,"xref":"center","yref":"center","position":{"x":0,"y":"-170","z":"-10"},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"intermediate_text_id":"","language":"English","step_num":119,"instance_id":"step_776","step_title":"select mic","checkpointTitle":"type 0 : language speech recognition(copy)"}],"interactionClickSteps":[],"dialogSteps":[{"step_num":6,"instance_id":"step_6","step_title":"LevelCompletedDialog","type":"dialog_level_completed","images":[{"id":"black_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"statement_2","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":85,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/d6440b55-5367-4612-9904-9b6723d739f1.png","xref":0,"yref":0,"alpha":1}],"buttons":[{"id":"658f976f-9787-4054-9410-c1c5c4e7fb4d","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-70,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"normal_id":"button_playagain","pressed_id":"417ac601-1036-4aa9-9a53-ac0d3646d193","inactive_id":"94842055-ee08-4b43-9b44-a88469587c79","state1_id":"abcec6a1-2347-4f45-a594-cd9d0fb5aac0","state2_id":"09f998c2-7cda-4def-a2f4-58ea0ebd3b15","action":"play_again_2","toggle":0,"active":1},{"id":"0e7dc1be-79c0-4413-a73b-eb4f951f81b3","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-70,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"normal_id":"button_play_game","pressed_id":"3cb7cfb9-402b-47e5-8b68-41b3180305ed","inactive_id":"a3c4c322-8d16-4b77-baff-b1127bd501ad","state1_id":"f3b6153d-06cf-4758-b44f-9d7046c7d081","state2_id":"29679143-df9d-4684-8d65-71cf0742f2ee","action":"pick_new_game","toggle":0,"active":1}],"audio_paths":[],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":7,"instance_id":"step_7","step_title":"LetPlayDialog","type":"dialog_lets_play","images":[{"id":"black_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1}],"buttons":[{"id":"05a0cea9-2d40-4204-9fb6-02ca4c4fc2bb","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":11},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"normal_id":"button_lets_play","pressed_id":"000aa20f-67d9-45d8-92d8-d1fe705313d4","inactive_id":"203c1afd-514b-4f51-8ad3-ddbebdca2e07","state1_id":"231f1728-36a4-4d9f-961e-8959cee78bb0","state2_id":"773b48db-faaa-4344-9988-c9d047ba4943","action":"lets_play","toggle":0,"active":1}],"audio_paths":[],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":8,"instance_id":"step_8","step_title":"HomeDialog","type":"dialog_home","images":[{"id":"black_left","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_center","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"black_right","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":854,"y":0,"z":10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Textures/2. Images/b0e1d9de-94a5-405b-8950-bf512fd800a2.png","xref":0,"yref":0,"alpha":1},{"id":"26b7aba2-8bea-49aa-a336-88bc397353ca","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":0,"y":55,"z":12},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/texture_updated/b497e19f-8ff1-4f14-a801-cbe87ff98018.png","xref":0,"yref":0,"alpha":1}],"buttons":[{"id":"a56c931c-e718-447c-bfaa-a1ff3763462b","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":210,"y":-75,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"normal_id":"button_continue","pressed_id":"f0de90e5-5587-4031-8a23-f202186b205a","inactive_id":"16c1c48b-6276-42c0-b237-352b39ac3142","state1_id":"25047050-7073-424c-b384-a176f056bc20","state2_id":"de7de457-de8d-4df8-b48d-4e26e09b2fac","action":"continue_game","toggle":0,"active":1},{"id":"8c5e1101-7aa2-4762-b766-cdfadef6a752","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-210,"y":-75,"z":15},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":0,"yref":0,"alpha":1,"normal_id":"pick_new_game","pressed_id":"13ce3e8e-5166-49eb-b1b7-60d22db55e83","inactive_id":"a5910dd0-c629-48fb-bd3c-fb53374565e0","state1_id":"59acd9da-197d-4225-8ce3-007d6976d263","state2_id":"baee1607-b323-4ddc-98c2-6cc9aa6adc5e","action":"pick_new_game","toggle":0,"active":1}],"audio_paths":[],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"enableDialogSteps":[{"step_num":16,"instance_id":"step_16","step_title":" EnableDialog lets play","type":"dialog_lets_play","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":500,"instance_id":"step_755","step_title":"level completed","type":"dialog_level_completed","checkpointTitle":"exam completion criteria(copy)"}],"menuSteps":[{"step_num":4,"instance_id":"step_4","step_title":"menu child","images":[],"buttons":[{"id":"3dc5ab43-28c4-4c49-8e4f-d744a0cd1703","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":45,"y":-35,"z":-10},"euler":{"x":0,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":-1,"yref":1,"alpha":1,"normal_id":"button_exit","pressed_id":"","inactive_id":"","state1_id":"","state2_id":"","action":"home","toggle":0,"active":0},{"id":"e6823736-b6aa-4e04-a5a3-06e3aba3c3ce","parentid":"","dictionary":"","indexInDictionary":"","position":{"x":-45,"y":-35,"z":-10},"euler":{"x":25,"y":0,"z":0},"scale":{"x":1,"y":1,"z":1},"image_path":"","xref":1,"yref":1,"alpha":1,"normal_id":"button_replay_audio","pressed_id":"","inactive_id":"inactive_audio_replay","state1_id":"","state2_id":"","action":"replay_audio","toggle":0,"active":0}],"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"menu2Steps":[],"repeatAudioPlaySteps":[],"repeatAudioStopSteps":[],"toggleSteps":[],"toggleResultSteps":[],"wrongnessTrackerSteps":[{"step_num":18,"instance_id":"step_18","step_title":" WrongResultTracker","type":"global","wrongResults":0,"checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"step_num":92,"instance_id":"step_147","step_title":"local wrongness clone","type":"local","wrongResults":0,"checkpointTitle":"reference"}],"resetWrongnessTrackerSteps":[{"step_num":20,"instance_id":"step_20","step_title":"Reset Wrongness Tracker Global","type":"global","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"wrongnessAddSteps":[],"correctnessAddSteps":[{"step_num":160,"instance_id":"step_812","step_title":"Correctness Add","checkpointTitle":"type 0 : language speech recognition(copy)"}],"jumpToStateOnWrongResultSteps":[],"verifyPositionsSteps":[],"verifyPositionsV2Steps":[],"repositionIfWrongSteps":[],"jumpToSteps":[{"step_num":140,"instance_id":"step_792","step_title":"skip overrule","jump_instance_id":"step_813","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":157,"instance_id":"step_809","step_title":"jump to drag","jump_instance_id":"step_813","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":171,"instance_id":"step_823","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":215,"instance_id":"step_930","step_title":"jump to end","jump_instance_id":"step_934","checkpointTitle":"type 0: maths"},{"step_num":224,"instance_id":"step_939","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 0: maths"},{"step_num":264,"instance_id":"step_437","step_title":"skip bottom right step","jump_instance_id":"step_440","checkpointTitle":"type 1 : sequence"},{"step_num":286,"instance_id":"step_459","step_title":"jump to end","jump_instance_id":"step_464","checkpointTitle":"type 1 : sequence"},{"step_num":294,"instance_id":"step_467","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 1 : sequence"},{"step_num":352,"instance_id":"step_879","step_title":"jump to end","jump_instance_id":"step_885","checkpointTitle":"type 0: letter type(copy)"},{"step_num":361,"instance_id":"step_889","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 0: letter type(copy)"},{"step_num":398,"instance_id":"step_509","step_title":"jump to end","jump_instance_id":"step_513","checkpointTitle":"type 1: language letter select"},{"step_num":407,"instance_id":"step_518","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 1: language letter select"},{"step_num":444,"instance_id":"step_200","step_title":"jump to end","jump_instance_id":"step_206","checkpointTitle":"type 0 : same size object"},{"step_num":453,"instance_id":"step_209","step_title":"verify exam completed","jump_instance_id":"step_698","checkpointTitle":"type 0 : same size object"},{"step_num":498,"instance_id":"step_750","step_title":"skip the step","jump_instance_id":"step_752","checkpointTitle":"exam completion criteria(copy)"}],"logSteps":[],"keyboardKeysSteps":[],"textSteps":[],"text2Steps":[],"disabletextSteps":[],"gettextSteps":[],"progressBarSteps":[],"progressBarFillSteps":[],"speechBubbleAnimationSteps":[],"removeSpeechBubbleAnimationSteps":[],"inputSteps":[],"inputWaitSteps":[],"disableInputSteps":[],"removeAllInputSteps":[],"dictionarySteps":[],"enableInputClueSteps":[],"interactionAudioAnytimeSteps":[],"stopInteractionAudioAnytimeSteps":[],"audioOnInactivitySteps":[{"step_num":116,"instance_id":"step_773","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/6750352c14ff6b594575eec3/assets/Assessment_game_1/Audio_updated/e60ed623-9002-4f50-afc5-fe0fd2640e4b.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":205,"instance_id":"step_920","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: maths"},{"step_num":244,"instance_id":"step_417","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 1 : sequence"},{"step_num":329,"instance_id":"step_859","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","checkpointTitle":"type 0: letter type(copy)"},{"step_num":388,"instance_id":"step_499","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","checkpointTitle":"type 1: language letter select"},{"step_num":434,"instance_id":"step_189","step_title":"SSAudioOnInActive","duration":15,"clip":"https://interactivecreator.s3.amazonaws.com/projects/673431c08bfd18871290cecc/assets/Veggie Word Explorers/Level 1/audio/00d657b5-1c47-4895-8fcf-59d038c61f69.mp3","fromaudiomapid":1,"audiomapid":"@jsondata(@count(subject_number).@count(type_number).common_audio)","checkpointTitle":"type 0 : same size object"}],"audioOnInactivityStopSteps":[{"step_num":144,"instance_id":"step_796","step_title":"SSAudioOnInActivityStop","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":165,"instance_id":"step_817","step_title":"SSAudioOnInActivityStop","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":460,"instance_id":"step_703","step_title":"Clear audio on Inactivity clone","checkpointTitle":"exam completion criteria(copy)"}],"pathSteps":[],"paintPathSteps":[],"paintManytoManyPointsSteps":[],"paintRemovePaintersSteps":[],"paintVerifyPaintersSteps":[],"clearPaintPathSteps":[],"lineDrawSteps":[],"removeMenu2Steps":[],"removeAllTimersSteps":[],"confettiSteps":[],"particlesSteps":[],"imageAudioSteps":[],"recordSteps":[],"checkForOverlapSteps":[],"conditionalJumpSteps":[],"countConditionalJumpSteps":[],"countSteps":[{"type":"set","value":"1","countid":"child_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":9,"instance_id":"step_9","step_title":"child_count = 1","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"1","countid":"right_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":10,"instance_id":"step_10","step_title":"right_number  = 1","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"0","countid":"index","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":28,"instance_id":"step_28","step_title":"loop index = 0","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"0","countid":"i","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":29,"instance_id":"step_29","step_title":"let i = 0 ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"@jsondata(subjects[@count(index)].id)","countid":"type_index","randomtype":"float","start_range_value":"0","end_range_value":"0","step_num":33,"instance_id":"step_33","step_title":"type_index   ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"random","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@jsondata(@count(type_index).length)-1)","step_num":34,"instance_id":"step_34","step_title":"random ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"random_question","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@jsondata(@count(type_index).@count(random).total_questons.length)-1)","step_num":40,"instance_id":"step_40","step_title":"random_question","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"increment","value":"1","countid":"i","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":45,"instance_id":"step_45","step_title":"let i = ++","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"increment","value":"1","countid":"index","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":47,"instance_id":"step_47","step_title":"index  ++ ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"0","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":58,"instance_id":"step_58","step_title":"let k = 0 ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"randomization","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@data(subject_name.length)-1)","step_num":60,"instance_id":"step_60","step_title":"randomizeat","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"increment","value":"1","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":68,"instance_id":"step_69","step_title":"let k = 1 ++ ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"type":"set","value":"0","countid":"correct_answer_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":80,"instance_id":"step_135","step_title":"🎞️ correct_answer_count = 0","checkpointTitle":"reference"},{"type":"set","value":"0","countid":"incorrect_answers_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":81,"instance_id":"step_136","step_title":"🎞️ incorrect_answers_count = 0","checkpointTitle":"reference"},{"type":"set","value":"0","countid":"question_id","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":82,"instance_id":"step_137","step_title":"🎞️ question_id clear","checkpointTitle":"reference"},{"type":"set","value":"@time","countid":"game_start_time","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":83,"instance_id":"step_138","step_title":"game_start_time","checkpointTitle":"reference"},{"type":"set","value":"@data(subject[0])","countid":"subject_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":88,"instance_id":"step_143","step_title":"subject_number","checkpointTitle":"reference"},{"type":"set","value":"@data(type[0])","countid":"type_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":89,"instance_id":"step_144","step_title":"type_number","checkpointTitle":"reference"},{"type":"set","value":"@data(question[0])","countid":"question_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":90,"instance_id":"step_145","step_title":"question_number","checkpointTitle":"reference"},{"type":"set","value":"0","countid":"option_loop","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":131,"instance_id":"step_782","step_title":"option_loop = 0 ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"type":"increment","value":"1","countid":"option_loop","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":135,"instance_id":"step_787","step_title":"option_loop ++","checkpointTitle":"type 0 : language speech recognition(copy)"},{"type":"set","value":"0","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":187,"instance_id":"step_909","step_title":"let k = 0 ","checkpointTitle":"type 0: maths"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"re_arrange","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)-1)","step_num":188,"instance_id":"step_910","step_title":"re_arrange","checkpointTitle":"type 0: maths"},{"type":"increment","value":"1","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":191,"instance_id":"step_913","step_title":"let k = 1 ++ ","checkpointTitle":"type 0: maths"},{"type":"set","value":"0","countid":"select_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":238,"instance_id":"step_408","step_title":"let select_count","checkpointTitle":"type 1 : sequence"},{"type":"set","value":"0","countid":"type_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":255,"instance_id":"step_428","step_title":"let type_count 0","checkpointTitle":"type 1 : sequence"},{"type":"increment","value":"1","countid":"type_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":268,"instance_id":"step_441","step_title":"let type_count ++","checkpointTitle":"type 1 : sequence"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"random_letter","randomtype":"integer","start_range_value":"0","end_range_value":"11","step_num":311,"instance_id":"step_841","step_title":"random_letter","checkpointTitle":"type 0: letter type(copy)"},{"type":"set","value":"0","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":319,"instance_id":"step_849","step_title":"let k = 0 ","checkpointTitle":"type 0: letter type(copy)"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"re_arrange","randomtype":"integer","start_range_value":"0","end_range_value":"5","step_num":320,"instance_id":"step_850","step_title":"re_arrange","checkpointTitle":"type 0: letter type(copy)"},{"type":"increment","value":"1","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":323,"instance_id":"step_853","step_title":"let k = 1 ++ ","checkpointTitle":"type 0: letter type(copy)"},{"type":"set","value":"0","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":377,"instance_id":"step_488","step_title":"let k = 0 ","checkpointTitle":"type 1: language letter select"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"re_arrange","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)-1)","step_num":378,"instance_id":"step_489","step_title":"re_arrange","checkpointTitle":"type 1: language letter select"},{"type":"increment","value":"1","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":381,"instance_id":"step_492","step_title":"let k = 1 ++ ","checkpointTitle":"type 1: language letter select"},{"type":"set","value":"0","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":423,"instance_id":"step_178","step_title":"let k = 0 ","checkpointTitle":"type 0 : same size object"},{"type":"random","value":"@jsondata(subjects[@count(index)].id)","countid":"re_arrange","randomtype":"integer","start_range_value":"0","end_range_value":"@calc(@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)-1)","step_num":424,"instance_id":"step_179","step_title":"re_arrange","checkpointTitle":"type 0 : same size object"},{"type":"increment","value":"1","countid":"k","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":427,"instance_id":"step_182","step_title":"let k = 1 ++ ","checkpointTitle":"type 0 : same size object"},{"type":"increment","value":"1","countid":"question_id","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":467,"instance_id":"step_710","step_title":"🎞️ question_id ++","checkpointTitle":"exam completion criteria(copy)"},{"type":"set","value":"@calc(@count(child_count)-1)","countid":"child_array_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":468,"instance_id":"step_711","step_title":"child_array_count = @calc(@count(child_count)-1)","checkpointTitle":"exam completion criteria(copy)"},{"type":"increment","value":"1","countid":"correct_answer_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":472,"instance_id":"step_715","step_title":"🎞️ correct_answer_count ++","checkpointTitle":"exam completion criteria(copy)"},{"type":"increment","value":"1","countid":"incorrect_answers_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":474,"instance_id":"step_717","step_title":"🎞️ incorrect_answers_count ++ clone","checkpointTitle":"exam completion criteria(copy)"},{"type":"set","value":"@time","countid":"game_end_time","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":487,"instance_id":"step_731","step_title":"game_end_time","checkpointTitle":"exam completion criteria(copy)"},{"type":"set","value":"@calc(@int(@count(game_end_time))- @int(@count(game_start_time)))","countid":"time_taken_for_child","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":488,"instance_id":"step_732","step_title":"time_taken_for_child","checkpointTitle":"exam completion criteria(copy)"},{"type":"increment","value":"1","countid":"child_count","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":494,"instance_id":"step_746","step_title":"child_count = 1 ++","checkpointTitle":"exam completion criteria(copy)"},{"type":"increment","value":"1","countid":"left_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":496,"instance_id":"step_748","step_title":"left_number = 1 ++","checkpointTitle":"exam completion criteria(copy)"},{"type":"set","value":"0","countid":"right_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":497,"instance_id":"step_749","step_title":"right_number  = 0","checkpointTitle":"exam completion criteria(copy)"},{"type":"increment","value":"1","countid":"right_number","randomtype":"integer","start_range_value":"0","end_range_value":"0","step_num":499,"instance_id":"step_751","step_title":"right_number  = 1 ++  clone","checkpointTitle":"exam completion criteria(copy)"}],"clearResultsSteps":[{"results":[],"all":1,"step_num":117,"instance_id":"step_774","step_title":"Clear Results","checkpointTitle":"type 0 : language speech recognition(copy)"},{"results":[],"all":1,"step_num":123,"instance_id":"step_957","step_title":"Clear Results","checkpointTitle":"type 0 : language speech recognition(copy)"},{"results":[],"all":1,"step_num":150,"instance_id":"step_802","step_title":"Clear Results","checkpointTitle":"type 0 : language speech recognition(copy)"},{"results":[],"all":1,"texts":[],"enables_gif":[],"step_num":161,"instance_id":"step_813","step_title":"clear results ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"results":[],"all":1,"step_num":206,"instance_id":"step_921","step_title":"Clear Results","checkpointTitle":"type 0: maths"},{"results":[],"all":1,"step_num":246,"instance_id":"step_419","step_title":"Clear Results","checkpointTitle":"type 1 : sequence"},{"results":[],"all":1,"step_num":256,"instance_id":"step_429","step_title":"Clear Results","checkpointTitle":"type 1 : sequence"},{"results":[],"all":1,"step_num":330,"instance_id":"step_860","step_title":"Clear Results","checkpointTitle":"type 0: letter type(copy)"},{"results":[],"all":1,"step_num":338,"instance_id":"step_868","step_title":"Clear Results","checkpointTitle":"type 0: letter type(copy)"},{"results":[],"all":1,"step_num":389,"instance_id":"step_500","step_title":"Clear Results","checkpointTitle":"type 1: language letter select"},{"results":[],"all":1,"step_num":435,"instance_id":"step_190","step_title":"Clear Results","checkpointTitle":"type 0 : same size object"},{"results":[],"all":1,"step_num":459,"instance_id":"step_702","step_title":"Clear Results","checkpointTitle":"exam completion criteria(copy)"}],"shakeAnimationSteps":[],"dragDropSteps":[],"dragDropV2Steps":[],"dragAreaDropSteps":[],"movebackLatestResultSteps":[],"audioForLatestResultSteps":[],"audioForLatestResult2Steps":[],"consoleLogSteps":[{"message":"","step_num":11,"instance_id":"step_11","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"","step_num":15,"instance_id":"step_15","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"","step_num":19,"instance_id":"step_19","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"","step_num":27,"instance_id":"step_27","step_title":"🔽🔽🔽main array🔽🔽🔽","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@jsondata(subjects[@count(index)].id)","step_num":32,"instance_id":"step_32","step_title":"⬇️⬇️⬇️⬇️ type ⬇️⬇️⬇️⬇️  subject_type push","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@jsondata(@count(type_index).@count(random).total_questons.length)","step_num":39,"instance_id":"step_39","step_title":"⤵️⤵️⤵️ question ⤵️⤵️⤵️ subject_question push","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@jsondata(@count(type_index).@count(random).total_questons.length)","step_num":44,"instance_id":"step_44","step_title":"⤴️⤴️⤴️question ⤴️⤴️⤴️ subject_question push","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@jsondata(subjects[@count(index)].id)","step_num":48,"instance_id":"step_48","step_title":"⬆️⬆️⬆️⬆️type⬆️⬆️⬆️⬆️  subject_type push","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(subject_name)","step_num":50,"instance_id":"step_50","step_title":"🔼🔼🔼main array🔼🔼🔼","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"","step_num":51,"instance_id":"step_51","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(subject_name)","step_num":52,"instance_id":"step_52","step_title":"@data(subject_name) 🔽🔽","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(game_type)","step_num":53,"instance_id":"step_53","step_title":"@data(game_type) ⬇️⬇️","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(game_question)","step_num":54,"instance_id":"step_54","step_title":"@data(game_question) ⤵️⤵️","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(array_path)","step_num":55,"instance_id":"step_55","step_title":"@data(array_path)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"","step_num":56,"instance_id":"step_56","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@count(randomization)","step_num":59,"instance_id":"step_59","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@count(randomization) : @data(random_number_save)","step_num":61,"instance_id":"step_61","step_title":"➖➖➖➖@data(question)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(array_path)","step_num":70,"instance_id":"step_71","step_title":"➖➖➖➖@data(array_path)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(abc)","step_num":71,"instance_id":"step_72","step_title":"➖➖➖➖@data(abc) ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(subject)","step_num":72,"instance_id":"step_73","step_title":"➖➖➖➖@data(subject)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@data(type)","step_num":73,"instance_id":"step_74","step_title":"➖➖➖➖@data(type)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@calc(@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)-1)","step_num":74,"instance_id":"step_75","step_title":"➖➖➖➖@data(question)","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"message":"@count(child_count)","step_num":75,"instance_id":"step_130","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"reference"},{"message":"@count(child_count)","step_num":76,"instance_id":"step_131","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"reference"},{"message":"@count(game_start_time)","step_num":86,"instance_id":"step_141","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖ @data(game_start_time)","checkpointTitle":"reference"},{"message":"","step_num":87,"instance_id":"step_142","step_title":"reference ","checkpointTitle":"reference"},{"message":"","step_num":93,"instance_id":"step_148","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"reference"},{"message":"","step_num":101,"instance_id":"step_758","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"","step_num":105,"instance_id":"step_762","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"","step_num":106,"instance_id":"step_763","step_title":"------------- subject  1 -------------------","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"@jsondata(@count(subject_number).@count(type_number).background)_left","step_num":109,"instance_id":"step_766","step_title":"-------------  Type = 0  ------------------- clone","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"@count(option_loop)","step_num":133,"instance_id":"step_785","step_title":"--------- option_loop count = ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"@jsondata(sets[@count(set)].correct_answer[@count(option_loop)])","step_num":134,"instance_id":"step_786","step_title":"--------- option_loop count =  clone","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"@result","step_num":139,"instance_id":"step_791","step_title":"--------- -------------------","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"","step_num":172,"instance_id":"step_824","step_title":"-------------  next  -------------------","checkpointTitle":"type 0 : language speech recognition(copy)"},{"message":"","step_num":173,"instance_id":"step_895","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: maths"},{"message":"","step_num":177,"instance_id":"step_899","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: maths"},{"message":"","step_num":178,"instance_id":"step_900","step_title":"------------- subject  2 -------------------","checkpointTitle":"type 0: maths"},{"message":"","step_num":181,"instance_id":"step_903","step_title":"-------------  Type = 0  -------------------","checkpointTitle":"type 0: maths"},{"message":"","step_num":185,"instance_id":"step_907","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"type 0: maths"},{"message":"","step_num":193,"instance_id":"step_915","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: maths"},{"message":"@data(re_arrange_option)","step_num":194,"instance_id":"step_916","step_title":"➖➖➖➖@data(re_arrange_option)","checkpointTitle":"type 0: maths"},{"message":"@data(re_arrange_option)","step_num":202,"instance_id":"step_947","step_title":"➖➖➖➖@data(re_arrange_option)","checkpointTitle":"type 0: maths"},{"message":"","step_num":225,"instance_id":"step_940","step_title":"-------------  next  -------------------","checkpointTitle":"type 0: maths"},{"message":"","step_num":226,"instance_id":"step_396","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":230,"instance_id":"step_400","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":231,"instance_id":"step_401","step_title":"------------- subject  2 -------------------","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":234,"instance_id":"step_404","step_title":"-------------  Type = 1 -------------------","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":239,"instance_id":"step_409","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"type 1 : sequence"},{"message":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).top_options[0])","step_num":240,"instance_id":"step_410","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 1 : sequence"},{"message":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","step_num":254,"instance_id":"step_427","step_title":"➖➖➖➖@data(question)","checkpointTitle":"type 1 : sequence"},{"message":"@data(save_type) = @data(save_type[0])@data(save_type[1])","step_num":270,"instance_id":"step_443","step_title":"➖➖➖complete➖➖➖➖","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":295,"instance_id":"step_468","step_title":"-------------  next  -------------------","checkpointTitle":"type 1 : sequence"},{"message":"","step_num":296,"instance_id":"step_826","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":300,"instance_id":"step_830","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":301,"instance_id":"step_831","step_title":"------------- subject  3 -------------------","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":304,"instance_id":"step_834","step_title":"-------------  Type = 1-------------------","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":308,"instance_id":"step_838","step_title":"➖➖➖random letter➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"@data(random_alphabet)","step_num":312,"instance_id":"step_842","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"@data(random_alphabet.length) = @data(random_alphabet)","step_num":316,"instance_id":"step_846","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖ @data(random_alphabet)","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":317,"instance_id":"step_847","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","step_num":325,"instance_id":"step_855","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 0: letter type(copy)"},{"message":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).name)","step_num":337,"instance_id":"step_867","step_title":"➖➖➖➖@data(question)","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":362,"instance_id":"step_890","step_title":"-------------  next  -------------------","checkpointTitle":"type 0: letter type(copy)"},{"message":"","step_num":363,"instance_id":"step_474","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":367,"instance_id":"step_478","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":368,"instance_id":"step_479","step_title":"------------- subject  3 -------------------","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":371,"instance_id":"step_482","step_title":"-------------  Type = 0  -------------------","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":375,"instance_id":"step_486","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":383,"instance_id":"step_494","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 1: language letter select"},{"message":"@data(re_arrange_option)","step_num":384,"instance_id":"step_495","step_title":"➖➖➖➖@data(re_arrange_option)","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":408,"instance_id":"step_519","step_title":"-------------  next  -------------------","checkpointTitle":"type 1: language letter select"},{"message":"","step_num":409,"instance_id":"step_164","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":413,"instance_id":"step_168","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖➖","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":414,"instance_id":"step_169","step_title":"------------- subject  4 -------------------","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":417,"instance_id":"step_172","step_title":"-------------  Type = 0  -------------------","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":421,"instance_id":"step_176","step_title":"➖➖➖randomization➖➖➖","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":429,"instance_id":"step_184","step_title":"➖➖➖➖➖➖➖➖","checkpointTitle":"type 0 : same size object"},{"message":"@data(re_arrange_option)","step_num":430,"instance_id":"step_185","step_title":"➖➖➖➖@data(re_arrange_option)","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":454,"instance_id":"step_210","step_title":"-------------  next  -------------------","checkpointTitle":"type 0 : same size object"},{"message":"","step_num":455,"instance_id":"step_698","step_title":"------------ remove the questions from array -------","checkpointTitle":"exam completion criteria(copy)"},{"message":"⬇️⬇️⬇️⬇️analytics⬇️⬇️⬇️⬇️⬇️⬇️","step_num":465,"instance_id":"step_708","step_title":"⬇️⬇️⬇️⬇️analytics⬇️⬇️⬇️⬇️⬇️⬇️","checkpointTitle":"exam completion criteria(copy)"},{"message":"⬆️⬆️⬆️⬆️analytics⬆️⬆️⬆️⬆️  ","step_num":475,"instance_id":"step_718","step_title":"⬆️⬆️⬆️⬆️analytics⬆️⬆️⬆️⬆️","checkpointTitle":"exam completion criteria(copy)"},{"message":"","step_num":482,"instance_id":"step_726","step_title":"➖➖➖➖➖➖➖➖➖➖➖➖subject_type","checkpointTitle":"exam completion criteria(copy)"},{"message":"⬇️⬇️⬇️⬇️analytics⬇️⬇️⬇️⬇️⬇️⬇️","step_num":486,"instance_id":"step_730","step_title":"⬇️⬇️⬇️⬇️analytics⬇️⬇️⬇️⬇️⬇️⬇️","checkpointTitle":"exam completion criteria(copy)"},{"message":"@json(@comm)","step_num":491,"instance_id":"step_738","step_title":"Log in Console @json(@comm)","checkpointTitle":"exam completion criteria(copy)"},{"message":"⬆️⬆️⬆️⬆️analytics⬆️⬆️⬆️⬆️","step_num":493,"instance_id":"step_740","step_title":"⬆️⬆️⬆️⬆️analytics⬆️⬆️⬆️⬆️","checkpointTitle":"exam completion criteria(copy)"}],"scrollingLayerSteps":[],"lockForActionsSteps":[{"locks":[],"type":"latest_result","step_num":252,"instance_id":"step_425","step_title":"Lock for Actions","checkpointTitle":"type 1 : sequence"}],"lockForActionsClearSteps":[{"step_num":162,"instance_id":"step_814","step_title":"clear Lock for action","checkpointTitle":"type 0 : language speech recognition(copy)"},{"step_num":292,"instance_id":"step_465","step_title":"Clear Lock for Actions","checkpointTitle":"type 1 : sequence"},{"step_num":458,"instance_id":"step_701","step_title":"Clear Lock for Actions","checkpointTitle":"exam completion criteria(copy)"}],"idMapSteps":[{"idmaps":[{"ssid":"5d7d43b7-753a-4cab-b385-57931919f124","refid":"child -----------------------------","list":[{"ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","id":"child_0"},{"ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","id":"child_1"},{"ssid":"51f00350-241b-40e6-a4c7-faf806202560","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","id":"child_2"},{"ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","id":"child_3"},{"ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","id":"child_4"},{"ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","id":"child_5"},{"ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","id":"child_6"},{"ssid":"617934f6-4de0-4312-b7c6-762552584c08","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","id":"child_7"},{"ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","id":"child_8"},{"ssid":"fb61a068-f77f-40af-afde-272bd484fb86","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","id":"child_9"}]},{"ssid":"76225fe2-2710-4645-b41a-64b422bc36e0","refid":"child _1","list":[{"ssid":"ecc3deeb-f791-4f22-8732-965b4900353d","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9a95fb69-749c-499d-9dab-bc7419de6501.png","id":"child_0_1"},{"ssid":"40bd339e-bf21-4cde-9536-a0a18185bb22","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/8f9284a1-a3d0-407f-9c94-8753b7b9d82f.png","id":"child_1_1"},{"ssid":"51f00350-241b-40e6-a4c7-faf806202560","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/ee1e678b-0ab3-49ac-97fc-7e4ac4645a54.png","id":"child_2_1"},{"ssid":"0779db2c-5a43-4a94-b1b8-1627c1a1fa76","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/a69d4f15-0e1f-4e16-a9cf-bbb93c3668af.png","id":"child_3_1"},{"ssid":"b6a0bfd2-8727-48c9-974d-d2b8808c3c09","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/064f5970-3064-41a9-abd6-c1fad27444c6.png","id":"child_4_1"},{"ssid":"d26ef4e4-b6bb-4a30-8fc6-459d7cd2c002","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/d5e28ed1-5188-4833-8b6a-0290a9169b0f.png","id":"child_5_1"},{"ssid":"cc8adfde-bd88-435d-8d04-63d9048a1b55","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/9ab24b08-3eb5-4d05-9a2c-4aa97a5ef2cc.png","id":"child_6_1"},{"ssid":"617934f6-4de0-4312-b7c6-762552584c08","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/372436dd-20e1-49b2-841b-7f474d81da5e.png","id":"child_7_1"},{"ssid":"fe40942f-1bde-43be-aa59-5adf385741c2","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/0bc90c31-a950-4a72-b608-a2229fbe4454.png","id":"child_8_1"},{"ssid":"fb61a068-f77f-40af-afde-272bd484fb86","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/child_number/1ee74086-a8b2-4869-bd7e-81ad5830d4ee.png","id":"child_9_1"}]},{"ssid":"f1744684-5dce-4499-ad34-faa6a340c7be","refid":"background","list":[{"ssid":"a66bc555-a699-4e46-b4c6-daaf5df73d20","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","id":"background_oral_left"},{"ssid":"746a1dfe-7ff4-4d30-bfc5-833f8354c183","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","id":"background_oral_center"},{"ssid":"c6cee987-b589-4bde-97c5-b8a8f83b5e92","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/293e400b-af2e-4206-a729-13717192544d.png","id":"background_oral_right"},{"ssid":"5645c9e2-55b0-470b-8ffa-07f637a97295","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","id":"background_type_left"},{"ssid":"749ca808-b3ec-4248-a060-2f582a6d7dc7","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","id":"background_type_center"},{"ssid":"da17c8d2-f1af-4744-8106-ce86148a3f0e","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/6830d0bc-c069-4600-8a6c-0f118a97d69e.png","id":"background_type_right"},{"ssid":"db3bbe24-f7e5-4cd7-bcd3-8b5ab108005d","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","id":"background_tap_left"},{"ssid":"28f24e9b-56e4-4c8e-b4db-0b7b46c0ee2e","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","id":"background_tap_center"},{"ssid":"632c0bc3-fe9d-46ce-96f6-c7becd551f05","path":"https://interactivecreator.s3.amazonaws.com/projects/6763c6d214ff6b5945902a4b/assets/Assessment_game_A3_L3_updated/Images/1 Background/cbfc9775-c6c2-4201-abfc-21fe4647e369.png","id":"background_tap_right"}]},{"ssid":"eda06b74-12b6-4001-b8ad-7196cbf791c5","refid":"--------------------------------------------------------------------------","list":[]},{"ssid":"d683f6ee-b42d-4040-b0bd-7896cc8acfb8","refid":"sensorial  type:0","list":[{"ssid":"6b5921ed-8093-48cc-be61-c447eaa50ec1","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/black.png","id":"black_colour"},{"ssid":"3ad162a8-c974-40db-bac3-22f5dc6550c0","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/blue.png","id":"blue_colour"},{"ssid":"1487b308-a3b1-42ca-84df-4dd5f315dbb0","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/brown.png","id":"brown_colour"},{"ssid":"b4d71fcc-2665-4c45-819d-438aca02c900","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/green.png","id":"green_colour"},{"ssid":"d0ab1e9c-3162-40b7-abe7-f12a24110467","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/grey.png","id":"grey_colour"},{"ssid":"788e938a-4bbd-4baa-8ab2-1663031f3a56","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/orange.png","id":"orange_colour"},{"ssid":"db9d4bdd-685b-40c4-af67-204f4b48fe34","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/pink.png","id":"pink_colour"},{"ssid":"aa098e25-2096-46eb-95da-b1690e76e06d","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/purple.png","id":"purple_colour"},{"ssid":"9b1bbf9d-b340-428c-9e30-2908a10d7ab6","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/red.png","id":"red_colour"},{"ssid":"a4c77c99-c324-47cd-bd5d-ca0be0747e5c","path":"./assets/Assessment_game_11/images/Sensorial/Type 0/yellow.png","id":"yellow_colour"}]},{"ssid":"f71e3163-189d-4e3f-9a9c-ad2436be2471","refid":"EVS","list":[{"ssid":"56a454af-1aea-438f-958d-aab65a009e53","path":"./assets/Assessment_game_11/images/EVS/type 0/book.png","id":"book_image"},{"ssid":"c5bd80c3-a769-445d-b3b6-fc3458dd38c4","path":"./assets/Assessment_game_11/images/EVS/type 0/clock.png","id":"clock_image"},{"ssid":"5657ebb1-a88d-4da7-a1ee-1e509abe3d79","path":"./assets/Assessment_game_11/images/EVS/type 0/coffe_maker.png","id":"coffee_maker_image"},{"ssid":"76a79b42-399d-429b-bb34-28fcc77f049a","path":"./assets/Assessment_game_11/images/EVS/type 0/cooker.png","id":"cooker_image"},{"ssid":"3a3a52e4-4ef7-4934-9857-cef38bc110d3","path":"./assets/Assessment_game_11/images/EVS/type 0/cutlery.png","id":"cutlery_image"},{"ssid":"d9e526ee-265d-44d5-bfc6-cc7ae247680f","path":"./assets/Assessment_game_11/images/EVS/type 0/dish_washer.png","id":"dishwasher_image"},{"ssid":"b9fb3a67-6595-4e2e-96a5-05b284f57975","path":"./assets/Assessment_game_11/images/EVS/type 0/fridge .png","id":"fridge_image"},{"ssid":"e5655d74-cc87-497e-a96c-46a9a8558cf3","path":"./assets/Assessment_game_11/images/EVS/type 0/gas_cylinder.png","id":"gas_cylinder_image"},{"ssid":"e54ccdbe-4921-4f96-b42f-87a8abc835ab","path":"./assets/Assessment_game_11/images/EVS/type 0/iron_box.png","id":"iron_box_image"},{"ssid":"51830452-b3d2-4c3e-9054-22e1210b4e14","path":"./assets/Assessment_game_11/images/EVS/type 0/jug.png","id":"jug_image"},{"ssid":"30733376-0aaa-4001-aeb9-3824563142c7","path":"./assets/Assessment_game_11/images/EVS/type 0/lamp.png","id":"lamp_image"},{"ssid":"1595914c-4954-4c2c-ae56-d03bf99d9673","path":"./assets/Assessment_game_11/images/EVS/type 0/mirror.png","id":"mirror_image"},{"ssid":"e9a63fa6-539d-4e07-9673-d98ec3a6d6b3","path":"./assets/Assessment_game_11/images/EVS/type 0/mop.png","id":"mop_image"},{"ssid":"eefeb8d1-56f8-4ec7-85c5-9c0e1aafe17a","path":"./assets/Assessment_game_11/images/EVS/type 0/shower.png","id":"shower_image"},{"ssid":"921a2fb9-c125-42b9-be06-cc809ae41253","path":"./assets/Assessment_game_11/images/EVS/type 0/sofa.png","id":"sofa_image"},{"ssid":"b02335a3-eaff-49e9-9bab-645dc3a49929","path":"./assets/Assessment_game_11/images/EVS/type 0/table.png","id":"table_image"},{"ssid":"e5962807-7bf0-4b8a-89f9-ec2edeab6f45","path":"./assets/Assessment_game_11/images/EVS/type 0/toaster.png","id":"toaster_image"},{"ssid":"87335885-406a-4924-bf4b-6ee8edcfd75f","path":"./assets/Assessment_game_11/images/EVS/type 0/towel.png","id":"towel_image"},{"ssid":"01f62f20-cc5f-41f8-a37a-e508462a2dc0","path":"./assets/Assessment_game_11/images/EVS/type 0/tv.png","id":"tv_image"},{"ssid":"9d798bc4-b51b-4563-aba8-76cb06e75037","path":"./assets/Assessment_game_11/images/updated assets/vase_image.png","id":"vase_image"},{"ssid":"484ea74a-3078-4208-a27c-a369bdf81f02","path":"./assets/Assessment_game_11/images/updated assets/bathroom.png","id":"bathroom"},{"ssid":"6720f552-76f6-47f7-9192-d1ef9aecd680","path":"./assets/Assessment_game_11/images/updated assets/bedroom.png","id":"bedroom"},{"ssid":"bb449b09-0c8d-4248-b530-f083f17dccc5","path":"./assets/Assessment_game_11/images/updated assets/dinig room.png","id":"dining_room"},{"ssid":"bd0c1381-ab50-473f-9c05-12ed8fa93834","path":"./assets/Assessment_game_11/images/updated assets/kitchen.png","id":"kitchen"},{"ssid":"7b032da6-f066-4621-88e7-4e587d2ee206","path":"./assets/Assessment_game_11/images/updated assets/livin room.png","id":"living_room"}]},{"ssid":"5531c62a-b24d-483d-b626-9d9f348f7380","refid":"lang type 1","list":[{"ssid":"0c0faf2f-e3be-4190-b89a-be25e2c71f99","path":"./assets/Assessment_game_11/images/language/Type 1/aeroplane.png","id":"aeroplane"},{"ssid":"36d92e99-d8ec-4323-9708-b41a0f8c83d5","path":"./assets/Assessment_game_11/images/language/Type 1/Anchor.png","id":"anchor"},{"ssid":"00da07de-33fd-4249-82fd-a5c21539d91e","path":"./assets/Assessment_game_11/images/language/Type 1/Backpack.png","id":"backpack"},{"ssid":"12dc5841-de0d-4acf-889b-dcd00144f259","path":"./assets/Assessment_game_11/images/language/Type 1/bathtub.png","id":"bathtub"},{"ssid":"08a89cf1-7de0-46f2-8484-81b006d015f0","path":"./assets/Assessment_game_11/images/language/Type 1/bed.png","id":"bed"},{"ssid":"6d8c6208-80e0-4942-b187-1cd91872d421","path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","id":"belt"},{"ssid":"8f0a2c90-69a6-4c55-9d68-003ff159d301","path":"./assets/Assessment_game_11/images/language/Type 1/candle.png","id":"candle"},{"ssid":"8803e4ed-c3b9-4500-a870-0bc07ac822b4","path":"./assets/Assessment_game_11/images/language/Type 1/compass.png","id":"compass"},{"ssid":"89cc7a47-a68f-40da-964b-f9b9e9be18ab","path":"./assets/Assessment_game_11/images/language/Type 1/cooker.png","id":"cooker"},{"ssid":"3599fc0e-af72-413a-b734-98053f9affc5","path":"./assets/Assessment_game_11/images/language/Type 1/crayons.png","id":"crayons"},{"ssid":"5b16eb77-87b4-4730-b32c-491a58bdec59","path":"./assets/Assessment_game_11/images/language/Type 1/cycle.png","id":"cycle"},{"ssid":"591e6fc9-5642-40b4-8e8a-057230ba1c03","path":"./assets/Assessment_game_11/images/updated assets/fork_image.png","id":"fork"},{"ssid":"5c50b64a-8fdd-425f-9ea8-831b3f86cbb3","path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","id":"gloves"},{"ssid":"79b8813d-6cb4-43e3-bb40-91f4d13d8941","path":"./assets/Assessment_game_11/images/language/Type 1/grinder.png","id":"grinder"},{"ssid":"6a803e0a-c23c-4d18-b41d-9038dcbc41a0","path":"./assets/Assessment_game_11/images/language/Type 1/hammer.png","id":"hammer"},{"ssid":"0e3d5432-e229-4a84-8189-30cf43660efb","path":"./assets/Assessment_game_11/images/language/Type 1/handkerchief.png","id":"handkerchief"},{"ssid":"64c34fa8-e6ef-46b2-aafe-63eefb725e9c","path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","id":"kettle"},{"ssid":"e5d2737f-0f76-4920-abb3-1c18c4bac4ff","path":"./assets/Assessment_game_11/images/language/Type 1/Key board.png","id":"keyboard"},{"ssid":"22a2ae52-e185-42e1-8ace-f46056f2c551","path":"./assets/Assessment_game_11/images/language/Type 1/ladder.png","id":"ladder"},{"ssid":"7b4b06e4-b439-4fc2-a1c4-648c18395b3e","path":"./assets/Assessment_game_11/images/language/Type 1/leaf.png","id":"leaf"},{"ssid":"5d928101-5228-4e71-8678-8594b980661b","path":"./assets/Assessment_game_11/images/language/Type 1/map.png","id":"map"},{"ssid":"e911a74c-5d05-4acc-b56d-0c95e7637058","path":"./assets/Assessment_game_11/images/language/Type 1/Microwave .png","id":"microwave"},{"ssid":"f07d08c7-c2cd-4f2e-b8f5-428cfaa5c7f2","path":"./assets/Assessment_game_11/images/language/Type 1/mixer.png","id":"mixer"},{"ssid":"bbefb219-6923-4f14-8292-60c41de5d94d","path":"./assets/Assessment_game_11/images/language/Type 1/monkey.png","id":"monkey"},{"ssid":"e5a849f0-ebe0-4ce3-a321-20a530b3efdc","path":"./assets/Assessment_game_11/images/language/Type 1/mouse.png","id":"mouse"},{"ssid":"a3b2305d-22f9-4623-bb29-75886442a8eb","path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","id":"orange"},{"ssid":"69b38bda-0b40-4011-bddd-b297f5cfa2f2","path":"./assets/Assessment_game_11/images/language/Type 1/pan.png","id":"pan"},{"ssid":"188596ee-0dfa-475f-b2bb-89cb35725487","path":"./assets/Assessment_game_11/images/language/Type 1/pillow.png","id":"pillow"},{"ssid":"6c416bf9-0870-4ca1-bac5-9a0dd935098e","path":"./assets/Assessment_game_11/images/language/Type 1/pot.png","id":"pot"},{"ssid":"ff0451f7-6044-43e8-b226-d36efd9efa4d","path":"./assets/Assessment_game_11/images/updated assets/quilt_image.png","id":"quilt"},{"ssid":"0c829a19-b1c0-457f-b4fc-2df788ea06dc","path":"./assets/Assessment_game_11/images/language/Type 1/radio.png","id":"radio"},{"ssid":"aa616c65-15ba-4cab-90a1-f878a224846c","path":"./assets/Assessment_game_11/images/language/Type 1/rain_coat.png","id":"raincoat"},{"ssid":"48bd0156-f12b-4d97-a1d8-f6f6665f1bc6","path":"./assets/Assessment_game_11/images/language/Type 1/Scissor.png","id":"scissor"},{"ssid":"2272d86b-c624-4c9a-b350-dfb72522e384","path":"./assets/Assessment_game_11/images/language/Type 1/sharpner.png","id":"sharpener"},{"ssid":"7f8a664b-827d-476d-8a7d-d2d09ed1c3d0","path":"./assets/Assessment_game_11/images/language/Type 1/ship.png","id":"ship"},{"ssid":"4206c3a7-5229-4ac0-a308-96b1a70bb1c5","path":"./assets/Assessment_game_11/images/language/Type 1/sweater.png","id":"sweater"},{"ssid":"5ba86346-b5bd-4b6a-8eb0-37dcb40f2720","path":"./assets/Assessment_game_11/images/language/Type 1/Tap.png","id":"tap"},{"ssid":"5653ee5b-69ec-4787-91a4-9c47e86da98e","path":"./assets/Assessment_game_11/images/language/Type 1/telephone.png","id":"telephone"},{"ssid":"b763a878-72a7-4329-9fdf-625ba636a6bb","path":"./assets/Assessment_game_11/images/language/Type 1/thermo meter.png","id":"thermo_meter"},{"ssid":"a3b26841-befb-4444-a23b-3555f2f87191","path":"./assets/Assessment_game_11/images/language/Type 1/towel.png","id":"towel"},{"ssid":"4ccb387f-9026-4c4b-b295-d7890725ce64","path":"./assets/Assessment_game_11/images/language/Type 1/truck.png","id":"truck"},{"ssid":"84cc7763-c3b6-4bb6-baa9-2869c8493f52","path":"./assets/Assessment_game_11/images/language/Type 1/washing machine.png","id":"washing_machine"},{"ssid":"caa416ca-8f46-443f-beaa-0a38ab6991e9","path":"./assets/Assessment_game_11/images/language/Type 1/water bottle.png","id":"water_bottle"},{"ssid":"17c7630e-d22d-4870-9d82-ed58e7f6f32a","path":"./assets/Assessment_game_11/images/language/Type 1/Whistle.png","id":"whistle"},{"ssid":"56c7b9e4-0fee-49cd-afb7-a2abefe8effc","path":"./assets/Assessment_game_11/images/language/Type 1/belt.png","id":"belt"},{"ssid":"2f835838-8202-487a-817c-7b083a5eceb2","path":"./assets/Assessment_game_11/images/language/Type 1/blanket.png","id":"blanket"},{"ssid":"23f13687-6318-40e9-b2d7-bd78058ec4b3","path":"./assets/Assessment_game_11/images/language/Type 1/drum .png","id":"drum"},{"ssid":"9047485a-dbef-4d96-b750-87805755a3c2","path":"./assets/Assessment_game_11/images/language/Type 1/emergency lamp.png","id":"emergency_lamp"},{"ssid":"b72490a2-b594-477f-b62d-bdd052f89445","path":"./assets/Assessment_game_11/images/language/Type 1/fridge .png","id":"fridge"},{"ssid":"09228148-f7c1-415b-aaa9-a833aa1113d3","path":"./assets/Assessment_game_11/images/language/Type 1/gloves.png","id":"gloves"},{"ssid":"d19580a1-bd06-42c5-9f89-8f3abd9e1292","path":"./assets/Assessment_game_11/images/language/Type 1/glue stick.png","id":"glue_stick"},{"ssid":"71480cdc-e354-4864-84e0-388ae271f8e6","path":"./assets/Assessment_game_11/images/language/Type 1/hand wash.png","id":"hand_wash"},{"ssid":"e42539c8-cb05-492f-8fe0-38c38e5735fa","path":"./assets/Assessment_game_11/images/language/Type 1/headphones.png","id":"headphones"},{"ssid":"fe3b92b9-67ec-49a9-bc41-09a2ed35149d","path":"./assets/Assessment_game_11/images/language/Type 1/helicopter.png","id":"helicopter"},{"ssid":"5a64eead-c021-4294-8ef6-d5b1dbfd88d9","path":"./assets/Assessment_game_11/images/language/Type 1/kettle.png","id":"kettle"},{"ssid":"158379ba-4d53-4985-8bed-5deb5a22432e","path":"./assets/Assessment_game_11/images/updated assets/nail_image.png","id":"nail"},{"ssid":"f1cedfff-1858-4ffa-8900-4b78e5bf60d5","path":"./assets/Assessment_game_11/images/language/Type 1/orange (1).png","id":"orange"},{"ssid":"a977162e-8c16-4661-b1d1-0fab6242159e","path":"./assets/Assessment_game_11/images/language/Type 1/photo frame.png","id":"photo_frame"},{"ssid":"c2fbb54c-332f-4233-9fdd-905acc4976ef","path":"./assets/Assessment_game_11/images/language/Type 1/screwdriver.png","id":"screwdriver"},{"ssid":"8e830e0b-a1e7-4523-a2b1-c281d9671613","path":"./assets/Assessment_game_11/images/language/Type 1/shampoo.png","id":"shampoo"},{"ssid":"bb7c75a6-a300-4924-b799-eb2a6654892d","path":"./assets/Assessment_game_11/images/language/Type 1/violin.png","id":"violin"},{"ssid":"201339cd-11a5-4ae9-8dcc-9f0c68d5da63","path":"./assets/Assessment_game_11/images/language/Type 1/walkie talkie.png","id":"walkie_talkie"},{"ssid":"03d33272-e9fd-43a7-8010-0b6fbf7bec61","path":"./assets/Assessment_game_11/images/language/Type 1/whale.png","id":"whale"}]},{"ssid":"a7768c74-00b4-42d0-8ad1-e4501d580891","refid":"lang type 0","list":[{"ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_a.png","id":"letter_a"},{"ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_b.png","id":"letter_b"},{"ssid":"beb13a53-53d4-49cb-baad-206b4791138c","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_c.png","id":"letter_c"},{"ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_g.png","id":"letter_g"},{"ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_i.png","id":"letter_i"},{"ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_m.png","id":"letter_m"},{"ssid":"450bd042-2862-4631-9a39-7713f676f38c","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_n.png","id":"letter_n"},{"ssid":"246e433f-7f21-495f-98c9-06d3d9035928","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_o.png","id":"letter_o"},{"ssid":"22333689-7943-479e-9df2-9b34c07edf8a","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_p.png","id":"letter_p"},{"ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_s.png","id":"letter_s"},{"ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_t.png","id":"letter_t"},{"ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","path":"./assets/Assessment_game_11/images/language/Type 0/keypad_u.png","id":"letter_u"}]},{"ssid":"269c5838-e0b0-4cfd-970c-d121b7818fb2","refid":"lang type 0","list":[{"ssid":"49651fc6-3ee8-4b31-820b-f8eec1952649","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_a.png","id":"letter_a_1"},{"ssid":"0ec33f0e-6f34-4582-bc01-009dbc6f63a8","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_b.png","id":"letter_b_1"},{"ssid":"beb13a53-53d4-49cb-baad-206b4791138c","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_c.png","id":"letter_c_1"},{"ssid":"930456c3-02c7-4cad-97e9-84182ec9bcc6","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_g.png","id":"letter_g_1"},{"ssid":"c5c6fb83-7492-4b46-8473-1e12dadef05b","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_i.png","id":"letter_i_1"},{"ssid":"0a58773b-b666-4859-969f-986f9a4b1f2e","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_m.png","id":"letter_m_1"},{"ssid":"450bd042-2862-4631-9a39-7713f676f38c","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_n.png","id":"letter_n_1"},{"ssid":"246e433f-7f21-495f-98c9-06d3d9035928","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_o.png","id":"letter_o_1"},{"ssid":"22333689-7943-479e-9df2-9b34c07edf8a","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_p.png","id":"letter_p_1"},{"ssid":"078bbf2b-c2c7-4215-8a0e-a3355ed98779","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_s.png","id":"letter_s_1"},{"ssid":"291340a2-3714-48a3-935c-cce003dfd0d1","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_t.png","id":"letter_t_1"},{"ssid":"8f2b70e3-cd81-4c10-a963-56e2a8d62b5c","path":"./assets/Assessment_game_11/images/language/Type 0/Letter_u.png","id":"letter_u_1"}]},{"ssid":"ebe20ffe-5954-4f01-aa37-2b6a9ddbc597","refid":"Maths type 0","list":[{"ssid":"6cb0bb54-1894-4373-a7a7-6f49b5c4bf54","path":"./assets/Assessment_game_11/images/Maths/Type 0/2_apple.png","id":"2_apples"},{"ssid":"205fb4c3-791e-4067-9a82-dde0298ed043","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_apple.png","id":"8_apples"},{"ssid":"762433ca-826d-406a-a7e0-ba52a7985522","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","id":"3_basket_balls"},{"ssid":"da5cf215-339d-4121-b3bd-55fb5d0ac665","path":"./assets/Assessment_game_11/images/Maths/Type 0/9_basketballs.png","id":"9_basket_balls"},{"ssid":"fcb522e6-4f60-4f91-a05f-faf1c24c5827","path":"./assets/Assessment_game_11/images/Maths/Type 0/2_bowling balls.png","id":"2_bowling_ball"},{"ssid":"a3d0b7e5-cc53-48ad-8de9-f69840a6b505","path":"./assets/Assessment_game_11/images/Maths/Type 0/4_bowling balls.png","id":"4_bowling_ball"},{"ssid":"8347022f-39ed-47db-9d1a-73a885bb3d25","path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowling balls.png","id":"9_bowling_ball"},{"ssid":"55d352eb-9d4d-4d55-92d5-efd03a4c303c","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_bowls.png","id":"3_bowls"},{"ssid":"7173ca33-86b5-4b07-877a-936f746fc038","path":"./assets/Assessment_game_11/images/Maths/Type 0/7_bowls.png","id":"7_bowls"},{"ssid":"23a16a15-6aa7-4455-8c24-f3d7ac2ee60d","path":"./assets/Assessment_game_11/images/Maths/Type 0/9_bowls.png","id":"9_bowls"},{"ssid":"86b5bb64-9a50-48b2-b18a-e06c060898db","path":"./assets/Assessment_game_11/images/Maths/Type 0/4_broccoli.png","id":"4_broccoli"},{"ssid":"56eda782-ce30-4c65-8bf3-c1e6052e7830","path":"./assets/Assessment_game_11/images/Maths/Type 0/7_broccoli.png","id":"7_broccoli"},{"ssid":"be672fa1-3026-4559-876d-1dbb4d3e2478","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_carrot.png","id":"3_carrot"},{"ssid":"dfbe4fd3-711a-47ea-aa4a-b24dfb4e03c9","path":"./assets/Assessment_game_11/images/Maths/Type 0/7_carrot.png","id":"7_carrot"},{"ssid":"6a903b40-56ab-4320-8a56-5b3335ca0119","path":"./assets/Assessment_game_11/images/Maths/Type 0/1_clock.png","id":"1_clocks"},{"ssid":"56e0499b-589e-4098-ad4b-4fd62ae7aaff","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_clocks.png","id":"10_clocks"},{"ssid":"34e89f65-9228-4dd2-b671-21d1f1758580","path":"./assets/Assessment_game_11/images/Maths/Type 0/4_Cricket ball.png","id":"4_cricket_ball"},{"ssid":"a15e55cf-8837-4c3c-97fd-f98a74aeeae1","path":"./assets/Assessment_game_11/images/Maths/Type 0/6_cricket balls.png","id":"6_cricket_balls"},{"ssid":"dd434abd-d014-44e2-82b0-bf64cca5e379","path":"./assets/Assessment_game_11/images/Maths/Type 0/9_Cricket ball.png","id":"9_cricket_ball"},{"ssid":"bb7efa6d-0ec3-4ec1-ac39-861cc6b1595c","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","id":"10_cricket_balls"},{"ssid":"9355362c-40c2-4186-9e6c-39bb00d7be3c","path":"./assets/Assessment_game_11/images/Maths/Type 0/1_dog.png","id":"1_dog"},{"ssid":"16037e0c-8617-4a94-8602-face2b8e23b4","path":"./assets/Assessment_game_11/images/Maths/Type 0/4_dogs.png","id":"4_dog"},{"ssid":"09f4d193-456b-4b0a-8434-0ebfb33e3361","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_dogs.png","id":"8_dog"},{"ssid":"186eb432-7e59-4ef0-a0da-4a314b95ddd6","path":"./assets/Assessment_game_11/images/Maths/Type 0/2_ice cream.png","id":"2_ice_cream"},{"ssid":"fb482ea5-bfc8-41a2-bc79-e3505d2bccc9","path":"./assets/Assessment_game_11/images/Maths/Type 0/6_ice cream.png","id":"6_ice_cream"},{"ssid":"dc2cc6e2-2bfa-4a78-a5d3-d75f4fc746bc","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_ice cream.png","id":"10_ice_cream"},{"ssid":"5946e6e8-5539-49fb-a8d3-ec81e97e95f1","path":"./assets/Assessment_game_11/images/Maths/Type 0/1_kite.png","id":"1_kite"},{"ssid":"0af194b0-1bec-4677-9e11-ec4a34536a15","path":"./assets/Assessment_game_11/images/Maths/Type 0/6_kites.png","id":"6_kite"},{"ssid":"bae52f65-9394-4bca-8221-2d9eb7596383","path":"./assets/Assessment_game_11/images/Maths/Type 0/1_lock.png","id":"1_locks"},{"ssid":"b01524a9-04be-4018-9bf0-69b529c6e316","path":"./assets/Assessment_game_11/images/Maths/Type 0/7_locks.png","id":"7_locks"},{"ssid":"725edfd1-1463-49f7-99b9-47b307c378d8","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_locks.png","id":"10_locks"},{"ssid":"940aef86-36ad-4bd4-9e31-f4b77eeeb837","path":"./assets/Assessment_game_11/images/Maths/Type 0/1_mango.png","id":"1_mangoes"},{"ssid":"d90b25e9-cacb-4074-8646-409da4f25e01","path":"./assets/Assessment_game_11/images/Maths/Type 0/5_mangoes.png","id":"5_mangoes"},{"ssid":"c25a7618-e909-4c0d-9962-27c5d100354e","path":"./assets/Assessment_game_11/images/Maths/Type 0/9_mangoes.png","id":"9_mangoes"},{"ssid":"9bf755b2-3e47-4c29-b589-c9f09a40105e","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_mugs.png","id":"3_mug"},{"ssid":"d5a1c4ab-5c70-495e-b179-c21c4f89590d","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_mugs.png","id":"8_mug"},{"ssid":"4382539a-73e5-4c74-9b56-dba91689491f","path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","id":"4_pants"},{"ssid":"b4467df5-9829-4016-90a9-ca4e6edf02e4","path":"./assets/Assessment_game_11/images/updated assets/7_pants.png","id":"7_pants"},{"ssid":"bf49d241-c3b3-431c-86a6-e115ad181c2b","path":"./assets/Assessment_game_11/images/Maths/Type 0/4_peaches.png","id":"4_peaches"},{"ssid":"56808963-71e1-4d6a-ab07-0ba13ea183e6","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","id":"8_peaches"},{"ssid":"ffcf3e2f-fa3d-49ad-8dc6-e10910d601c5","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_piece cake.png","id":"3_piece_cake"},{"ssid":"250d663a-0a9c-4986-9d73-ec7b90ab7d92","path":"./assets/Assessment_game_11/images/Maths/Type 0/7_piece cake.png","id":"7_piece_cake"},{"ssid":"603580fa-077d-4ee2-b4f3-7b5ff5ca3f98","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_piece cake.png","id":"10_piece_cake"},{"ssid":"6543f850-d4ee-4975-820a-af91d016cb7e","path":"./assets/Assessment_game_11/images/Maths/Type 0/2_sunglasses.png","id":"2_sunglass"},{"ssid":"d47e5f29-6b44-443a-85bf-d4825b45b341","path":"./assets/Assessment_game_11/images/Maths/Type 0/6_sunglasses.png","id":"6_sunglass"},{"ssid":"a07ecede-ff3d-4aa7-93f8-9fc588dde70f","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_sunglasses.png","id":"8_sunglass"},{"ssid":"32367666-846b-4deb-b77a-abbe824e61e3","path":"./assets/Assessment_game_11/images/updated assets/2_toy horse.png","id":"2_toy_horse"},{"ssid":"9092d8a9-c5bf-4fc7-8b2a-999989c7a3fe","path":"./assets/Assessment_game_11/images/updated assets/9_toy horse.png","id":"9_toy_horse"},{"ssid":"818c1b11-0f44-4428-a99e-1a282403543b","path":"./assets/Assessment_game_11/images/Maths/Type 0/10_cricket balls.png","id":"10_cricket_balls_1"},{"ssid":"ee66c669-7b9c-4e2d-9382-1832a8d9cfe7","path":"./assets/Assessment_game_11/images/Maths/Type 0/3_basketballs.png","id":"3_basket_balls_1"},{"ssid":"23bf1956-f2b1-41bc-8aca-73210c3494b5","path":"./assets/Assessment_game_11/images/updated assets/4_pants.png","id":"4_pants_1"},{"ssid":"4b345dca-7db4-41ef-a8db-49c6222ebc36","path":"./assets/Assessment_game_11/images/Maths/Type 0/8_peaches.png","id":"8_peaches_1"}]},{"ssid":"7bae98c1-c9a1-4459-ab4e-3daf15f37797","refid":"maths type 1","list":[{"ssid":"b09ec8a0-c777-4df8-b8e8-bfe645b69a98","path":"./assets/Assessment_game_11/images/Maths/Type 1/1_helmet.png","id":"1_helmet"},{"ssid":"4aab7d6d-90cd-4637-a1d0-91f49038b039","path":"./assets/Assessment_game_11/images/Maths/Type 1/1_bat.png","id":"1_bat"},{"ssid":"f8ba7b0f-364f-4a19-9b8d-c2471a9a617c","path":"./assets/Assessment_game_11/images/Maths/Type 1/2_turnips.png","id":"2_turnips"},{"ssid":"05ef665d-e0b5-4fae-b247-336ebc86366d","path":"./assets/Assessment_game_11/images/Maths/Type 1/2_bears.png","id":"2_bear"},{"ssid":"4959081d-237d-4f8c-bf71-48faa1bbb783","path":"./assets/Assessment_game_11/images/Maths/Type 1/3_eagles.png","id":"3_eagles"},{"ssid":"3a171c85-5abd-4b17-bbf9-0fb462823568","path":"./assets/Assessment_game_11/images/Maths/Type 1/3_horses.png","id":"3_horse"},{"ssid":"25c104af-4f38-416e-b5a1-afc6a8fc5823","path":"./assets/Assessment_game_11/images/Maths/Type 1/4_cows.png","id":"4_cows"},{"ssid":"e3fb5d1f-38ce-4c12-a644-dea106b3e401","path":"./assets/Assessment_game_11/images/Maths/Type 1/4_lotuses.png","id":"4_lotus"},{"ssid":"146275bb-7b44-46b1-b788-82ef9f8f5a5f","path":"./assets/Assessment_game_11/images/Maths/Type 1/5_cars.png","id":"5_cars"},{"ssid":"33c55d96-c102-47e3-97e9-e4cd16e186d6","path":"./assets/Assessment_game_11/images/Maths/Type 1/5_roses.png","id":"5_rose"},{"ssid":"644c5e93-a399-4200-8020-61a128586dfa","path":"./assets/Assessment_game_11/images/Maths/Type 1/6_cats.png","id":"6_cats"},{"ssid":"ec56f8d2-0654-428b-ba01-5cbc89f54ccd","path":"./assets/Assessment_game_11/images/Maths/Type 1/6_lilies.png","id":"6_lilies"},{"ssid":"c63e61e7-e6be-4854-9343-ebdf442993aa","path":"./assets/Assessment_game_11/images/Maths/Type 1/7_hats.png","id":"7_hats"},{"ssid":"202bb085-e339-4a99-9da6-5092cd137365","path":"./assets/Assessment_game_11/images/Maths/Type 1/7_cycle helmets.png","id":"7_cycle_helmets"},{"ssid":"e1f7fbb5-e021-4c2d-bde7-7c75bd6fa2bd","path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bags.png","id":"8_bags"},{"ssid":"9cf686bb-a5f9-473b-b0b1-faf0146bc16d","path":"./assets/Assessment_game_11/images/Maths/Type 1/8_bananas.png","id":"8_banana"},{"ssid":"815320a5-edf8-4c59-bc98-b1d98edc441e","path":"./assets/Assessment_game_11/images/Maths/Type 1/9_watermelons.png","id":"9_watermelons"},{"ssid":"01bc564e-226a-4c60-ae79-b69af0a416bc","path":"./assets/Assessment_game_11/images/Maths/Type 1/9_wheels.png","id":"9_wheels"},{"ssid":"dce2c678-bcd0-4619-a0cf-d8613fab8c70","path":"./assets/Assessment_game_11/images/Maths/Type 1/10_shoes.png","id":"10_shoes"},{"ssid":"4cb6b1fa-69ea-4e34-b50a-5957205af1b1","path":"./assets/Assessment_game_11/images/Maths/Type 1/10_paint brushes.png","id":"10_paint_brush"}]},{"ssid":"1a268120-4917-4265-a0ff-3af26ad39560","refid":"maths type 1 sorting 0- 9","list":[{"ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","id":"type_num_1_1"},{"ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","id":"type_num_2_1"},{"ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","id":"type_num_3_1"},{"ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","id":"type_num_4_1"},{"ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","id":"type_num_5_1"},{"ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","id":"type_num_6_1"},{"ssid":"f83a6337-d1db-449b-8f0f-090448707a70","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","id":"type_num_7_1"},{"ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","id":"type_num_8_1"},{"ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","id":"type_num_9_1"},{"ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","id":"type_num_0_1"},{"ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","id":"ref_options_space_bar"}]},{"ssid":"eadc0d0f-b572-45ed-b23b-650507332ce5","refid":"maths type 1 sorting 0- 9","list":[{"ssid":"e3e81a75-c7d9-42c8-8d0c-10245acd699b","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/6c7904ae-82b0-484c-8faa-b5c726f1f396.png","id":"type_num_1"},{"ssid":"2ec49b53-7842-43c2-8781-f1a9012422d5","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/c6272341-2741-402f-8a3b-fcfb259757ab.png","id":"type_num_2"},{"ssid":"bc542ea0-d74f-4ba8-8dba-5a0c2bc2b835","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/475936fd-3c71-4d2b-b052-35c90e430553.png","id":"type_num_3"},{"ssid":"c0d55ea2-73aa-47bf-a32f-7c66bed63cf7","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/d621c2e9-5060-4de8-b883-864a80f99517.png","id":"type_num_4"},{"ssid":"501da4eb-6c55-40b0-a42b-e67c7f7075a1","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/cabfabf6-9d25-4f9a-9d12-7698810d086f.png","id":"type_num_5"},{"ssid":"e36c7ad7-2b42-40d4-9f7e-7685216d8f20","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/7c595a71-50a3-4448-abfc-427bb1d31f34.png","id":"type_num_6"},{"ssid":"f83a6337-d1db-449b-8f0f-090448707a70","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/a77e248b-c217-4b42-9ed2-9868d8d02b2b.png","id":"type_num_7"},{"ssid":"796236ae-10e6-4ed8-b5c3-9b3010205efb","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/032467fa-e3e6-4f21-9476-8ccf0bec7850.png","id":"type_num_8"},{"ssid":"669c73e1-69b3-477a-8e36-4b4b95d8218f","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/262e240b-7766-4c1b-bb4c-c6906cc2d3b8.png","id":"type_num_9"},{"ssid":"441f43d1-296c-400c-aa50-30de9cb1d29b","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/b8d43c1f-4737-4394-8159-3e07a8f72935.png","id":"type_num_0"},{"ssid":"9891ea00-046a-43f1-a937-ddf06e3c6321","path":"https://interactivecreator.s3.amazonaws.com/projects/67a04ab186eae420f9cbcaae/assets/Assessment_game_6/Images/Maths/type 2 sequence/1 demo/a4e7bf4f-9b8c-4218-9ee7-af541ba3d16d.png","id":"ref_options_space_bar"}]}],"step_num":3,"instance_id":"step_3","step_title":"preloade images  clone","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"idmapDisableSteps":[{"idmap_step_id":"step_83","step_num":166,"instance_id":"step_818","step_title":"Disable preload image","checkpointTitle":"type 0 : language speech recognition(copy)"},{"idmap_step_id":"step_83","step_num":221,"instance_id":"step_936","step_title":"Disable preload image","checkpointTitle":"type 0: maths"},{"idmap_step_id":"step_83","step_num":293,"instance_id":"step_466","step_title":"Disable preload image","checkpointTitle":"type 1 : sequence"},{"idmap_step_id":"step_314","step_num":358,"instance_id":"step_886","step_title":"Disable preload image","checkpointTitle":"type 0: letter type(copy)"},{"idmap_step_id":"step_83","step_num":404,"instance_id":"step_515","step_title":"Disable preload image","checkpointTitle":"type 1: language letter select"},{"idmap_step_id":"step_83","step_num":450,"instance_id":"step_207","step_title":"Disable preload image","checkpointTitle":"type 0 : same size object"},{"idmap_step_id":"step_3","step_num":456,"instance_id":"step_699","step_title":"Disable preload image","checkpointTitle":"exam completion criteria(copy)"}],"audioMapSteps":[{"list":[{"ssid":"b10adc36-e0ad-4bb6-8cba-85ee676c6e88","path":"./assets/Assessment_game_11/Audios/CS_A_L0_2.mp3","name":"CS_A_L0_2.mp3","id":"name_the_colour"},{"ssid":"6b9b058c-e22a-457e-a56a-963dc31884b2","path":"./assets/Assessment_game_11/Audios/CS_A_L0_3.mp3","name":"CS_A_L0_3.mp3","id":"more"},{"ssid":"66dd29c8-76da-4b02-bfd9-44f22ad0cd28","path":"./assets/Assessment_game_11/Audios/CS_A_L0_8.mp3","name":"CS_A_L0_8.mp3","id":"less"},{"ssid":"efe2aa49-3856-4857-9888-2d0f44ceb798","path":"./assets/Assessment_game_11/Audios/CS_A_L0_11.mp3","name":"CS_A_L0_11.mp3","id":"most"},{"ssid":"f815f3b2-05df-485b-a7f8-878f8807df21","path":"./assets/Assessment_game_11/Audios/CS_A_L0_12.mp3","name":"CS_A_L0_12.mp3","id":"least"},{"ssid":"6f98619e-d1b2-4e26-8c85-6bf5113b1ecd","path":"./assets/Assessment_game_11/Audios/CS_A_L0_13.mp3","name":"CS_A_L0_13.mp3","id":"equal"},{"ssid":"3f786bf8-ea1a-42d8-b9fd-404d484b1049","path":"./assets/Assessment_game_11/Audios/CS_A_L0_4.mp3","name":"CS_A_L0_4.mp3","id":"type_the_number"},{"ssid":"2b7768d1-a95f-40a1-a999-9aa6669bc6e9","path":"./assets/Assessment_game_11/Audios/CS_A_L0_5.mp3","name":"CS_A_L0_5.mp3","id":"tap_c"},{"ssid":"254e30f7-148e-4138-8d7f-4ec030e01c3f","path":"./assets/Assessment_game_11/Audios/CS_A_L0_9.mp3","name":"CS_A_L0_9.mp3","id":"tap_a"},{"ssid":"e1c4285e-5008-4b80-b87d-decfb08b46a6","path":"./assets/Assessment_game_11/Audios/CS_A_L0_14.mp3","name":"CS_A_L0_14.mp3","id":"tap_p"},{"ssid":"da26f525-71c8-4646-bbf0-84f73c944862","path":"./assets/Assessment_game_11/Audios/CS_A_L0_15.mp3","name":"CS_A_L0_15.mp3","id":"tap_t"},{"ssid":"8b9e1f40-3d2c-45b2-8c75-23bfe5e31ce4","path":"./assets/Assessment_game_11/Audios/CS_A_L0_16.mp3","name":"CS_A_L0_16.mp3","id":"tap_i"},{"ssid":"4e26c095-f1e2-446f-a9e5-20261cc4b107","path":"./assets/Assessment_game_11/Audios/CS_A_L0_17.mp3","name":"CS_A_L0_17.mp3","id":"tap_n"},{"ssid":"7246fdee-c4e5-4e69-9f7b-3c9204bc5e35","path":"./assets/Assessment_game_11/Audios/CS_A_L0_18.mp3","name":"CS_A_L0_18.mp3","id":"tap_b"},{"ssid":"40a59f6e-8c05-4c96-be66-b1d3ef194406","path":"./assets/Assessment_game_11/Audios/CS_A_L0_19.mp3","name":"CS_A_L0_19.mp3","id":"tap_o"},{"ssid":"a4a6ecee-0dc3-476c-8d40-f5f97a89f21e","path":"./assets/Assessment_game_11/Audios/CS_A_L0_20.mp3","name":"CS_A_L0_20.mp3","id":"tap_u"},{"ssid":"15350221-c448-4e25-884b-2f28f12fec14","path":"./assets/Assessment_game_11/Audios/CS_A_L0_21.mp3","name":"CS_A_L0_21.mp3","id":"tap_g"},{"ssid":"aff7d8fe-889e-4b6f-b4fd-809263cc2c53","path":"./assets/Assessment_game_11/Audios/CS_A_L0_22.mp3","name":"CS_A_L0_22.mp3","id":"tap_m"},{"ssid":"b7f31ba3-310b-401d-86cf-165fea245827","path":"./assets/Assessment_game_11/Audios/CS_A_L0_23.mp3","name":"CS_A_L0_23.mp3","id":"tap_s"},{"ssid":"9bae71a2-3c27-449d-b7be-af09a4de31f7","path":"./assets/Assessment_game_11/Audios/CS_A_L0_6.mp3","name":"CS_A_L0_6.mp3","id":"washing_machine"},{"ssid":"8d263cca-d3ce-4f8a-8426-60f68db5ef01","path":"./assets/Assessment_game_11/Audios/CS_A_L0_10.mp3","name":"CS_A_L0_10.mp3","id":"truck"},{"ssid":"f49a09be-b426-4523-9319-bd2263be75b6","path":"./assets/Assessment_game_11/Audios/CS_A_L0_24.mp3","name":"CS_A_L0_24.mp3","id":"cooker"},{"ssid":"44c32e27-089c-4ed1-aa29-28ea017e3140","path":"./assets/Assessment_game_11/Audios/CS_A_L0_25.mp3","name":"CS_A_L0_25.mp3","id":"pan"},{"ssid":"fb9da775-97b5-4332-840b-a9140bcb0048","path":"./assets/Assessment_game_11/Audios/CS_A_L0_26.mp3","name":"CS_A_L0_26.mp3","id":"bathtub"},{"ssid":"a1c4fcf3-9cc3-455d-ab0f-c00f13ae3862","path":"./assets/Assessment_game_11/Audios/CS_A_L0_27.mp3","name":"CS_A_L0_27.mp3","id":"anchor"},{"ssid":"8fc439b4-7faa-410f-af65-8d1698cb644d","path":"./assets/Assessment_game_11/Audios/CS_A_L0_28.mp3","name":"CS_A_L0_28.mp3","id":"fork"},{"ssid":"c218449d-23a8-41c0-9459-48973e7c0c8e","path":"./assets/Assessment_game_11/Audios/CS_A_L0_29.mp3","name":"CS_A_L0_29.mp3","id":"belt"},{"ssid":"94fea3fb-7625-47d1-906c-b4a6c7ca511e","path":"./assets/Assessment_game_11/Audios/CS_A_L0_30.mp3","name":"CS_A_L0_30.mp3","id":"scissor"},{"ssid":"becfc962-4bf5-4abf-b7c8-137f7280965f","path":"./assets/Assessment_game_11/Audios/CS_A_L0_31.mp3","name":"CS_A_L0_31.mp3","id":"keyboard"},{"ssid":"bc5350bd-8348-407c-9b9a-aae505725d1b","path":"./assets/Assessment_game_11/Audios/CS_A_L0_32.mp3","name":"CS_A_L0_32.mp3","id":"gloves"},{"ssid":"702c9191-c2f3-4232-940f-1960f5424c7a","path":"./assets/Assessment_game_11/Audios/CS_A_L0_33.mp3","name":"CS_A_L0_33.mp3","id":"pillow"},{"ssid":"8bcbde5e-82a6-4b31-99d8-38256a7aae81","path":"./assets/Assessment_game_11/Audios/CS_A_L0_34.mp3","name":"CS_A_L0_34.mp3","id":"candle"},{"ssid":"9c431f38-be9d-486b-837e-9808e465dc92","path":"./assets/Assessment_game_11/Audios/CS_A_L0_35.mp3","name":"CS_A_L0_35.mp3","id":"sharpener"},{"ssid":"8c93b7a4-51c3-4e14-b52e-3d39aff14a7c","path":"./assets/Assessment_game_11/Audios/CS_A_L0_36.mp3","name":"CS_A_L0_36.mp3","id":"orange"},{"ssid":"ca41b89b-8660-4893-9efe-3d01db1b4206","path":"./assets/Assessment_game_11/Audios/CS_A_L0_37.mp3","name":"CS_A_L0_37.mp3","id":"radio"},{"ssid":"8af45298-20d6-4031-9eb1-6743e82a8fc1","path":"./assets/Assessment_game_11/Audios/CS_A_L0_38.mp3","name":"CS_A_L0_38.mp3","id":"raincoat"},{"ssid":"932515c1-3063-4f46-b012-8b1e2f00f5b8","path":"./assets/Assessment_game_11/Audios/CS_A_L0_39.mp3","name":"CS_A_L0_39.mp3","id":"whistle"},{"ssid":"f217b118-e14d-409f-bb78-d476ab1d9d33","path":"./assets/Assessment_game_11/Audios/CS_A_L0_40.mp3","name":"CS_A_L0_40.mp3","id":"map"},{"ssid":"84c87c81-6354-4028-86ea-1344700b63c0","path":"./assets/Assessment_game_11/Audios/CS_A_L0_41.mp3","name":"CS_A_L0_41.mp3","id":"kettle"},{"ssid":"fae5e1fb-14f5-4aec-a957-470ff3c54f94","path":"./assets/Assessment_game_11/Audios/CS_A_L0_7.mp3","name":"CS_A_L0_7.mp3","id":"object_is_seen"}],"step_num":5,"instance_id":"step_5","step_title":"audio Maping","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"playAudioByIdSteps":[],"saveValueSteps":[],"saveValueClearSteps":[],"customEventSteps":[],"sendCustomEventSteps":[{"name":"VExhibit message ","param1":"sending data at completing of each child","param2":"@json(@comm)","param3":"","origin":"*","step_num":490,"instance_id":"step_737","step_title":"╰┈➤ Send custom event to client ╰┈➤","checkpointTitle":"exam completion criteria(copy)"}],"receiveCustomEventSteps":[],"swapOnDragSteps":[],"clearActionableSteps":[{"actionables":[],"all":1,"step_num":118,"instance_id":"step_775","step_title":"Clear actionables","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actionables":[],"all":1,"step_num":127,"instance_id":"step_778","step_title":"Clear actionables ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actionables":[],"all":1,"step_num":153,"instance_id":"step_805","step_title":"Clear actionables","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actionables":[],"all":1,"step_num":163,"instance_id":"step_815","step_title":"Clear actionables","checkpointTitle":"type 0 : language speech recognition(copy)"},{"actionables":[],"all":1,"step_num":209,"instance_id":"step_924","step_title":"Clear actionables","checkpointTitle":"type 0: maths"},{"actionables":[],"all":1,"step_num":249,"instance_id":"step_422","step_title":"Clear actionables clone","checkpointTitle":"type 1 : sequence"},{"actionables":[],"all":1,"step_num":259,"instance_id":"step_432","step_title":"Clear actionables","checkpointTitle":"type 1 : sequence"},{"actionables":[],"all":1,"step_num":333,"instance_id":"step_863","step_title":"Clear actionables","checkpointTitle":"type 0: letter type(copy)"},{"actionables":[],"all":1,"step_num":341,"instance_id":"step_871","step_title":"Clear actionables","checkpointTitle":"type 0: letter type(copy)"},{"actionables":[],"all":1,"step_num":392,"instance_id":"step_503","step_title":"Clear actionables","checkpointTitle":"type 1: language letter select"},{"actionables":[],"all":1,"step_num":438,"instance_id":"step_193","step_title":"Clear actionables","checkpointTitle":"type 0 : same size object"},{"actionables":[],"all":1,"step_num":457,"instance_id":"step_700","step_title":"Clear actionables","checkpointTitle":"exam completion criteria(copy)"}],"randomizePositionSteps":[],"jsonDataSteps":[{"json":{"1":[{"1":{"question_id":"CS_A_L0_2a","name":"blue_colour","answer":["blue","Blue","blue colour","Blue colour"]},"2":{"question_id":"CS_A_L0_2b","name":"red_colour","answer":["red","Red","red colour","Red colour"]},"3":{"question_id":"CS_A_L0_2c","name":"orange_colour","answer":["orange","Orange","orange colour","Orange colour"]},"4":{"question_id":"CS_A_L0_2d","name":"yellow_colour","answer":["yellow","Yellow","yellow colour","Yellow colour"]},"5":{"question_id":"CS_A_L0_2e","name":"green_colour","answer":["green","Green","green colour","Green colour"]},"6":{"question_id":"CS_A_L0_2f","name":"brown_colour","answer":["brown","Brown","brown colour","Brown colour"]},"7":{"question_id":"CS_A_L0_2g","name":"grey_colour","answer":["grey","Grey","grey colour","Grey colour"]},"8":{"question_id":"CS_A_L0_2h","name":"pink_colour","answer":["pink","Pink","pink colour","Pink colour"]},"9":{"question_id":"CS_A_L0_2i","name":"purple_colour","answer":["purple","Purple","purple colour","Purple colour"]},"10":{"question_id":"CS_A_L0_2j","name":"black_colour","answer":["black","Black","black colour","Black colour"]},"11":{"question_id":"CS_A_L0_2k","name":"blue_colour","answer":["blue","Blue","blue colour","Blue colour"]},"12":{"question_id":"CS_A_L0_2l","name":"red_colour","answer":["red","Red","red colour","Red colour"]},"13":{"question_id":"CS_A_L0_2m","name":"orange_colour","answer":["orange","Orange","orange colour","Orange colour"]},"14":{"question_id":"CS_A_L0_2n","name":"yellow_colour","answer":["yellow","Yellow","yellow colour","Yellow colour"]},"15":{"question_id":"CS_A_L0_2o","name":"green_colour","answer":["green","Green","green colour","Green colour"]},"16":{"question_id":"CS_A_L0_2p","name":"brown_colour","answer":["brown","Brown","brown colour","Brown colour"]},"17":{"question_id":"CS_A_L0_2q","name":"grey_colour","answer":["grey","Grey","grey colour","Grey colour"]},"18":{"question_id":"CS_A_L0_2r","name":"pink_colour","answer":["pink","Pink","pink colour","Pink colour"]},"19":{"question_id":"CS_A_L0_2s","name":"purple_colour","answer":["purple","Purple","purple colour","Purple colour"]},"20":{"question_id":"CS_A_L0_2t","name":"black_colour","answer":["black","Black","black colour","Black colour"]},"GameName":"Sensorial","background":"background_tap","question_type":"Tap the image that matches the given shape","common_audio":"name_the_colour","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}],"2":[{"1":{"question_id":"CS_A_L0_3a","name":"8_apples","audio":"more","options":["8_apples","2_apples"],"answer":"8_apples"},"2":{"question_id":"CS_A_L0_3b","name":"7_carrot","audio":"more","options":["7_carrot","3_carrot"],"answer":"7_carrot"},"3":{"question_id":"CS_A_L0_3c","name":"6_kite","audio":"more","options":["6_kite","1_kite"],"answer":"6_kite"},"4":{"question_id":"CS_A_L0_3d","name":"9_cricket_ball","audio":"more","options":["9_cricket_ball","4_cricket_ball"],"answer":"9_cricket_ball"},"5":{"question_id":"CS_A_L0_8a","name":"1_clocks","audio":"less","options":["1_clocks","10_clocks"],"answer":"1_clocks"},"6":{"question_id":"CS_A_L0_8b","name":"2_toy_horse","audio":"less","options":["2_toy_horse","9_toy_horse"],"answer":"2_toy_horse"},"7":{"question_id":"CS_A_L0_8c","name":"3_mug","audio":"less","options":["3_mug","8_mug"],"answer":"3_mug"},"8":{"question_id":"CS_A_L0_8d","name":"4_broccoli","audio":"less","options":["4_broccoli","7_broccoli"],"answer":"4_broccoli"},"9":{"question_id":"CS_A_L0_11a","name":"4_bowling_ball","audio":"most","options":["4_bowling_ball","2_bowling_ball","9_bowling_ball"],"answer":"9_bowling_ball"},"10":{"question_id":"CS_A_L0_11b","name":"1_locks","audio":"most","options":["1_locks","7_locks","10_locks"],"answer":"10_locks"},"11":{"question_id":"CS_A_L0_11c","name":"6_sunglass","audio":"most","options":["6_sunglass","8_sunglass","2_sunglass"],"answer":"8_sunglass"},"12":{"question_id":"CS_A_L0_11d","name":"3_bowls","audio":"most","options":["3_bowls","7_bowls","9_bowls"],"answer":"9_bowls"},"13":{"question_id":"CS_A_L0_12a","name":"10_ice_cream","audio":"least","options":["10_ice_cream","6_ice_cream","2_ice_cream"],"answer":"2_ice_cream"},"14":{"question_id":"CS_A_L0_12b","name":"1_mangoes","audio":"least","options":["1_mangoes","5_mangoes","9_mangoes"],"answer":"1_mangoes"},"15":{"question_id":"CS_A_L0_12c","name":"7_piece_cake","audio":"least","options":["7_piece_cake","10_piece_cake","3_piece_cake"],"answer":"3_piece_cake"},"16":{"question_id":"CS_A_L0_12d","name":"1_dog","audio":"least","options":["1_dog","4_dog","8_dog"],"answer":"1_dog"},"17":{"question_id":"CS_A_L0_13a","name":"10_cricket_balls","audio":"equal","options":["10_cricket_balls","6_cricket_balls"],"answer":"10_cricket_balls"},"18":{"question_id":"CS_A_L0_13b","name":"8_peaches","audio":"equal","options":["8_peaches","4_peaches"],"answer":"8_peaches"},"19":{"question_id":"CS_A_L0_13c","name":"3_basket_balls","audio":"equal","options":["3_basket_balls","9_basket_balls"],"answer":"3_basket_balls"},"20":{"question_id":"CS_A_L0_13d","name":"4_pants","audio":"equal","options":["4_pants","7_pants"],"answer":"4_pants"},"GameName":"maths","background":"background_oral","common_audio":"type_the_answer","question_type":"Add and type the answer","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]},{"1":{"question_id":"CS_A_L0_4a","name":"5_cars","answer":"5"},"2":{"question_id":"CS_A_L0_4b","name":"6_cats","answer":"6"},"3":{"question_id":"CS_A_L0_4c","name":"7_hats","answer":"7"},"4":{"question_id":"CS_A_L0_4d","name":"8_bags","answer":"8"},"5":{"question_id":"CS_A_L0_4e","name":"9_watermelons","answer":"9"},"6":{"question_id":"CS_A_L0_4f","name":"10_shoes","answer":"10"},"7":{"question_id":"CS_A_L0_4g","name":"1_helmet","answer":"1"},"8":{"question_id":"CS_A_L0_4h","name":"2_turnips","answer":"2"},"9":{"question_id":"CS_A_L0_4i","name":"3_eagles","answer":"3"},"10":{"question_id":"CS_A_L0_4j","name":"4_cows","answer":"4"},"11":{"question_id":"CS_A_L0_4k","name":"1_bat","answer":"1"},"12":{"question_id":"CS_A_L0_4l","name":"2_bear","answer":"2"},"13":{"question_id":"CS_A_L0_4m","name":"3_horse","answer":"3"},"14":{"question_id":"CS_A_L0_4n","name":"4_lotus","answer":"4"},"15":{"question_id":"CS_A_L0_4o","name":"5_rose","answer":"5"},"16":{"question_id":"CS_A_L0_4p","name":"6_lilies","answer":"6"},"17":{"question_id":"CS_A_L0_4q","name":"7_cycle_helmets","answer":"7"},"18":{"question_id":"CS_A_L0_4r","name":"8_banana","answer":"8"},"19":{"question_id":"CS_A_L0_4s","name":"9_wheels","answer":"9"},"20":{"question_id":"CS_A_L0_4t","name":"10_paint_brush","answer":"10"},"GameName":"maths","background":"background_tap","question_type":"Fill in the missing number","common_audio":"type_the_number","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}],"3":[{"1":{"question_id":"CS_A_L0_5","audio":"tap_c","answer":"letter_c"},"2":{"question_id":"CS_A_L0_9","audio":"tap_a","answer":"letter_a"},"3":{"question_id":"CS_A_L0_14","audio":"tap_p","answer":"letter_p"},"4":{"question_id":"CS_A_L0_15","audio":"tap_t","answer":"letter_t"},"5":{"question_id":"CS_A_L0_16","audio":"tap_i","answer":"letter_i"},"6":{"question_id":"CS_A_L0_17","audio":"tap_n","answer":"letter_n"},"7":{"question_id":"CS_A_L0_18","audio":"tap_b","answer":"letter_b"},"8":{"question_id":"CS_A_L0_19","audio":"tap_o","answer":"letter_o"},"9":{"question_id":"CS_A_L0_20","audio":"tap_u","answer":"letter_u"},"10":{"question_id":"CS_A_L0_21","audio":"tap_g","answer":"letter_g"},"11":{"question_id":"CS_A_L0_22","audio":"tap_m","answer":"letter_m"},"12":{"question_id":"CS_A_L0_23","audio":"tap_s","answer":"letter_s"},"GameName":"matches_the_word","background":"background_tap","question_type":"Tap the image that contains long ( a e i o u ) sound","common_audio":"read_the_word","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12],"option":["letter_c","letter_a","letter_p","letter_t","letter_i","letter_n","letter_b","letter_o","letter_u","letter_g","letter_m","letter_s"]},{"1":{"question_id":"CS_A_L0_6","options":["washing_machine","grinder","mixer"],"answer":"washing_machine"},"2":{"question_id":"CS_A_L0_10","options":["truck","aeroplane","helicopter"],"answer":"truck"},"3":{"question_id":"CS_A_L0_24","options":["microwave","cooker","fridge"],"answer":"cooker"},"4":{"question_id":"CS_A_L0_25","options":["cycle","pan","drum"],"answer":"pan"},"5":{"question_id":"CS_A_L0_26","options":["tap","bathtub","shampoo"],"answer":"bathtub"},"6":{"question_id":"CS_A_L0_27","options":["anchor","ship","whale"],"answer":"anchor"},"7":{"question_id":"CS_A_L0_28","options":["fork","quilt","nail"],"answer":"fork"},"8":{"question_id":"CS_A_L0_29","options":["backpack","gloves","belt"],"answer":"belt"},"9":{"question_id":"CS_A_L0_30","options":["scissor","crayons","glue_stick"],"answer":"scissor"},"10":{"question_id":"CS_A_L0_31","options":["keyboard","mouse","headphones"],"answer":"keyboard"},"11":{"question_id":"CS_A_L0_32","options":["towel","sweater","gloves"],"answer":"gloves"},"12":{"question_id":"CS_A_L0_33","options":["bed","pillow","blanket"],"answer":"pillow"},"13":{"question_id":"CS_A_L0_34","options":["candle","hammer","screwdriver"],"answer":"candle"},"14":{"question_id":"CS_A_L0_35","options":["sharpener","compass","emergency_lamp"],"answer":"sharpener"},"15":{"question_id":"CS_A_L0_36","options":["leaf","monkey","orange"],"answer":"orange"},"16":{"question_id":"CS_A_L0_37","options":["radio","telephone","violin"],"answer":"radio"},"17":{"question_id":"CS_A_L0_38","options":["raincoat","handkerchief","hand_wash"],"answer":"raincoat"},"18":{"question_id":"CS_A_L0_39","options":["whistle","thermo_meter","walkie_talkie"],"answer":"whistle"},"19":{"question_id":"CS_A_L0_40","options":["map","water_bottle","photo_frame"],"answer":"map"},"20":{"question_id":"CS_A_L0_41","options":["ladder","pot","kettle"],"answer":"kettle"},"GameName":"select sound","background":"background_type","question_type":"Tap the sentence that matches the image","common_audio":"match_the_sentence","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}],"4":[{"1":{"question_id":"CS_A_L0_7a","name":"jug_image","options":["kitchen","living_room"],"answer":"kitchen"},"2":{"question_id":"CS_A_L0_7b","name":"table_image","options":["living_room","bedroom"],"answer":"living_room"},"3":{"question_id":"CS_A_L0_7c","name":"toaster_image","options":["kitchen","dining_room"],"answer":"kitchen"},"4":{"question_id":"CS_A_L0_7d","name":"lamp_image","options":["living_room","bedroom"],"answer":"living_room"},"5":{"question_id":"CS_A_L0_7e","name":"iron_box_image","options":["living_room","bathroom"],"answer":"living_room"},"6":{"question_id":"CS_A_L0_7f","name":"cooker_image","options":["kitchen","dining_room"],"answer":"kitchen"},"7":{"question_id":"CS_A_L0_7g","name":"vase_image","options":["living_room","kitchen"],"answer":"living_room"},"8":{"question_id":"CS_A_L0_7h","name":"tv_image","options":["living_room","dining_room"],"answer":"living_room"},"9":{"question_id":"CS_A_L0_7i","name":"sofa_image","options":["living_room","kitchen"],"answer":"living_room"},"10":{"question_id":"CS_A_L0_7j","name":"mirror_image","options":["bedroom","living_room"],"answer":"bedroom"},"11":{"question_id":"CS_A_L0_7k","name":"clock_image","options":["living_room","kitchen"],"answer":"living_room"},"12":{"question_id":"CS_A_L0_7l","name":"towel_image","options":["bathroom","kitchen"],"answer":"bathroom"},"13":{"question_id":"CS_A_L0_7m","name":"cutlery_image","options":["kitchen","dining_room"],"answer":"kitchen"},"14":{"question_id":"CS_A_L0_7n","name":"mop_image","options":["bathroom","kitchen"],"answer":"bathroom"},"15":{"question_id":"CS_A_L0_7o","name":"fridge_image","options":["kitchen","living_room"],"answer":"kitchen"},"16":{"question_id":"CS_A_L0_7p","name":"shower_image","options":["living_room","bathroom"],"answer":"bathroom"},"17":{"question_id":"CS_A_L0_7q","name":"dishwasher_image","options":["kitchen","bedroom"],"answer":"kitchen"},"18":{"question_id":"CS_A_L0_7r","name":"coffee_maker_image","options":["kitchen","living_room"],"answer":"kitchen"},"19":{"question_id":"CS_A_L0_7s","name":"book_image","options":["living_room","bedroom"],"answer":"living_room"},"20":{"question_id":"CS_A_L0_7t","name":"gas_cylinder_image","options":["kitchen","living_room"],"answer":"kitchen"},"GameName":"evs","background":"background_oral","question_type":"Is this a living thing or a non-living thing?","common_audio":"object_is_seen","Number_of_questions":2,"total_questons":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}],"subjects":[{"id":"1","name":"sensorial","questions":1,"type":1,"compulsory_type":"no","compulsory_type_question":[]},{"id":"2","name":"maths","questions":2,"type":2,"compulsory_type":"no","compulsory_type_question":[]},{"id":"3","name":"language","questions":2,"type":2,"compulsory_type":"no","compulsory_type_question":[]},{"id":"4","name":"evs","questions":1,"type":1,"compulsory_type":"no","compulsory_type_question":[]}]},"enable_display":0,"step_num":2,"instance_id":"step_2","step_title":"JSON Input Data","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"jsonCommSteps":[{"json":{"type":"kreedo_assessment","id":"game_id","game_data":{},"result":[{"child_number":1,"question":[{"question":"","correct":true,"correct_answer":"","user_answer":""}]}]},"default_json":{"assessment_id":"12345","school_name":"ABC School","school_id":"123 School","assessment_name":"Math Quiz","grade":"Grade 5","section":"A","role":"Class Teacher","conducted_by":"John Doe","start_date_time":"2025-01-25T10:00:00","end_date_time":"2025-01-25T10:30:00","total_children":1,"children_data":[{"child_id":"1","attempt_id":"A123","start_time":"2025-01-25T10:05:00","end_time":"2025-01-25T10:10:00","incorrect_answers":1,"correct_answers":5,"time_taken_for_child":300,"questions":[]}]},"enable_display":0,"step_num":469,"instance_id":"step_712","step_title":"JSON Communication Default JSON","checkpointTitle":"exam completion criteria(copy)"}],"jsonSaveDataSteps":[{"key":"subject_name","data_type":"array","operation":"clear","value":"@jsondata(subjects[@count(index)].id)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":22,"instance_id":"step_22","step_title":"🎞️ subject_name clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"game_type","data_type":"array","operation":"clear","value":"@count(random)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":23,"instance_id":"step_23","step_title":"🎞️ game_type push clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"game_question","data_type":"array","operation":"clear","value":"@jsondata(@count(type_index).@count(random).total_questons[@count(random_question)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":24,"instance_id":"step_24","step_title":"🎞️ game_question push clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"abc","data_type":"array","operation":"clear","value":"@data(subject_name[@count(randomization)])@data(game_type[@count(randomization)])@data(game_question[@count(randomization)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":25,"instance_id":"step_25","step_title":"🎞️ abc push  clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"array_path","data_type":"array","operation":"clear","value":"@jsondata(subjects[@count(index)].id)@count(random)@jsondata(@count(type_index).@count(random).total_questons[@count(random_question)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":26,"instance_id":"step_26","step_title":"🎞️ array_path  clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"subject_name","data_type":"array","operation":"push","value":"@jsondata(subjects[@count(index)].id)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":30,"instance_id":"step_30","step_title":"🎞️ subject_name push  ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"compulsory","data_type":"array","operation":"clear","value":"@jsondata(subjects[@count(index)].id)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":31,"instance_id":"step_31","step_title":"🎞️ compulsory","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"game_type","data_type":"array","operation":"push","value":"@count(random)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":37,"instance_id":"step_37","step_title":"🎞️ game_type push array","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"compulsory","data_type":"array","operation":"push","value":"@count(random)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":38,"instance_id":"step_38","step_title":"🎞️ compulsory","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"array_path","data_type":"array","operation":"push","value":"@jsondata(subjects[@count(index)].id)@count(random)@jsondata(@count(type_index).@count(random).total_questons[@count(random_question)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":42,"instance_id":"step_42","step_title":"🎞️ array_path  clone","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"game_question","data_type":"array","operation":"push","value":"@jsondata(@count(type_index).@count(random).total_questons[@count(random_question)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"step_num":43,"instance_id":"step_43","step_title":"🎞️ game_question push array","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"random_number_save","data_type":"array","operation":"clear","value":"@count(randomization)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":57,"instance_id":"step_57","step_title":"🎞️ randomization clear","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"random_number_save","data_type":"array","operation":"push","value":"@count(randomization)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":63,"instance_id":"step_63","step_title":"🎞️ randomization push  ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"subject","data_type":"array","operation":"set at index","value":"@data(subject_name[@count(randomization)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":64,"instance_id":"step_64","step_title":"🎞️ subject  push  ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"type","data_type":"array","operation":"set at index","value":"@data(game_type[@count(randomization)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":65,"instance_id":"step_65","step_title":"🎞️ type push ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"question","data_type":"array","operation":"set at index","value":"@data(game_question[@count(randomization)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":66,"instance_id":"step_66","step_title":"🎞️ question push ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"abc","data_type":"array","operation":"set at index","value":"@data(subject_name[@count(randomization)])@data(game_type[@count(randomization)])@data(game_question[@count(randomization)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":67,"instance_id":"step_68","step_title":"🎞️ abc push  clone","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"storage":"data","key":"question_start_time","data_type":"number","operation":"push","value":"@time","values":[],"step_num":91,"instance_id":"step_146","step_title":"question_start_time ","checkpointTitle":"reference"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":" ","values":[],"step_num":98,"instance_id":"step_958","step_title":"🎞️ ✅ answer_status = ","checkpointTitle":"reference"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":" ","values":[],"step_num":99,"instance_id":"step_959","step_title":"🎞️ ✅ correct_answer =\\"\\"","checkpointTitle":"reference"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":" ","values":[],"step_num":100,"instance_id":"step_960","step_title":"🎞️ ✅ child_answer =","checkpointTitle":"reference"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@result","values":[],"step_num":130,"instance_id":"step_781","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"type 0 : language speech recognition(copy)"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":138,"instance_id":"step_790","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":142,"instance_id":"step_794","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 0 : language speech recognition(copy)"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer[0])","values":[],"step_num":170,"instance_id":"step_822","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"re_arrange_option","data_type":"array","operation":"clear","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":186,"instance_id":"step_908","step_title":"🎞️ subject clear","checkpointTitle":"type 0: maths"},{"key":"re_arrange_option","data_type":"array","operation":"set at index","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":190,"instance_id":"step_912","step_title":"🎞️ subject  push  ","checkpointTitle":"type 0: maths"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":212,"instance_id":"step_927","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 0: maths"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":217,"instance_id":"step_932","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 0: maths"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","values":[],"step_num":222,"instance_id":"step_937","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"type 0: maths"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@result","values":[],"step_num":223,"instance_id":"step_938","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"type 0: maths"},{"key":"save_type","data_type":"array","operation":"clear","value":"type_num_@result","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(type_count)","elementsSequenceIn2DArea":{"includes":[{"ssid":"f9cfb0a4-e980-48bb-8668-b4c61b03c9f0","x":0,"y":0,"width":0,"height":0}]},"step_num":245,"instance_id":"step_418","step_title":"🎞️ save_type","checkpointTitle":"type 1 : sequence"},{"key":"save_slot","data_type":"string","operation":"clear","value":"@result","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","elementsSequenceIn2DArea":{"includes":[{"ssid":"f9cfb0a4-e980-48bb-8668-b4c61b03c9f0","x":0,"y":0,"width":0,"height":0}]},"step_num":253,"instance_id":"step_426","step_title":"🎞️ save_slot","checkpointTitle":"type 1 : sequence"},{"key":"save_type","data_type":"array","operation":"set at index","value":"@result","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(type_count)","elementsSequenceIn2DArea":{"includes":[{"ssid":"f9cfb0a4-e980-48bb-8668-b4c61b03c9f0","x":0,"y":0,"width":0,"height":0}]},"step_num":263,"instance_id":"step_436","step_title":"🎞️ save_type","checkpointTitle":"type 1 : sequence"},{"key":"save_type","data_type":"array","operation":"set at index","value":"@result","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(type_count)","elementsSequenceIn2DArea":{"includes":[{"ssid":"f9cfb0a4-e980-48bb-8668-b4c61b03c9f0","x":0,"y":0,"width":0,"height":0}]},"step_num":266,"instance_id":"step_439","step_title":"🎞️ save_type clone","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","values":[],"step_num":276,"instance_id":"step_449","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer clone","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@data(save_type)","values":[],"step_num":277,"instance_id":"step_450","step_title":"🎞️ ✅ child_answer = @data(save_type[0])","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","values":[],"step_num":279,"instance_id":"step_452","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer clone clone","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@data(save_type[0])@data(save_type[1])","values":[],"step_num":280,"instance_id":"step_453","step_title":"🎞️ ✅ child_answer = @data(save_type[0]) clone","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":283,"instance_id":"step_456","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 1 : sequence"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":288,"instance_id":"step_461","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 1 : sequence"},{"key":"random_alphabet","data_type":"array","operation":"clear","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":309,"instance_id":"step_839","step_title":"🎞️ random_alphabet clear","checkpointTitle":"type 0: letter type(copy)"},{"key":"random_alphabet","data_type":"array","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":310,"instance_id":"step_840","step_title":"🎞️ random_alphabet  answer push ","checkpointTitle":"type 0: letter type(copy)"},{"key":"random_alphabet","data_type":"array","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).option[@count(random_letter)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":314,"instance_id":"step_844","step_title":"🎞️ random_alphabet push answer clone","checkpointTitle":"type 0: letter type(copy)"},{"key":"re_arrange_option","data_type":"array","operation":"clear","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":318,"instance_id":"step_848","step_title":"🎞️ subject clear","checkpointTitle":"type 0: letter type(copy)"},{"key":"re_arrange_option","data_type":"array","operation":"set at index","value":"@data(random_alphabet[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":322,"instance_id":"step_852","step_title":"🎞️ subject  push  ","checkpointTitle":"type 0: letter type(copy)"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":349,"instance_id":"step_876","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 0: letter type(copy)"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":354,"instance_id":"step_882","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 0: letter type(copy)"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","values":[],"step_num":359,"instance_id":"step_887","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"type 0: letter type(copy)"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@result","values":[],"step_num":360,"instance_id":"step_888","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"type 0: letter type(copy)"},{"key":"re_arrange_option","data_type":"array","operation":"clear","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":376,"instance_id":"step_487","step_title":"🎞️ subject clear","checkpointTitle":"type 1: language letter select"},{"key":"re_arrange_option","data_type":"array","operation":"set at index","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":380,"instance_id":"step_491","step_title":"🎞️ subject  push  ","checkpointTitle":"type 1: language letter select"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":395,"instance_id":"step_506","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 1: language letter select"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":400,"instance_id":"step_511","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 1: language letter select"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","values":[],"step_num":405,"instance_id":"step_516","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"type 1: language letter select"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@result","values":[],"step_num":406,"instance_id":"step_517","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"type 1: language letter select"},{"key":"re_arrange_option","data_type":"array","operation":"clear","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":422,"instance_id":"step_177","step_title":"🎞️ subject clear","checkpointTitle":"type 0 : same size object"},{"key":"re_arrange_option","data_type":"array","operation":"set at index","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":426,"instance_id":"step_181","step_title":"🎞️ subject  push  ","checkpointTitle":"type 0 : same size object"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"correct","values":[],"step_num":441,"instance_id":"step_196","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"type 0 : same size object"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":"wrong","values":[],"step_num":446,"instance_id":"step_203","step_title":"🎞️ ❌ answer_status = wrong","checkpointTitle":"type 0 : same size object"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":"@result","values":[],"step_num":451,"instance_id":"step_208","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"type 0 : same size object"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","values":[],"step_num":452,"instance_id":"step_197","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"type 0 : same size object"},{"key":"subject","data_type":"array","operation":"remove at index","value":"0","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":462,"instance_id":"step_705","step_title":"🎞️ subject  remove @ 0","checkpointTitle":"exam completion criteria(copy)"},{"key":"type","data_type":"array","operation":"remove at index","value":"0","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":463,"instance_id":"step_706","step_title":"🎞️ type remove @ 0","checkpointTitle":"exam completion criteria(copy)"},{"key":"question","data_type":"array","operation":"remove at index","value":"0","values":[{"ssid":"bbb82329-cb73-4fc0-863c-87ce178bfc56","value":""},{"ssid":"e83c7b1b-1d5f-4025-9b7c-181a904eaf6a","value":""},{"ssid":"f7ccf738-3b8f-44df-ab42-c63dcc157c02","value":""},{"ssid":"e1b47d74-966d-46fc-addd-c0a2d78e65cb","value":""}],"index":"@count(k)","step_num":464,"instance_id":"step_707","step_title":"🎞️ question remove @ 0","checkpointTitle":"exam completion criteria(copy)"},{"storage":"data","key":"question_end_time","data_type":"number","operation":"push","value":"@time","values":[],"step_num":466,"instance_id":"step_709","step_title":"question_end_time","checkpointTitle":"exam completion criteria(copy)"},{"key":"questions","data_type":"array","operation":"push","value":"{ \\"question_number\\": \\"@count(question_id)\\", \\"question_id\\": \\"@jsondata(@count(subject_number).@count(type_number).@count(question_number).question_id)\\", \\"start_time\\": \\"@data(question_start_time)\\", \\"end_time\\": \\"@data(question_end_time)\\", \\"correct_answer\\": \\"@data(correct_answer)\\", \\"user_answer\\": \\"@data(child_answer)\\", \\"status\\": \\"@data(answer_status)\\" }","values":[],"storage":"communication","step_num":470,"instance_id":"step_713","step_title":"Save Data  communication ","checkpointTitle":"exam completion criteria(copy)"},{"storage":"data","key":"answer_status","data_type":"string","operation":"push","value":" ","values":[],"step_num":476,"instance_id":"step_719","step_title":"🎞️ ✅ answer_status = correct ","checkpointTitle":"exam completion criteria(copy)"},{"storage":"data","key":"correct_answer","data_type":"string","operation":"push","value":" ","values":[],"step_num":477,"instance_id":"step_720","step_title":"🎞️ ✅ correct_answer = @jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","checkpointTitle":"exam completion criteria(copy)"},{"storage":"data","key":"child_answer","data_type":"string","operation":"push","value":" ","values":[],"step_num":478,"instance_id":"step_721","step_title":"🎞️ ✅ child_answer = @result","checkpointTitle":"exam completion criteria(copy)"},{"key":"children_data","data_type":"array","operation":"push","value":"{\\"child_id\\": \\"@count(child_count)\\",\\"attempt_id\\": \\"A123\\",\\"start_time\\": \\"@count(game_start_time)\\",\\"end_time\\": \\"@count(game_end_time)\\",\\"incorrect_answers\\": \\"@count(incorrect_answers_count)\\",\\"correct_answers\\": \\"@count(correct_answer_count)\\",\\"time_taken_for_child\\": \\"@count(time_taken_for_child)\\", \\"questions\\":@comm(questions)}","values":[],"storage":"communication","step_num":489,"instance_id":"step_733","step_title":"only child data pushed","checkpointTitle":"exam completion criteria(copy)"},{"key":"questions","data_type":"array","operation":"clear","value":"{ \\"question_id\\": \\"@count(question_id)\\", \\"question_type\\": \\"@jsondata(@count(subject_number).@count(type_number).question_type)\\", \\"start_time\\": \\"@data(question_start_time)\\", \\"end_time\\": \\"@data(question_end_time)\\", \\"correct_answer\\": \\"@data(correct_answer)\\", \\"user_answer\\": \\"@data(child_answer)\\", \\"status\\": \\"@data(answer_status)\\" }","values":[],"storage":"communication","step_num":492,"instance_id":"step_739","step_title":"questions  communication  clear","checkpointTitle":"exam completion criteria(copy)"}],"jsonSaveDataFromPaintSteps":[],"ifConditionSteps":[{"key":"@jsondata(subjects[@count(index)].compulsory_type)","data_type":"array","operation":"contains multiple","value":"yes","correct_jump_instance_id":"step_36","wrong_jump_instance_id":"step_37","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[{"ssid":"f52daa5a-24ab-4a88-a441-0d65cbe16767","id":"yes"},{"ssid":"7ba9e48c-c544-4e6f-87a4-d404e3ccac11","id":"Yes"}],"excludes":[],"positions":[],"step_num":35,"instance_id":"step_35","step_title":"if compulsory_type = yes","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@data(compulsory)","data_type":"array","operation":"contains","value":"@count(random)","correct_jump_instance_id":"step_34","wrong_jump_instance_id":"step_37","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":36,"instance_id":"step_36","step_title":"if compulsory in random ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@data(array_path)","data_type":"array","operation":"contains","value":"@jsondata(subjects[@count(index)].id)@count(random)@jsondata(@count(type_index).@count(random).total_questons[@count(random_question)])","correct_jump_instance_id":"step_40","wrong_jump_instance_id":"step_42","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":41,"instance_id":"step_41","step_title":"if array_path contain question clone","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@count(i)","data_type":"number","operation":"equal","value":"@jsondata(subjects[@count(index)].questions)","correct_jump_instance_id":"step_47","wrong_jump_instance_id":"step_30","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":46,"instance_id":"step_46","step_title":"if subject completes","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@count(index)","data_type":"number","operation":"more than","value":"@calc(@jsondata(subjects.length)-1)","correct_jump_instance_id":"step_50","wrong_jump_instance_id":"step_29","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":49,"instance_id":"step_49","step_title":"if all subject value pushed","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@data(random_number_save)","data_type":"array","operation":"contains","value":"@count(randomization)","correct_jump_instance_id":"step_60","wrong_jump_instance_id":"step_63","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":62,"instance_id":"step_62","step_title":"randomiz repeat","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@count(k)","data_type":"number","operation":"more than or equal","value":"@data(subject_name.length)","correct_jump_instance_id":"step_71","wrong_jump_instance_id":"step_60","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":69,"instance_id":"step_70","step_title":"if subject completes","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"key":"@count(child_count)","data_type":"number","operation":"equal","value":"1","correct_jump_instance_id":"step_140","wrong_jump_instance_id":"step_141","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":84,"instance_id":"step_139","step_title":"only for child 1","checkpointTitle":"reference"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"1","correct_jump_instance_id":"step_765","wrong_jump_instance_id":"step_824","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":107,"instance_id":"step_764","step_title":"if subject = 1","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"0","correct_jump_instance_id":"step_766","wrong_jump_instance_id":"step_824","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":108,"instance_id":"step_765","step_title":"if type = 0","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@result","data_type":"string","operation":"equal","value":"image_1560","correct_jump_instance_id":"step_957","wrong_jump_instance_id":"step_952","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":122,"instance_id":"step_953","step_title":"if mic clicked","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@result","data_type":"string","operation":"starts with","value":"@","correct_jump_instance_id":"step_782","wrong_jump_instance_id":"step_781","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":129,"instance_id":"step_780","step_title":"if @result = ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer[@count(option_loop)])","data_type":"string","operation":"equal","value":"@result","correct_jump_instance_id":"step_789","wrong_jump_instance_id":"step_785","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":132,"instance_id":"step_784","step_title":"check correct answer ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@count(option_loop)","data_type":"number","operation":"more than or equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer.length)","correct_jump_instance_id":"step_793","wrong_jump_instance_id":"step_784","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":136,"instance_id":"step_788","step_title":"check loop completed or not ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@result","data_type":"string","operation":"equal","value":"do_not_overrule","correct_jump_instance_id":"step_807","wrong_jump_instance_id":"step_810","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":154,"instance_id":"step_806","step_title":"----------if do_not_overrule","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@result","data_type":"string","operation":"equal","value":"overrule","correct_jump_instance_id":"step_811","wrong_jump_instance_id":"step_802","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":158,"instance_id":"step_810","step_title":"----------if overrule","checkpointTitle":"type 0 : language speech recognition(copy)"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"2","correct_jump_instance_id":"step_902","wrong_jump_instance_id":"step_940","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":179,"instance_id":"step_901","step_title":"if subject = 3","checkpointTitle":"type 0: maths"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"0","correct_jump_instance_id":"step_903","wrong_jump_instance_id":"step_940","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":180,"instance_id":"step_902","step_title":"if type = 0","checkpointTitle":"type 0: maths"},{"key":"@data(re_arrange_option)","data_type":"array","operation":"contains","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","correct_jump_instance_id":"step_910","wrong_jump_instance_id":"step_912","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":189,"instance_id":"step_911","step_title":"if re_arrange_option contain","checkpointTitle":"type 0: maths"},{"key":"@count(k)","data_type":"number","operation":"more than or equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)","correct_jump_instance_id":"step_915","wrong_jump_instance_id":"step_910","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":192,"instance_id":"step_914","step_title":"if subject completes","checkpointTitle":"type 0: maths"},{"key":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","data_type":"array","operation":"contains multiple","value":"","correct_jump_instance_id":"step_917","wrong_jump_instance_id":"step_943","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[{"ssid":"8c8d1050-8238-4be9-b0cc-43f1f41302a9","id":"least"},{"ssid":"6ed2dfe0-e8f6-4819-a088-c9f066b868c1","id":"most"}],"excludes":[],"positions":[],"step_num":195,"instance_id":"step_941","step_title":"if  most >,  least < ","checkpointTitle":"type 0: maths"},{"key":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","data_type":"array","operation":"contains multiple","value":"","correct_jump_instance_id":"step_942","wrong_jump_instance_id":"step_944","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[{"ssid":"8c8d1050-8238-4be9-b0cc-43f1f41302a9","id":"more"},{"ssid":"6ed2dfe0-e8f6-4819-a088-c9f066b868c1","id":"less"}],"excludes":[],"positions":[],"step_num":197,"instance_id":"step_943","step_title":"if  more > , less <","checkpointTitle":"type 0: maths"},{"key":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).audio)","data_type":"array","operation":"contains multiple","value":"","correct_jump_instance_id":"step_945","wrong_jump_instance_id":"step_947","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[{"ssid":"8c8d1050-8238-4be9-b0cc-43f1f41302a9","id":"equal"}],"excludes":[],"positions":[],"step_num":199,"instance_id":"step_944","step_title":"if  equal ==","checkpointTitle":"type 0: maths"},{"key":"@result","data_type":"string","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","correct_jump_instance_id":"step_926","wrong_jump_instance_id":"step_931","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":210,"instance_id":"step_925","step_title":"----------if correct answer --- ","checkpointTitle":"type 0: maths"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"2","correct_jump_instance_id":"step_403","wrong_jump_instance_id":"step_468","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":232,"instance_id":"step_402","step_title":"if subject = 02","checkpointTitle":"type 1 : sequence"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"1","correct_jump_instance_id":"step_404","wrong_jump_instance_id":"step_468","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":233,"instance_id":"step_403","step_title":"if type = 1","checkpointTitle":"type 1 : sequence"},{"key":"@result","data_type":"string","operation":"equal","value":"square_box_center","correct_jump_instance_id":"step_424","wrong_jump_instance_id":"step_419","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":250,"instance_id":"step_423","step_title":"----------if ref_options_space_bar ","checkpointTitle":"type 1 : sequence"},{"key":"@result","data_type":"array","operation":"contains multiple","value":"bottom_left","correct_jump_instance_id":"step_434","wrong_jump_instance_id":"step_429","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"0"},{"ssid":"3fd2f23c-ad90-480d-87d7-a095eda1843e","id":"1"},{"ssid":"88b32ca4-b18c-4a0a-ae9f-ead1e5e4f874","id":"2"},{"ssid":"6ff37284-8e90-4a26-87b3-82e89dcc1a78","id":"3"},{"ssid":"56dd35ca-1d78-4b1d-9421-1e353ba8de6a","id":"4"},{"ssid":"57169c77-8315-43bd-9244-ce49244641ad","id":"5"},{"ssid":"ce0c4849-23ef-4863-bebd-c03911dd70e3","id":"6"},{"ssid":"80f45562-110a-4a28-a9a0-1370d9cb930f","id":"7"},{"ssid":"cdbfec39-4bb5-4004-b62a-47a275e8646d","id":"8"},{"ssid":"23ad6d8f-a0de-4ce1-b615-67bbdad0e0db","id":"9"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":260,"instance_id":"step_433","step_title":"----------if num clicked","checkpointTitle":"type 1 : sequence"},{"key":"@count(type_count)","data_type":"number","operation":"equal","value":"0","correct_jump_instance_id":"step_435","wrong_jump_instance_id":"step_438","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":261,"instance_id":"step_434","step_title":"----------if first time = 0 ","checkpointTitle":"type 1 : sequence"},{"key":"@count(type_count)","data_type":"number","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer.length)","correct_jump_instance_id":"step_443","wrong_jump_instance_id":"step_429","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":269,"instance_id":"step_442","step_title":"----------if complete","checkpointTitle":"type 1 : sequence"},{"key":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer.length)","data_type":"number","operation":"equal","value":"1","correct_jump_instance_id":"step_449","wrong_jump_instance_id":"step_452","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":275,"instance_id":"step_448","step_title":"----------if single digit ","checkpointTitle":"type 1 : sequence"},{"key":"@data(save_type[0])","data_type":"string","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","correct_jump_instance_id":"step_455","wrong_jump_instance_id":"step_460","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":278,"instance_id":"step_451","step_title":"----------if single digit  correct","checkpointTitle":"type 1 : sequence"},{"key":"@data(save_type[0])@data(save_type[1])","data_type":"number","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","correct_jump_instance_id":"step_455","wrong_jump_instance_id":"step_460","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":281,"instance_id":"step_454","step_title":"----------if doubledigit  correct clone","checkpointTitle":"type 1 : sequence"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"3","correct_jump_instance_id":"step_833","wrong_jump_instance_id":"step_890","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":302,"instance_id":"step_832","step_title":"if subject = 3","checkpointTitle":"type 0: letter type(copy)"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"0","correct_jump_instance_id":"step_834","wrong_jump_instance_id":"step_890","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":303,"instance_id":"step_833","step_title":"if type = 1","checkpointTitle":"type 0: letter type(copy)"},{"key":"@data(random_alphabet)","data_type":"array","operation":"contains","value":"@jsondata(@count(subject_number).@count(type_number).option[@count(random_letter)])","correct_jump_instance_id":"step_841","wrong_jump_instance_id":"step_844","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":313,"instance_id":"step_843","step_title":"if re_arrange_option contain","checkpointTitle":"type 0: letter type(copy)"},{"key":"@data(random_alphabet.length)","data_type":"string","operation":"equal","value":"6","correct_jump_instance_id":"step_846","wrong_jump_instance_id":"step_841","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":315,"instance_id":"step_845","step_title":"if subject completes","checkpointTitle":"type 0: letter type(copy)"},{"key":"@data(re_arrange_option)","data_type":"array","operation":"contains","value":"@data(random_alphabet[@count(re_arrange)])","correct_jump_instance_id":"step_850","wrong_jump_instance_id":"step_852","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":321,"instance_id":"step_851","step_title":"if re_arrange_option contain","checkpointTitle":"type 0: letter type(copy)"},{"key":"@count(k)","data_type":"number","operation":"more than or equal","value":"@data(random_alphabet.length)","correct_jump_instance_id":"step_855","wrong_jump_instance_id":"step_850","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":324,"instance_id":"step_854","step_title":"if subject completes","checkpointTitle":"type 0: letter type(copy)"},{"key":"@result","data_type":"string","operation":"equal","value":"square_box_","correct_jump_instance_id":"step_865","wrong_jump_instance_id":"step_860","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":334,"instance_id":"step_864","step_title":"----------if square_box ","checkpointTitle":"type 0: letter type(copy)"},{"key":"@result","data_type":"string","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer)","correct_jump_instance_id":"step_875","wrong_jump_instance_id":"step_881","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":347,"instance_id":"step_874","step_title":"----------if correct answer --- ","checkpointTitle":"type 0: letter type(copy)"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"3","correct_jump_instance_id":"step_481","wrong_jump_instance_id":"step_519","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":369,"instance_id":"step_480","step_title":"if subject = 3","checkpointTitle":"type 1: language letter select"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"1","correct_jump_instance_id":"step_482","wrong_jump_instance_id":"step_519","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":370,"instance_id":"step_481","step_title":"if type = 1","checkpointTitle":"type 1: language letter select"},{"key":"@data(re_arrange_option)","data_type":"array","operation":"contains","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","correct_jump_instance_id":"step_489","wrong_jump_instance_id":"step_491","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":379,"instance_id":"step_490","step_title":"if re_arrange_option contain","checkpointTitle":"type 1: language letter select"},{"key":"@count(k)","data_type":"number","operation":"more than or equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)","correct_jump_instance_id":"step_494","wrong_jump_instance_id":"step_489","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":382,"instance_id":"step_493","step_title":"if subject completes","checkpointTitle":"type 1: language letter select"},{"key":"@result","data_type":"string","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","correct_jump_instance_id":"step_505","wrong_jump_instance_id":"step_510","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":393,"instance_id":"step_504","step_title":"----------if correct answer --- ","checkpointTitle":"type 1: language letter select"},{"key":"@data(subject[0])","data_type":"string","operation":"equal","value":"4","correct_jump_instance_id":"step_171","wrong_jump_instance_id":"step_210","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":415,"instance_id":"step_170","step_title":"if subject = 4","checkpointTitle":"type 0 : same size object"},{"key":"@data(type[0])","data_type":"string","operation":"equal","value":"0","correct_jump_instance_id":"step_172","wrong_jump_instance_id":"step_210","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":416,"instance_id":"step_171","step_title":"if type = 0","checkpointTitle":"type 0 : same size object"},{"key":"@data(re_arrange_option)","data_type":"array","operation":"contains","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options[@count(re_arrange)])","correct_jump_instance_id":"step_179","wrong_jump_instance_id":"step_181","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":425,"instance_id":"step_180","step_title":"if re_arrange_option contain","checkpointTitle":"type 0 : same size object"},{"key":"@count(k)","data_type":"number","operation":"more than or equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).options.length)","correct_jump_instance_id":"step_184","wrong_jump_instance_id":"step_179","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":428,"instance_id":"step_183","step_title":"if subject completes","checkpointTitle":"type 0 : same size object"},{"key":"@result","data_type":"string","operation":"equal","value":"@jsondata(@count(subject_number).@count(type_number).@count(question_number).answer","correct_jump_instance_id":"step_195","wrong_jump_instance_id":"step_202","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)])","includes":[{"ssid":"27354a5d-82d2-4a14-8151-9578ccaecc85","id":"@jsondata(sets[@count(set)].correct_order[@count(correct_option)][17])"}],"excludes":[],"texts":[],"enables_gif":[],"positions":[{"ssid":"d7221156-396d-4473-a136-94fe25aa3d1c","x":"290","y":"100","z":"0"}],"jsondatapath":"","step_num":439,"instance_id":"step_194","step_title":"----------if correct answer --- ","checkpointTitle":"type 0 : same size object"},{"key":"@data(answer_status)","data_type":"string","operation":"equal","value":"correct","correct_jump_instance_id":"step_715","wrong_jump_instance_id":"step_716","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":471,"instance_id":"step_714","step_title":"if correct stats","checkpointTitle":"exam completion criteria(copy)"},{"key":"@data(answer_status)","data_type":"string","operation":"equal","value":"wrong","correct_jump_instance_id":"step_717","wrong_jump_instance_id":"step_718","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":473,"instance_id":"step_716","step_title":"if wrong stats","checkpointTitle":"exam completion criteria(copy)"},{"key":"@data(question.length)","data_type":"number","operation":"equal","value":"0","correct_jump_instance_id":"step_723","wrong_jump_instance_id":"step_141","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[],"excludes":[],"positions":[],"step_num":479,"instance_id":"step_722","step_title":"sets_array.length == 0","checkpointTitle":"exam completion criteria(copy)"},{"key":"@count(child_count)","data_type":"array","operation":"contains multiple","value":"","correct_jump_instance_id":"step_748","wrong_jump_instance_id":"step_751","multiple_contain_type":"any","multiple_contains_from_data":0,"multiple_contains_data":"","includes":[{"ssid":"70f8ce7f-c101-4c32-899a-e7f5b4dc5ffe","id":"10"},{"ssid":"7201fd84-4584-4abe-a424-cc17cc3d24e7","id":"20"},{"ssid":"70a9390d-fa44-47fe-aff0-3819d679eafe","id":"30"},{"ssid":"6360fffa-43a0-4b8e-b9c1-1d4688735719","id":"40"},{"ssid":"91f37407-04d0-454e-90fb-28a7ecc918f8","id":"50"},{"ssid":"5cb2dc97-e7a8-49f7-b90c-d9b117823866","id":"60"},{"ssid":"7b5d39cc-4464-4d24-966f-b86b734f01cb","id":"70"},{"ssid":"ebc96f78-5fd2-498e-a113-b1c4c63b53e6","id":"80"},{"ssid":"598ae979-3c7a-4b74-b73e-bd24b27a1258","id":"90"}],"excludes":[],"positions":[],"step_num":495,"instance_id":"step_747","step_title":"if child_count = 10 20 30 40 50 60 70 80 90 ","checkpointTitle":"exam completion criteria(copy)"}],"applyForce2DSteps":[],"openHREFSteps":[],"rotateOnDrag2DSteps":[],"speechToTextSteps":[{"action":"stop","intermediate_text_id":"speech","language":"English","step_num":128,"instance_id":"step_779","step_title":"Speech to Text stop ******","checkpointTitle":"type 0 : language speech recognition(copy)"}],"rotationAnimationSteps":[],"objectsAlignerSteps":[{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":14,"instance_id":"step_14","step_title":"align child count image ","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":79,"instance_id":"step_134","step_title":"align child count image ","checkpointTitle":"reference"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":97,"instance_id":"step_152","step_title":"align child count image ","checkpointTitle":"reference"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":104,"instance_id":"step_761","step_title":"align child count image ","checkpointTitle":"type 0 : language speech recognition(copy)"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":176,"instance_id":"step_898","step_title":"align child count image ","checkpointTitle":"type 0: maths"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":229,"instance_id":"step_399","step_title":"align child count image ","checkpointTitle":"type 1 : sequence"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"cddf9ea4-7e42-4463-ac30-773ebb5b453d","positions":[],"followers":[],"grabDistance":0,"id":"type_num_@data(save_type[0])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"7fc5f693-4ba1-4d39-9dd8-c0c0647b6b8e","positions":[],"followers":[],"grabDistance":0,"id":"type_num_@data(save_type[1])_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"square_box_center","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":5,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":267,"instance_id":"step_440","step_title":"Objects Aligner","checkpointTitle":"type 1 : sequence"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":299,"instance_id":"step_829","step_title":"align child count image ","checkpointTitle":"type 0: letter type(copy)"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"d9354da9-9b82-4512-9064-e7fdacc3cc7c","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[0])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"5f099996-3b11-4f2a-b3b0-13376e010379","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[1])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"4e25a64c-c91a-41e3-bffc-07be1304aa32","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[2])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"71a12622-047b-4747-9e7a-b1e60b35a9fa","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[3])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"5f6590b8-31ea-4425-a018-69565257f719","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[4])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"bb5164ca-fc08-4a88-a08a-67c9a36ab5b4","positions":[],"followers":[],"grabDistance":0,"id":"@data(re_arrange_option[5])","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"rectangle_box","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":18,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":336,"instance_id":"step_866","step_title":"Objects Aligner","checkpointTitle":"type 0: letter type(copy)"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":366,"instance_id":"step_477","step_title":"align child count image ","checkpointTitle":"type 1: language letter select"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":412,"instance_id":"step_167","step_title":"align child count image ","checkpointTitle":"type 0 : same size object"},{"objectsFromType":"List","objs_json_path":"","objs":[{"ssid":"e297dfae-09fa-4631-a811-a85363091395","positions":[],"followers":[],"grabDistance":0,"id":"child_text","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"96b113bf-6385-4500-9fd5-1ae4af39102b","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(left_number)_1","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]},{"ssid":"59892deb-d60b-48ed-a2f1-b3614f8d4d78","positions":[],"followers":[],"grabDistance":0,"id":"child_@count(right_number)","replaceid":"","touch_audios":[],"drop_audios":[],"drop_fail_audios":[]}],"points":[],"areaType":"frame id","areaCoordinates":{"x":0,"y":0,"width":0,"height":0},"frame_id":"progress_bar_parent","xref":"center","yref":"center","considerOnlyInsideTheFrame":0,"alignmentType":"even spacing","line_thickness":0.2,"node_color":"000000","showPointMarker":true,"enableDropOnDynamicPositions":0,"xDistanceBetween":3,"yDistanceBetween":0,"xBorder":0,"yBorder":0,"step_num":485,"instance_id":"step_729","step_title":"align child count image ","checkpointTitle":"exam completion criteria(copy)"}],"paintCanvasSteps":[],"painterSteps":[],"paintSteps":[],"clearPaintSteps":[],"alphaAnimationSteps":[],"analyticsEventSteps":[{"type":"game_start","name":"","attributesArray":[{"key":"game_start","value":"yes"}],"step_num":21,"instance_id":"step_21","step_title":"Analytics EventAnalytics Event","checkpointTitle":"JSON data final working😁🫱🏽‍🫲🏻"}],"videoSteps":[],"orbitalControlSteps":[],"textInputSteps":[],"textInputActionSteps":[],"physicalCameraSteps":[],"tensorFlowJSSteps":[],"mediaPipeSteps":[],"skeletonCalibrationSteps":[],"cameraSteps":[],"goToSceneSteps":[],"directionalLightSteps":[],"arJSSteps":[]}'),z0=document.createElement("div"),n=(document.body.appendChild(z0),[]);n.push(e),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1}),n.push({level_num:-1});const k0=new pl(z0,n);window.handle_event=(e,t)=>{k0.onNewMessageFromApp(e,t)}})()})();